<!DOCTYPE html><html lang="zh" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="starstone3">
      
      
        <link rel="canonical" href="https://starstone3.github.io/incourse/CN/ch3/">
      
      
        <link rel="prev" href="../ch2/">
      
      
        <link rel="next" href="../ch4/">
      
      
        
      
      
      <link rel="icon" href="../../../image/fav1.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>第三章:数据链路层 - Starstone3's bed</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      
  
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
  
  <style>:root{--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M288%2064a32%2032%200%201%200%200%2064%2032%2032%200%201%200%200-64m-96%2032c0-53%2043-96%2096-96s96%2043%2096%2096c0%2041.8-26.7%2077.4-64%2090.5v257.9c62.9-14.3%20110.2-69.7%20111.9-136.5L415.8%20322c-10%208.7-25.1%207.7-33.9-2.3s-7.7-25.1%202.3-33.9l64-56c9-7.9%2022.6-7.9%2031.6%200l64%2056c10%208.7%2011%2023.9%202.3%2033.9s-23.9%2011-33.9%202.3L496%20307.9C493.9%20421%20401.6%20512%20288%20512S82.1%20421%2080%20307.9l-16.2%2014.2c-10%208.7-25.1%207.7-33.9-2.3s-7.7-25.1%202.3-33.9l64-56c9-7.9%2022.6-7.9%2031.6%200l64%2056c10%208.7%2011%2023.9%202.3%2033.9s-23.9%2011-33.9%202.3L144.1%20308c1.8%2066.8%2049.1%20122.2%20111.9%20136.5V186.6c-37.3-13.2-64-48.7-64-90.5z%22/%3E%3C/svg%3E');--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22m368.5%2018.3-50.1%2050.1%20125.3%20125.3%2050.1-50.1c21.9-21.9%2021.9-57.3%200-79.2l-46.1-46.1c-21.9-21.9-57.3-21.9-79.2%200m-89.2%2078.9-.5.1-144.1%2043.2c-19.9%206-35.7%2021.2-42.3%2041L3.8%20445.8c-2.9%208.7-1.9%2018.2%202.5%2026l155.4-155.4c-1.1-4-1.6-8.1-1.6-12.4%200-26.5%2021.5-48%2048-48s48%2021.5%2048%2048-21.5%2048-48%2048c-4.3%200-8.5-.6-12.4-1.6L40.3%20505.7c7.8%204.4%2017.2%205.4%2026%202.5l264.3-88.6c19.7-6.6%2035-22.4%2041-42.3l43.2-144.1.1-.5L279.4%2097.2z%22/%3E%3C/svg%3E');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M40%2048c-13.3%200-24%2010.7-24%2024v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24V72c0-13.3-10.7-24-24-24zm152%2016c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zm0%20160c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zm0%20160c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zM16%20232v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24v-48c0-13.3-10.7-24-24-24H40c-13.3%200-24%2010.7-24%2024m24%20136c-13.3%200-24%2010.7-24%2024v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24v-48c0-13.3-10.7-24-24-24z%22/%3E%3C/svg%3E');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20384%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M292.9%20384c7.3-22.3%2021.9-42.5%2038.4-59.9C364%20289.7%20384%20243.2%20384%20192%20384%2086%20298%200%20192%200S0%2086%200%20192c0%2051.2%2020%2097.7%2052.7%20132.1%2016.5%2017.4%2031.2%2037.6%2038.4%2059.9h201.7zm-4.9%2048H96v16c0%2044.2%2035.8%2080%2080%2080h32c44.2%200%2080-35.8%2080-80zM184%20112c-39.8%200-72%2032.2-72%2072%200%2013.3-10.7%2024-24%2024s-24-10.7-24-24c0-66.3%2053.7-120%20120-120%2013.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024%22/%3E%3C/svg%3E');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M434.8%2070.1c14.3%2010.4%2017.5%2030.4%207.1%2044.7l-256%20352c-5.5%207.6-14%2012.3-23.4%2013.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8%200-45.3s32.8-12.5%2045.3%200l101.5%20101.5%20234-321.7c10.4-14.3%2030.4-17.5%2044.7-7.1z%22/%3E%3C/svg%3E');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M256%20512a256%20256%200%201%200%200-512%20256%20256%200%201%200%200%20512m0-336c-17.7%200-32%2014.3-32%2032%200%2013.3-10.7%2024-24%2024s-24-10.7-24-24c0-44.2%2035.8-80%2080-80s80%2035.8%2080%2080c0%2047.2-36%2067.2-56%2074.5v3.8c0%2013.3-10.7%2024-24%2024s-24-10.7-24-24v-8.1c0-20.5%2014.8-35.2%2030.1-40.2%206.4-2.1%2013.2-5.5%2018.2-10.3%204.3-4.2%207.7-10%207.7-19.6%200-17.7-14.3-32-32-32zm-32%20192a32%2032%200%201%201%2064%200%2032%2032%200%201%201-64%200%22/%3E%3C/svg%3E');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M256%200c14.7%200%2028.2%208.1%2035.2%2021l216%20400c6.7%2012.4%206.4%2027.4-.8%2039.5S486.1%20480%20472%20480H40c-14.1%200-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9%2020.5-21%2035.2-21m0%20352a32%2032%200%201%200%200%2064%2032%2032%200%201%200%200-64m0-192c-18.2%200-32.7%2015.5-31.4%2033.7l7.4%20104c.9%2012.5%2011.4%2022.3%2023.9%2022.3%2012.6%200%2023-9.7%2023.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z%22/%3E%3C/svg%3E');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%203c4.97%200%209%203.58%209%208s-6%2010-9%2010-9-5.58-9-10%204.03-8%209-8m-1.69%207.93C9.29%209.29%207.47%208.58%206.25%209.34s-1.38%202.71-.36%204.35c1.03%201.64%202.85%202.35%204.07%201.59%201.22-.78%201.37-2.71.35-4.35m3.38%200c-1.02%201.64-.87%203.57.35%204.35%201.22.76%203.04.05%204.07-1.59%201.02-1.64.86-3.59-.36-4.35s-3.04-.05-4.06%201.59M12%2017.75c-2%200-2.5-.75-2.5-.75%200%20.03.5%202%202.5%202s2.5-2%202.5-2-.5.75-2.5.75%22/%3E%3C/svg%3E');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M296%2040c0-22.1-17.9-40-40-40s-40%2017.9-40%2040c0%2044.1-53.3%2066.1-84.5%2035-15.6-15.6-40.9-15.6-56.6%200s-15.6%2040.9%200%2056.6c31.2%2031.2%209.1%2084.5-35%2084.5-22.1%200-40%2017.9-40%2040s17.9%2040%2040%2040c44.1%200%2066.1%2053.3%2035%2084.5-15.6%2015.6-15.6%2040.9%200%2056.6s40.9%2015.6%2056.6%200c31.2-31.2%2084.5-9.1%2084.5%2035%200%2022.1%2017.9%2040%2040%2040s40-17.9%2040-40c0-44.1%2053.3-66.1%2084.5-35%2015.6%2015.6%2040.9%2015.6%2056.6%200s15.6-40.9%200-56.6c-31.2-31.2-9.1-84.5%2035-84.5%2022.1%200%2040-17.9%2040-40s-17.9-40-40-40c-44.1%200-66.1-53.3-35-84.5%2015.6-15.6%2015.6-40.9%200-56.6s-40.9-15.6-56.6%200c-31.2%2031.1-84.5%209.1-84.5-35M160%20224a32%2032%200%201%201%2064%200%2032%2032%200%201%201-64%200m160%2032a32%2032%200%201%201%200%2064%2032%2032%200%201%201%200-64%22/%3E%3C/svg%3E');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20640%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M352%200c0-17.7-14.3-32-32-32s-32%2014.3-32%2032v64h-96c-53%200-96%2043-96%2096v224c0%2053%2043%2096%2096%2096h256c53%200%2096-43%2096-96V160c0-53-43-96-96-96h-96zM160%20368c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24m120%200c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24m120%200c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24M224%20176a48%2048%200%201%201%200%2096%2048%2048%200%201%201%200-96m144%2048a48%2048%200%201%201%2096%200%2048%2048%200%201%201-96%200m-304%200c0-17.7-14.3-32-32-32S0%20206.3%200%20224v96c0%2017.7%2014.3%2032%2032%2032s32-14.3%2032-32zm544-32c-17.7%200-32%2014.3-32%2032v96c0%2017.7%2014.3%2032%2032%2032s32-14.3%2032-32v-96c0-17.7-14.3-32-32-32%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M288%200H128c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032v151.5L7.5%20426.3C2.6%20435%200%20444.7%200%20454.7%200%20486.4%2025.6%20512%2057.3%20512h333.4c31.6%200%2057.3-25.6%2057.3-57.3%200-10-2.6-19.8-7.5-28.4L320%20215.5V64c17.7%200%2032-14.3%2032-32S337.7%200%20320%200zm-96%20215.5V64h64v151.5c0%2011.1%202.9%2022.1%208.4%2031.8L306%20320H142l41.6-72.7c5.5-9.7%208.4-20.6%208.4-31.8%22/%3E%3C/svg%3E');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M419.5%2096c-16.6%200-32.7%204.5-46.8%2012.7-15.8-16-34.2-29.4-54.5-39.5%2028.2-24%2064.1-37.2%20101.3-37.2C505.9%2032%20576%20102%20576%20188.5c0%2041.5-16.5%2081.3-45.8%20110.6l-71.1%2071.1C429.8%20399.5%20390%20416%20348.5%20416%20262.1%20416%20192%20346%20192%20259.5c0-1.5%200-3%20.1-4.5.5-17.7%2015.2-31.6%2032.9-31.1s31.6%2015.2%2031.1%2032.9v2.6c0%2051.1%2041.4%2092.5%2092.5%2092.5%2024.5%200%2048-9.7%2065.4-27.1l71.1-71.1c17.3-17.3%2027.1-40.9%2027.1-65.4%200-51.1-41.4-92.5-92.5-92.5zm-144.3%2077.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5%200-48%209.7-65.4%2027.1l-71.1%2071.1C73.8%20275.5%2064%20299.1%2064%20323.6c0%2051.1%2041.4%2092.5%2092.5%2092.5%2016.5%200%2032.6-4.4%2046.7-12.6%2015.8%2016%2034.2%2029.4%2054.6%2039.5-28.2%2023.9-64%2037.2-101.3%2037.2C70.1%20480.2%200%20410.2%200%20323.7c0-41.5%2016.5-81.3%2045.8-110.6l71.1-71.1c29.3-29.3%2069.1-45.8%20110.6-45.8%2086.6%200%20156.5%2070.6%20156.5%20156.9v3.9c-.4%2017.7-15.1%2031.6-32.8%2031.2s-31.6-15.1-31.2-32.8v-2.3c0-33.7-18-63.3-44.8-79.6z%22/%3E%3C/svg%3E');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=LXGW+WenKai+Screen+GB+Screen:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"LXGW WenKai Screen GB Screen";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
      <link rel="stylesheet" href="../../../css/animations.css">
    
      <link rel="stylesheet" href="../../../css/flink.css">
    
      <link rel="stylesheet" href="../../../css/homepage.css">
    
      <link rel="stylesheet" href="../../../css/styles.css">
    
      <link rel="stylesheet" href="https://jsd.cdn.zzko.cn/npm/katex@0.16.4/dist/katex.min.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#数据链路层" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="Starstone3's bed" class="md-header__button md-logo" aria-label="Starstone3's bed" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M480 0c14.6 0 28.8 1.6 42.5 4.7 7.4 1.7 13 7.8 13.9 15.4s-3 14.9-9.8 18.3C481.2 61 450 107.9 450 162c0 76.2 61.8 138 138 138 3.7 0 7.4-.1 11.1-.4 7.6-.6 14.7 3.6 17.8 10.6s1.5 15.1-3.9 20.4c-26 25-59.1 42.7-95.9 49.9-11.1-25.3-30.2-46.3-54.1-59.8-7.6-63.4-61.6-112.6-127.1-112.6-11.2 0-22.1 1.5-32.5 4.2-4.8-4.2-9.9-8.2-15.2-11.8-.1-2.8-.2-5.6-.2-8.4 0-106 86-192 192-192zm-.1 431.9c0 44.2-35.8 80-80 80H128c-53 0-96-43-96-96 0-47.6 34.6-87 80-94.6-.4-52.8 42.9-97.3 96-97.3 34.9 0 65.4 18.6 82.2 46.4 13-9.1 28.8-14.4 45.8-14.4 44.2 0 80 35.8 80 80 0 5.9-.6 11.7-1.9 17.2 37.4 6.7 65.8 39.4 65.8 78.7"></path></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Starstone3's bed
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第三章:数据链路层
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo" aria-label="关闭自动模式" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="关闭自动模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="amber" aria-label="切换至夜间模式" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="amber" aria-label="切换至日间模式" type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/starstone3/starstone3.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12s12-5.372 12-12c0-6.627-5.373-12-12-12m.455 2.163a9.8 9.8 0 0 1 5.789 2.222L4.384 18.244a10 10 0 0 1-1.06-1.582zm7.191 3.632a9.8 9.8 0 0 1 2.192 5.806l-14.45 9.1a10 10 0 0 1-1.592-1.055zm1.979 8.292c-.888 4.45-5.619 8.892-11.9 7.494Z"></path></svg>
  </div>
  <div class="md-source__repository">
    Starstone3 sleeps here
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  
    
  
  封面

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  课程笔记

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../old/" class="md-tabs__link">
          
  
  
    
  
  大一课程遗物

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../article/" class="md-tabs__link">
          
  
  
    
  
  论文阅读与课外学习

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../tools/" class="md-tabs__link">
          
  
  
    
  
  妙妙屋

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../life/" class="md-tabs__link">
          
  
  
    
  
  本科回顾

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Starstone3's bed" class="md-nav__button md-logo" aria-label="Starstone3's bed" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M480 0c14.6 0 28.8 1.6 42.5 4.7 7.4 1.7 13 7.8 13.9 15.4s-3 14.9-9.8 18.3C481.2 61 450 107.9 450 162c0 76.2 61.8 138 138 138 3.7 0 7.4-.1 11.1-.4 7.6-.6 14.7 3.6 17.8 10.6s1.5 15.1-3.9 20.4c-26 25-59.1 42.7-95.9 49.9-11.1-25.3-30.2-46.3-54.1-59.8-7.6-63.4-61.6-112.6-127.1-112.6-11.2 0-22.1 1.5-32.5 4.2-4.8-4.2-9.9-8.2-15.2-11.8-.1-2.8-.2-5.6-.2-8.4 0-106 86-192 192-192zm-.1 431.9c0 44.2-35.8 80-80 80H128c-53 0-96-43-96-96 0-47.6 34.6-87 80-94.6-.4-52.8 42.9-97.3 96-97.3 34.9 0 65.4 18.6 82.2 46.4 13-9.1 28.8-14.4 45.8-14.4 44.2 0 80 35.8 80 80 0 5.9-.6 11.7-1.9 17.2 37.4 6.7 65.8 39.4 65.8 78.7"></path></svg>

    </a>
    Starstone3's bed
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/starstone3/starstone3.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12s12-5.372 12-12c0-6.627-5.373-12-12-12m.455 2.163a9.8 9.8 0 0 1 5.789 2.222L4.384 18.244a10 10 0 0 1-1.06-1.582zm7.191 3.632a9.8 9.8 0 0 1 2.192 5.806l-14.45 9.1a10 10 0 0 1-1.592-1.055zm1.979 8.292c-.888 4.45-5.619 8.892-11.9 7.494Z"></path></svg>
  </div>
  <div class="md-source__repository">
    Starstone3 sleeps here
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    封面
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    封面
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../friends/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    友链
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    课程笔记
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    课程笔记
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ADS/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    ADS
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    ADS
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/Tree/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AVL树,Splay树,红黑树与B+树
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/amana/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    均摊分析
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/fileindex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    倒排索引
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/Leandsk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Leftist Heaps and Skew Heaps
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/bioquene/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Binomial Queue
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/backtracking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    回溯
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/divide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    分治算法
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/dp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    动态规划
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/greedy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    贪心算法
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/np/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NP Completeness
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/Approximation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    近似算法
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/localsearch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    局部搜索
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/Random/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    随机化算法
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/parall/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    并发计算
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/exsort/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    外部排序
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/resource/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    课程资源
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Comcompose/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    计算机组成
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    计算机组成
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Comcompose/Ch2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2:Instructions: Language of the Machine
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Comcompose/Ch3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3:Arithmetic for Computer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Comcompose/Ch4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4: The Processor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Comcompose/Ch5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5:Cache
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Comcompose/Ch6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6:Storage, Networks and Other Peripherals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../db/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    数据库系统
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    数据库系统
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1:Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2:关系数据模型
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3:SQL介绍
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4:中级SQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5:高级SQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6:ER模型
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 7:关系数据库设计
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 12:数据存储
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 13:数据存储结构
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 14:索引
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 15:查询处理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 16:查询优化
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 17:事务
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 18:并发控制
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/ch19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 19:恢复
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../oop/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    OOP
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    OOP
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1:Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2:类与对象
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/STL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3:STL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4:Memory Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5:C++设计
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/copy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6:复制构造
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 7:模板
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/iterator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 8:迭代器
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/exception/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 9:异常处理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/spointer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 10:智能指针
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/misc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 11:杂项
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../CA/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    计算机体系结构
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    计算机体系结构
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/Ch1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1:Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/Ch3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2:Memory Hierarchy Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/Ch2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3:Instruction-Level Parallelism
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/Ch4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4:Data-Level Parallelism
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/Ch5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5:Thread-Level Parallelism
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../TOC/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    计算理论
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    计算理论
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TOC/ch1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ch1:Sets,Relations and Language
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TOC/ch2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ch2:Regular Language and Automata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TOC/ch3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ch3:CFL与PDA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TOC/ch4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ch4:Turing Machine
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../OS/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    操作系统
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    操作系统
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/ch1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1: Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/ch2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2:进程与线程
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/ch3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3:进程同步
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/bank/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    银行家算法
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/ch4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4:内存管理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    计算机网络
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    计算机网络
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ch1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第一章:概述
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ch2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第二章:物理层
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    第三章:数据链路层
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    第三章:数据链路层
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#数据链路层的三个重要问题" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据链路层的三个重要问题
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路层的三个重要问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#封装成帧和透明传输" class="md-nav__link">
    <span class="md-ellipsis">
      
        封装成帧和透明传输
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#差错检测" class="md-nav__link">
    <span class="md-ellipsis">
      
        差错检测
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="差错检测">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#海明码" class="md-nav__link">
    <span class="md-ellipsis">
      
        海明码
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#可靠传输" class="md-nav__link">
    <span class="md-ellipsis">
      
        可靠传输
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="可靠传输">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#停止-等待协议stop-and-wait" class="md-nav__link">
    <span class="md-ellipsis">
      
        停止-等待协议(Stop-and-Wait)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#后退n帧协议go-back-n-gbn" class="md-nav__link">
    <span class="md-ellipsis">
      
        后退N帧协议(Go-Back-N, GBN)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#选择重传协议selective-repeat-sr" class="md-nav__link">
    <span class="md-ellipsis">
      
        选择重传协议(Selective Repeat, SR)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#点对点协议" class="md-nav__link">
    <span class="md-ellipsis">
      
        点对点协议
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#以太网" class="md-nav__link">
    <span class="md-ellipsis">
      
        以太网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="以太网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#网络适配器" class="md-nav__link">
    <span class="md-ellipsis">
      
        网络适配器
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mac地址" class="md-nav__link">
    <span class="md-ellipsis">
      
        MAC地址
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csmacd介质访问控制协议" class="md-nav__link">
    <span class="md-ellipsis">
      
        CSMA/CD介质访问控制协议
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CSMA/CD介质访问控制协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#争用期" class="md-nav__link">
    <span class="md-ellipsis">
      
        争用期
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#最小帧长与最大帧长" class="md-nav__link">
    <span class="md-ellipsis">
      
        最小帧长与最大帧长
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#退避算法" class="md-nav__link">
    <span class="md-ellipsis">
      
        退避算法
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#信道利用率" class="md-nav__link">
    <span class="md-ellipsis">
      
        信道利用率
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#集线器" class="md-nav__link">
    <span class="md-ellipsis">
      
        集线器
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#网桥" class="md-nav__link">
    <span class="md-ellipsis">
      
        网桥
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#交换机" class="md-nav__link">
    <span class="md-ellipsis">
      
        交换机
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#虚拟局域网" class="md-nav__link">
    <span class="md-ellipsis">
      
        虚拟局域网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="虚拟局域网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#实现机制" class="md-nav__link">
    <span class="md-ellipsis">
      
        实现机制
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#无线局域网" class="md-nav__link">
    <span class="md-ellipsis">
      
        无线局域网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="无线局域网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#核心组件" class="md-nav__link">
    <span class="md-ellipsis">
      
        核心组件
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#网络拓扑结构" class="md-nav__link">
    <span class="md-ellipsis">
      
        网络拓扑（结构）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="网络拓扑（结构）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#基础架构模式-infrastructure-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        基础架构模式 (Infrastructure Mode)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-hoc-模式-ibss" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ad-Hoc 模式 (IBSS)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csmaca冲突避免" class="md-nav__link">
    <span class="md-ellipsis">
      
        CSMA/CA（冲突避免）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CSMA/CA（冲突避免）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#预约机制" class="md-nav__link">
    <span class="md-ellipsis">
      
        预约机制
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#帧结构" class="md-nav__link">
    <span class="md-ellipsis">
      
        帧结构
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ch4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第四章:网络层
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../old/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    大一课程遗物
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    大一课程遗物
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../old/fds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    数据结构基础
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../old/digital/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    数字逻辑设计
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../old/mathandphy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    数理基础课
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../article/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    论文阅读与课外学习
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    论文阅读与课外学习
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../article/out/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    课外学习
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    课外学习
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../article/out/Transformer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transformer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../article/out/DP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    动态规划
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../article/out/ML/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    机器学习
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../article/read/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    论文阅读
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    论文阅读
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../article/read/What%20is%20chatgpt%20doing%20and%20Why%20does%20it%20work/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    What is chatgpt doing and Why does it work
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../article/read/Instruction%20Tuning%20for%20Large%20Language%20Model%20%20A%20Survey/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Instruction Tuning for Large Language Model  A Survey
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../article/read/Visual%20Instruction%20Tuning%20and%20Improved%20Baselines%20with%20Visual%20Instruction%20Tuning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Visual Instruction Tuning and Improved Baselines with Visual Instruction Tuning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../article/read/GPT-4%20Technical%20Report/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GPT 4 Technical Report
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../article/read/CogAgent%20A%20Visual%20Language%20Model%20for%20GUI%20Agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CogAgent A Visual Language Model for GUI Agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../article/read/Knowledge%20Distillation%20A%20Survey/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Knowledge Distillation: A Survey
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../tools/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    妙妙屋
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    妙妙屋
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    妙妙小工具
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/share/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    分享
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../life/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    本科回顾
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    本科回顾
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#数据链路层的三个重要问题" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据链路层的三个重要问题
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路层的三个重要问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#封装成帧和透明传输" class="md-nav__link">
    <span class="md-ellipsis">
      
        封装成帧和透明传输
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#差错检测" class="md-nav__link">
    <span class="md-ellipsis">
      
        差错检测
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="差错检测">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#海明码" class="md-nav__link">
    <span class="md-ellipsis">
      
        海明码
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#可靠传输" class="md-nav__link">
    <span class="md-ellipsis">
      
        可靠传输
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="可靠传输">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#停止-等待协议stop-and-wait" class="md-nav__link">
    <span class="md-ellipsis">
      
        停止-等待协议(Stop-and-Wait)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#后退n帧协议go-back-n-gbn" class="md-nav__link">
    <span class="md-ellipsis">
      
        后退N帧协议(Go-Back-N, GBN)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#选择重传协议selective-repeat-sr" class="md-nav__link">
    <span class="md-ellipsis">
      
        选择重传协议(Selective Repeat, SR)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#点对点协议" class="md-nav__link">
    <span class="md-ellipsis">
      
        点对点协议
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#以太网" class="md-nav__link">
    <span class="md-ellipsis">
      
        以太网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="以太网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#网络适配器" class="md-nav__link">
    <span class="md-ellipsis">
      
        网络适配器
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mac地址" class="md-nav__link">
    <span class="md-ellipsis">
      
        MAC地址
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csmacd介质访问控制协议" class="md-nav__link">
    <span class="md-ellipsis">
      
        CSMA/CD介质访问控制协议
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CSMA/CD介质访问控制协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#争用期" class="md-nav__link">
    <span class="md-ellipsis">
      
        争用期
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#最小帧长与最大帧长" class="md-nav__link">
    <span class="md-ellipsis">
      
        最小帧长与最大帧长
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#退避算法" class="md-nav__link">
    <span class="md-ellipsis">
      
        退避算法
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#信道利用率" class="md-nav__link">
    <span class="md-ellipsis">
      
        信道利用率
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#集线器" class="md-nav__link">
    <span class="md-ellipsis">
      
        集线器
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#网桥" class="md-nav__link">
    <span class="md-ellipsis">
      
        网桥
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#交换机" class="md-nav__link">
    <span class="md-ellipsis">
      
        交换机
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#虚拟局域网" class="md-nav__link">
    <span class="md-ellipsis">
      
        虚拟局域网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="虚拟局域网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#实现机制" class="md-nav__link">
    <span class="md-ellipsis">
      
        实现机制
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#无线局域网" class="md-nav__link">
    <span class="md-ellipsis">
      
        无线局域网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="无线局域网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#核心组件" class="md-nav__link">
    <span class="md-ellipsis">
      
        核心组件
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#网络拓扑结构" class="md-nav__link">
    <span class="md-ellipsis">
      
        网络拓扑（结构）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="网络拓扑（结构）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#基础架构模式-infrastructure-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        基础架构模式 (Infrastructure Mode)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-hoc-模式-ibss" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ad-Hoc 模式 (IBSS)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csmaca冲突避免" class="md-nav__link">
    <span class="md-ellipsis">
      
        CSMA/CA（冲突避免）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CSMA/CA（冲突避免）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#预约机制" class="md-nav__link">
    <span class="md-ellipsis">
      
        预约机制
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#帧结构" class="md-nav__link">
    <span class="md-ellipsis">
      
        帧结构
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="数据链路层">数据链路层<a class="headerlink" href="#数据链路层" title="Permanent link">¶</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"></path></svg></span> 约 12275 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"></path></svg></span> 23 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"></path></svg></span> 预计阅读时间 61 分钟</p>
</div>
<blockquote>
<p>数据链路层（Data Link Layer）是OSI模型的第二层，主要负责在物理层提供的原始比特流上建立、维护和终止数据链路连接。它确保数据在网络节点之间可靠地传输，并处理错误检测和纠正。</p>
</blockquote>
<div class="admonition definition">
<p class="admonition-title">链路、数据链路和帧</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><input id="__tabbed_1_3" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">链路(Link)</label><label for="__tabbed_1_2">数据链路(Data Link)</label><label for="__tabbed_1_3">帧(Frame)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>
<p><strong>链路</strong>：链路是指连接两个网络设备（如计算机、路由器、交换机等）之间的通信路径。链路可以是有线的（如以太网电缆、光纤）或无线的（如Wi-Fi、蓝牙）。链路的主要作用是传输数据帧，确保数据在两个设备之间正确传递。</p>
</li>
<li>
<p>当真正进行通信时,两个设备之间的传输可能经过了许多链路</p>
</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>
<p><strong>数据链路</strong>：数据链路可以说是链路加上一些软硬件.这些软硬件实现了传输数据必需的通信协议.</p>
</li>
<li>
<p>数据链路层的主要功能包括：</p>
<ul>
<li>
<p>帧的封装和解封装</p>
</li>
<li>
<p>地址寻址</p>
</li>
<li>
<p>错误检测和纠正</p>
</li>
<li>
<p>流量控制</p>
</li>
<li>
<p>链路管理</p>
</li>
</ul>
</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>
<p><strong>帧</strong>：帧是数据链路层传输的基本单位,是数据链路层的PDU(Protocol Data Unit,协议数据单元).帧通常包含以下几个部分:</p>
<ul>
<li>
<p>帧头(Header): 包含控制信息，如源地址、目的地址、类型字段等。</p>
</li>
<li>
<p>数据部分(Payload): 包含实际传输的数据。</p>
</li>
<li>
<p>帧尾(Trailer): 通常包含错误检测码，如循环冗余校验(CRC)码。</p>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>
<h2 id="数据链路层的三个重要问题">数据链路层的三个重要问题<a class="headerlink" href="#数据链路层的三个重要问题" title="Permanent link">¶</a></h2>
<h3 id="封装成帧和透明传输">封装成帧和透明传输<a class="headerlink" href="#封装成帧和透明传输" title="Permanent link">¶</a></h3>
<p>当数据链路层接收到来自网络层的数据包时,它需要将数据包封装成帧.封装成帧是指在一段数据的前后分别添加首部和尾部,构成帧.</p>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac152.png" data-desc-position="bottom"><img src="../../../image/mac152.png" alt="封装成帧" width="60%"></a>
    <br>
    封装成帧
</div>

<p>以太网的帧格式如下:</p>
<table>
<thead>
<tr>
<th style="text-align: center;">前同步码</th>
<th style="text-align: center;">帧开始定界符</th>
<th style="text-align: center;">目的MAC地址</th>
<th style="text-align: center;">源MAC地址</th>
<th style="text-align: center;">类型/长度</th>
<th style="text-align: center;">数据</th>
<th style="text-align: center;">FCS(帧校验序列)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">7字节</td>
<td style="text-align: center;">1字节</td>
<td style="text-align: center;">6字节</td>
<td style="text-align: center;">6字节</td>
<td style="text-align: center;">2字节</td>
<td style="text-align: center;">46~1500字节</td>
<td style="text-align: center;">4字节</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p><strong>前导码</strong>：用于接收端同步。</p>
</li>
<li>
<p><strong>帧开始定界符</strong>：标志帧的开始。</p>
</li>
<li>
<p><strong>目的/源MAC地址</strong>：标识收发双方。</p>
</li>
<li>
<p><strong>类型/长度</strong>：指示上层协议类型或数据长度。</p>
</li>
<li>
<p><strong>数据</strong>：实际传输的数据。</p>
</li>
<li>
<p><strong>FCS</strong>：用于差错检测的循环冗余校验码。位于尾部</p>
</li>
</ul>
<p>而PPP的帧格式如下:</p>
<table>
<thead>
<tr>
<th style="text-align: center;">标志字段</th>
<th style="text-align: center;">地址字段</th>
<th style="text-align: center;">控制字段</th>
<th style="text-align: center;">协议字段</th>
<th style="text-align: center;">信息字段</th>
<th style="text-align: center;">FCS(帧校验序列)</th>
<th style="text-align: center;">标志字段</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">1字节</td>
<td style="text-align: center;">1字节</td>
<td style="text-align: center;">1字节</td>
<td style="text-align: center;">2字节</td>
<td style="text-align: center;">0~1500字节</td>
<td style="text-align: center;">2字节</td>
<td style="text-align: center;">1字节</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p><strong>标志字段</strong>：帧的开始和结束标志，固定为<code>0x7E</code>。</p>
</li>
<li>
<p><strong>地址字段</strong>：通常为<code>0xFF</code>，表示广播地址。</p>
</li>
<li>
<p><strong>控制字段</strong>：通常为<code>0x03</code>，表示无编号信息帧。</p>
</li>
<li>
<p><strong>协议字段</strong>：指示信息字段中封装的数据类型（如IP、LCP等）。</p>
</li>
<li>
<p><strong>信息字段</strong>：实际传输的数据。</p>
</li>
<li>
<p><strong>FCS</strong>：帧校验序列，用于差错检测。位于帧的尾部。</p>
</li>
</ul>
<p>从上面所示，可以发现，并不是每一种数据链路层协议的帧都包含有帧定界标志（即帧头和帧尾），比如以太网帧就没有。这是因为以太网帧采用了<strong>前导码</strong>来实现帧定界。</p>
<ul>
<li>
<p><strong>前导码</strong>：由前同步码加上帧开始定界符组成。其作用是让接收方能够识别出帧的开始位置，从而实现帧定界。</p>
</li>
<li>
<p><strong>帧间间隔</strong>：以太网还有帧间间隔的概念，即两帧之间必须有一个最小的时间间隔（发送96比特需要的时间），以确保接收方能够正确识别出帧的边界。</p>
</li>
</ul>
<p>为了提高传输效率，我们总是希望帧的数据载荷越大越好。但实际上，帧的数据载荷是有最大值限制的。这个限制就是<strong>最大传输单元(MTU,Maximum Transmission Unit)</strong>。不同的数据链路层协议有不同的MTU值。</p>
<hr>
<p>另一方节点在接收到帧后，需要进行<strong>解封装</strong>，提取出数据包并交给网络层处理。解封装依靠的是帧头和帧尾中的控制信息。</p>
<blockquote>
<p>这里存在一个问题：<br>
如果数据部分中恰好包含了和帧头或帧尾相同的比特序列，接收方在解封装时就会误以为数据部分的内容是帧头或帧尾，从而导致解封装错误。</p>
</blockquote>
<p>为了解决这个问题，数据链路层需要实现<strong>透明传输</strong>.透明传输是指数据链路层对上层交付下来的协议数据单元PDU没有任何限制，就好像数据链路层不存在一样。</p>
<p>一般使用类似于转义字符的机制来实现透明传输.对于PPP,我们使用<strong>字节填充(Byte Stuffing)</strong>来实现透明传输.</p>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac154.png" data-desc-position="bottom"><img src="../../../image/mac154.png" alt="字节填充" width="60%"></a>
    <br>
    字节填充
</div>

<p>而对于HDLC,我们使用<strong>比特填充(Bit Stuffing)</strong>来实现透明传输.</p>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac153.png" data-desc-position="bottom"><img src="../../../image/mac153.png" alt="字节填充" width="60%"></a>
    <br>
    比特填充
</div>

<p>在这个上图中，帧的开始和结束都使用了一个特殊的比特序列 <strong>01111110</strong>作为标志。</p>
<p>我们使用比特填充规则 (又称“零比特填充法”)：</p>
<ul>
<li>
<p>发送端：在扫描整个数据载荷时，只要连续出现5个1，就立即在后面填充一个0。</p>
</li>
<li>
<p>接收端：在接收数据时，只要发现连续的5个1，就检查其后的第6个比特。</p>
</li>
<li>
<p>如果第6个比特是 0，则说明这个0是发送端填充的，将其删除，恢复原始数据。</p>
</li>
<li>
<p>如果第6个比特是 1，则继续向后检查第7个比特。若是0（即01111110），则表明这是一个帧定界符；否则表示出现了错误。</p>
</li>
</ul>
<h3 id="差错检测">差错检测<a class="headerlink" href="#差错检测" title="Permanent link">¶</a></h3>
<p>在传输过程中，数据可能会因为噪声、干扰等原因发生错误。为了保证数据的完整性，数据链路层需要实现差错检测。</p>
<p>错误分为两种类型：</p>
<ul>
<li><strong>位错</strong>：单个比特发生错误，如0变1或1变0。</li>
<li><strong>帧错</strong>：帧丢失或帧顺序错误。</li>
</ul>
<hr>
<p>为了实现差错检测，在帧尾部通常会有纠错码。常见的有以下几种：</p>
<ul>
<li>
<p><strong>奇偶校验</strong>：在数据中添加一个额外的比特，使得数据中1的个数为奇数或偶数。接收端通过检查1的个数来检测错误。</p>
<ul>
<li><strong>奇校验</strong>：使得数据中1的个数为奇数。</li>
<li><strong>偶校验</strong>：使得数据中1的个数为偶数。</li>
<li>很显然，出现偶数位的错误就无法检测。</li>
</ul>
</li>
<li>
<p><strong>循环冗余校验（CRC）</strong>：将数据视为一个二进制多项式，通过多项式除法计算出一个余数，将余数附加在数据后面作为校验码。接收端通过重新计算余数来检测错误。</p>
</li>
</ul>
<div class="admonition example">
<p class="admonition-title">CRC计算示例</p>
<p>设发送的数据为 <code>101001000</code>，生成多项式为 <code>1101</code>（即 <span class="arithmatex">\(x^3 + x^2 + 1\)</span>）。</p>
<ol>
<li>
<p>在数据后面添加3个0（生成多项式的最高次幂），得到 <code>101001000000</code>。</p>
</li>
<li>
<p>使用二进制除法对 <code>101001000000</code> 除以 <code>1101</code>，得到余数 <code>001</code>。</p>
</li>
</ol>
<p>3.去掉第一步添加的0,将余数附加在数据后面，得到最终发送的帧 <code>101001000001</code>。</p>
<p>接收端收到帧后，对 <code>101001000001</code> 除以 <code>1101</code>，如果余数为0，则表示没有错误；否则表示有错误。</p>
<p>需要注意的是:</p>
<ol>
<li>
<p><strong>多项式必须要有最低次项</strong></p>
</li>
<li>
<p><strong>余数的位数应与生成多项式最高次数相同，如果位数不够，则在余数前补0来凑足位数</strong></p>
</li>
</ol>
<details class="note">
<summary>二进制除法</summary>
<p>二进制除法与十进制除法类似，但只使用0和1进行计算。主要步骤如下：</p>
<ol>
<li>
<p>将被除数的前几位与除数对齐。</p>
</li>
<li>
<p>如果被除数的当前位大于等于除数，则进行异或操作（相当于减法），并将结果写在下一行。</p>
</li>
<li>
<p>将下一位下拉，继续与除数对齐，重复步骤2，直到处理完所有位。</p>
</li>
<li>
<p>最终剩下的部分即为余数。</p>
</li>
</ol>
<p></p><div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac155.png" data-desc-position="bottom"><img src="../../../image/mac155.png" alt="二进制除法示例" width="60%"></a>
    <br>
    二进制除法示例
</div><p></p>
</details>
</div>
<h4 id="海明码">海明码<a class="headerlink" href="#海明码" title="Permanent link">¶</a></h4>
<p>海明码（Hamming Code）是一种用于错误检测和纠正的编码方法。它通过在数据中添加冗余位来实现错误检测和纠正。海明码能够检测并纠正单个比特错误，适用于需要高可靠性的通信系统。</p>
<p>海明码的基本原理如下：</p>
<ol class="task-list">
<li>
<p><strong>位置编号</strong>：将数据位和冗余位的位置编号，从1开始。冗余位的位置是2的幂次方（即1, 2, 4, 8, ...）。</p>
</li>
<li>
<p><strong>冗余位计算</strong>：每个冗余位负责检查特定位置的数据位。具体来说，第i个冗余位检查所有位置编号中第i位为1的位置。例如，第1个冗余位检查位置1, 3, 5, 7, ...，第2个冗余位检查位置2, 3, 6, 7, ...，以此类推。</p>
</li>
<li>
<p><strong>奇偶校验</strong>：每个冗余位的值通过对其负责检查的数据位进行奇偶校验计算得出。如果数据位中1的个数为奇数，则冗余位设为1；否则设为0。</p>
</li>
<li>
<p><strong>错误检测和纠正</strong>：接收端通过重新计算冗余位来检测错误。如果某个冗余位的计算结果与接收到的冗余位不符，则说明对应的数据位发生了错误。通过组合所有冗余位的错误信息，可以确定具体哪个数据位出错，并进行纠正。例如,如果第1和第3个冗余位检测到错误，而第2个冗余位没有检测到错误，则说明错误位置为<span class="arithmatex">\(101_2=5_{10}\)</span>.</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> 例子以后再补</p>
</li>
</ol>
<hr>
<h3 id="可靠传输">可靠传输<a class="headerlink" href="#可靠传输" title="Permanent link">¶</a></h3>
<ul>
<li>
<p><strong>可靠传输</strong>: 实现无论发送方发送什么,接收方都能正确无误地接收到.可靠传输通常通过以下方法实现:</p>
<ul>
<li>
<p><strong>确认和重传</strong>：接收方在成功接收到数据后,发送一个确认(ACK)给发送方.如果发送方在超时时间内没有收到确认,则重传数据.</p>
</li>
<li>
<p><strong>序列号</strong>：为每个数据帧分配一个唯一的序列号,接收方通过序列号来检测丢失或重复的帧.</p>
</li>
<li>
<p><strong>流量控制</strong>：防止发送方发送数据过快,使接收方来不及处理.常用的方法有滑动窗口协议.</p>
</li>
</ul>
</li>
<li>
<p><strong>不可靠传输</strong>: 直接丢弃有误码的帧,不进行重传.</p>
</li>
</ul>
<p>在实际传输中,可能出现多种差错情况:</p>
<ul>
<li>
<p>误码</p>
</li>
<li>
<p>分组丢失</p>
</li>
<li>
<p>分组重复</p>
</li>
<li>
<p>分组失序</p>
</li>
</ul>
<p>其中误码出现在数据链路层及其下层,而分组丢失、分组重复和分组失序主要出现在网络层及其以上层次.</p>
<hr>
<p>使用确认和重传这两种机制的可靠传输协议，通常被称为<strong>自动重传请求（ARQ, Automatic Repeat reQuest）</strong>。这里的“自动”意味着重传是由协议自动处理的，接收方无需显式地向发送方请求重传。</p>
<p>在ARQ协议中，数据帧和确认帧都必须进行编号。这样，接收方才能明确哪个确认帧对应哪个数据帧，发送方也才能知道哪些数据帧尚未被确认。</p>
<p>ARQ协议主要分为以下三种：</p>
<ol>
<li>
<p><strong>停止-等待协议（Stop-and-Wait）</strong></p>
</li>
<li>
<p><strong>后退N帧协议（Go-Back-N, GBN）</strong></p>
</li>
<li>
<p><strong>选择重传协议（Selective Repeat, SR）</strong></p>
</li>
</ol>
<div class="admonition tip">
<p class="admonition-title">通用性</p>
<p>值得注意的是，这三种可靠传输协议的基本原理并不仅限于数据链路层，它们同样广泛应用于其上各层，尤其是传输层。</p>
</div>
<h4 id="停止-等待协议stop-and-wait">停止-等待协议(Stop-and-Wait)<a class="headerlink" href="#停止-等待协议stop-and-wait" title="Permanent link">¶</a></h4>
<p>停止-等待协议是最简单的ARQ协议。其工作原理如下：</p>
<ol>
<li>
<p>发送方发送一个数据帧后，停止发送，等待接收方的确认。</p>
</li>
<li>
<p>接收方收到数据帧后，发送一个确认帧(ACK)给发送方。</p>
</li>
<li>
<p>发送方收到确认帧后，发送下一个数据帧。</p>
</li>
<li>
<p>如果发送方在超时时间内没有收到确认帧，或者接受到NAK(否定确认)，则重传该数据帧。</p>
<ul>
<li>相关的概念有RTO(重传超时时间,Retransmission Timeout),略大于往返时间RTT(Round Trip Time)</li>
</ul>
</li>
</ol>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac156.png" data-desc-position="bottom"><img src="../../../image/mac156.png" alt="停止-等待协议" width="60%"></a>
    <br>
    停止-等待协议
</div>

<p>由于停止-等待协议“发一帧，等一帧”的特性，我们只需要区分当前帧与上一帧即可。因此，该协议采用1比特的序列号就足够了，这通常被称为<strong>自动重传请求（ARQ）的交替位协议（Alternating-Bit Protocol）</strong>。</p>
<ul>
<li>
<p><strong>帧编号</strong>：发送的帧交替使用序列号0和1来标识。</p>
</li>
<li>
<p><strong>确认机制</strong>：确认帧（ACK）同样需要编号，以明确是对哪个数据帧的确认。例如，<code>ACK0</code> 表示对序列号为0的数据帧的确认，<code>ACK1</code> 则是对序列号为1的数据帧的确认。</p>
</li>
</ul>
<p>通过这种简单的编号机制，协议可以有效处理异常情况：</p>
<ul>
<li>
<p><strong>处理重复帧</strong>：如果接收方连续收到两个序列号相同的数据帧，则表明发送方进行了超时重传。此时，接收方会丢弃重复的帧，并重新发送上一个确认帧。</p>
</li>
<li>
<p><strong>处理重复或延迟的确认</strong>：如果发送方在发送 <code>DATA1</code> 后，收到了一个 <code>ACK0</code>，它就知道这是一个对先前 <code>DATA0</code> 的重复或延迟确认，应予以丢弃。</p>
</li>
</ul>
<div class="admonition success">
<p class="admonition-title">缓冲区的作用</p>
<p>为了实现超时重传，发送方必须设置一个<strong>发送缓冲区</strong>。</p>
<p>当发送方发送完一个数据帧后，它必须在发送缓存中保留该数据帧的副本。只有在明确收到了对方发来的、对应正确序列号的确认帧（ACK）后，发送方才能清空缓存中的这个副本，准备发送下一帧。</p>
</div>
<p>若假设传输数据的时间是<code>Tt</code>，往返时间是<code>RTT</code>，发送<code>ACK</code>的时间忽略不计，则信道利用率为:</p>
<div class="arithmatex">\[ U = \frac{Tt}{Tt + RTT} \]</div>
<p><code>RTT</code>考虑了信号从发送方到接收方的传播时间以及确认信号从接收方返回发送方的传播时间。</p>
<p>在<code>Tt</code>远小于<code>RTT</code>的情况下，信道利用率会非常低。这是停止-等待协议的一个主要缺点。</p>
<h4 id="后退n帧协议go-back-n-gbn">后退N帧协议(Go-Back-N, GBN)<a class="headerlink" href="#后退n帧协议go-back-n-gbn" title="Permanent link">¶</a></h4>
<p>后退N帧协议是一种改进的ARQ协议。其工作原理如下：</p>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac159.png" data-desc-position="bottom"><img src="../../../image/mac159.png" alt="后退N帧协议" width="60%"></a>
    <br>
    流水线传输
</div>

<ol>
<li>
<p>发送方需要维护一个发送窗口，窗口大小为N。发送方可以连续发送N个数据帧，而不需要等待确认。</p>
</li>
<li>
<p>在最开始,发送方发送窗口内的N个数据帧.接受方维护一个大小为1的接受窗口,只接受按顺序到达的帧.</p>
</li>
<li>
<p>在成功接受到一个按序到达的帧后,接收方发送一个确认(ACK)给发送方,并将接受窗口向前滑动一位.</p>
</li>
<li>
<p>发送方在收到确认后,将发送窗口向前滑动相应的位数,并发送新的数据帧.</p>
</li>
<li>
<p>如果某个帧出现了误码或者超时,接受方会直接丢弃这个帧,并发送上一个按序到达帧的确认(ACK).发送方在收到这个确认后,会重传从该帧开始的所有未被确认的帧.</p>
</li>
</ol>
<div class="admonition info">
<p class="admonition-title">累计确认</p>
<p><strong>累计确认(Cumulative Acknowledgment)</strong>机制意味着接受方不必对每一个收到的帧都发送一个ACK,而是可以在收到连续的几个正确帧后,只发送一个ACK,确认所有这些帧都已正确收到.
一个对序号为<code>n</code>的帧的确认（<code>ACK n</code>）就隐含地确认了在<code>n</code>之前的所有帧。</p>
<p>例如,如果发送方收到了<code>ACK2</code>,它就知道序列号为0,1,2的帧都已经被正确接收了.这时,发送窗口可以顺势向后滑动3个位置,并发送新的帧.</p>
</div>
<div class="admonition example">
<p class="admonition-title">例子from Gemini</p>
<p>假设发送窗口大小为4,接收窗口大小为1.</p>
<p></p><div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac160.png" data-desc-position="bottom"><img src="../../../image/mac160.png" alt="后退N帧协议示例" width="80%"></a>
    <br>
    后退N帧协议(GBN)示例
</div><p></p>
<ol>
<li>
<p><strong>发送</strong>: 发送方连续发送帧0, 1, 2, 3, 4.</p>
</li>
<li>
<p><strong>接收与确认</strong>:</p>
<ul>
<li>接收方正确收到帧0, 发送<code>ACK0</code>。(这是一个常见的实现策略,尽管它也可以等待后续帧一起确认)</li>
<li>接着, 接收方正确收到帧1, 发送<code>ACK1</code>.</li>
<li><strong>关键点</strong>: <code>ACK0</code>在传输过程中丢失了, 但<code>ACK1</code>成功到达发送方.</li>
</ul>
</li>
<li>
<p><strong>累计确认生效</strong>:</p>
<ul>
<li>发送方收到<code>ACK1</code>. 根据累计确认原则, 这意味着帧0和帧1都已被正确接收.</li>
<li>发送方将发送窗口向前滑动到2 (新的窗口基址是2), 并继续发送帧5, 6.</li>
</ul>
</li>
<li>
<p><strong>发生错误与重传</strong>:</p>
<ul>
<li>帧2在传输中丢失.</li>
<li>接收方接下来收到了帧3. 由于它期望收到的是帧2 (其接收窗口基址仍为2), 它发现帧3是失序的, 于是丢弃帧3.</li>
<li>为了告知发送方它仍在等待帧2, 接收方重新发送了对已收到的最后一个按序帧的确认, 即<code>ACK1</code>.</li>
</ul>
</li>
<li>
<p><strong>超时与回退</strong>:</p>
<ul>
<li>发送方发送完帧6后, 一直没有收到<code>ACK2</code>或更高的确认.</li>
<li>最终, 帧2的计时器超时.</li>
<li>发送方执行<strong>后退N(Go-Back-N)</strong>操作, 将发送窗口重置回帧2, 并重传从帧2开始的所有已发送但未确认的帧, 即重传帧2, 3, 4, 5, 6.</li>
</ul>
</li>
</ol>
</div>
<details class="tip">
<summary>发送窗口的最大尺寸</summary>
<p>假设我们用n比特对数据帧进行编号,也即,序列号的取值范围是0到2^n-1.例如,对于n=3
</p><div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac161.png" data-desc-position="bottom"><img src="../../../image/mac161.png" alt="序列号取值范围" width="40%"></a>
    <br>
    序列号取值范围
</div><p></p>
<p>为了避免序列号重复带来的歧义,发送窗口的最大尺寸N必须满足:
$$ 1 &lt; N \leq 2^{n-1} $$</p>
<p>这是因为,如果发送窗口的大小N超过了2^(n-1),那么在发送完N个帧后,序列号就会回绕到之前已经使用过的值,从而导致接收方无法区分这些帧是新的还是旧的.</p>
<p>例如,发送方一次性发送了8个帧(假设n=3,N=8),序列号从0到7.接受方每接受到一个帧,就发送一个确认(ACK).在全部成功接受后,接受方的窗口已经滑动到了8(即0).</p>
<p>但如果ACK全部在传输的过程中丢失了,发送方在超时后,会重传从0开始的8个帧.此时,接受方无法区分这些帧是新的(8-15)还是旧的(0-7),从而导致错误.</p>
</details>
<p>假设发送窗口的大小为<span class="arithmatex">\(n\)</span>,即发送方可以连续发送<span class="arithmatex">\(n\)</span>个帧而不需要等待确认.则分情况讨论信道利用率:</p>
<ol>
<li>
<p><span class="arithmatex">\(n T_t &lt; T_t +RTT + T_{ack}\)</span></p>
<p>这种情况下,发送方在发送完<span class="arithmatex">\(n\)</span>个帧后,还没有收到第一个帧的确认(ACK).此时,信道利用率为:</p>
<div class="arithmatex">\[ U = \frac{n T_t}{RTT + T_t + T_{ack}} \]</div>
</li>
<li>
<p><span class="arithmatex">\(n T_t \geq T_t +RTT + T_{ack}\)</span></p>
<p>这种情况下,发送方在发送完<span class="arithmatex">\(n\)</span>个帧前,已经收到了第一个帧的确认(ACK),这时发送窗口已经向后滑动.此时,信道利用率为:</p>
<div class="arithmatex">\[ U = 1 \]</div>
</li>
</ol>
<h4 id="选择重传协议selective-repeat-sr">选择重传协议(Selective Repeat, SR)<a class="headerlink" href="#选择重传协议selective-repeat-sr" title="Permanent link">¶</a></h4>
<blockquote>
<p>后退N帧协议在出现错误时,需要重传从错误帧开始的所有未被确认的帧,这会导致大量不必要的重传,从而降低传输效率.</p>
<p>选择重传协议通过只重传那些确实丢失或损坏的帧来提高效率.</p>
</blockquote>
<p>SR相比于GBN,最大的不同就是接受窗口现在可以接收多个帧,而不仅仅是一个帧.这意味着接收方可以同时接收并缓存多个帧,从而提高了传输效率.</p>
<p>假设接受方的窗口大小为<span class="arithmatex">\(W_r\)</span>,发送方的窗口大小为<span class="arithmatex">\(W_s\)</span>,一共用n比特对帧进行编号,则必须满足以下条件:</p>
<div class="arithmatex">\[\begin{align}
1 &lt; W_r &amp;\leq W_s \\
W_r + W_s &amp;\leq 2^n
\end{align}\]</div>
<p>一般我们取<span class="arithmatex">\(W_r = W_s = 2^{n-1}\)</span>.</p>
<hr>
<p>由于SR协议有更大的接受缓存窗口,接受方在接受到一个帧时,如果该帧在接受窗口内,则无论是否按序到达,都将其缓存起来,并发送一个确认(ACK)给发送方.只有当该帧是接受窗口的基址时,接受方才将其交付给上层,并将接受窗口向前滑动.</p>
<details class="example">
<summary>SR协议工作流程示例 (窗口大小=4, 序列号范围=8)</summary>
<table>
<thead>
<tr>
<th style="text-align: center;">时间</th>
<th style="text-align: center;">事件</th>
<th style="text-align: left;">发送方 (Sender) 动作 / 状态</th>
<th style="text-align: left;">接收方 (Receiver) 动作 / 状态</th>
<th style="text-align: left;">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">T1</td>
<td style="text-align: center;">发送方发送</td>
<td style="text-align: left;">发送方连续发送其窗口内的所有帧：<br>- 发送 Frame 0 (启动 Timer 0)<br>- 发送 Frame 1 (启动 Timer 1)<br>- 发送 Frame 2 (启动 Timer 2)<br>- 发送 Frame 3 (启动 Timer 3)<br><br><strong>状态</strong>: S_base=0, S_next=4, UnACKed={0,1,2,3}</td>
<td style="text-align: left;">(等待中...)</td>
<td style="text-align: left;">发送方把窗口打满了。</td>
</tr>
<tr>
<td style="text-align: center;">T2</td>
<td style="text-align: center;">网络传输</td>
<td style="text-align: left;">(等待 ACK 中...)</td>
<td style="text-align: left;">(数据在路上...)</td>
<td style="text-align: left;"><strong>关键事件</strong>: <br>- Frame 0 正常到达。<br>- <strong>Frame 1 丢失！</strong><br>- Frame 2 正常到达。<br>- Frame 3 正常到达。</td>
</tr>
<tr>
<td style="text-align: center;">T3</td>
<td style="text-align: center;">接收方处理</td>
<td style="text-align: left;">(等待 ACK 中...)</td>
<td style="text-align: left;">1. <strong>收到 Frame 0</strong> (是R_base=0):<br>   - 发送 ACK 0<br>   - 交付 Frame 0 给上层<br>   - 窗口滑动: R_base=1, 范围={1,2,3,4}<br>2. <strong>收到 Frame 2</strong> (非R_base):<br>   - 发送 ACK 2<br>   - 缓冲 Frame 2, Buffer={Frame 2}<br>3. <strong>收到 Frame 3</strong> (非R_base):<br>   - 发送 ACK 3<br>   - 缓冲 Frame 3, Buffer={Frame 2, Frame 3}</td>
<td style="text-align: left;"><strong>SR核心(1)</strong>:<br>接收方逐个确认收到的帧 (ACK 2, ACK 3)，并缓冲所有乱序但合法的帧。R_base 保持为 1。</td>
</tr>
<tr>
<td style="text-align: center;">T4</td>
<td style="text-align: center;">发送方处理 ACKs</td>
<td style="text-align: left;">1. <strong>收到 ACK 0</strong>: <br>   - 停止 Timer 0, 标记 Frame 0 已确认<br>   - 窗口滑动: S_base=1, 范围={1,2,3,4}<br>   - 发送 Frame 4 (启动 Timer 4)<br>2. <strong>收到 ACK 2</strong>: <br>   - 停止 Timer 2, 标记 Frame 2 已确认<br>3. <strong>收到 ACK 3</strong>: <br>   - 停止 Timer 3, 标记 Frame 3 已确认<br><br><strong>状态</strong>: S_base=1, UnACKed={1, 4}</td>
<td style="text-align: left;">(等待 Frame 1...)<br><br><strong>状态</strong>: R_base=1, Buffer={Frame 2, Frame 3}</td>
<td style="text-align: left;"><strong>SR核心(2)</strong>:<br>发送方窗口的滑动被最早的未确认帧 (Frame 1) 卡住了。即使 2 和 3 都被确认了，窗口也不能滑过 1。</td>
</tr>
<tr>
<td style="text-align: center;">T5</td>
<td style="text-align: center;">发送方超时</td>
<td style="text-align: left;">... <strong>Timer 1 超时！</strong> ...<br><br>1. 检查发现 Frame 1 仍未被确认。<br>2. <strong>只重传 Frame 1</strong><br>3. 重启 Timer 1<br><br><strong>状态</strong>: S_base=1, UnACKed={1, 4}</td>
<td style="text-align: left;">(等待 Frame 1...)</td>
<td style="text-align: left;"><strong>SR核心(3)</strong>:<br>选择性重传！发送方只重传超时的那一个帧 (Frame 1)，而不是像 GBN 那样重传 1, 2, 3, 4。</td>
</tr>
<tr>
<td style="text-align: center;">T6</td>
<td style="text-align: center;">接收方最终解决</td>
<td style="text-align: left;">(等待 ACK 1 和 ACK 4...)</td>
<td style="text-align: left;">1. <strong>收到重传的 Frame 1</strong>: <br>   - 它是 R_base=1，是期望的帧！<br>   - 发送 ACK 1<br>2. <strong>处理并交付</strong>: <br>   - 交付 Frame 1<br>   - 检查 Buffer, 按序交付 Frame 2, 3 (假设 Frame 4 也已到并缓冲)<br>3. <strong>窗口滑动</strong>: <br>   - R_base 滑动到 5, 范围={5,6,7,0}<br>   - Buffer 清空</td>
<td style="text-align: left;">接收方一旦收到缺失的 Frame 1，就能把缓存中的所有帧按顺序 "解锁" 并交付给上层。</td>
</tr>
<tr>
<td style="text-align: center;">T7</td>
<td style="text-align: center;">循环继续</td>
<td style="text-align: left;">1. <strong>收到 ACK 1</strong> (来自 T6): 停止 Timer 1<br>2. (假设也收到了 ACK 4): 停止 Timer 4<br><br>- 所有 {1,2,3,4} 均已确认。<br>- S_base 滑动到 5。<br>- 窗口范围 = {5, 6, 7, 0}<br>- 发送 Frame 5, 6, 7, 0</td>
<td style="text-align: left;">(等待 Frame 5...)</td>
<td style="text-align: left;">协议恢复正常运行。</td>
</tr>
</tbody>
</table>
</details>
<h2 id="点对点协议">点对点协议<a class="headerlink" href="#点对点协议" title="Permanent link">¶</a></h2>
<blockquote>
<p>点对点协议（PPP, Point-to-Point Protocol）是一种用于在两个直接连接的节点之间传输数据的协议。</p>
<p>PPP是目前<strong>广泛使用</strong>的数据链路层协议，它主要应用于以下两种场景：</p>
<ol>
<li><strong>用户接入互联网</strong>：当用户通过拨号或宽带连接到互联网服务提供商（ISP）时，其计算机与ISP之间通常使用PPP协议进行通信。</li>
<li><strong>路由器间连接</strong>：在广域网中，连接两个路由器的专用线路也常使用PPP协议。</li>
</ol>
</blockquote>
<p>PPP是数据链路层协议,它提供了封装成帧、差错检测和可靠传输等功能.</p>
<div class="admonition info">
<p class="admonition-title">PPP协议的三个组成部分</p>
<p>PPP协议由三个主要部分组成：</p>
<ol>
<li>
<p><strong>封装方法</strong>：定义了如何将IP数据报等网络层分组封装到串行链路中。IP数据报作为PPP帧的数据部分，其长度受最大传送单元（MTU）的限制。</p>
</li>
<li>
<p><strong>链路控制协议（LCP, Link Control Protocol）</strong>：负责建立、配置、测试和终止数据链路连接。LCP还用于协商各种链路参数，如MTU大小、压缩算法等。</p>
</li>
<li>
<p><strong>网络控制协议族（NCP, Network Control Protocol）</strong>：PPP支持多种网络层协议（如IP、IPX等）。每种网络层协议都有一个对应的NCP，负责在该网络层协议和PPP链路之间建立和配置逻辑连接。例如，IP控制协议（IPCP）就是用于配置IP地址等参数的。</p>
</li>
</ol>
</div>
<p>PPP的格式在上面已经介绍过,形如:</p>
<table>
<thead>
<tr>
<th style="text-align: center;">标志字段</th>
<th style="text-align: center;">地址字段</th>
<th style="text-align: center;">控制字段</th>
<th style="text-align: center;">协议字段</th>
<th style="text-align: center;">信息字段</th>
<th style="text-align: center;">FCS(帧校验序列)</th>
<th style="text-align: center;">标志字段</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">1字节</td>
<td style="text-align: center;">1字节</td>
<td style="text-align: center;">1字节</td>
<td style="text-align: center;">2字节</td>
<td style="text-align: center;">0~1500字节</td>
<td style="text-align: center;">2字节</td>
<td style="text-align: center;">1字节</td>
</tr>
</tbody>
</table>
<p>标志字段组成了帧的边界,为了实现PPP帧的透明传输,有两种做法:</p>
<ol>
<li>
<p>面向字节的异步链路使用字节填充</p>
<ul>
<li>
<p>将数据载荷中的每一个<code>0x7E</code>减去<code>0x20</code>,变成<code>0x5E</code>,并在其前面添加一个转义字符<code>0x7D</code>.</p>
</li>
<li>
<p>若数据载荷中包含转义字符<code>0x7D</code>,则同样在其前面添加一个转义字符<code>0x7D</code>,并将其变成<code>0x5D</code>.</p>
</li>
<li>
<p>对于所有ASCII值小于<code>0x20</code>的控制字符,加上<code>0x20</code>,并在其前面添加一个转义字符<code>0x7D</code>.</p>
</li>
</ul>
</li>
<li>
<p>面向比特的同步链路使用比特填充</p>
<ul>
<li>在数据载荷中每连续出现5个1后,填充一个0.</li>
</ul>
</li>
</ol>
<h2 id="以太网">以太网<a class="headerlink" href="#以太网" title="Permanent link">¶</a></h2>
<blockquote>
<p>以太网(Ethernet)是一种局域网技术,它定义了数据链路层和物理层的标准.</p>
</blockquote>
<h3 id="网络适配器">网络适配器<a class="headerlink" href="#网络适配器" title="Permanent link">¶</a></h3>
<blockquote>
<p>就是我们一般说的网卡</p>
</blockquote>
<p>网络适配器负责将计算机内部的数据转换成适合在以太网中传输的格式,并将接收到的以太网数据转换回计算机内部的数据格式.因此,它既要与cpu通信,又要与以太网物理介质通信.</p>
<p>实际上实现的是物理层与数据链路层的功能</p>
<h3 id="mac地址">MAC地址<a class="headerlink" href="#mac地址" title="Permanent link">¶</a></h3>
<p>如果信号是点对点的传输,也就是说只有两个节点直接连接,那么不需要地址.</p>
<p>但是在以太网这种广播式的网络中,一个节点可能连接着多个节点,因此需要使用地址来区分不同的节点.在数据链路层,我们使用<strong>MAC地址(Media Access Control Address)</strong>来标识网络中的每个节点.</p>
<p>MAC地址位于帧的首部,包含了源MAC地址和目的MAC地址.每个MAC地址都是一个48位的二进制数,通常表示为6个十六进制数,每个十六进制数占8位(即一个字节),用冒号或连字符分隔.</p>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac162.png" data-desc-position="bottom"><img src="../../../image/mac162.png" width="80%"></a>
</div>

<hr>
<p>MAC地址一般固化在网络适配器的只读存储器(ROM)中,因此每个网络适配器都有一个唯一的MAC地址.这种MAC地址被称为<strong>硬件地址</strong>或<strong>物理地址</strong>.</p>
<p>在IEEE 802标准中,MAC地址的格式如下</p>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac163.png" data-desc-position="bottom"><img src="../../../image/mac163.png" alt="MAC地址格式" width="80%"></a>
    <br>
    MAC地址格式
</div>

<p>其中第一字节的最低有效位(LSB,Least Significant Bit)用于区分单播地址和多播地址,0为单播地址,1为多播地址.</p>
<p>第一字节的次低有效位用于区分全局唯一地址和本地管理地址,0为全局唯一地址,1为本地管理地址.</p>
<p>它们排列组合,组成的情况如下表所示:</p>
<table>
<thead>
<tr>
<th style="text-align: center;">第1字节的 b1位</th>
<th style="text-align: center;">第1字节的 b0位</th>
<th style="text-align: center;">MAC地址类型</th>
<th style="text-align: center;">地址占比</th>
<th style="text-align: center;">地址数量</th>
<th style="text-align: center;">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">全局单播地址</td>
<td style="text-align: center;">1/4</td>
<td style="text-align: center;">2^46</td>
<td style="text-align: center;">由IEEE统一分配给网卡制造商的OUI</td>
</tr>
<tr>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">本地单播地址</td>
<td style="text-align: center;">1/4</td>
<td style="text-align: center;">2^46</td>
<td style="text-align: center;">由网络管理员自定义分配</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">全局多播地址</td>
<td style="text-align: center;">1/4</td>
<td style="text-align: center;">2^46</td>
<td style="text-align: center;">由IEEE分配的标准多播地址</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">本地多播地址</td>
<td style="text-align: center;">1/4</td>
<td style="text-align: center;">2^46</td>
<td style="text-align: center;">由网络管理员自定义的多播地址</td>
</tr>
</tbody>
</table>
<p>在实际中,当网卡收到一个以太网帧时,它会检查目的MAC地址:</p>
<ol>
<li>
<p>若目的MAC地址与本机的MAC地址匹配,则接受该帧.</p>
</li>
<li>
<p>或者当目的MAC地址是广播地址(即<code>FF:FF:FF:FF:FF:FF</code>),则接受该帧.</p>
</li>
<li>
<p>或者当目的MAC地址是多播地址,且本机加入了该多播组,则接受该帧.</p>
</li>
</ol>
<h3 id="csmacd介质访问控制协议">CSMA/CD介质访问控制协议<a class="headerlink" href="#csmacd介质访问控制协议" title="Permanent link">¶</a></h3>
<p>随机访问协议的核心思想是让所有用户根据自己的意愿自由地发送信息，不采用集中控制来决定发送顺序。这种方式虽然简单高效，但也带来了一个关键问题：<strong>冲突</strong>。</p>
<ol>
<li>
<p><strong>工作方式</strong>：</p>
<ul>
<li>
<p><strong>去中心化</strong>：没有中央节点协调，所有用户都能随时发送信息。</p>
</li>
<li>
<p><strong>信道独占</strong>：用户发送信息时会占用信道的全部速率。</p>
</li>
</ul>
</li>
<li>
<p><strong>冲突（碰撞）问题</strong>：</p>
<ul>
<li>
<p>在共享信道（如总线型网络）中，如果两个或多个用户同时发送信息，它们的信号就会在信道上相互干扰，导致<strong>帧冲突</strong>（或称<strong>碰撞</strong>）。</p>
</li>
<li>
<p>碰撞会使所有参与冲突的用户的发送都失败，数据无法被正确接收。</p>
</li>
</ul>
</li>
<li>
<p><strong>解决方法</strong>：</p>
<ul>
<li>
<p>为了解决冲突，每个用户必须遵循一套规则来反复<strong>重传</strong>它发送失败的帧，直到该帧无冲突地成功传输。</p>
</li>
<li>
<p>这套规则就是<strong>随机访问介质访问控制协议</strong>。其核心思想是“<strong>先争用，后发送</strong>”：胜利者通过争用获得信道的使用权。因此，这类协议也被称为<strong>争用型协议</strong>（Contention-based Protocol）。</p>
</li>
</ul>
</li>
</ol>
<hr>
<p>载波监听多路访问/冲突检测（CSMA/CD, Carrier Sense Multiple Access with Collision Detection就是一种典型的随机访问介质访问控制协议,它的工作原理是:</p>
<ol>
<li>
<p>一条总线上的多个站点,在发送帧之前,首先监听信道,如果总线空闲了96比特时间,则开始发送帧.</p>
</li>
<li>
<p>在发送过程中,也要持续监听信道,如果检测到冲突,则立即停止发送帧,并发送一个<strong>32比特或48比特的人为干扰信号(Jamming Signal)</strong>来通知其他站点发生了冲突.</p>
</li>
</ol>
<div class="admonition remark">
<p class="admonition-title">Remark</p>
<ol>
<li>
<p>当载波监听到总线空闲时,总线不一定真的空闲,因为信号传播需要时间,可能有其他站点刚刚开始发送,但信号还没有传播到当前站点.所以需要等待总线空闲96比特时间,以确保没有其他站点正在发送.</p>
</li>
<li>
<p>CSMA/CD只能尽量避免碰撞或是在碰撞发生时尽快检测到碰撞,但无法完全避免碰撞的发生.</p>
</li>
<li>
<p>由于一个站点在发送帧的时候必须要监听信道,所以CSMA/CD只能应用在<strong>半双工</strong>的以太网中,而不能应用在<strong>全双工</strong>的以太网中.</p>
</li>
</ol>
</div>
<hr>
<h4 id="争用期">争用期<a class="headerlink" href="#争用期" title="Permanent link">¶</a></h4>
<blockquote>
<p>争用期是指一个站点可以确认是否发生碰撞的时间窗口.如果在这个时间窗口内没有检测到碰撞,则说明帧发送成功.</p>
</blockquote>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac166.png" data-desc-position="bottom"><img src="../../../image/mac166.png" alt="争用期示意图" width="60%"></a>
    <br>
    争用期示意图
</div>

<p>如上图所示,在传播时延为<span class="arithmatex">\(\tau\)</span>的网络中,争用期为<span class="arithmatex">\(2\tau\)</span>.这是因为,当站点A开始发送帧时,信号需要<span class="arithmatex">\(\tau\)</span>时间传播到站点B;如果站点B此时也开始发送帧,则信号需要再<span class="arithmatex">\(\tau\)</span>时间传播回站点A.因此,站点A需要等待<span class="arithmatex">\(2\tau\)</span>时间来确认是否发生碰撞.</p>
<p>总结一下,一个站点从发送帧开始,需要等待<span class="arithmatex">\(2\tau\)</span>时间来确认是否发生碰撞.如果在这段时间内没有检测到碰撞,则说明帧发送成功.</p>
<hr>
<p>10MB/s的以太网中,争用期为51.2微秒,即512比特的发送时间.那么单程传播实验就是<span class="arithmatex">\(25.6 \mu s\)</span>.假设信号传播速度为光速的2/3,即<span class="arithmatex">\(2*10^8m/s\)</span>,则最大电缆长度为:</p>
<div class="arithmatex">\[ d = v * t = 2*10^8 * 25.6 * 10^{-6} = 5120 m \]</div>
<h4 id="最小帧长与最大帧长">最小帧长与最大帧长<a class="headerlink" href="#最小帧长与最大帧长" title="Permanent link">¶</a></h4>
<p>最小帧长的限制来源于争用期的要求.由于帧在发送完之后,站点就不再监听信道,所以为了确保在争用期内能够检测到碰撞,帧的发送时间必须至少等于争用期.</p>
<p>对于10MB/s的以太网,争用期为512比特的发送时间,因此最小帧长为512比特,即64字节.换句话说,最小帧长也意味着一个帧如果在前64字节内没有发生碰撞,则说明帧发送成功.</p>
<p>由于发送帧的站点边发送帧边检测碰撞，一旦检测到碰撞就立即中止帧的发送，此时已发送的数据量一定小于64B。因此，接收站点收到长度小于64B的帧，就可判定这是一个遭遇了碰撞而异常中止的无效帧，将其丢弃即可。</p>
<hr>
<p>最大帧长的限制来源于以太网的设计规范.以太网规定,一个帧的最大长度为1518字节(包括首部和尾部),其中数据载荷部分最小为46字节,最大为1500字节.</p>
<p>最大帧长的设计主要是为了使得以太网能够高效地传输数据.如果帧太长,则会占用信道较长时间,导致其他站点等待时间过长,从而降低网络效率.</p>
<h4 id="退避算法">退避算法<a class="headerlink" href="#退避算法" title="Permanent link">¶</a></h4>
<p>当一个站点检测到碰撞时，它会立即停止发送，并等待一段随机时间后再尝试重新发送。这个随机等待时间的选择是通过<strong>截断二进制指数退避算法（Truncated Binary Exponential Backoff, TBEB）</strong>来实现的。</p>
<p>该算法的核心思想是，随着连续碰撞次数的增加，动态地增大随机等待时间的取值范围，从而降低再次碰撞的概率。</p>
<p><strong>算法工作原理如下：</strong></p>
<ol>
<li>
<p><strong>定义基本时间单位</strong>：
    算法以<strong>争用期（<span class="arithmatex">\(2 \tau\)</span>）</strong>作为一个基本时间单位，也称为<strong>时隙（Slot Time）</strong>。一个时隙的长度通常是51.2微秒（即发送64字节所需的时间）。</p>
</li>
<li>
<p><strong>确定重传次数 <code>k</code></strong>：</p>
<ul>
<li>
<p>每个站点为每个待发送的帧维护一个重传计数器 <code>k</code>，初始值为0。</p>
</li>
<li>
<p>第一次发送前，<code>k=0</code>。</p>
</li>
<li>每当发生一次碰撞，该帧的 <code>k</code> 值就加1。</li>
</ul>
</li>
<li>
<p><strong>确定随机数取值范围</strong>：</p>
<ul>
<li>
<p>从整数集合 <code>[0, 1, ..., 2^min(k, 10) - 1]</code> 中随机选择一个数，记为 <code>r</code>。</p>
</li>
<li>
<p>这里的 <code>min(k, 10)</code> 体现了算法的“<strong>截断（Truncated）</strong>”特性。当连续碰撞次数 <code>k</code> 超过10次后，取值范围就不再增大了，始终保持在 <code>[0, 1023]</code> 之间。这可以防止等待时间无限增长。</p>
</li>
<li>
<p><code>2^k</code> 体现了“<strong>二进制指数（Binary Exponential）</strong>”特性，即每次碰撞后，随机数的选择范围会翻倍。</p>
</li>
</ul>
</li>
<li>
<p><strong>计算退避时间</strong>：</p>
<ul>
<li>站点需要等待的退避时间为 <code>r</code> 倍的时隙长度，即：
    $$ \text{退避时间} = r \times (2\tau) $$</li>
</ul>
</li>
<li>
<p><strong>等待并重新尝试</strong>：</p>
<ul>
<li>等待退避时间结束后，站点返回到CSMA/CD协议的第一步，即重新监听信道。如果信道空闲，则再次尝试发送帧。</li>
</ul>
</li>
<li>
<p><strong>达到最大重传次数</strong>：</p>
<ul>
<li>
<p>如果一个帧连续碰撞了16次（即 <code>k=16</code>），发送方将不再尝试重传该帧。</p>
</li>
<li>
<p>它会丢弃这个帧，并向上层（如网络层）报告发送失败。</p>
</li>
</ul>
</li>
</ol>
<h4 id="信道利用率">信道利用率<a class="headerlink" href="#信道利用率" title="Permanent link">¶</a></h4>
<p>我们只能考虑理想情况下的信道利用率:</p>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac167.png" data-desc-position="bottom"><img src="../../../image/mac167.png" alt="信道利用率示意图" width="60%"></a>
    <br>
    理想情况
</div>

<ol>
<li>
<p>总线一空闲就有站点发送帧</p>
</li>
<li>
<p>没有碰撞发生</p>
</li>
<li>
<p>发送一帧需要占用总线<span class="arithmatex">\(T_0 + \tau\)</span>时间,其中<span class="arithmatex">\(T_0\)</span>是发送帧的时间,<span class="arithmatex">\(\tau\)</span>是单程传播时延.</p>
</li>
</ol>
<p>那么,信道利用率为:</p>
<div class="arithmatex">\[ U = \frac{T_0}{T_0 + \tau} = \frac{1}{1 + a} \]</div>
<div class="arithmatex">\[ a = \frac{\tau}{T_0} \]</div>
<p>为了使用率更高,我们希望<span class="arithmatex">\(a\)</span>更小,也即,<span class="arithmatex">\(T_0\)</span>更大,<span class="arithmatex">\(\tau\)</span>更小.也就是说,我们希望发送更长的帧,并且希望网络的传播时延更小.</p>
<h3 id="集线器">集线器<a class="headerlink" href="#集线器" title="Permanent link">¶</a></h3>
<p><strong>集线器 (Hub)</strong> 是一种工作在<strong>物理层 (Physical Layer, OSI 模型的第一层)</strong> 的网络连接设备。它的主要功能是将多个以太网设备连接在一起，形成一个单一的网络段（Segment）。</p>
<p>集线器的核心工作原理非常简单：它接收到一个端口传来的信号后，会进行<strong>再生和放大</strong>，然后将这个信号<strong>广播到所有其他端口</strong>。</p>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac168.png" data-desc-position="bottom"><img src="../../../image/mac168.png" alt="集线器工作原理" width="60%"></a>
    <br>
    集线器的工作原理：从一个端口进，从所有其他端口出
</div>

<p>特点:</p>
<ol>
<li>
<p><strong>物理层设备</strong>：
    集线器不具备数据链路层的任何功能。它无法识别帧的边界，也无法解析目的MAC地址。它只是简单地复制和转发比特流。</p>
</li>
<li>
<p><strong>共享带宽</strong>：
    连接到同一个集线器的所有设备共享总带宽。例如，在一个100Mbps的集线器上连接了10台设备，那么理论上每台设备平均只能获得10Mbps的带宽。设备越多，每台设备可用的带宽就越少。</p>
</li>
<li>
<p><strong>单一冲突域 (Single Collision Domain)</strong>：
    这是集线器最重要的特性，也是其最大的缺点。由于所有端口共享同一条总线（逻辑上的），如果两个设备同时发送数据，它们的信号就会在集线器内部发生<strong>碰撞 (Collision)</strong>。因此，连接到同一个集线器的所有设备都处于同一个冲突域中。</p>
<ul>
<li>
<p>这意味着，使用集线器的网络必须采用 <strong>CSMA/CD</strong> 协议来解决冲突问题。</p>
</li>
<li>
<p>网络规模越大（连接的设备越多），发生碰撞的概率就越高，网络性能会急剧下降。</p>
</li>
</ul>
</li>
<li>
<p><strong>半双工通信</strong>：
    由于存在碰撞的风险，连接到集线器的设备通常只能工作在<strong>半双工 (Half-duplex)</strong> 模式下，即在同一时刻只能发送或接收数据，不能同时进行。</p>
</li>
</ol>
<div class="admonition definition">
<p class="admonition-title">10BASE-T</p>
<p>10BASE-T是一种以太网标准，定义了在双绞线介质上以10Mbps的速率进行数据传输的规范。它使用星型拓扑结构，通常通过集线器或交换机连接多个设备。</p>
<ul>
<li>
<p><strong>10</strong>：表示数据传输速率为10Mbps。</p>
</li>
<li>
<p><strong>BASE</strong>：表示基带传输，即信号直接在介质上进行传输，而不是通过调制成高频信号。</p>
</li>
<li>
<p><strong>T</strong>：表示使用双绞线（Twisted Pair）作为传输介质。</p>
</li>
</ul>
<p>相应的还有10BASE-F,它使用光纤作为传输介质.</p>
</div>
<h3 id="网桥">网桥<a class="headerlink" href="#网桥" title="Permanent link">¶</a></h3>
<p>网桥(Bridge)是一种工作在数据链路层的网络设备,它用于连接两个或多个局域网段,从而扩展网络的覆盖范围.</p>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac169.png" data-desc-position="bottom"><img src="../../../image/mac169.png" alt="网桥连接局域网" width="60%"></a>
    <br>
    网桥连接局域网
</div>

<p>主要介绍一下网桥中转发表的自学习过程:</p>
<ol>
<li>
<p>当网桥收到一个数据帧时,它会检查帧的源MAC地址和目的MAC地址.</p>
</li>
<li>
<p>网桥将源MAC地址和接收该帧的端口号记录在中转发表中.如果该源MAC地址已经存在于中转发表中,则更新其对应的端口号.例如,地址A从端口1发送过来,网桥就记录A-&gt;1.</p>
</li>
<li>
<p>接下来,网桥检查目的MAC地址:</p>
<ul>
<li>
<p>如果目的MAC地址在中转发表中有对应的端口号,则网桥只将该帧转发到对应的端口上.</p>
</li>
<li>
<p>如果目的MAC地址不在中转发表中,则网桥将该帧广播到除接收端口外的所有端口上.</p>
</li>
</ul>
</li>
<li>
<p>通过这种方式,网桥能够逐渐建立起完整的中转发表,从而实现高效的帧转发.</p>
</li>
</ol>
<div class="admonition remark">
<p class="admonition-title">Remark</p>
<ol>
<li>
<p>若网桥收到有误码的帧,则直接丢弃该帧,不进行任何处理.</p>
</li>
<li>
<p>若收到无误码的广播帧,则将其转发到除接收端口外的所有端口上.</p>
</li>
<li>
<p>转发表要定期更新,删除长时间未使用的地址条目,以防止表过大.</p>
</li>
</ol>
</div>
<h3 id="交换机">交换机<a class="headerlink" href="#交换机" title="Permanent link">¶</a></h3>
<p>交换机可以看作是多端口的网桥,它工作在数据链路层,用于连接多个局域网段,从而实现更大范围的网络互联.</p>
<p>交换机扩大了广播域,同时又划分了冲突域.每个端口都是一个独立的冲突域,从而提高了网络的整体性能.</p>
<h3 id="虚拟局域网">虚拟局域网<a class="headerlink" href="#虚拟局域网" title="Permanent link">¶</a></h3>
<p>虚拟局域网诞生的需求是,随着广播域的扩大,网络中的广播流量也随之增加,这会导致网络拥塞和性能下降.为了控制广播流量,我们可以将一个物理局域网划分成多个逻辑上的子网,每个子网形成一个独立的广播域.</p>
<p>虚拟局域网(VLAN, Virtual Local Area Network)将局域网内的站点划分到不同的逻辑组中,从而形成多个独立的广播域.这样,一个VLAN内的广播帧只会在该VLAN内传播,不会影响其他VLAN.</p>
<ul>
<li>
<p>同一交换机上的不同站点可以属于不同的VLAN.</p>
</li>
<li>
<p>一个VLAN中的站点可以跨越多个交换机.</p>
</li>
</ul>
<h4 id="实现机制">实现机制<a class="headerlink" href="#实现机制" title="Permanent link">¶</a></h4>
<p>VLAN的实现主要依赖于交换机对以太网帧进行标记和识别.具体来说,交换机会在以太网帧中插入一个VLAN标签,用于标识该帧所属的VLAN.</p>
<p>我们称之为IEEE 802.1Q标准,它定义了VLAN标签的格式和处理方式.</p>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac173.png" data-desc-position="bottom"><img src="../../../image/mac173.png" alt="VLAN标签格式" width="80%"></a>
    <br>
    VLAN标签格式
</div>

<p>4字节的VLAN标签插入在以太网帧的源MAC地址和类型字段之间.其中:</p>
<ul>
<li>
<p><strong>TPID(Tag Protocol Identifier)</strong>: 2字节,固定为<code>0x8100</code>,用于标识这是一个VLAN标签.</p>
</li>
<li>
<p><strong>PRI(Priority)</strong>: 3位,用于指示帧的优先级.优先级越大,值越高</p>
</li>
<li>
<p><strong>CFI(Canonical Format Indicator)</strong>: 1位,用于指示MAC地址的格式.取值为0表示MAC地址以规范格式封装，取值为1表示MAC地址以非规范格式封装。对于以太网，CFI的取值为0。</p>
</li>
<li>
<p><strong>VID(VLAN Identifier)</strong>: 12位,用于标识帧所属的VLAN.取值范围为0<sub>4095,其中0和4095保留,有效范围为1</sub>4094.</p>
</li>
</ul>
<p><code>VID</code>字段用于区分不同的VLAN,交换机根据该字段来决定如何处理和转发帧.</p>
<p>交换机的端口有<code>access port</code>和<code>trunk port</code>两种类型:</p>
<ol>
<li>
<p><strong>Access Port</strong>:</p>
<ul>
<li>
<p>一般用于连接用户计算机。</p>
</li>
<li>
<p>只能属于一个VLAN，因此其PVID（端口VLAN ID）值与其所属VLAN的ID相同（默认为1）。</p>
</li>
<li>
<p><strong>接收帧</strong>：一般只接受“未打标签”的普通以太网MAC帧。收到后，会根据接口的PVID给帧“打标签”（即插入VLAN标签，VID取PVID值）。</p>
</li>
<li>
<p><strong>转发帧</strong>：</p>
<ul>
<li>如果帧中的VID值与接口的PVID值相等，则给帧“去标签”后再转发。</li>
<li>如果VID值与PVID值不相等，则不转发该帧。</li>
</ul>
</li>
<li>
<p>因此，从Access接口转发出的帧，是不带VLAN标签的普通以太网MAC帧。</p>
</li>
</ul>
<p></p><div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac174.png" data-desc-position="bottom"><img src="../../../image/mac174.png" alt="Access Port工作原理" width="80%"></a>
    <br>
    Access Port工作原理
</div><p></p>
</li>
<li>
<p><strong>Trunk Port</strong>:</p>
<ul>
<li>
<p>一般用于交换机之间的互连。</p>
</li>
<li>
<p>可以属于多个VLAN，即可以通过属于不同VLAN的帧。</p>
</li>
<li>
<p>其默认PVID值为1，若互连的Trunk接口的PVID值不相等，则可能出现转发错误。</p>
</li>
<li><strong>接收帧</strong>：<ul>
<li>若接收到“未打标签”的普通以太网MAC帧，会根据接口的PVID给帧“打标签”。</li>
<li>若接收到“已打标签”的802.1Q帧，则直接接收。</li>
</ul>
</li>
<li>
<p><strong>转发帧</strong>：</p>
<ul>
<li>
<p>对于帧的VID值等于接口PVID值的802.1Q帧，会将其“去标签”再转发。</p>
</li>
<li>
<p>对于帧的VID值不等于接口PVID值的802.1Q帧，会将其直接转发（保持标签）。</p>
</li>
</ul>
</li>
<li>
<p>因此，从Trunk接口转发出的帧，可能是普通的以太网MAC帧（不带标签），也可能是802.1Q帧（带标签）。</p>
</li>
</ul>
<p></p><div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac175.png" data-desc-position="bottom"><img src="../../../image/mac175.png" alt="Trunk Port工作原理" width="80%"></a>
    <br>
    Trunk Port工作原理
</div><p></p>
</li>
</ol>
<h2 id="无线局域网">无线局域网<a class="headerlink" href="#无线局域网" title="Permanent link">¶</a></h2>
<p>802.11 是由 IEEE（电气和电子工程师协会）制定的一套<strong>无线局域网（WLAN）</strong>技术标准。</p>
<h3 id="核心组件">核心组件<a class="headerlink" href="#核心组件" title="Permanent link">¶</a></h3>
<p>一个 802.11 网络主要由两类设备构成：</p>
<ul>
<li>
<p><strong>STA (Station，站点)：</strong> 任何支持 802.11 标准的终端设备。例如，<strong>笔记本电脑、智能手机、智能电视</strong>等。</p>
</li>
<li>
<p><strong>AP (Access Point，接入点)：</strong> 我们家里的<strong>无线路由器</strong>就是最常见的 AP。它扮演着桥梁的角色，连接无线设备（STA）和有线网络（如光猫或公司网络）。</p>
</li>
</ul>
<h3 id="网络拓扑结构">网络拓扑（结构）<a class="headerlink" href="#网络拓扑结构" title="Permanent link">¶</a></h3>
<p>802.11 网络有几种组织形式，最主要的是两种：</p>
<h4 id="基础架构模式-infrastructure-mode">基础架构模式 (Infrastructure Mode)<a class="headerlink" href="#基础架构模式-infrastructure-mode" title="Permanent link">¶</a></h4>
<ul>
<li>
<p><strong>BSS (Basic Service Set，基本服务集)：</strong> 由 <strong>1 个 AP</strong> 和所有连接到它的 STA 组成。这个 AP 控制着这个小网络，所有设备都通过它来通信。这个 BSS 的网络名称就是我们熟知的 <strong>SSID</strong>（如 "MyHomeWiFi"）。</p>
</li>
<li>
<p><strong>ESS (Extended Service Set，扩展服务集)：</strong> 当一个区域太大（如办公楼、机场）时，一个 AP 无法完全覆盖。ESS 就是由<strong>多个 AP</strong> 组成，它们设置<strong>相同的 SSID</strong>。设备（STA）可以在这些 AP 之间无缝<strong>“漫游”</strong>（Roaming），而不会断开网络连接。</p>
</li>
</ul>
<h4 id="ad-hoc-模式-ibss">Ad-Hoc 模式 (IBSS)<a class="headerlink" href="#ad-hoc-模式-ibss" title="Permanent link">¶</a></h4>
<blockquote>
<p>自组织网络</p>
</blockquote>
<ul>
<li><strong>IBSS (Independent BSS，独立基本服务集)：</strong> 这种模式<strong>没有 AP</strong>。设备之间直接点对点通信。例如，两台笔记本电脑在没有路由器的情况下临时互传文件。现在这种模式已不常用。</li>
</ul>
<h3 id="csmaca冲突避免">CSMA/CA（冲突避免）<a class="headerlink" href="#csmaca冲突避免" title="Permanent link">¶</a></h3>
<p>有线网络（以太网）使用 CSMA/CD（冲突检测），即“先听再说，边说边听，发现冲突，立即停止”。</p>
<p>但无线网络由于无线信道的传输环境复杂且信号强度的动态范围非常大，在802.11无线网卡上接收到的信号强度一般都远远小于发送信号的强度，信号强度甚至相差百万倍。因此，如果要在802.11无线网卡上实现碰撞检测，对硬件的要求非常高。</p>
<p>并且,即使能够在硬件上实现碰撞检测功能，但由于无线电波传播的特殊性（存在隐蔽站问题），还会出现无法检测到碰撞的情况，因此实现碰撞检测并没有意义。</p>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac176.png" data-desc-position="bottom"><img src="../../../image/mac176.png" alt="隐藏节点问题示意图" width="60%"></a>
    <br>
    隐藏节点问题示意图
</div>

<p>因此，无线网络采用了另一种机制：<strong>CSMA/CA (Carrier Sense Multiple Access with Collision Avoidance) —— 载波侦听多路访问 / 冲突避免</strong>。</p>
<p>在介绍这个机制之前,我们必须先引入一些概念:</p>
<ul>
<li>
<p><strong>SIFS (Short Interframe Space)</strong>: 短帧间隔时间,用于高优先级的控制帧之间的间隔.也就是说,当一个设备发送完一个数据帧后,如果需要立即发送一个控制帧(如ACK),则等待SIFS时间后发送.</p>
</li>
<li>
<p><strong>DIFS (Distributed Interframe Space)</strong>: 分布式帧间隔时间,用于普通数据帧之间的间隔.当一个站点需要在一个原子操作（atomic operation）序列中紧接着前一个帧发送数据时，它会使用 SIFS。例如,当一个设备发送完一个数据帧后,如果需要发送另一个数据帧,则等待DIFS时间后发送.</p>
</li>
</ul>
<p>有了以上概念后,我们就可以讲解CSMA/CA的工作原理:</p>
<ol>
<li>
<p><strong>监听信道</strong>：设备在发送数据前，首先监听信道。如果信道空闲了DIFS时间,则启动随机退避计时器。</p>
</li>
<li>
<p><strong>随机退避</strong>：设备选择一个随机的退避时间（以时隙为单位），并开始倒计时。如果在倒计时过程中，信道变得忙碌（即其他设备开始发送数据），则暂停倒计时，等待信道再次空闲后重新继续开始倒计时。</p>
</li>
<li>
<p><strong>发送数据</strong>：当退避计时器倒计时结束，设备认为信道空闲，可以发送数据帧。</p>
</li>
</ol>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac177.png" data-desc-position="bottom"><img src="../../../image/mac177.png" alt="CSMA/CA工作原理示意图" width="80%"></a>
    <br>
    CSMA/CA示意图
</div>

<p>当某个站检测到正在信道中传送的帧首部中的“持续时间”字段时，就调整自己的网络分配向量（Network Allocation Vector，NAV）。NAV指出了完成这次帧的传送且信道转入空闲状态所需的时间。</p>
<hr>
<p>当然,也有情况不需要启动随机退避计时器,例如:</p>
<ul>
<li>
<p><strong>发送控制帧</strong>：如ACK帧,只需等待SIFS时间后发送.</p>
</li>
<li>
<p>发送第一个帧,并且发送前信道空闲.</p>
</li>
</ul>
<p>也就是说如下情况必须要使用随机退避计时器:</p>
<ol>
<li>
<p>发送前检测到信道忙碌.</p>
</li>
<li>
<p>重传数据帧.</p>
</li>
<li>
<p>在每一次成功发送帧之后要连续发送下一个帧时</p>
</li>
</ol>
<p>退避算法与以太网中的退避算法类似,也是使用截断二进制指数退避算法.</p>
<p>具体来说，在802.11标准中，当一个站点需要进行第 <code>i</code> 次退避时（<code>i</code> 从1开始计数），它会从一个整数集合中随机选择一个时隙编号 <code>r</code>。</p>
<ol>
<li>
<p><strong>确定随机数取值范围</strong>：
    随机时隙编号 <code>r</code> 从集合 <code>{0, 1, ..., CW-1}</code> 中选取，其中 <code>CW</code> (Contention Window, 竞争窗口) 的大小取决于退避次数 <code>i</code>。
    $$
    CW = 2^{2+i} - 1
    $$</p>
</li>
<li>
<p><strong>计算退避时间</strong>：
    最终的退避时间通过将随机选择的时隙编号 <code>r</code> 乘以一个时隙的长度（<code>SlotTime</code>）得到。
    $$
    \text{退避时间} = r \times \text{SlotTime}
    $$</p>
</li>
<li>
<p><strong>窗口上限</strong>：
    为了防止等待时间无限增长，竞争窗口 <code>CW</code> 的大小设有上限。当 <code>i=6</code> 时，<code>CW</code> 达到其最大值 <code>2^8 - 1 = 255</code>。对于后续的退避（<code>i &gt; 6</code>），<code>CW</code> 的值将保持在255不再增加。</p>
</li>
</ol>
<p>一个形象的例子可以看:</p>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac178.png" data-desc-position="bottom"><img src="../../../image/mac178.png" alt="802.11退避算法示意图" width="80%"></a>
    <br>
    CSMA/CA协议例子
</div>

<h4 id="预约机制">预约机制<a class="headerlink" href="#预约机制" title="Permanent link">¶</a></h4>
<p>在802.11协议中,为了进一步减少碰撞的发生,引入了一种预约机制,即<strong>RTS/CTS (Request to Send / Clear to Send)</strong> 机制.</p>
<ul>
<li>
<p><strong>RTS帧</strong>：一个很短的帧,包括了源地址,目的地址和本次通信的持续时间.</p>
</li>
<li>
<p><strong>CTS帧</strong>：也是一个很短的帧,由目的站点发送给源站点,表示允许其发送数据帧.它也包括本次通信所需的持续时间（从RTS帧中将此持续时间复制到CTS帧中）</p>
</li>
</ul>
<p>预约机制实现的关键就在于,其他站点维护自己的NAV,当读取到信道中有CTS帧时,就将NAV设置为CTS帧中的持续时间.在此期间,这些站点都不会尝试发送数据帧,从而避免了碰撞的发生.</p>
<div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac188.png" data-desc-position="bottom"><img src="../../../image/mac188.png" alt="RTS/CTS机制示意图" width="80%"></a>
    <br>
    RTS/CTS机制示意图
</div>

<h4 id="帧结构">帧结构<a class="headerlink" href="#帧结构" title="Permanent link">¶</a></h4>
<p>802.11帧的基本格式如下:</p>
<table>
<thead>
<tr>
<th style="text-align: center;">帧控制字段</th>
<th style="text-align: center;">持续时间字段</th>
<th style="text-align: center;">地址1</th>
<th style="text-align: center;">地址2</th>
<th style="text-align: center;">地址3</th>
<th style="text-align: center;">序列控制字段</th>
<th style="text-align: center;">地址4</th>
<th style="text-align: center;">信息字段</th>
<th style="text-align: center;">FCS字段</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">2字节</td>
<td style="text-align: center;">2字节</td>
<td style="text-align: center;">6字节</td>
<td style="text-align: center;">6字节</td>
<td style="text-align: center;">6字节</td>
<td style="text-align: center;">2字节</td>
<td style="text-align: center;">6字节</td>
<td style="text-align: center;">0~2312字节</td>
<td style="text-align: center;">4字节</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p><strong>帧控制字段</strong>：包含了帧类型、子类型、协议版本等信息.格式为:</p>
<p></p><div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac189.png" data-desc-position="bottom"><img src="../../../image/mac189.png" alt="802.11帧控制字段格式" width="80%"></a>
    <br>
    802.11帧控制字段格式
</div><p></p>
</li>
<li>
<p><strong>持续时间字段</strong>：表示从当前帧发送完毕到信道空闲所需的时间.用于预约机制的实现</p>
</li>
<li>
<p>地址1-4:含义取决于帧控制字段中的To DS和From DS位:</p>
<p></p><div style="text-align: center;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../../image/mac190.png" data-desc-position="bottom"><img src="../../../image/mac190.png" alt="802.11地址字段含义" width="80%"></a>
    <br>
    802.11地址字段含义
</div><p></p>
<ul>
<li>DS即Distribution System,分布式系统,也就是有线网络部分.To DS就是典型的上行方向,From DS就是典型的下行方向.</li>
</ul>
</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2025年11月12日 04:49:52 UTC">2025年11月12日</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="创建日期">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2025年10月15日 10:07:16 UTC">2025年10月15日</span>
  </span>

    
    
    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        此页面有帮助吗？
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="这玩意有点用" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"></path></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="这玩意真有用吗" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"></path></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              谢谢你的反馈！
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              呜呜呜，别骂了别骂了，请联系我！ <a href="mailto:pxxhello@gmail.com">俺的gmail</a>
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


  <h2 id="__comments">评论</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js" data-repo="starstone3/starstone3.github.io" data-repo-id="R_kgDOM1N9qQ" data-category="Announcements" data-category-id="DIC_kwDOM1N9qc4Cir1z" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="preferred_color_scheme" data-lang="zh-CN" crossorigin="anonymous" async>
</script>
  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "transparent_dark"
        : "light"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "transparent_dark"
            : "light"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚">
        
          
          <a href="../ch2/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 第二章:物理层">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                第二章:物理层
              </div>
            </div>
          </a>
        
        
          
          <a href="../ch4/" class="md-footer__link md-footer__link--next" aria-label="下一页: 第四章:网络层">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                第四章:网络层
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2024 starstone3
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["announce.dismiss", "navigation.instant", "navigation.instant.prefetch", "navigation.tracking", "navigation.tabs", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "search.share", "navigation.indexes", "content.tabs.link", "content.tooltips", "content.code.copy", "content.code.select", "content.code.annotate", "toc.follow"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../../../_js/extra.js"></script>
      
        <script src="../../../_js/mathjax.js"></script>
      
        <script src="../../../_js/katex.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
        <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>