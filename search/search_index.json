{"config":{"lang":["zh","en"],"separator":"[\\s\\-\\.]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u5c01\u9762","text":""},{"location":"#\u7ec8\u4e8e\u7b49\u5230\u4f60","title":"\u7ec8\u4e8e\u7b49\u5230\u4f60\uff01","text":"<p> \u7ea6 195 \u4e2a\u5b57  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"#whoami","title":"Whoami","text":"<p>Hello\uff0c\u6211\u662fstarstone3\uff0c\u76ee\u524d\u5c31\u8bfb\u4e8e\u6d59\u6c5f\u5927\u5b66\u8ba1\u7b97\u673a\u79d1\u5b66\u4e0e\u6280\u672f\u4e13\u4e1a\u3002\u6709\u70b9\u6446\uff0c\u6709\u70b9\u61d2\uff0c\u4f46\u662f\u53c8\u6709\u70b9\u60f3\u505a\u51fa\u70b9\u4e1c\u897f\u3002</p>"},{"location":"#\u7f51\u7ad9\u521d\u8877","title":"\u7f51\u7ad9\u521d\u8877","text":"<p>\u8fd9\u4e2a\u7f51\u7ad9\u5efa\u7acb\u7684\u521d\u8877\u662f\u6691\u5047\u592a\u7a7a\u4e86\u6ca1\u4e8b\u505a\u60f3\u6709\u4e00\u4e2a\u5730\u65b9\u6765\u8bb0\u5f55\u81ea\u5df1\u7684\u5b66\u4e60\u4e0e\u751f\u6d3b\u3002\u4f46\u662f\u7531\u4e8e\u5e73\u65f6\u5b9e\u5728\u592a\u70c2\uff0c\u53c8\u5e38\u5e74\u5728steam\u91cc\u6325\u65a5\u65b9\u9052\uff0c\u6240\u4ee5\u7f51\u7ad9\u76ee\u524d\u8fd8\u5f88\u7b80\u964b\uff0c\u7b49\u5f85\u5efa\u8bbe\u3002\u5982\u679c\u4f60\u89c9\u5f97\u6211\u7684\u7f51\u7ad9\u5bf9\u4f60\u6709\u5e2e\u52a9\u6216\u8005\u6709\u610f\u601d\u7684\u8bdd\uff0c\u6b22\u8fce\u4e3a\u6211\u7684\u4ed3\u5e93\u70b9\u4e00\u4e2astar.</p>"},{"location":"#\u6211\u7684\u5174\u8da3","title":"\u6211\u7684\u5174\u8da3","text":"<p>\u597d\u73a9\u7684\u4e1c\u897f\uff01\u867d\u7136\u76ee\u524d\u8fd8\u6ca1\u6709\u5f00\u53d1\u8fd9\u65b9\u9762\u7684\u7ecf\u5386\u4e0e\u80fd\u529b\uff0c\u4f46\u5e0c\u671b\u6211\u4ee5\u540e\u80fd\u63a5\u89e6\u5230\u3002</p> <p> </p> <p>\u672c\u7ad9\u603b\u8bbf\u95ee\u91cf\u6b21</p>"},{"location":"friends/","title":"\u53cb\u94fe","text":"<p> \u7ea6 169 \u4e2a\u5b57  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> Lane lane's home\u3002 hongse_fox \u4e00\u4e2a\u7231\u73a9\u539f\u795e\u7684\u73a9\u673a\u5668\u7c89\u4e1d"},{"location":"article/","title":"\u5f00\u59cb","text":"<p> \u7ea6 14 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>          \u65e0\u6709\u56e0\uff0c\u5934\u60ac\u5e02\u66f9\u4f55\u6545\u3002\u2014\u2014\u4f60\u731c      </p>"},{"location":"article/out/","title":"\u5f00\u59cb","text":"<p> \u7ea6 10 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>          \u6211\u4e0d\u5403\u725b\u8089 \u3002\u2014\u2014\u672a\u540d      </p>"},{"location":"article/out/DP/","title":"\u52a8\u6001\u89c4\u5212","text":"<p> \u7ea6 628 \u4e2a\u5b57  187 \u884c\u4ee3\u7801  7 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p> <p>\u53c2\u8003\u89c6\u9891</p> <p>https://www.bilibili.com/video/BV1aa411f7uT/</p>"},{"location":"article/out/DP/#\u4e00\u822c\u6d41\u7a0b","title":"\u4e00\u822c\u6d41\u7a0b","text":"<ol> <li>\u5b9a\u4e49\u5b50\u95ee\u9898: \u5c06\u539f\u95ee\u9898\u5206\u89e3\u4e3a\u76f8\u4e92\u91cd\u53e0\u7684\u5b50\u95ee\u9898\uff0c\u8bbe\u8ba1\u51fa\u5404\u79cd\u72b6\u6001</li> <li>\u5199\u51fa\u5b50\u95ee\u9898\u7684\u9012\u63a8\u5173\u7cfb: \u627e\u51fa\u5b50\u95ee\u9898\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5e76\u5199\u51fa\u9012\u63a8\u516c\u5f0f\u3002</li> <li>\u786e\u5b9a\u8fb9\u754c\u6761\u4ef6: \u627e\u51fa\u6700\u5c0f\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u5e76\u4f5c\u4e3a\u9012\u63a8\u7684\u8d77\u70b9\u3002</li> <li>\u81ea\u5e95\u5411\u4e0a\u6c42\u89e3: \u4ece\u8fb9\u754c\u6761\u4ef6\u5f00\u59cb\uff0c\u9010\u6b65\u6c42\u89e3\u66f4\u5927\u7684\u5b50\u95ee\u9898\uff0c\u76f4\u5230\u5f97\u5230\u539f\u95ee\u9898\u7684\u89e3\u3002</li> </ol> <p>\u603b\u7ed3\uff0c\u6709\u70b9\u50cf\u6570\u903b\u4e2d\u5b66\u8fc7\u7684\u6709\u9650\u72b6\u6001\u673a\u3002</p>"},{"location":"article/out/DP/#\u9898\u76ee","title":"\u9898\u76ee","text":""},{"location":"article/out/DP/#\u9636\u4e58","title":"\u9636\u4e58","text":"<p>\u5982\u4f55\u7528\u52a8\u6001\u89c4\u5212\u8ba1\u7b97\u9636\u4e58\uff1f</p> \u89e3 <pre><code>int f[11]//\u5047\u8bbe\u8981\u7b97\u523011\nvoid init(){\n    memset(f,-1,sizeof(f));\n}\nint fact(int n){\n    if(f[n] == -1){\n        f[n]=n&gt;0? n*f[n-1]:1;\n    }\n    return f[n];\n}\n</code></pre>"},{"location":"article/out/DP/#\u8d70\u65b9\u683c","title":"\u8d70\u65b9\u683c","text":"<p>\u5728\u4e00\u4e2an*n\u7684\u65b9\u683c\u4e2d\uff0c\u5c0f\u660e\u7ad9\u5728\u5de6\u4e0a\u89d2\uff0c\u4ed6\u53ea\u80fd\u5411\u53f3\u8d70\u4e00\u6b65\u6216\u8005\u5411\u4e0b\u8d70\u4e00\u6b65\u3002\u95ee\u8d70\u5230\u7b2c(i,j)\u4f4d\u7f6e\u6709\u51e0\u79cd\u8d70\u6cd5\uff1f</p> \u89e3 <p>\u5b9a\u4e49f\u4e3a\u5b58\u50a8\u4e86\u8d70\u6cd5\u79cd\u6570\u7684\u4e8c\u7ef4\u6570\u7ec4\u3002f[i][j]=f[i-1][j]+f[i][j-1].f[0][0]=0. <pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\n// \u8ba1\u7b97\u4ece\u5de6\u4e0a\u89d2\u5230\u8fbe(i, j)\u4f4d\u7f6e\u7684\u8d70\u6cd5\u6570\nint countPaths(int n) {\n    // \u521b\u5efa\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\u6765\u5b58\u50a8\u8d70\u6cd5\u6570\n    vector&lt;vector&lt;int&gt;&gt; f(n, vector&lt;int&gt;(n, 0));\n\n    // \u521d\u59cb\u5316\u7b2c\u4e00\u884c\u548c\u7b2c\u4e00\u5217\n    for (int i = 0; i &lt; n; ++i) {\n        f[i][0] = 1;\n        f[0][i] = 1;\n    }\n\n    // \u586b\u5145\u6570\u7ec4\n    for (int i = 1; i &lt; n; ++i) {\n        for (int j = 1; j &lt; n; ++j) {\n            f[i][j] = f[i-1][j] + f[i][j-1];\n        }\n    }\n\n    // \u8fd4\u56de\u5230\u8fbe\u53f3\u4e0b\u89d2\u7684\u8d70\u6cd5\u6570\n    return f[n-1][n-1];\n}\n\nint main() {\n    int n;\n    cout &lt;&lt; \"\u8bf7\u8f93\u5165\u65b9\u683c\u7684\u5927\u5c0f n: \";\n    cin &gt;&gt; n;\n\n    int result = countPaths(n);\n    cout &lt;&lt; \"\u4ece\u5de6\u4e0a\u89d2\u5230\u53f3\u4e0b\u89d2\u7684\u8d70\u6cd5\u6570\u662f: \" &lt;&lt; result &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre></p>"},{"location":"article/out/DP/#\u722c\u53f0\u9636","title":"\u722c\u53f0\u9636","text":"\u89e3\u6790 <p>\u5f88\u7b80\u5355\u7684\u9898\u3002 <pre><code>class Solution {\npublic:\n    int climbStairs(int n) {\n        int f[46];\n        f[0]=1;\n        f[1]=1;\n        if (n==1)\n            return 1;\n        for (int i=2;i&lt;=n;i++){\n            f[i]=f[i-1]+f[i-2];\n        }\n        return f[n];\n    }\n};\n</code></pre></p>"},{"location":"article/out/DP/#\u5c06\u6570\u5b57\u53d8\u62100\u7684\u64cd\u4f5c\u6b21\u6570","title":"\u5c06\u6570\u5b57\u53d8\u62100\u7684\u64cd\u4f5c\u6b21\u6570","text":"\u89e3\u6790 <p>\u4e5f\u662f\u5f88\u7b80\u5355\u7684\u601d\u8def\u3002 <pre><code>class Solution {\n    int f[1000001];\n\npublic:\n    int numberOfSteps(int num) {\n        f[0] = 0;\n        f[1] = 1;\n        if (num == 0)\n            return 0;\n        else if (num == 1)\n            return 1;\n        else {\n            for (int i = 2; i &lt;= num; i++) {\n                if (i % 2 == 0) {\n                    f[i] = f[i / 2] + 1;\n                } else {\n                    f[i] = f[i - 1] + 1;\n                }\n            }\n            return f[num];\n        }\n    }\n};\n</code></pre> \u5176\u5b9e\u8fd8\u6709\u66f4\u4f18\u601d\u8def\uff0c\u6bd4\u5982\u6839\u636e\u9898\u610f\u53ef\u4ee5\u63a8\u7b97\u51fa\uff0c\u6700\u7ec8\u6b65\u6570\u5e94\u8be5\u4e3anum\u7684\u4e8c\u8fdb\u5236\u6700\u540e\u4e00\u4f4d\u7684\u6570+\uff08\u5176\u4ed6\u6bcf\u4e00\u4f4d\u7684\u6570+1\uff09\u3002</p> <ul> <li> <p>\u4ee514\u4e3a\u4f8b\u5b50\uff0c\u4e8c\u8fdb\u5236\u4e3a1110\uff0c\u7ed3\u679c1+1 + 1+1 + 1+1 + 0 = 6\u3002</p> </li> <li> <p>\u4ee58\u4e3a\u4f8b\u5b50\uff0c\u4e8c\u8fdb\u5236\u4e3a1000\uff0c\u7ed3\u679c1+1 + 0+1 + 0+1 + 0 = 4\u3002</p> </li> </ul>"},{"location":"article/out/DP/#\u722c\u697c\u68af\u7684\u6700\u5c0f\u82b1\u8d39","title":"\u722c\u697c\u68af\u7684\u6700\u5c0f\u82b1\u8d39","text":"\u89e3\u6790 <p>\u4e5f\u662f\u5f88\u76f4\u63a5\u7684\u4e00\u9053\u9898\u3002\u4efb\u4f55\u4e00\u4e2a\u53f0\u9636\u53ef\u4ee5\u4ece\u5b83\u4e0b\u9762\u4e00\u7ea7\u53f0\u9636\u548c\u4e0b\u9762\u4e24\u7ea7\u53f0\u9636\u8df3\u4e0a\u6765\uff0c\u6bd4\u8f83\u4e00\u4e0b\u5373\u53ef\u3002</p> <pre><code>class Solution {\n    int mincost[1001];\npublic:\n    int minCostClimbingStairs(vector&lt;int&gt;&amp; cost) {\n            mincost[0]=0;\n            mincost[1]=0;\n            int k=cost.size();\n            for(int i=2;i&lt;=k;i++){\n                mincost[i]=min(mincost[i-1]+cost[i-1],mincost[i-2]+cost[i-2]);\n            }\n\n        return mincost[k];\n    }\n};\n</code></pre>"},{"location":"article/out/DP/#\u6253\u5bb6\u52ab\u820d","title":"\u6253\u5bb6\u52ab\u820d","text":"\u89e3\u6790 <p>\u7b2c\u4e00\u4e2a\u623f\u5b50:\u6700\u5927\u503c\u5fc5\u7136\u662fnums[0];</p> <p>\u7b2c\u4e8c\u4e2a\u623f\u5b50\uff1a\u6700\u5927\u503c\u5fc5\u7136\u662fnums[0],nums[1]\u4e2d\u7684\u8f83\u5927\u8005\u3002</p> <p>\u7b2ci\u4e2a\u623f\u5b50\uff1a\u6700\u5927\u503c\u8981\u4e48\u6765\u81ea\u4e8e\u62a2\u7b2ci\u4e2a\u623f\u5b50\uff0c\u503c\u4e3af[i-2]+nums[i]\uff0c\u8981\u4e48\u4e0d\u62a2\u7b2ci-1\u4e2a\u623f\u5b50\uff0c\u503c\u4e3af[i-1].</p> <pre><code>class Solution {\n    int f[101];//\u5230\u7b2ci\u4e2a\u623f\u5b50\u7684\u65f6\u5019\u80fd\u83b7\u5f97\u7684\u6700\u5927\u4ef7\u503c\npublic:\n    int rob(vector&lt;int&gt;&amp; nums) {\n        f[0]=nums[0];\n        int k=nums.size();\n        for (int i=1;i&lt;k;i++){\n            if(i==1){\n                f[1]=max(nums[0],nums[1]);\n            }\n            else{\n                f[i]=max(f[i-2]+nums[i],f[i-1]);\n            }\n        }\n        return f[k-1];\n    }\n};\n</code></pre>"},{"location":"article/out/DP/#\u6253\u5bb6\u52ab\u820dii","title":"\u6253\u5bb6\u52ab\u820dII","text":"\u89e3\u6790 <p>\u6211\u7684\u601d\u8def\u5f88\u7b80\u5355\u3002\u65e2\u7136\u5934\u548c\u5c3e\u4e0d\u80fd\u90fd\u9009\uff0c\u90a3\u6211\u5c31\u7b97\u4e24\u79cd\u60c5\u51b5\u4e0b\u7684\u6700\u5927\u503c:\u53bb\u5934\u548c\u53bb\u5c3e\u3002\u5728\u6bcf\u79cd\u60c5\u51b5\u5185\u90e8\uff0c\u662f\u548c\u4e0a\u9762\u90a3\u9053\u9898\u4e00\u6837\u7684\u3002\u6700\u540e\u6bd4\u8f83\u5927\u5c0f\u5373\u53ef\u3002 <pre><code>class Solution {\n    int f1[101];\n    int f2[101];\npublic:\n    int rob(vector&lt;int&gt;&amp; nums) {\n        f1[0]=nums[0];\n        int k=nums.size();\n        if(k&gt;1)\n            f2[0]=nums[1];\n        else\n            return nums[0];\n        for (int i=1;i &lt; k-1;i++){\n            if(i==1){\n                f1[1]=max(nums[0],nums[1]);\n            }\n            else{\n                f1[i]=max(f1[i-2]+nums[i],f1[i-1]);\n                }\n            }\n        for (int i=2;i &lt; k;i++){\n            if(i == 2){\n                f2[1]= max(nums[1],nums[2]);\n            }\n            else{\n                f2[i-1]=max(f2[i-3]+nums[i],f2[i-2]);\n                }\n            }\n        return max(f1[k-2],f2[k-2]);\n    }\n};\n</code></pre></p>"},{"location":"article/out/DP/#\u89e3\u7801\u65b9\u6cd5","title":"\u89e3\u7801\u65b9\u6cd5","text":"General <p>\u5bf9\u4e8e\u7b2ci\u4e2a\u4f4d\u7f6e\uff0c\u9700\u8981\u5224\u65ad\u5b83\u80fd\u5426\u4e0ei-1\u4f4d\u7ec4\u6210\u5408\u6cd5\u5b57\u6bcd\u3002\u5982\u679c\u53ef\u4ee5\u5e76\u4e14\u7b2ci\u4f4d\u4e0d\u662f0\u7684\u8bdd\uff0cf[i]= f[i-1]+f[i-2]\uff0c\u4e0d\u7136,f[i]=f[i-1]</p> <p>\u9700\u8981\u8003\u8651\u7a7a\u5b57\u7b26!!!\u56e0\u4e3a\u8fd9\u4e2a\u5361\u4e86\u597d\u4e45\u3002\u7a7a\u5b57\u7b26\u4e32\u7684\u89e3\u7801\u65b9\u6cd5\u4e3a1\u79cd</p> <pre><code>class Solution {\n    int f[101];\npublic:\n    int numDecodings(string s) {\n    int k = s.length();\n    f[0] = 1;\n        for (int i = 1; i &lt;= k; ++i) {\n            if (s[i - 1] != '0') {\n                f[i] += f[i - 1];\n            }\n            if (i &gt; 1 &amp;&amp; s[i - 2] != '0' &amp;&amp; ((s[i - 2] - '0') * 10 + (s[i - 1] - '0') &lt;= 26)) {\n                f[i] += f[i - 2];\n            }\n        }\n        return f[k];\n    }\n};\n</code></pre>"},{"location":"article/out/DP/#\u5206\u5272\u6570\u7ec4\u4ee5\u5f97\u5230\u6700\u5927\u503c","title":"\u5206\u5272\u6570\u7ec4\u4ee5\u5f97\u5230\u6700\u5927\u503c","text":"General <pre><code>class Solution {\n    int dp[510];\npublic:\n    int maxSumAfterPartitioning(vector&lt;int&gt;&amp; arr, int k) {\n    int maxn,cnt;\n    int n = arr.size();\n    for(int i=0;i&lt;n;i++){\n            maxn = 0;\n            dp[i]=0;\n            cnt=0;\n            for(int j = i;j&gt;=0;j--){\n                maxn = max(arr[j],maxn);\n                cnt++;\n                if(cnt&gt;k)\n                    break;\n                if(j)\n                    dp[i]=max(dp[i],cnt*maxn+dp[j-1]);\n                else\n                    dp[i]=max(dp[i],cnt*maxn);\n            }\n    }\n    return dp[n-1];\n\n    }\n};\n</code></pre>"},{"location":"article/out/ML/","title":"\u673a\u5668\u5b66\u4e60","text":""},{"location":"article/out/ML/#machine-learning","title":"Machine Learning","text":"<p> \u7ea6 3490 \u4e2a\u5b57  597 \u884c\u4ee3\u7801  8 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 25 \u5206\u949f</p> <p>\u53c2\u8003</p> <p>https://www.bilibili.com/video/BV1PN4y1V7d9/</p> <p>\u629b\u53bb\u65e0\u610f\u4e49\u7684\u8bdd\uff0c\u76f4\u63a5\u8fdb\u5165\u6b63\u9898\u3002</p>"},{"location":"article/out/ML/#\u5f15\u5165","title":"\u5f15\u5165","text":"<p>\u5047\u8bbe\u6211\u9700\u8981\u5411\u94f6\u884c\u501f\u94b1\uff0c\u94f6\u884c\u6839\u636e\u6211\u7684\u5e74\u9f84(\\(x_1\\)),\u5de5\u8d44(\\(x_2\\)),\u6765\u51b3\u5b9a\u8d37\u6b3e\u7684\u989d\u5ea6(h)\u3002</p> <p>\u8fd9\u76f8\u5f53\u4e8e\u5728\u4e00\u4e2a\u7a7a\u95f4\u76f4\u89d2\u5750\u6807\u7cfb\u4e2d\uff0c\u62df\u5408\u51fa\u4e00\u4e2a\u6700\u5408\u9002\u7684\u5e73\u9762\u3002</p> <p>\u8bb0\u62df\u5408\u7684\u5e73\u9762\u4e3a\\(h_{\\theta}(x) = \\theta_0 +\\theta_1 x_2+\\theta_2 x_2\\)</p> <p>\u8bb0\\(\\mathbf{x} = \\begin{bmatrix} 1 \\\\ x_1 \\\\ x_2 \\end{bmatrix}\\),\\(\\mathbf{\\theta} = \\begin{bmatrix} \\theta_0 \\\\ \\theta_1 \\\\ \\theta_2 \\end{bmatrix}\\),\u5219\\(h_{\\theta}(x)=\\theta^T x\\)</p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a\u8bef\u5dee\u9879\\(\\epsilon\\),\u56e0\u6b64\u73b0\u5728\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6211\u4eec\u5df2\u77e5\u7684\u6837\u672c\u70b9\uff0c\u5982\u679c\u7528y\u6765\u8868\u793a\u5b9e\u9645\u503c\uff0c\\(y^{(i)}=\\theta^T x^{(i)} + \\epsilon^{(i)}\\) </p> <p>\u5bf9\u4e8e\u8bef\u5dee\\(\\epsilon^{(i)}\\), \u6709\u5982\u4e0b\u6027\u8d28\uff1a</p> <ol> <li> <p>\u72ec\u7acb\uff1a\u5f20\u4e09\u548c\u674e\u56db\u90fd\u6765\u8d37\u6b3e\uff0c\u4ed6\u4eec\u4fe9\u80fd\u501f\u5230\u591a\u5c11\u94b1\u76f8\u4e92\u4e4b\u95f4\u65e0\u5173 -- \u6570\u636e\u4e4b\u95f4\u72ec\u7acb</p> </li> <li> <p>\u540c\u5206\u5e03\uff1a\u4ed6\u4fe9\u90fd\u5f97\u53bb\u540c\u4e00\u5bb6\u94f6\u884c -- \u6570\u636e\u670d\u4ece\u76f8\u540c\u7684\u6982\u7387\u5206\u5e03\uff0c\u5373\u6bcf\u4e2a\u8bef\u5dee\u9879\\(\\epsilon^{(i)}\\)\u90fd\u6765\u81ea\u76f8\u540c\u7684\u5206\u5e03\u3002</p> </li> <li> <p>\u6807\u51c6\u6b63\u6001\u5206\u5e03\uff1a\u8bef\u5dee\u670d\u4ece\u5747\u503c\u4e3a0\u4e14\u65b9\u5dee\u4e3a\\(\\sigma^2\\)\u7684\u6b63\u6001\u5206\u5e03\uff0c\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a    $    x \\sim \\mathcal{N}(0, \\theta^2)    $</p> </li> </ol>"},{"location":"article/out/ML/#\u4f3c\u7136\u51fd\u6570","title":"\u4f3c\u7136\u51fd\u6570","text":"<p>\u5bf9\u4e8e\u4e0a\u9762\u7684\u6848\u4f8b\uff0c\u7531\u4e8e\u8bef\u5dee\u670d\u4ece\u6b63\u6001\u5206\u5e03\uff0c\u5176\u5bc6\u5ea6\u51fd\u6570\u4e3a\\(f(\\epsilon^{(i)})=\\frac{1}{\\sqrt{2 \\pi \\sigma^2}} \\exp\\left(- \\frac{(\\epsilon^{(i)})^2}{2 \\sigma^2}\\right)\\)</p> <p>\u6211\u4eec\u7528\\(y, x\\)\u6765\u8868\u793a\\(\\epsilon\\)\uff0c\u4e8e\u662f\u5f97\u5230\\(f(y^{(i)}|x^{(i)}, \\theta)= \\frac{1}{\\sqrt{2 \\pi \\sigma^2}} \\exp\\left(- \\frac{(y^{(i)} - \\theta^T x^{(i)})^2}{2 \\sigma^2}\\right)\\)</p>"},{"location":"article/out/ML/#\u4f3c\u7136\u51fd\u6570\u5b9a\u4e49","title":"\u4f3c\u7136\u51fd\u6570\u5b9a\u4e49","text":"<p>\u4f3c\u7136\u51fd\u6570\u8868\u793a\u4e3a\u6240\u6709\u89c2\u6d4b\u503c\u7684\u8054\u5408\u6982\u7387\u5bc6\u5ea6\u51fd\u6570</p> \\[L(\\theta) = \\prod_{i=1}^{n} f(y^{(i)}|x^{(i)}, \\theta) = \\prod_{i=1}^{n} \\frac{1}{\\sqrt{2 \\pi \\sigma^2}} \\exp\\left(- \\frac{(y^{(i)} - \\theta^T x^{(i)})^2}{2 \\sigma^2}\\right)\\]"},{"location":"article/out/ML/#\u5bf9\u6570\u4f3c\u7136\u51fd\u6570","title":"\u5bf9\u6570\u4f3c\u7136\u51fd\u6570","text":"<p>\u6709\u65f6\u4e3a\u4e86\u7b80\u5316\u8ba1\u7b97\uff0c\u6211\u4eec\u4f1a\u53d6\u4e00\u4e2a\u5bf9\u6570\u3002</p> \\[\\ell(\\theta) = \\log L(\\theta) = \\sum_{i=1}^{n} \\log \\left( \\frac{1}{\\sqrt{2 \\pi \\sigma^2}} \\exp\\left(- \\frac{(y^{(i)} - \\theta^T x^{(i)})^2}{2 \\sigma^2}\\right) \\right)\\] <p>\u8fdb\u4e00\u6b65\u7b80\u5316\u5bf9\u6570\u4f3c\u7136\u51fd\u6570\uff1a</p> \\[\\ell(\\theta) = n \\log{\\frac{1}{\\sqrt{2 \\pi} \\sigma}} - \\frac{1}{2\\sigma ^2} \\sum_{i=1}^n((y^{(i)} - \\theta^T x^{(i)})^2)\\] <p>\u73b0\u5728\u518d\u56de\u8fc7\u5934\u6765\u601d\u8003\u4e00\u4e0b\uff0c\u6211\u4eec\u7684\u76ee\u7684\u662f\u4ec0\u4e48\u5462\uff1f\u5c31\u662f\u8ba9\u4f3c\u7136\u51fd\u6570\u8d8a\u5927\u8d8a\u597d\u3002\u8003\u8651\u4e0a\u5f0f\u4e2d\u7684\u53d8\u91cf\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8ba9\\(\\frac{1}{2}\\sum_{i=1}^n((y^{(i)} - \\theta^T x^{(i)})^2)\\)\u8d8a\u5c0f\u8d8a\u597d.</p> <p>\u4e0d\u59a8\u8bb0\\(J(\\theta) = \\frac{1}{2}\\sum_{i=1}^n((y^{(i)} - \\theta^T x^{(i)})^2)\\)</p> \\[J(\\theta) = \\frac{1}{2} \\sum_{i=1}^{m} (h_\\theta(x^{(i)}) - y^{(i)})^2 = \\frac{1}{2} (X\\theta - y)^T (X\\theta - y)\\] <p>\u5bf9\\(\\theta\\) \u6c42\u504f\u5bfc\uff1a </p> \\[\\nabla_\\theta J(\\theta) = \\nabla_\\theta \\left( \\frac{1}{2} (X\\theta - y)^T (X\\theta - y) \\right) \\] \\[= \\nabla_\\theta \\left( \\frac{1}{2} (\\theta^T X^T X \\theta - \\theta^T X^T y - y^T X \\theta + y^T y) \\right)\\] \\[= \\frac{1}{2} \\nabla_\\theta \\left( \\theta^T X^T X \\theta - \\theta^T X^T y - y^T X \\theta + y^T y \\right)\\] \\[= X^T X \\theta - X^T y\\] <p>\u8981\u6c42\u6781\u503c\u70b9\uff0c\u56e0\u6b64\u504f\u5bfc\u4e3a0</p> \\[\\therefore \\theta = (X^T X)^{-1} X^T y\\]"},{"location":"article/out/ML/#\u68af\u5ea6\u4e0b\u964d","title":"\u68af\u5ea6\u4e0b\u964d","text":"<p>\u4e0a\u9762\u7684\u4f3c\u7136\u51fd\u6570\u63a8\u5bfc\u542c\u4e0a\u53bb\u5f88\u7f8e\u597d\uff0cX\uff0cY\u90fd\u662f\u5df2\u77e5\u7684\uff0c\u6211\u4eec\u53ea\u9700\u8981 \u4ee3\u8fdb\u53bb\u5c31\u80fd\u5f97\u51fa\\(\\theta\\)\uff0c\u7136\u800c,\\(X^T X\\)\u5e76\u4e0d\u603b\u662f\u53ef\u9006\u7684\uff0c\u8fd9\u5c31\u610f\u5473\u7740 \u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u5f97\u51fa\\(\\theta\\)\u7684\u503c\u3002\u56e0\u6b64\uff0c\u9700\u8981\u5f15\u5165\u68af\u5ea6\u4e0b\u964d\u7684\u6982\u5ff5\u3002</p>"},{"location":"article/out/ML/#\u6982\u5ff5","title":"\u6982\u5ff5","text":"<p>\u673a\u5668\u5b66\u4e60\u7684\u4e3b\u8981\u76ee\u7684\u662f\u901a\u8fc7\u8fed\u4ee3\u5730\u8c03\u6574\u6a21\u578b\u53c2\u6570\uff0c\u4ee5\u6700\u5c0f\u5316\u635f\u5931\u51fd\u6570\u3002\u56e0\u4e3a\u6709\u8bb8\u591a\u76ee\u6807\u51fd\u6570\u662f\u4e0d\u53ef\u89e3\u7684\uff0c\u56e0\u6b64\uff0c\u9700\u8981\u68af\u5ea6\u4e0b\u964d\u7684\u601d\u60f3\u3002</p>"},{"location":"article/out/ML/#\u505a\u6cd5","title":"\u505a\u6cd5","text":"<p>\u68af\u5ea6\u5728\u6570\u5b66\u7684\u5b66\u4e60\u4e2d\u90fd\u5df2\u7ecf\u63a5\u89e6\u8fc7\uff0c\u662f\u4e00\u4e2a\u591a\u5143\u51fd\u6570\u5728\u67d0\u70b9\u5904\u53d8\u5316\u6700\u5feb\u7684\u65b9\u5411\u548c\u901f\u7387\uff0c\u662f\u4e00\u4e2a\u5411\u91cf\uff0c\u4e5f\u662f\u6211\u4eec\u5e38\u8bf4\u7684\u65b9\u5411\u5bfc\u6570\u3002</p> <p>\u5047\u8bbe\u73b0\u5728\u6211\u4eec\u7684\u76ee\u6807\u51fd\u6570\u662f\\(J(\\theta)= \\frac{1}{2m} \\sum^m_{i=1}(y^i - h_{\\theta}(x^i))^2\\)\uff0c\u521d\u59cb\u5148\u968f\u673a\u53d6\\(\\theta\\)\u7684\u503c\uff0c\u4e3a\u4e86\u4e0d\u65ad\u66f4\u65b0\\(\\theta\\)\u6765\u8ba9\u9884\u6d4b\u503c\u548c\u771f\u5b9e\u503c\u66f4\u63a5\u8fd1\uff0c\u6709\u5982\u4e0b\u65b9\u6cd5</p>"},{"location":"article/out/ML/#\u6279\u91cf\u68af\u5ea6\u4e0b\u964d-batch-gradient-descent","title":"\u6279\u91cf\u68af\u5ea6\u4e0b\u964d (Batch Gradient Descent)","text":"<p>\u6279\u91cf\u68af\u5ea6\u4e0b\u964d\u4f7f\u7528\u6574\u4e2a\u8bad\u7ec3\u96c6\u6765\u8ba1\u7b97\u68af\u5ea6\u66f4\u65b0\u3002</p> <p>\u516c\u5f0f\uff1a</p> \\[\\frac{\\partial J(\\theta)}{\\partial \\theta_j} = -\\frac{1}{m} \\sum_{i=1}^{m} (y^i - h_{\\theta}(x^i) )x^i_j\\] \\[\\theta^{\\prime}_j= \\theta_j - \\alpha \\frac{1}{m} \\sum_{i=1}^{m} (h_{\\theta}(x^i) - y^i)x^i_j\\] <p>\u89e3\u91ca\uff1a</p> <ul> <li>\\(\\theta\\)\uff1a\u53c2\u6570\u5411\u91cf</li> <li>\\(\\alpha\\)\uff1a\u5b66\u4e60\u7387</li> <li>\\(m\\)\uff1a\u8bad\u7ec3\u6837\u672c\u7684\u6570\u91cf</li> <li>\\(h_{\\theta}(x^i)\\)\uff1a\u6a21\u578b\u7684\u9884\u6d4b\u503c</li> <li>\\(y^i\\)\uff1a\u67d0\u4e2a\u771f\u5b9e\u503c</li> <li>\\(x^i\\)\uff1a\u67d0\u4e2a\u8f93\u5165\u7279\u5f81\u5411\u91cf</li> <li>\\(x^i_j\\):\u67d0\u4e2a\u8f93\u5165\u5411\u91cf\u4e0e\u53c2\u6570\\(\\theta_j\\)\u76f8\u5339\u914d\u7684</li> </ul>"},{"location":"article/out/ML/#\u968f\u673a\u68af\u5ea6\u4e0b\u964d-stochastic-gradient-descent","title":"\u968f\u673a\u68af\u5ea6\u4e0b\u964d (Stochastic Gradient Descent)","text":"<p>\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u6bcf\u6b21\u53ea\u4f7f\u7528\u4e00\u4e2a\u8bad\u7ec3\u6837\u672c\u6765\u66f4\u65b0\u53c2\u6570\u3002</p> <p>\u516c\u5f0f\uff1a</p> \\[\\theta^{\\prime}_j= \\theta_j - \\alpha (h_{\\theta}(x^i) - y^i)x^i_j\\] <p>\u89e3\u91ca\uff1a</p> <ul> <li>\\(\\theta\\)\uff1a\u53c2\u6570\u5411\u91cf</li> <li>\\(\\alpha\\)\uff1a\u5b66\u4e60\u7387</li> <li>\\(h_{\\theta}(x^i)\\)\uff1a\u6a21\u578b\u7684\u9884\u6d4b\u503c</li> <li>\\(y^i\\)\uff1a\u67d0\u4e2a\u771f\u5b9e\u503c</li> <li>\\(x^i\\)\uff1a\u67d0\u4e2a\u8f93\u5165\u7279\u5f81\u5411\u91cf</li> <li>\\(x^i_j\\):\u67d0\u4e2a\u8f93\u5165\u5411\u91cf\u4e0e\u53c2\u6570\\(\\theta_j\\)\u76f8\u5339\u914d\u7684</li> </ul>"},{"location":"article/out/ML/#\u5c0f\u6279\u91cf\u68af\u5ea6\u4e0b\u964d-mini-batch-gradient-descent","title":"\u5c0f\u6279\u91cf\u68af\u5ea6\u4e0b\u964d (Mini-batch Gradient Descent)","text":"<p>\u5c0f\u6279\u91cf\u68af\u5ea6\u4e0b\u964d\u4f7f\u7528\u4e00\u5c0f\u90e8\u5206\u8bad\u7ec3\u6837\u672c\uff08\u79f0\u4e3a\u5c0f\u6279\u91cf\uff09\u6765\u8ba1\u7b97\u68af\u5ea6\u66f4\u65b0\u3002</p> <p>\u516c\u5f0f\uff1a</p> \\[\\theta^{\\prime}_j= \\theta_j - \\alpha \\frac{1}{b} \\sum_{i=1}^{b} (h_{\\theta}(x^i) - y^i)x^i_j\\] <p>\u89e3\u91ca\uff1a</p> <ul> <li>\\(\\theta\\)\uff1a\u53c2\u6570\u5411\u91cf</li> <li>\\(\\alpha\\)\uff1a\u5b66\u4e60\u7387</li> <li>\\(b\\)\uff1a\u5c0f\u6279\u91cf\u7684\u6837\u672c\u6570\u91cf</li> <li>\\(h_{\\theta}(x^i)\\)\uff1a\u6a21\u578b\u7684\u9884\u6d4b\u503c</li> <li>\\(y^i\\)\uff1a\u67d0\u4e2a\u771f\u5b9e\u503c</li> <li>\\(x^i\\)\uff1a\u67d0\u4e2a\u8f93\u5165\u7279\u5f81\u5411\u91cf</li> <li>\\(x^i_j\\):\u67d0\u4e2a\u8f93\u5165\u5411\u91cf\u4e0e\u53c2\u6570\\(\\theta_j\\)\u76f8\u5339\u914d\u7684</li> </ul> <p>\u9700\u8981\u8bf4\u660e\u4e00\u4e0b\u7684\u662f\uff0c\u5b66\u4e60\u7387\u76f8\u5f53\u4e8e\u662f\u6bcf\u6b21\u53c2\u6570\u66f4\u65b0\u7684\u6b65\u957f\u5927\u5c0f\uff0c\u56e0\u4e3a\u6211\u4eec\u7b97\u51fa\u6765\u7684\u68af\u5ea6\u53ea\u662f\u5728\u67d0\u4e00\u70b9\u7684\u65b9\u5411\u5bfc\u6570\uff0c\u5e76\u4e0d\u80fd\u4ee3\u8868\u5168\u90e8\uff0c\u6240\u4ee5\u66f4\u65b0\u7684\u5b66\u4e60\u7387\u9700\u8981\u4ed4\u7ec6\u8003\u8651\u3002</p>"},{"location":"article/out/ML/#\u7ebf\u6027\u56de\u5f52\u6a21\u578b\u5b9e\u6218","title":"\u7ebf\u6027\u56de\u5f52\u6a21\u578b\u5b9e\u6218","text":""},{"location":"article/out/ML/#normalize","title":"Normalize","text":"<p>Normalize\u5c31\u662f\u5c06\u6570\u636e\u8fdb\u884c\u50cf\u6b63\u6001\u5206\u5e03\u4e00\u6837\u7684\u5904\u7406\u3002</p> <p>\u6807\u51c6\u5316\u7684\u6570\u5b66\u516c\u5f0f\u5982\u4e0b\uff1a</p> \\[ z = \\frac{x - \\mu}{\\sigma} \\] <p>\u5176\u4e2d\uff1a</p> <ul> <li> <p>\\(x\\) \u4e3a\u539f\u59cb\u6570\u636e\uff0c</p> </li> <li> <p>\\(\\mu\\) \u4e3a\u6570\u636e\u7684\u5747\u503c\uff0c</p> </li> <li> <p>\\(\\sigma\\) \u4e3a\u6570\u636e\u7684\u6807\u51c6\u5dee\u3002</p> </li> </ul> <p>\u6807\u51c6\u5316\u901a\u8fc7\u51cf\u53bb\u5747\u503c\u5e76\u9664\u4ee5\u6807\u51c6\u5dee\uff0c\u5c06\u6570\u636e\u8f6c\u6362\u4e3a\u5747\u503c\u4e3a0\uff0c\u6807\u51c6\u5dee\u4e3a1\u7684\u6b63\u6001\u5206\u5e03\u3002</p> Normalize<pre><code>import numpy as np\n\n\ndef normalize(features):\n\n    features_normalized = np.copy(features).astype(float)\n\n    # \u8ba1\u7b97\u5747\u503c\n    features_mean = np.mean(features, 0)\n\n    # \u8ba1\u7b97\u6807\u51c6\u5dee\n    features_deviation = np.std(features, 0)\n\n    # \u6807\u51c6\u5316\u64cd\u4f5c\n    if features.shape[0] &gt; 1:\n        features_normalized -= features_mean\n\n    # \u9632\u6b62\u9664\u4ee50\n    features_deviation[features_deviation == 0] = 1\n    features_normalized /= features_deviation\n\n    return features_normalized, features_mean, features_deviation\n</code></pre>"},{"location":"article/out/ML/#sinusoids","title":"Sinusoids","text":"<p>\u751f\u6210\u6b63\u5f26\u6ce2\u7279\u5f81</p> sinusoids<pre><code>import numpy as np\n\n\ndef generate_sinusoids(dataset, sinusoid_degree):\n    \"\"\"\n    \u751f\u6210\u6b63\u5f26\u6ce2\u7279\u5f81\u3002\n    \"\"\"\n    # \u83b7\u53d6\u6570\u636e\u96c6\u4e2d\u7684\u6837\u672c\u6570\u91cf\n    num_examples = dataset.shape[0]\n    # \u521d\u59cb\u5316\u4e00\u4e2a\u7a7a\u6570\u7ec4\uff0c\u7528\u4e8e\u5b58\u50a8\u751f\u6210\u7684\u6b63\u5f26\u7279\u5f81\n    sinusoids = np.empty((num_examples, 0))\n\n    # \u751f\u6210\u6307\u5b9a\u6b21\u6570\u7684\u6b63\u5f26\u7279\u5f81\n    for degree in range(1, sinusoid_degree + 1):\n        # \u8ba1\u7b97\u6b63\u5f26\u503c\n        sinusoid_features = np.sin(degree * dataset)\n        # \u5c06\u65b0\u751f\u6210\u7684\u6b63\u5f26\u7279\u5f81\u8fde\u63a5\u5230 sinusoids \u6570\u7ec4\u7684\u5217\u65b9\u5411\u4e0a\n        sinusoids = np.concatenate((sinusoids, sinusoid_features), axis=1)\n\n    # \u8fd4\u56de\u751f\u6210\u7684\u6b63\u5f26\u7279\u5f81\u6570\u7ec4\n    return sinusoids\n</code></pre>"},{"location":"article/out/ML/#polynomial","title":"Polynomial","text":"<p>\u5904\u7406\u591a\u9879\u5f0f\u7279\u5f81\u3002</p> Polynomials<pre><code>\"\"\"Add polynomial features to the features set\"\"\"\n\nimport numpy as np\nfrom .normalize import normalize\n\n\ndef generate_polynomials(dataset, polynomial_degree, normalize_data=False):\n    \"\"\"\u53d8\u6362\u65b9\u6cd5\uff1a\n    x1, x2, x1^2, x2^2, x1*x2, x1*x2^2, etc.\n    \"\"\"\n\n    # \u5c06\u6570\u636e\u96c6\u6309\u5217\u5206\u5272\u6210\u4e24\u4e2a\u5b50\u96c6\n    features_split = np.array_split(dataset, 2, axis=1)\n    dataset_1 = features_split[0]\n    dataset_2 = features_split[1]\n\n    # \u83b7\u53d6\u6bcf\u4e2a\u5b50\u96c6\u7684\u6837\u672c\u6570\u91cf\u548c\u7279\u5f81\u6570\u91cf\n    (num_examples_1, num_features_1) = dataset_1.shape\n    (num_examples_2, num_features_2) = dataset_2.shape\n\n    # \u68c0\u67e5\u4e24\u4e2a\u5b50\u96c6\u7684\u6837\u672c\u6570\u91cf\u662f\u5426\u76f8\u540c\n    if num_examples_1 != num_examples_2:\n        raise ValueError('Can not generate polynomials for two sets with different number of rows')\n    # \u68c0\u67e5\u4e24\u4e2a\u5b50\u96c6\u662f\u5426\u90fd\u6709\u7279\u5f81\u5217\n    if num_features_1 == 0 and num_features_2 == 0:\n        raise ValueError('Can not generate polynomials for two sets with no columns')\n\n    # \u5982\u679c\u7b2c\u4e00\u4e2a\u5b50\u96c6\u6ca1\u6709\u7279\u5f81\u5217\uff0c\u4f7f\u7528\u7b2c\u4e8c\u4e2a\u5b50\u96c6\uff1b\u53cd\u4e4b\u4ea6\u7136\n    if num_features_1 == 0:\n        dataset_1 = dataset_2\n    elif num_features_2 == 0:\n        dataset_2 = dataset_1\n\n    #\u91cd\u65b0\u66f4\u65b0,\u83b7\u53d6\u6700\u65b0\u7684\u6837\u672c\u6570\u91cf\u548c\u7279\u5f81\u6570\u91cf\n    (num_examples_1, num_features_1) = dataset_1.shape\n    (num_examples_2, num_features_2) = dataset_2.shape\n\n\n    # \u786e\u5b9a\u8981\u4f7f\u7528\u7684\u7279\u5f81\u6570\u91cf\uff0c\u9009\u62e9\u8f83\u5c0f\u7684\u7279\u5f81\u6570\n    num_features = num_features_1 if num_features_1 &lt; num_features_2 else num_features_2\n    dataset_1 = dataset_1[:, :num_features]\n    dataset_2 = dataset_2[:, :num_features]\n\n    # \u521d\u59cb\u5316\u4e00\u4e2a\u7a7a\u6570\u7ec4\uff0c\u7528\u4e8e\u5b58\u50a8\u751f\u6210\u7684\u591a\u9879\u5f0f\u7279\u5f81\n    polynomials = np.empty((num_examples_1, 0))\n\n    # \u751f\u6210\u591a\u9879\u5f0f\u7279\u5f81\n    for i in range(1, polynomial_degree + 1):\n        for j in range(i + 1):\n            # \u8ba1\u7b97\u6bcf\u4e2a\u591a\u9879\u5f0f\u7279\u5f81\n            polynomial_feature = (dataset_1 ** (i - j)) * (dataset_2 ** j)\n            # \u5c06\u65b0\u7279\u5f81\u6309\u5217\u65b9\u5411\u8fde\u63a5\u5230 polynomials \u6570\u7ec4\u4e2d\n            polynomials = np.concatenate((polynomials, polynomial_feature), axis=1)\n\n    # \u5982\u679c\u9700\u8981\uff0c\u8fdb\u884c\u6807\u51c6\u5316\u5904\u7406\n    if normalize_data:\n        polynomials = normalize(polynomials)[0]\n\n    # \u8fd4\u56de\u751f\u6210\u7684\u591a\u9879\u5f0f\u7279\u5f81\u6570\u7ec4\n    return polynomials\n</code></pre>"},{"location":"article/out/ML/#\u6570\u636e\u9884\u5904\u7406\u6a21\u5757","title":"\u6570\u636e\u9884\u5904\u7406\u6a21\u5757","text":"<p>\u4f7f\u7528\u4e0a\u9762\u5199\u7684\u6a21\u5757\u5bf9\u6570\u636e\u8fdb\u884c\u9884\u5904\u7406\u3002</p> Prepare for training<pre><code>\"\"\"Prepares the dataset for training\"\"\"\n\nimport numpy as np\nfrom .normalize import normalize\nfrom .generate_sinusoids import generate_sinusoids\nfrom .generate_polynomials import generate_polynomials\n\n\ndef prepare_for_training(data, polynomial_degree=0, sinusoid_degree=0, normalize_data=True):\n\n    # \u8ba1\u7b97\u6837\u672c\u603b\u6570\n    num_examples = data.shape[0]\n\n    data_processed = np.copy(data)\n\n    # \u9884\u5904\u7406\n    features_mean = 0\n    features_deviation = 0\n    data_normalized = data_processed\n    if normalize_data:\n        (\n            data_normalized,\n            features_mean,\n            features_deviation\n        ) = normalize(data_processed)\n\n        data_processed = data_normalized\n\n    # \u7279\u5f81\u53d8\u6362sinusoidal\n    if sinusoid_degree &gt; 0:\n        sinusoids = generate_sinusoids(data_normalized, sinusoid_degree)\n        data_processed = np.concatenate((data_processed, sinusoids), axis=1)\n\n    # \u7279\u5f81\u53d8\u6362polynomial\n    if polynomial_degree &gt; 0:\n        polynomials = generate_polynomials(data_normalized, polynomial_degree, normalize_data)\n        data_processed = np.concatenate((data_processed, polynomials), axis=1)\n\n    # \u52a0\u4e00\u52171\uff0c\u4e3a\u4e86\u8ba1\u7b97\u5e38\u6570\u9879($$\\theta_0$$)\n    data_processed = np.hstack((np.ones((num_examples, 1)), data_processed))\n\n    return data_processed, features_mean, features_deviation\n</code></pre>"},{"location":"article/out/ML/#\u7c7blinearregression-\u7528\u4e8e\u7ebf\u6027\u6a21\u578b\u7684\u673a\u5668\u5b66\u4e60","title":"\u7c7b\uff1aLinearRegression \u7528\u4e8e\u7ebf\u6027\u6a21\u578b\u7684\u673a\u5668\u5b66\u4e60","text":""},{"location":"article/out/ML/#init\u521d\u59cb\u5316","title":"init\u521d\u59cb\u5316","text":"<pre><code>import numpy as np\n\nfrom linearstudy.utils.features import prepare_for_training\n\nclass LinearRegression:\n    def __init__(self, data, labels, polynomial_degree=0, sinusoid_degree=0, normalize_data=True):\n        # \u51c6\u5907\u8bad\u7ec3\u6570\u636e\uff0c\u5305\u62ec\u591a\u9879\u5f0f\u7279\u5f81\u3001\u6b63\u5f26\u7279\u5f81\u548c\u6570\u636e\u5f52\u4e00\u5316\n        (data_processed, features_mean, features_deviation) = prepare_for_training(data, polynomial_degree, sinusoid_degree, normalize_data)\n\n        self.data = data_processed  # \u5904\u7406\u540e\u7684\u6570\u636e\n        self.labels = labels  # \u6807\u7b7e,\u5373\u771f\u5b9e\u503c\n        self.features_mean = features_mean  # \u7279\u5f81\u5747\u503c\n        self.features_deviation = features_deviation  # \u7279\u5f81\u6807\u51c6\u5dee\n        self.polynomial_degree = polynomial_degree  # \u591a\u9879\u5f0f\u7279\u5f81\u7684\u5ea6\u6570\n        self.sinusoid_degree = sinusoid_degree  # \u6b63\u5f26\u7279\u5f81\u7684\u5ea6\u6570\n        self.normalize_data = normalize_data  # \u662f\u5426\u5f52\u4e00\u5316\u6570\u636e\n\n        number = self.data.shape[1]  # \u7279\u5f81\u6570\u91cf\n\n        self.theta = np.zeros((number, 1))  # \u521d\u59cb\u5316\u53c2\u6570\u4e3a\u96f6\u5411\u91cf\n</code></pre>"},{"location":"article/out/ML/#\u9884\u6d4b\u51fd\u6570hypothesis","title":"\u9884\u6d4b\u51fd\u6570(Hypothesis)","text":"<p>hypothesis\u51fd\u6570\u4e3b\u8981\u662f\u6839\u636e\u5b9e\u9645\u7684x\u503c\u4e0e\u53c2\u6570\\(\\theta\\)y\u503c</p> <pre><code># \u8ba1\u7b97\u9884\u6d4b\u503c\n    def hypothesis(data, theta):\n        predictions = np.dot(data, theta)  # \u7ebf\u6027\u56de\u5f52\u7684\u9884\u6d4b\u503c\n        return predictions\n</code></pre>"},{"location":"article/out/ML/#\u4f7f\u7528\u5168\u90e8\u6837\u672c\u6570\u636e\u66f4\u65b0thetacompute_gradient","title":"\u4f7f\u7528\u5168\u90e8\u6837\u672c\u6570\u636e\u66f4\u65b0\\(\\theta\\)(Compute_gradient)","text":"<p>\u6570\u5b66\u516c\u5f0f\u5982\u4e0b(\u6b63\u5982\u6211\u4eec\u5728\u8fd9\u91cc\u63d0\u5230\u7684)\uff1a</p> \\[ \\theta = \\theta - \\alpha \\cdot \\frac{1}{m} \\cdot X^T (X\\theta - y) \\] <p>\u5176\u4e2d\uff1a</p> <ul> <li> <p>\\(\\theta\\) \u4e3a\u53c2\u6570\u5411\u91cf\uff0c</p> </li> <li> <p>\\(\\alpha\\) \u4e3a\u5b66\u4e60\u7387\uff0c</p> </li> <li> <p>\\(m\\) \u4e3a\u6837\u672c\u6570\u91cf\uff0c</p> </li> <li> <p>\\(X\\) \u4e3a\u6570\u636e\u77e9\u9635\uff0c</p> </li> <li> <p>\\(y\\) \u4e3a\u6807\u7b7e\u5411\u91cf\u3002</p> </li> </ul> <p>\u5728\u4ee3\u7801\u4e2d\uff0c<code>compute_gradient</code> \u51fd\u6570\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u5b9e\u73b0\u68af\u5ea6\u4e0b\u964d\uff1a</p> <ol> <li> <p>\u8ba1\u7b97\u9884\u6d4b\u503c\uff1a     <pre><code>predictions = LinearRegression.hypothesis(self.data, self.theta)\n</code></pre>     \u4f7f\u7528\u5f53\u524d\u53c2\u6570 \\(\\theta\\) \u8ba1\u7b97\u9884\u6d4b\u503c\u3002</p> </li> <li> <p>\u8ba1\u7b97\u9884\u6d4b\u8bef\u5dee\uff1a     <pre><code>delta = predictions - self.labels\n</code></pre>     \u9884\u6d4b\u503c\u4e0e\u5b9e\u9645\u6807\u7b7e\u4e4b\u95f4\u7684\u5dee\u5f02\u3002</p> </li> <li> <p>\u66f4\u65b0\u53c2\u6570\uff1a     <pre><code>theta = theta - alpha * (1.0 / num_examples) * np.dot(delta.T, self.data).T\nself.theta = theta\n</code></pre>     \u6839\u636e\u68af\u5ea6\u4e0b\u964d\u516c\u5f0f\u66f4\u65b0\u53c2\u6570 \\(\\theta\\)\u3002</p> </li> </ol> \u6c47\u603b<pre><code># \u68af\u5ea6\u4e0b\u964d\u7684\u8ba1\u7b97\uff0c\u4f7f\u7528\u77e9\u9635\u4e00\u6b21\u6027\u4f7f\u7528\u6240\u6709\u6837\u672c\u7684\u6570\u636e\ndef compute_gradient(self, alpha):\n    num_examples = self.data.shape[0]  # \u6837\u672c\u6570\u91cf\n    predictions = LinearRegression.hypothesis(self.data, self.theta)  # \u9884\u6d4b\u503c\n    delta = predictions - self.labels  # \u9884\u6d4b\u8bef\u5dee\n    theta = self.theta\n    theta = theta - alpha * (1.0 / num_examples) * np.dot(delta.T, self.data).T  # \u66f4\u65b0\u53c2\u6570\n     self.theta = theta\n</code></pre>"},{"location":"article/out/ML/#\u635f\u5931\u51fd\u6570\u7684\u8ba1\u7b97compute_cost","title":"\u635f\u5931\u51fd\u6570\u7684\u8ba1\u7b97(Compute_cost)","text":"<p>\u901a\u8fc7\u8ba1\u7b97\u635f\u5931\u51fd\u6570\u5e76\u7ed8\u56fe\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u53ef\u89c6\u5316\u8bad\u7ec3\u7684\u8fc7\u7a0b</p> <pre><code>def compute_cost(self, data, labels):\n    num_examples = data.shape[0]  # \u6837\u672c\u6570\u91cf\n    predictions = LinearRegression.hypothesis(data, self.theta)  # \u9884\u6d4b\u503c\n    cost = (1.0 / (2 * num_examples)) * np.sum(np.square(predictions - labels))  # \u5747\u65b9\u8bef\u5dee\n    return cost\n</code></pre>"},{"location":"article/out/ML/#\u4f7f\u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\u5e76\u8bb0\u5f55\u635f\u5931\u503cgradient_descent","title":"\u4f7f\u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\u5e76\u8bb0\u5f55\u635f\u5931\u503c(Gradient_descent)","text":"<pre><code>def gradient_descent(self, alpha, iterations):\n    # \u68af\u5ea6\u4e0b\u964d\u6cd5\n    loss = []\n    for _ in range(iterations):\n        self.compute_gradient(alpha)  # \u8ba1\u7b97\u68af\u5ea6\u5e76\u66f4\u65b0\u53c2\u6570\n        loss.append(self.compute_cost(self.data, self.labels))  # \u8bb0\u5f55\u635f\u5931\u503c\n    return loss\n</code></pre>"},{"location":"article/out/ML/#train","title":"Train","text":"<pre><code> def train(self, alpha, iterations=500):\n    # \u8bad\u7ec3\u6a21\u578b\uff0c\u4f7f\u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\n    cost_history = self.gradient_descent(alpha, iterations)\n    return cost_history, self.theta\n</code></pre>"},{"location":"article/out/ML/#get_cost","title":"Get_cost","text":"<pre><code>def get_cost(self, data, labels):\n    # \u83b7\u53d6\u7ed9\u5b9a\u6570\u636e\u7684\u635f\u5931\u503c\n    data_processed, _, _ = prepare_for_training(data, self.polynomial_degree, self.sinusoid_degree, self.normalize_data)\n    return self.compute_cost(data_processed, labels)\n</code></pre>"},{"location":"article/out/ML/#predict","title":"Predict","text":"<pre><code>def predict(self, data):\n    # \u9884\u6d4b\u7ed9\u5b9a\u6570\u636e\u7684\u7ed3\u679c\n    data_processed, _, _ = prepare_for_training(data, self.polynomial_degree, self.sinusoid_degree, self.normalize_data)\n    return LinearRegression.hypothesis(data_processed, self.theta)\n</code></pre>"},{"location":"article/out/ML/#\u4f7f\u7528\u5b9e\u9645\u6570\u636e\u96c6\u5b9e\u6218","title":"\u4f7f\u7528\u5b9e\u9645\u6570\u636e\u96c6\u5b9e\u6218","text":""},{"location":"article/out/ML/#\u5b9e\u6218\u4e00\u53ea\u5bf9\u4e00\u4e2a\u81ea\u53d8\u91cf\u8fdb\u884c\u9884\u6d4beconomygdppercapita","title":"\u5b9e\u6218\u4e00\uff1a\u53ea\u5bf9\u4e00\u4e2a\u81ea\u53d8\u91cf\u8fdb\u884c\u9884\u6d4b(Economy..GDP.per.Capita.)","text":"<pre><code>import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\nfrom linear import LinearRegression\n\ndata =pd.read_csv('linearstudy/data/world-happiness-report-2017.csv')\n\ntrain_data =  data.sample(frac=0.8, random_state=200)\n# \u5f97\u5230\u6d4b\u8bd5\u6570\u636e\uff0cdrop\u65b9\u6cd5\u662f\u5220\u9664\u6307\u5b9a\u884c\u7684\u6570\u636e\uff0c\u8fd9\u91cc\u662f\u5220\u9664\u8bad\u7ec3\u6570\u636e\uff0c\u5f97\u5230\u6d4b\u8bd5\u6570\u636e\ntest_data = data.drop(train_data.index)\n\nx_train = train_data[['Economy..GDP.per.Capita.']].values\n\n\ny_train = train_data[['Happiness.Score']].values\n\nx_test = test_data[['Economy..GDP.per.Capita.']].values\n\ny_test = test_data[['Happiness.Score']].values\n\nnum_iterations = 500\n\nalpha = 0.01\n\nlinear_regression = LinearRegression(x_train, y_train, polynomial_degree=1, normalize_data=True)\n\n(cost,theta) = linear_regression.train(alpha, num_iterations)\n\nprint(f\"\u5f00\u59cb\u65f6\u7684\u635f\u5931\u503c\uff1a{cost[0]}\")\n\nprint(f\"\u7ed3\u675f\u65f6\u7684\u635f\u5931\u503c\uff1a{cost[-1]}\")\n\nplt.plot(range(num_iterations), cost, color='blue')\n\nplt.xlabel('iterations')\n\nplt.ylabel('cost')\n\nplt.title('cost vs. iterations')\n\nplt.show()\n\npredictions_nums = 100\n\nx_predictions = np.linspace(x_test.min(), x_test.max(), predictions_nums).reshape(-1, 1)\n\ny_predictions = linear_regression.predict(x_predictions)\n\nplt.scatter(x_test, y_test, color='blue')\n\nplt.scatter(x_train, y_train, color='red')\n\nplt.plot(x_predictions, y_predictions, color='green')\n\nplt.xlabel('Economy..GDP.per.Capita.')\n\nplt.ylabel('Happiness.Score')\n\nplt.title('Economy..GDP.per.Capita. vs. Happiness.Score')\n\nplt.show()\n</code></pre> <p>Loss</p> <p></p> <p>\u4ece\u4e00\u5f00\u59cb14.766786065652582\u5230\u6700\u540e0.2202886718845709</p>"},{"location":"article/out/ML/#\u5b9e\u6218\u4e8c\u5bf9\u4e24\u4e2a\u81ea\u53d8\u91cf\u540c\u65f6\u8fdb\u884c\u9884\u6d4b","title":"\u5b9e\u6218\u4e8c\uff1a\u5bf9\u4e24\u4e2a\u81ea\u53d8\u91cf\u540c\u65f6\u8fdb\u884c\u9884\u6d4b","text":"<p>\u5176\u5b9e\u5728\u6211\u4eec\u4e00\u5f00\u59cb\u5199\u7684\u6587\u4ef6\u4e2d\u5c31\u5df2\u7ecf\u5904\u7406\u4e86\u591a\u4e2a\u81ea\u53d8\u91cf\u7684\u60c5\u51b5\u3002 \u6bd4\u5982\u5728init\u4e2d\uff0c</p> <p>number = self.data.shape[1]  # \u7279\u5f81\u6570\u91cf</p> <p>self.theta = np.zeros((number, 1))  # \u521d\u59cb\u5316\u53c2\u6570\u4e3a\u96f6\u5411\u91cf&gt;</p> <p>\u56e0\u6b64\u6211\u4eec\u53ea\u8981\u591a\u53d6\u4e00\u5217\u6570\u636e\u5373\u53ef</p> <pre><code>import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom linear import LinearRegression\ndata =pd.read_csv('linearstudy/data/world-happiness-report-2017.csv')\n\ntrain_data =  data.sample(frac=0.8, random_state=200)\n# \u5f97\u5230\u6d4b\u8bd5\u6570\u636e\uff0cdrop\u65b9\u6cd5\u662f\u5220\u9664\u6307\u5b9a\u884c\u7684\u6570\u636e\uff0c\u8fd9\u91cc\u662f\u5220\u9664\u8bad\u7ec3\u6570\u636e\uff0c\u5f97\u5230\u6d4b\u8bd5\u6570\u636e\ntest_data = data.drop(train_data.index)\n\nx_train = train_data[['Economy..GDP.per.Capita.','Freedom']].values\n\ny_train = train_data['Happiness.Score'].values\n\nx_test = test_data[['Economy..GDP.per.Capita.','Freedom']].values\n\ny_test = test_data['Happiness.Score'].values\n\n\nnum_iterations = 500\n\nalpha = 0.01\n\nlinear_regression = LinearRegression(x_train, y_train, polynomial_degree=1, normalize_data=True)\n\n(cost,theta) = linear_regression.train(alpha, num_iterations)\n\nprint(f\"\u5f00\u59cb\u65f6\u7684\u635f\u5931\u503c\uff1a{cost[0]}\")\n\nprint(f\"\u7ed3\u675f\u65f6\u7684\u635f\u5931\u503c\uff1a{cost[-1]}\")\n\nplt.plot(range(num_iterations), cost, color='blue')\n\nplt.xlabel('iterations')\n\nplt.ylabel('cost')\n\nplt.title('cost vs. iterations')\n\nplt.show()\n</code></pre> <p>Loss</p> <p></p> <p>\u4ece\u4e00\u5f00\u59cb\u76841830.5394689767786\u5230\u6700\u540e0.08063123386406645</p> <p>\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u7528\u4e24\u4e2a\u81ea\u53d8\u91cf\u662f\u6bd4\u4e00\u4e2a\u81ea\u53d8\u91cf\u8bad\u7ec3\u6548\u679c\u597d\u7684</p>"},{"location":"article/out/ML/#\u975e\u7ebf\u6027\u56de\u5f52","title":"\u975e\u7ebf\u6027\u56de\u5f52","text":"<p>\u5728\u4e0a\u9762\u7684\u8054\u7cfb\u4e2d\uff0c\u6211\u4eec\u5728\u8bad\u7ec3\\(\\theta\\)\u65f6\u90fd\u662f\u9ed8\u8ba4x\u7684\u6b21\u6570\u662f\u4e00\u6b21\uff0c\u4e5f\u5c31\u662f\u56e0\u53d8\u91cf\u4e0e\u81ea\u53d8\u91cf\u7684\u5173\u7cfb\u662f\u7ebf\u6027\u7684\u3002\u4e0b\u9762\u662f\u5f53\u6211\u4eec\u5047\u8bbe\u56e0\u53d8\u91cf\u548c\u81ea\u53d8\u91cf\u5173\u7cfb\u662f\u975e\u7ebf\u6027\u7684\u60c5\u51b5\u3002</p>"},{"location":"article/out/ML/#\u8bfb\u53d6\u6570\u636e","title":"\u8bfb\u53d6\u6570\u636e","text":"<pre><code>import numpy as np\n\nimport pandas as pd\n\nimport matplotlib.pyplot as plt\n\nfrom linear import LinearRegression\n\ndata = pd.read_csv('linearstudy/data/non-linear-regression-x-y.csv')\n\nx=data['x'].values.reshape(data.shape[0],1)\n\ny=data['y'].values.reshape(data.shape[0],1)\n\nplt.plot(x, y,'r')\n\nplt.xlabel('x')\n\nplt.ylabel('y')\n\nplt.title('The scatter of x and y')\n\nplt.show()\n</code></pre> <p>\u6570\u636e\u56fe</p> <p></p>"},{"location":"article/out/ML/#\u505a\u975e\u7ebf\u6027\u5904\u7406","title":"\u505a\u975e\u7ebf\u6027\u5904\u7406","text":"<pre><code>iterations = 50000\n\nalpha = 0.01\n\npolynomial_degree = 15\n\nnormalize_data = True\n\nsinusoid_degree = 15\n\nlinear_regression = LinearRegression(x, y, polynomial_degree, sinusoid_degree,normalize_data )\n</code></pre> <p>\u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff1a</p> <ul> <li> <p>\u591a\u9879\u5f0f\u6b21\u6570 (polynomial_degree = 15)\uff1a\u5c06\u539f\u59cb\u7279\u5f81\u6269\u5c55\u4e3a15\u6b21\u591a\u9879\u5f0f\uff0c\u6709\u52a9\u4e8e\u6355\u6349\u6570\u636e\u4e2d\u7684\u9ad8\u6b21\u975e\u7ebf\u6027\u5173\u7cfb.</p> </li> <li> <p>\u6b63\u5f26\u6ce2\u6b21\u6570 (sinusoid_degree = 15)\uff1a\u5f15\u516515\u4e2a\u4e0d\u540c\u9891\u7387\u7684\u6b63\u5f26\u51fd\u6570\uff0c\u589e\u5f3a\u6a21\u578b\u5bf9\u5468\u671f\u6027\u6a21\u5f0f\u7684\u8bc6\u522b\u80fd\u529b\u3002</p> </li> </ul>"},{"location":"article/out/ML/#\u8bad\u7ec3","title":"\u8bad\u7ec3","text":"<pre><code>(cost_history,theta) = linear_regression.train(alpha, iterations)\n\nprint(f'\u5f00\u59cb\u635f\u5931\u503c: {cost_history[0]}')\n\nprint(f'\u7ed3\u675f\u635f\u5931\u503c: {cost_history[-1]}')\n\nplt.plot(range(iterations), cost_history, 'b')\n\nplt.xlabel('iterations')\n\nplt.ylabel('cost')\n\nplt.title('The cost of iterations')\n\nplt.show()\n\npredicton_nums = 1000\n\nx_pred = np.linspace(x.min(), x.max(), predicton_nums).reshape(predicton_nums, 1)\n\ny_pred = linear_regression.predict(x_pred)\n\nplt.scatter(x, y, c='r')\n\nplt.plot(x_pred, y_pred, 'b')\n\nplt.xlabel('x')\n\nplt.ylabel('y')\n\nplt.title('The scatter of x and y')\n\nplt.show()\n</code></pre> <p>\u7ed3\u679c</p> Loss\u56fe\u62df\u5408\u56fe <p></p> <p>\u635f\u5931\u4ece\u4e00\u5f00\u59cb\u76842322.5164294103674\u964d\u5230\u6700\u540e35.110714989706445</p> <p></p>"},{"location":"article/out/ML/#\u6a21\u578b\u8bc4\u4f30","title":"\u6a21\u578b\u8bc4\u4f30","text":""},{"location":"article/out/ML/#sklearn","title":"Sklearn","text":"<p>Sklearn\u5e93\u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684\u673a\u5668\u5b66\u4e60\u5e93\uff0c\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u7b97\u6cd5\u548c\u5de5\u5177\u7528\u4e8e\u6570\u636e\u9884\u5904\u7406\u3001\u7279\u5f81\u9009\u62e9\u3001\u6a21\u578b\u8bad\u7ec3\u548c\u8bc4\u4f30\u3002</p>"},{"location":"article/out/ML/#\u5b89\u88c5","title":"\u5b89\u88c5","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u901a\u8fc7pip\u5b89\u88c5scikit-learn\uff1a</p> <pre><code>pip install scikit-learn\n</code></pre> <p>\u6216\u8005\u5728\u865a\u62df\u73af\u5883\u4e2d</p> <pre><code>conda install scikit-learn\n</code></pre>"},{"location":"article/out/ML/#\u5e38\u7528\u6a21\u5757","title":"\u5e38\u7528\u6a21\u5757","text":"<ul> <li> <p>linear_model: \u7ebf\u6027\u56de\u5f52\u3001\u903b\u8f91\u56de\u5f52\u7b49\u6a21\u578b</p> </li> <li> <p>tree: \u51b3\u7b56\u6811</p> </li> <li> <p>ensemble: \u96c6\u6210\u65b9\u6cd5\uff0c\u5982\u968f\u673a\u68ee\u6797\u3001\u68af\u5ea6\u63d0\u5347</p> </li> <li> <p>preprocessing: \u6570\u636e\u9884\u5904\u7406\u5de5\u5177</p> </li> <li> <p>model_selection: \u6a21\u578b\u9009\u62e9\u4e0e\u9a8c\u8bc1</p> </li> </ul>"},{"location":"article/out/ML/#\u793a\u4f8b\u7ebf\u6027\u56de\u5f52","title":"\u793a\u4f8b\uff1a\u7ebf\u6027\u56de\u5f52","text":"<pre><code>from sklearn.linear_model import LinearRegression\nimport numpy as np\n\n# \u51c6\u5907\u6570\u636e\nX = np.array([[1], [2], [3], [4], [5]])\ny = np.array([2, 4, 6, 8, 10])\n\n# \u521b\u5efa\u6a21\u578b\nmodel = LinearRegression()\n\n# \u8bad\u7ec3\u6a21\u578b\nmodel.fit(X, y)\n\n# \u8fdb\u884c\u9884\u6d4b\npredictions = model.predict([[6]])\nprint(predictions)  # \u8f93\u51fa: [12.]\n</code></pre>"},{"location":"article/out/ML/#\u6570\u636e\u96c6\u7684\u4ea4\u53c9\u9a8c\u8bc1","title":"\u6570\u636e\u96c6\u7684\u4ea4\u53c9\u9a8c\u8bc1","text":"<p>\u5f53\u6211\u4eec\u62ff\u5230\u4e00\u4e2a\u6570\u636e\u96c6\u65f6\uff0c\u9700\u8981\u8fdb\u884c\u5207\u5206\u3002</p> <p>\u9996\u5148\uff0c\u5c06\u6570\u636e\u96c6\u5206\u4e3a\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\uff0c\u8bad\u7ec3\u96c6\u7528\u4e8e\u8bad\u7ec3\u6a21\u578b\uff0c\u6d4b\u8bd5\u96c6\u7528\u4e8e\u8bc4\u4f30\u6a21\u578b\u7684\u6027\u80fd\u3002</p> <p>\u7136\u800c\uff0c\u5728\u8bad\u7ec3\u4e2d\uff0c\u6211\u4eec\u4e5f\u5e38\u5e38\u9700\u8981\u5bf9\u6a21\u578b\u7684\u6027\u80fd\u8fdb\u884c\u8bc4\u4f30\uff0c\u4f46\u662f\u53c8\u4e0d\u53ef\u80fd\u62ff\u6d4b\u8bd5\u96c6\u6765\u8bc4\u4f30\uff0c\u56e0\u4e3a\u8fd9\u6837\u4f1a\u5bfc\u81f4\u6a21\u578b\u5bf9\u6d4b\u8bd5\u96c6\u8fc7\u62df\u5408\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5728\u8bad\u7ec3\u96c6\u5185\u90e8\u8fdb\u884c\u5207\u5206\uff0c\u8fd9\u5c31\u662f\u4ea4\u53c9\u9a8c\u8bc1\u3002</p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8bad\u7ec3\u96c6\u5206\u4e3a5\u4efd\uff0c\u75281\uff0c2\uff0c3\uff0c4\u4efd\u8bad\u7ec3\u6a21\u578b\uff0c\u7528\u7b2c5\u4efd\u6765\u8bc4\u4f30\u6a21\u578b\u7684\u6027\u80fd\u3002\u7136\u800c\uff0c\u7b2c5\u4efd\u6570\u636e\u53ef\u80fd\u6bd4\u8f83\u590d\u6742\u6216\u8005\u5176\u4ed6\u7b49\u7b49\uff0c\u4e0d\u5177\u6709\u7a81\u51fa\u4ee3\u8868\u6027\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u518d\u75281\uff0c2\uff0c3\uff0c5\u4efd\u8bad\u7ec3\u6a21\u578b\uff0c\u7528\u7b2c4\u4efd\u6765\u8bc4\u4f30\u6a21\u578b\u7684\u6027\u80fd\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u52305\u4e2a\u6a21\u578b\uff0c5\u4e2a\u8bc4\u4f30\u7ed3\u679c\uff0c\u6700\u540e\u53d6\u5e73\u5747\u503c\u3002</p> <p>\u56e0\u6b64\uff0c\u4e00\u4e2a\u6570\u636e\u96c6\u7684\u67b6\u6784\u662f:</p> <ul> <li> <p>\u8bad\u7ec3\u96c6: \u7528\u4e8e\u8bad\u7ec3\u6a21\u578b</p> </li> <li> <p>\u9a8c\u8bc1\u96c6: \u7528\u4e8e\u8c03\u6574\u6a21\u578b\u7684\u8d85\u53c2\u6570</p> </li> <li> <p>\u6d4b\u8bd5\u96c6: \u7528\u4e8e\u8bc4\u4f30\u6a21\u578b\u7684\u6027\u80fd</p> </li> </ul> <p>\u5728sklearn\u4e2d\uff0c\u5c31\u6709\u4ea4\u53c9\u9a8c\u8bc1\u7684\u5e93\u53ef\u4ee5\u8c03\u7528\uff1a</p> cross_validation<pre><code>import numpy as np  # \u5bfc\u5165numpy\u5e93\u7528\u4e8e\u6570\u503c\u8ba1\u7b97\nimport os  # \u5bfc\u5165os\u5e93\u7528\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u76f8\u5173\u529f\u80fd\nimport matplotlib.pyplot as plt  # \u5bfc\u5165matplotlib\u7528\u4e8e\u7ed8\u56fe\nimport warnings  # \u5bfc\u5165warnings\u5e93\u7528\u4e8e\u63a7\u5236\u8b66\u544a\u4fe1\u606f\nfrom sklearn.datasets import fetch_openml  # \u4ecesklearn.datasets\u5bfc\u5165fetch_openml\u51fd\u6570\u7528\u4e8e\u83b7\u53d6\u6570\u636e\u96c6\nimport joblib  # \u5bfc\u5165joblib\u7528\u4e8e\u6570\u636e\u7684\u6301\u4e45\u5316\u5b58\u50a8\nfrom sklearn.model_selection import cross_val_score  # \u5bfc\u5165cross_val_score\u7528\u4e8e\u4ea4\u53c9\u9a8c\u8bc1\nfrom sklearn.linear_model import SGDClassifier  # \u5bfc\u5165SGDClassifier\u7528\u4e8e\u5206\u7c7b\u6a21\u578b\n\n# \u5ffd\u7565\u6240\u6709\u8b66\u544a\u4fe1\u606f\nwarnings.filterwarnings(\"ignore\")\n\n# \u8bbe\u7f6e\u968f\u673a\u79cd\u5b50\u4ee5\u786e\u4fdd\u7ed3\u679c\u53ef\u91cd\u590d\nnp.random.seed(42)\n\n# \u5b9a\u4e49\u6570\u636e\u96c6\u7684\u4fdd\u5b58\u8def\u5f84\ndata_path = 'mnist_784.pkl'\n\n# \u68c0\u67e5\u672c\u5730\u662f\u5426\u5b58\u5728\u6570\u636e\u96c6\u6587\u4ef6\nif os.path.exists(data_path):\n    mnist = joblib.load(data_path)  # \u52a0\u8f7d\u672c\u5730\u6570\u636e\u96c6\n    print(\"\u52a0\u8f7d\u672c\u5730\u6570\u636e\u96c6\")\nelse:\n    # \u5982\u679c\u672c\u5730\u4e0d\u5b58\u5728\uff0c\u5219\u4eceOpenML\u4e0b\u8f7dMNIST\u6570\u636e\u96c6\n    mnist = fetch_openml('mnist_784', version=1, as_frame=False, parser='auto')\n    joblib.dump(mnist, data_path)  # \u4fdd\u5b58\u4e0b\u8f7d\u7684\u6570\u636e\u96c6\u5230\u672c\u5730\n    print(\"\u4e0b\u8f7d\u5e76\u4fdd\u5b58\u6570\u636e\u96c6\")\n\n# \u5c06\u7279\u5f81\u6570\u636e\u8f6c\u6362\u4e3afloat64\u7c7b\u578b\nX = mnist.data.astype('float64')\n# \u5c06\u76ee\u6807\u6807\u7b7e\u8f6c\u6362\u4e3aint32\u7c7b\u578b\ny = mnist.target.astype('int32')\n\n# \u5212\u5206\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\uff0c\u524d60000\u4e2a\u6837\u672c\u7528\u4e8e\u8bad\u7ec3\uff0c\u540e10000\u4e2a\u6837\u672c\u7528\u4e8e\u6d4b\u8bd5\nX_train, X_test = X[:60000], X[60000:]\ny_train, y_test = y[:60000], y[60000:]\n\n# \u6253\u5370\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u7684\u5f62\u72b6\u4fe1\u606f\nprint(\"\u6570\u636e\u96c6\u5f62\u72b6:\")\nprint(f\"X_train: {X_train.shape}, X_test: {X_test.shape}\")\nprint(f\"y_train: {y_train.shape}, y_test: {y_test.shape}\")\n\n# \u751f\u6210\u4e00\u4e2a0\u523060000\u7684\u968f\u673a\u6392\u5217\u7d22\u5f15\nshuffle_index = np.random.permutation(60000)\n\n# \u6839\u636e\u968f\u673a\u7d22\u5f15\u6253\u4e71\u8bad\u7ec3\u96c6\u7684\u987a\u5e8f\nX_train, y_train = X_train[shuffle_index], y_train[shuffle_index]\n\n# \u5b9e\u4f8b\u5316SGD\u5206\u7c7b\u5668\uff0c\u8bbe\u7f6e\u6700\u5927\u8fed\u4ee3\u6b21\u6570\u3001\u5bb9\u5fcd\u5ea6\u548c\u968f\u673a\u72b6\u6001\nsgd_clf = SGDClassifier(max_iter=10000, tol=1e-3, random_state=42)\n\n# \u521b\u5efa\u4e00\u4e2a\u4e8c\u5143\u76ee\u6807\u53d8\u91cf\uff0c\u4ec5\u6807\u8bb0\u4e3a5\u7684\u6837\u672c\u4e3aTrue\uff0c\u5176\u4f59\u4e3aFalse\ny_train_5 = (y_train == 5)\n\n# \u4f7f\u7528\u8bad\u7ec3\u6570\u636e\u62df\u5408SGD\u5206\u7c7b\u5668\nsgd_clf.fit(X_train, y_train_5)\n\n# \u6253\u5370\u4ea4\u53c9\u9a8c\u8bc1\u7684\u51c6\u786e\u7387\nprint(\"\u4ea4\u53c9\u9a8c\u8bc1\u51c6\u786e\u7387:\")\n\n# \u8fdb\u884c3\u6298(\u628a\u8bad\u7ec3\u96c6\u62c6\u5206\u4e3a3\u4efd)\u4ea4\u53c9\u9a8c\u8bc1\uff0c\u8ba1\u7b97\u51c6\u786e\u7387\naccuracy = cross_val_score(sgd_clf, X_train, y_train_5, cv=3, scoring='accuracy')\n\n# \u8f93\u51fa\u4ea4\u53c9\u9a8c\u8bc1\u7684\u7ed3\u679c\nprint(accuracy)\n</code></pre> <p>\u547d\u4ee4\u884c\u8f93\u51fa:</p> <pre><code>\u52a0\u8f7d\u672c\u5730\u6570\u636e\u96c6\n\u6570\u636e\u96c6\u5f62\u72b6:\nX_train: (60000, 784), X_test: (10000, 784)\ny_train: (60000,), y_test: (10000,)\n\u4ea4\u53c9\u9a8c\u8bc1\u51c6\u786e\u7387:\n[0.9681  0.95655 0.95515]\n</code></pre>"},{"location":"article/out/ML/#\u6df7\u6dc6\u77e9\u9635","title":"\u6df7\u6dc6\u77e9\u9635","text":"<p>\u6df7\u6dc6\u77e9\u9635\u4e00\u822c\u7528\u4e8e\u8bc4\u4f30\u5206\u7c7b\u6a21\u578b\u7684\u6027\u80fd\uff0c\u5b83\u662f\u4e00\u4e2a\u4e8c\u7ef4\u77e9\u9635\uff0c\u7528\u4e8e\u5c55\u793a\u6a21\u578b\u7684\u9884\u6d4b\u7ed3\u679c\u548c\u771f\u5b9e\u6807\u7b7e\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u4e00\u822c\u7684\u7ed3\u6784\u4e3a\uff1a</p> \\[ \\begin{array}{|c|c|} \\hline \\text{\u771f\u5b9e\u7c7b\u522b} &amp; \\text{\u9884\u6d4b\u7c7b\u522b} \\\\ \\hline \\text{\u771f\u8d1f\u4f8b} &amp; \\text{\u5047\u6b63\u4f8b} \\\\ \\text{\u5047\u8d1f\u4f8b} &amp; \\text{\u771f\u6b63\u4f8b} \\\\ \\hline \\end{array} \\] \u6df7\u6dc6\u77e9\u9635<pre><code>import numpy as np  # \u5bfc\u5165numpy\u5e93\u7528\u4e8e\u6570\u503c\u8ba1\u7b97\nimport os  # \u5bfc\u5165os\u5e93\u7528\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u76f8\u5173\u529f\u80fd\nimport matplotlib.pyplot as plt  # \u5bfc\u5165matplotlib\u7528\u4e8e\u7ed8\u56fe\nimport warnings  # \u5bfc\u5165warnings\u5e93\u7528\u4e8e\u63a7\u5236\u8b66\u544a\u4fe1\u606f\nfrom sklearn.datasets import fetch_openml  # \u4ecesklearn.datasets\u5bfc\u5165fetch_openml\u51fd\u6570\u7528\u4e8e\u83b7\u53d6\u6570\u636e\u96c6\nimport joblib  # \u5bfc\u5165joblib\u7528\u4e8e\u6570\u636e\u7684\u6301\u4e45\u5316\u5b58\u50a8\nfrom sklearn.model_selection import cross_val_score  # \u5bfc\u5165cross_val_score\u7528\u4e8e\u4ea4\u53c9\u9a8c\u8bc1\nfrom sklearn.linear_model import SGDClassifier  # \u5bfc\u5165SGDClassifier\u7528\u4e8e\u5206\u7c7b\u6a21\u578b\n\n# \u5ffd\u7565\u6240\u6709\u8b66\u544a\u4fe1\u606f\nwarnings.filterwarnings(\"ignore\")\n\n# \u8bbe\u7f6e\u968f\u673a\u79cd\u5b50\u4ee5\u786e\u4fdd\u7ed3\u679c\u53ef\u91cd\u590d\nnp.random.seed(42)\n\n# \u5b9a\u4e49\u6570\u636e\u96c6\u7684\u4fdd\u5b58\u8def\u5f84\ndata_path = 'mnist_784.pkl'\n\n# \u68c0\u67e5\u672c\u5730\u662f\u5426\u5b58\u5728\u6570\u636e\u96c6\u6587\u4ef6\nif os.path.exists(data_path):\n    mnist = joblib.load(data_path)  # \u52a0\u8f7d\u672c\u5730\u6570\u636e\u96c6\n    print(\"\u52a0\u8f7d\u672c\u5730\u6570\u636e\u96c6\")\nelse:\n    # \u5982\u679c\u672c\u5730\u4e0d\u5b58\u5728\uff0c\u5219\u4eceOpenML\u4e0b\u8f7dMNIST\u6570\u636e\u96c6\n    mnist = fetch_openml('mnist_784', version=1, as_frame=False, parser='auto')\n    joblib.dump(mnist, data_path)  # \u4fdd\u5b58\u4e0b\u8f7d\u7684\u6570\u636e\u96c6\u5230\u672c\u5730\n    print(\"\u4e0b\u8f7d\u5e76\u4fdd\u5b58\u6570\u636e\u96c6\")\n\n# \u5c06\u7279\u5f81\u6570\u636e\u8f6c\u6362\u4e3afloat64\u7c7b\u578b\nX = mnist.data.astype('float64')\n# \u5c06\u76ee\u6807\u6807\u7b7e\u8f6c\u6362\u4e3aint32\u7c7b\u578b\ny = mnist.target.astype('int32')\n\n# \u5212\u5206\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\uff0c\u524d60000\u4e2a\u6837\u672c\u7528\u4e8e\u8bad\u7ec3\uff0c\u540e10000\u4e2a\u6837\u672c\u7528\u4e8e\u6d4b\u8bd5\nX_train, X_test = X[:60000], X[60000:]\ny_train, y_test = y[:60000], y[60000:]\n\n# \u751f\u6210\u4e00\u4e2a0\u523060000\u7684\u968f\u673a\u6392\u5217\u7d22\u5f15\nshuffle_index = np.random.permutation(60000)\n\n# \u6839\u636e\u968f\u673a\u7d22\u5f15\u6253\u4e71\u8bad\u7ec3\u96c6\u7684\u987a\u5e8f\nX_train, y_train = X_train[shuffle_index], y_train[shuffle_index]\n\n# \u5b9e\u4f8b\u5316SGD\u5206\u7c7b\u5668\uff0c\u8bbe\u7f6e\u6700\u5927\u8fed\u4ee3\u6b21\u6570\u3001\u5bb9\u5fcd\u5ea6\u548c\u968f\u673a\u72b6\u6001\nsgd_clf = SGDClassifier(max_iter=10000, tol=1e-3, random_state=42)\n\n# \u521b\u5efa\u4e00\u4e2a\u4e8c\u5143\u76ee\u6807\u53d8\u91cf\uff0c\u4ec5\u6807\u8bb0\u4e3a5\u7684\u6837\u672c\u4e3aTrue\uff0c\u5176\u4f59\u4e3aFalse\ny_train_5 = (y_train == 5)\n\nfrom sklearn.model_selection import cross_val_predict  # \u5bfc\u5165cross_val_predict\u7528\u4e8e\u4ea4\u53c9\u9a8c\u8bc1\u9884\u6d4b\n\nresult = cross_val_predict(sgd_clf, X_train, y_train_5, cv=3)\n\nfrom sklearn.metrics import confusion_matrix  # \u5bfc\u5165confusion_matrix\u7528\u4e8e\u6df7\u6dc6\u77e9\u9635\u8ba1\u7b97\n\nmatrix = confusion_matrix(y_train_5, result)\n\nprint(f\"\u6df7\u6dc6\u77e9\u9635\uff1a\\n{matrix}\")\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c:</p> <p><pre><code>[[53124  1455]\n [  949  4472]]\n</code></pre> 53124\u4ee3\u8868\u975e5\u7684\u7ed3\u679c\u88ab\u6210\u529f\u8bc6\u522b\uff0c1455\u4ee3\u8868\u975e5\u7684\u7ed3\u679c\u88ab\u9519\u8bef\u8bc6\u522b\uff0c949\u4ee3\u88685\u7684\u7ed3\u679c\u88ab\u9519\u8bef\u8bc6\u522b\uff0c4472\u4ee3\u88685\u7684\u7ed3\u679c\u88ab\u6210\u529f\u8bc6\u522b\u3002</p>"},{"location":"article/out/ML/#sklearn\u4e2d\u7684\u8bc4\u4f30\u51fd\u6570","title":"Sklearn\u4e2d\u7684\u8bc4\u4f30\u51fd\u6570","text":"<ul> <li>accuracy_score: \u8ba1\u7b97\u51c6\u786e\u7387.     <pre><code>from sklearn.metrics import accuracy_score\naccuracy = accuracy_score(y_train_5, result)\nprint(f\"\u51c6\u786e\u7387: {accuracy}\")\n</code></pre></li> <li>precision_score: \u8ba1\u7b97\u7cbe\u786e\u7387.     <pre><code>from sklearn.metrics import precision_score\nprecision = precision_score(y_train_5, result)\nprint(f\"\u7cbe\u786e\u7387: {precision}\")\n</code></pre></li> <li>recall_score: \u8ba1\u7b97\u53ec\u56de\u7387.     <pre><code>from sklearn.metrics import recall_score\nrecall = recall_score(y_train_5, result)\nprint(f\"\u53ec\u56de\u7387: {recall}\")\n</code></pre></li> <li>f1_score: \u8ba1\u7b97F1\u5206\u6570(\u7cbe\u786e\u7387\u548c\u53ec\u56de\u7387\u7684\u8c03\u548c\u5e73\u5747\u503c).     <pre><code>from sklearn.metrics import f1_score\nf1 = f1_score(y_train_5, result)\nprint(f\"F1\u5206\u6570: {f1}\")\n</code></pre></li> </ul>"},{"location":"article/out/ML/#\u8bc4\u4f30\u9608\u503c","title":"\u8bc4\u4f30\u9608\u503c","text":"<p>\u9608\u503c\u6307\u7684\u662f\u5206\u7c7b\u5668\u7684\u51b3\u7b56\u8fb9\u754c\uff0c\u5f53\u5206\u7c7b\u5668\u7684\u9884\u6d4b\u6982\u7387\u5927\u4e8e\u9608\u503c\u65f6\uff0c\u6837\u672c\u88ab\u5212\u5206\u4e3a\u6b63\u4f8b\uff0c\u5426\u5219\u88ab\u5212\u5206\u4e3a\u8d1f\u4f8b\u3002\u5728sklearn\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528decision_function()\u65b9\u6cd5\u83b7\u53d6\u5206\u7c7b\u5668\u7684\u51b3\u7b56\u5206\u6570\u3002\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de\u6bcf\u4e2a\u6837\u672c\u7684\u5206\u6570\uff0c\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u5206\u6570\u8bbe\u7f6e\u4e0d\u540c\u7684\u9608\u503c\u3002</p> <pre><code>from sklearn.metrics import precision_recall_curve  # \u5bfc\u5165precision_recall_curve\u7528\u4e8e\u8ba1\u7b97\u7cbe\u786e\u7387\u548c\u53ec\u56de\u7387\n\n# \u83b7\u53d6\u5206\u7c7b\u5668\u7684\u51b3\u7b56\u5206\u6570\n\nscores = cross_val_predict(sgd_clf, X_train, y_train_5, cv=3, method='decision_function')\n\n# \u8ba1\u7b97\u7cbe\u786e\u7387\u548c\u53ec\u56de\u7387\n\nprecisions, recalls, thresholds = precision_recall_curve(y_train_5, scores)\n\n# \u7ed8\u5236\u7cbe\u786e\u7387\u548c\u53ec\u56de\u7387\u66f2\u7ebf\n\nplt.plot(thresholds, precisions[:-1], 'b--', label='Precision')\n\nplt.plot(thresholds, recalls[:-1], 'g-', label='Recall')\n\nplt.xlabel('Threshold')\n\nplt.legend()\n\nplt.show()\n</code></pre> <p>\u9608\u503c\u8d8a\u5927\uff0c\u7cbe\u786e\u7387\u8d8a\u9ad8\uff0c\u53ec\u56de\u7387\u8d8a\u4f4e\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002</p>"},{"location":"article/out/ML/#roc\u66f2\u7ebf","title":"ROC\u66f2\u7ebf","text":"<p>ROC\u66f2\u7ebf\u4e5f\u662f\u4e00\u79cd\u7528\u4e8e\u8bc4\u4f30\u4e8c\u5143\u5206\u7c7b\u5668(\u5c31\u50cf\u8fd9\u91cc\u8bc6\u522b\u67d0\u4e2a\u6570\u5b57\u662f\u4e0d\u662f5)\u6027\u80fd\u7684\u5de5\u5177\uff0c\u5b83\u5c55\u793a\u4e86\u771f\u6b63\u4f8b\u7387(TPR)\u548c\u5047\u6b63\u4f8b\u7387(FPR)\u4e4b\u95f4\u7684\u5173\u7cfb\u3002TPR\u662f\u6307\u6b63\u786e\u8bc6\u522b\u6b63\u4f8b\u7684\u6bd4\u4f8b\uff0cFPR\u662f\u6307\u9519\u8bef\u8bc6\u522b\u8d1f\u4f8b\u7684\u6bd4\u4f8b\u3002ROC\u66f2\u7ebf\u7684\u6a2a\u8f74\u662fFPR\uff0c\u7eb5\u8f74\u662fTPR\u3002</p> <pre><code>from sklearn.metrics import roc_curve  # \u5bfc\u5165roc_curve\u7528\u4e8e\u8ba1\u7b97ROC\u66f2\u7ebf\n\n# \u8ba1\u7b97ROC\u66f2\u7ebf\n\nfpr, tpr, thresholds = roc_curve(y_train_5, scores)\n\n# \u7ed8\u5236ROC\u66f2\u7ebf\n\nplt.plot(fpr, tpr, 'b-')\n\nplt.plot([0, 1], [0, 1], 'k--')\n\nplt.xlabel('False Positive Rate')\n\nplt.ylabel('True Positive Rate')\n\nplt.show()\n</code></pre> <p>\u8fd9\u91cc\u7406\u60f3\u7684\u72b6\u6001\u662fROC\u66f2\u7ebf\u5c3d\u53ef\u80fd\u5730\u9760\u8fd1\u5de6\u4e0a\u89d2\uff0c\u5373FPR\u4e3a0\uff0cTPR\u4e3a1\u3002</p> <p>\u5e38\u7528\u7684\u8bc4\u4f30\u65b9\u6cd5\u662f\u8ba1\u7b97ROC\u66f2\u7ebf\u4e0b\u7684\u9762\u79ef(AUC)\uff0cAUC\u8d8a\u63a5\u8fd11\uff0c\u5206\u7c7b\u5668\u7684\u6027\u80fd\u8d8a\u597d\u3002AUC\u4e3a0.5\u610f\u5473\u7740\u548c\u7eaf\u968f\u673a\u5206\u7c7b\u6ca1\u4ec0\u4e48\u533a\u522b\u3002</p> <pre><code>from sklearn.metrics import roc_auc_score  # \u5bfc\u5165roc_auc_score\u7528\u4e8e\u8ba1\u7b97AUC\n\n# \u8ba1\u7b97AUC\n\nauc = roc_auc_score(y_train_5, scores)\n\nprint(f\"AUC: {auc}\")\n</code></pre>"},{"location":"article/out/ML/#\u6b63\u5219\u5316","title":"\u6b63\u5219\u5316","text":"<p>\u6b63\u5219\u5316\u662f\u4e00\u79cd\u7528\u4e8e\u9632\u6b62\u8fc7\u62df\u5408\u7684\u6280\u5de7\uff0c\u5b83\u901a\u8fc7\u5728\u635f\u5931\u51fd\u6570\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u6b63\u5219\u9879\u6765\u9650\u5236\u6a21\u578b\u7684\u590d\u6742\u5ea6\u3002</p> <p>\u8bb0:</p> \\[ J(\\theta) = \\text{MSE}(\\theta) + \\frac{\\alpha}{2} \\sum_{i=1}^{n} \\theta_i^2 \\] <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u73b0\u5728\u7684X\u503c\u4e3a\\([1,1,1,1]\\),\u6709\u4e24\u7ec4\\(\\theta\\)\u503c\uff0c\u4e00\u7ec4\u4e3a\\([4,0,0.0]\\),\u53e6\u4e00\u7ec4\u4e3a\\([1,1,1,1]\\),\u5f88\u663e\u7136\uff0c\u5b83\u4eec\u7684\\(Y_{\\text{prediction}}\\)\u662f\u4e00\u6837\u7684\uff0c\u56e0\u6b64MSE\u5fc5\u7136\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u6b63\u5219\u5316\u9879\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u7b2c\u4e00\u7ec4\u7684\u6b63\u5219\u5316\u9879\u4e3a\\(4^2=16\\),\u7b2c\u4e8c\u7ec4\u7684\u6b63\u5219\u5316\u9879\u4e3a\\(1^2+1^2+1^2+1^2=4\\),\u56e0\u6b64\u7b2c\u4e00\u7ec4\u7684\u6b63\u5219\u5316\u9879\u66f4\u5927\uff0c\u56e0\u6b64\u7b2c\u4e00\u7ec4\u7684\\(J(\\theta)\\)\u503c\u66f4\u5927\uff0c\u4e5f\u5c31\u662floss\u66f4\u5927.\u6b63\u5219\u5316\u7684\u610f\u4e49\u5728\u4e8e\u8ba9\u6a21\u578b\u5c3d\u53ef\u80fd\u4f7f\u7528\u591a\u7684\u7279\u5f81\uff0c\u4f46\u662f\u4e0d\u8ba9\u7279\u5f81\u7684\u6743\u91cd\u8fc7\u5927\uff0c\u8ba9\u6a21\u578b\u66f4\u52a0\u5e73\u6ed1\u3002</p> <p>\u4e0a\u8ff0\u7684\u516c\u5f0f\u662fL2\u6b63\u5219\u5316\uff0c\u4e5f\u53eb\u5cad\u56de\u5f52\uff0c\u8fd8\u6709L1\u6b63\u5219\u5316\uff0c\u4e5f\u53ebLasso\u56de\u5f52\uff0cL1\u6b63\u5219\u5316\u7684\u516c\u5f0f\u5982\u4e0b:</p> \\[ J(\\theta) = \\text{MSE}(\\theta) + \\alpha \\sum_{i=1}^{n} |\\theta_i| \\] L1\u548cL2\u7684\u533a\u522b \u7279\u70b9 L1 \u6b63\u5219\u5316 L2 \u6b63\u5219\u5316 \u6743\u91cd\u7279\u5f81 \u4f1a\u4f7f\u90e8\u5206\u7279\u5f81\u6743\u91cd\u53d8\u4e3a 0 \u53ea\u4f1a\u4f7f\u6743\u91cd\u53d8\u5c0f\uff0c\u4e0d\u4f1a\u53d8\u4e3a 0 \u4e3b\u8981\u7528\u9014 \u7279\u5f81\u9009\u62e9 \u9632\u6b62\u8fc7\u62df\u5408 \u6570\u5b66\u8868\u8fbe \\(\\alpha \\sum_{i=1}^{n} \\|\\theta_i\\|\\) \\(\\frac{\\alpha}{2} \\sum_{i=1}^{n} \\theta_i^2\\) <ul> <li> <p>L1 \u6b63\u5219\u5316\uff1a</p> <ul> <li>\u8981\u4e48\u7528\uff0c\u8981\u4e48\u4e0d\u7528</li> <li>\u67d0\u4e9b\u7279\u5f81\u7684\u6743\u91cd\u4f1a\u76f4\u63a5\u53d8\u6210 0</li> <li>\u9009\u62e9\u6700\u91cd\u8981\u7684\u7279\u5f81\u4fdd\u7559</li> </ul> </li> <li> <p>L2 \u6b63\u5219\u5316\uff1a</p> <ul> <li>\u90fd\u7528\uff0c\u4f46\u90fd\u4e0d\u8981\u7528\u592a\u72e0</li> <li>\u6240\u6709\u7279\u5f81\u7684\u6743\u91cd\u90fd\u4f1a\u53d8\u5c0f\uff0c\u4f46\u4e0d\u4f1a\u53d8\u6210 0</li> <li>\u66f4\u9002\u5408\u9632\u6b62\u6a21\u578b\u8fc7\u5ea6\u4f9d\u8d56\u67d0\u4e9b\u7279\u5f81</li> </ul> </li> </ul> <p>\u4e0a\u9762\u7684\u516c\u5f0f\u4e2d\u4e5f\u6709\u4e00\u4e2a\u8d85\u53c2\u6570\\(\\alpha\\),\u8fd9\u4e2a\u8d85\u53c2\u6570\u7684\u4f5c\u7528\u662f\u63a7\u5236\u6b63\u5219\u5316\u9879\u7684\u6743\u91cd\uff0c\\(\\alpha\\)\u8d8a\u5927\uff0c\u6b63\u5219\u5316\u9879\u7684\u6743\u91cd\u8d8a\u5927\uff0c\u6a21\u578b\u7684\u590d\u6742\u5ea6\u8d8a\u4f4e\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002</p>"},{"location":"article/out/Transformer/","title":"Transformer","text":""},{"location":"article/out/Transformer/#transformer","title":"Transformer","text":"<p> \u7ea6 721 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p> <p>Transformer\u6a21\u578b\u5305\u542b\u4e24\u4e2a\u4e3b\u8981\u90e8\u5206\uff1aEncoder\uff08\u7f16\u7801\u5668\uff09\u548cDecoder\uff08\u89e3\u7801\u5668\uff09\u3002</p>"},{"location":"article/out/Transformer/#encoder","title":"Encoder","text":"<p>Encoder\u7684\u4e3b\u8981\u529f\u80fd\u662f\u5c06\u8f93\u5165\u5e8f\u5217\u8f6c\u6362\u4e3a\u4e00\u4e2a\u8fde\u7eed\u8868\u793a\u3002\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u8f93\u5165\u5d4c\u5165\uff08Input Embedding\uff09\uff1a</p> <ul> <li>\u8f93\u5165\u5e8f\u5217\u4f1a\u5148\u88ab\u5206\u5272\u6210\u4e00\u4e2a\u4e2atoken\uff0c\u6bcf\u4e2atoken\u4f1a\u88ab\u5d4c\u5165\uff08embedding\uff09\u5230\u4e00\u4e2a\\(d_{model}\\)\u7ef4\u7684\u8bcd\u5411\u91cf\u4e2d\u3002</li> <li>\u53e6\u5916\uff0c\u8fd8\u4f1a\u6839\u636e\u8fd9\u4e2atoken\u5728\u5e8f\u5217\u4e2d\u7684\u4f4d\u7f6e\u751f\u6210\u4e00\u4e2a\\(d_{model}\\)\u7ef4\u7684\u4f4d\u7f6e\u5411\u91cf\uff08Positional Encoding\uff09\uff0c\u5177\u4f53\u516c\u5f0f\u4e3a\uff1a $$ PE(pos,2i)=\\sin(\\frac{pos}{10000^\\frac{2i}{d_{model}}}) $$ $$ PE(pos,2i+1)=\\cos(\\frac{pos}{10000^\\frac{2i}{d_{model}}}) $$ \u8fd9\u4e24\u4e2a\u516c\u5f0f\u5206\u522b\u7ed9\u51fa\u4e86\u5947\u6570\u4f4d\u4e0e\u5076\u6570\u4f4d\u7684\u4f4d\u7f6e\u7f16\u7801\u8ba1\u7b97\u65b9\u6cd5\u3002\u6700\u540e\uff0c\u5c06\u8bcd\u5411\u91cf\u4e0e\u4f4d\u7f6e\u5411\u91cf\u76f8\u52a0\uff0c\u5f97\u5230\u8fd9\u4e2atoken\u7684\u6700\u7ec8\u8f93\u5165\u5411\u91cf\u3002</li> </ul> </li> <li> <p>\u591a\u5934\u6ce8\u610f\u529b\u673a\u5236\uff08Multi-Head Attention\uff09\uff1a</p> <ul> <li>\u6bcf\u4e2atoken\u4f1a\u6709\u4e00\u4e2a\u6ce8\u610f\u529b\u77e9\u9635\uff0c\u516c\u5f0f\u4e3a\uff1a $$ Attention(Q,K,V)=softmax(\\frac{QK^T}{\\sqrt{d_k}})V $$ \u5177\u4f53\u89e3\u91ca\u5982\u4e0b\uff1a<ul> <li>Q\uff08Query\uff09\uff1a\u901a\u8fc7\u4e00\u4e2a\u77e9\u9635\\(W^Q\\)\u4e58\u4e0a\u8f93\u5165\u5411\u91cf\u5f97\u5230\u3002</li> <li>K\uff08Key\uff09\uff1a\u901a\u8fc7\u4e00\u4e2a\u77e9\u9635\\(W^K\\)\u4e58\u4e0a\u8f93\u5165\u5411\u91cf\u5f97\u5230\u3002</li> <li>V\uff08Value\uff09\uff1a\u901a\u8fc7\u4e00\u4e2a\u77e9\u9635\\(W^V\\)\u4e58\u4e0a\u8f93\u5165\u5411\u91cf\u5f97\u5230\u3002</li> <li>\u9664\u4ee5\\(\\(\\sqrt{d_k}\\)\\)\u7684\u76ee\u7684\u662f\u9632\u6b62\u68af\u5ea6\u6d88\u5931\uff0c\u56e0\u4e3aQ\u548cK\u7684\u70b9\u79ef\u53ef\u80fd\u4f1a\u4ea7\u751f\u5f88\u5927\u7684\u503c\u3002</li> </ul> </li> <li>\u5b9e\u9645\u4e0a\uff0c\u53ef\u80fd\u5b58\u5728\u591a\u4e2a\u6ce8\u610f\u529b\u5934\uff0c\u6bcf\u4e2a\u6ce8\u610f\u529b\u5934\u7684\\(W^Q\\)\u3001\\(W^K\\)\u548c\\(W^V\\)\u77e9\u9635\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u8fd9\u6837\u53ef\u4ee5\u8ba9\u4e0d\u540c\u7684\u6ce8\u610f\u529b\u5934\u5173\u6ce8\u4e0d\u540c\u7684\u5185\u5bb9\u3002\u8fd9\u4e9b\u4e0d\u540c\u7684\u6ce8\u610f\u529b\u5934\u4ea7\u751f\u7684\u7ed3\u679c\u77e9\u9635\u518d\u62fc\u63a5\u8d77\u6765\u3002</li> </ul> </li> <li> <p>\u6b8b\u5dee\u8fde\u63a5\uff08Residual Connection\uff09\uff1a</p> <ul> <li>\u81ea\u6ce8\u610f\u529b\u673a\u5236\u8ba1\u7b97\u5b8c\u540e\uff0c\u4f1a\u8fdb\u884c\u6b8b\u5dee\u8fde\u63a5\uff0c\u5373\uff1a $$ Output = Attention(x) + x $$ \u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u5728\u6df1\u5c42\u6b21\u7684\u795e\u7ecf\u7f51\u7edc\u4e2d\u4fe1\u606f\u4e22\u5931\u3001\u68af\u5ea6\u6d88\u5931\u6216\u8005\u53d1\u751f\u9000\u5316\u7684\u60c5\u51b5\u3002</li> </ul> </li> <li> <p>\u5c42\u5f52\u4e00\u5316\uff08Layer Normalization\uff09\uff1a</p> <ul> <li>\u8ba1\u7b97\u5747\u503c\u548c\u65b9\u5dee\u8fdb\u884c\u5f52\u4e00\u5316\u5904\u7406\u3002</li> </ul> </li> <li> <p>\u524d\u9988\u795e\u7ecf\u7f51\u7edc\uff08Feed-Forward Neural Network\uff09\uff1a</p> <ul> <li>\u4f7f\u7528\u4e24\u4e2a\u7ebf\u6027\u53d8\u6362\u548c\u4e00\u4e2aReLU\u975e\u7ebf\u6027\u53d8\u6362\uff0c\u6700\u540e\u8fdb\u884c\u6b8b\u5dee\u8fde\u63a5\u548c\u5f52\u4e00\u5316\u5904\u7406\u3002</li> </ul> </li> </ol>"},{"location":"article/out/Transformer/#decoder","title":"Decoder","text":"<p>Decoder\u7684\u4e3b\u8981\u529f\u80fd\u662f\u5c06Encoder\u7684\u8f93\u51fa\u8f6c\u6362\u4e3a\u76ee\u6807\u5e8f\u5217\u3002\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u8f93\u5165\u5d4c\u5165\uff08Input Embedding\uff09\uff1a</p> <ul> <li>\u4e0eEncoder\u7c7b\u4f3c\uff0c\u8f93\u5165\u5e8f\u5217\u4f1a\u88ab\u5206\u5272\u6210token\uff0c\u5e76\u5d4c\u5165\u5230\\(d_{model}\\)\u7ef4\u7684\u8bcd\u5411\u91cf\u4e2d\uff0c\u540c\u65f6\u751f\u6210\u4f4d\u7f6e\u5411\u91cf\u3002</li> </ul> </li> <li> <p>Masked Multi-Head Attention\uff1a</p> <ul> <li>Decoder\u4e2d\u5b58\u5728\u4e00\u4e2aMasked Multi-Head Attention\u5c42\uff0c\u5728\u751f\u6210\u4e00\u4e2atoken\u65f6\uff0c\u4f7f\u5176\u4e0d\u80fd\u5173\u6ce8\u672a\u6765\u751f\u6210token\u7684\u4fe1\u606f\uff0c\u4f7f\u7528\u4e00\u4e2a\u4e0a\u4e09\u89d2\u77e9\u9635\u8fdb\u884c\u63a9\u7801\u5904\u7406\u3002</li> </ul> </li> <li> <p>Encoder-Decoder Attention\uff1a</p> <ul> <li>Decoder\u8fd8\u5b58\u5728\u4e00\u4e2a\u4ea4\u4e92\u5c42\uff0c\u63a5\u53d7\u6765\u81eaEncoder\u7684K\u548cV\u77e9\u9635\u8fdb\u884c\u591a\u5934\u6ce8\u610f\u529b\u673a\u5236\u3002</li> </ul> </li> <li> <p>\u6b8b\u5dee\u8fde\u63a5\u548c\u5c42\u5f52\u4e00\u5316\uff1a</p> <ul> <li>\u4e0eEncoder\u7c7b\u4f3c\uff0c\u8fdb\u884c\u6b8b\u5dee\u8fde\u63a5\u548c\u5c42\u5f52\u4e00\u5316\u5904\u7406\u3002</li> </ul> </li> <li> <p>\u524d\u9988\u795e\u7ecf\u7f51\u7edc\uff1a</p> <ul> <li>\u4f7f\u7528\u4e24\u4e2a\u7ebf\u6027\u53d8\u6362\u548c\u4e00\u4e2aReLU\u975e\u7ebf\u6027\u53d8\u6362\uff0c\u6700\u540e\u8fdb\u884c\u6b8b\u5dee\u8fde\u63a5\u548c\u5f52\u4e00\u5316\u5904\u7406\u3002</li> </ul> </li> </ol>"},{"location":"article/read/","title":"\u5f00\u59cb","text":"<p> \u7ea6 35 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>          \u4eba\u7c7b\u4ece\u5386\u53f2\u4e2d\u5b66\u5230\u7684\u552f\u4e00\u7684\u6559\u8bad\uff0c\u5c31\u662f\u6ca1\u6709\u4ece\u5386\u53f2\u4e2d\u5438\u53d6\u5230\u4efb\u4f55\u6559\u8bad\u3002\u2014\u2014\u9ed1\u683c\u5c14      </p>"},{"location":"article/read/CogAgent%20A%20Visual%20Language%20Model%20for%20GUI%20Agents/","title":"CogAgent A Visual Language Model for GUI Agents","text":""},{"location":"article/read/CogAgent%20A%20Visual%20Language%20Model%20for%20GUI%20Agents/#cogagent-a-visual-language-model-for-gui-agents","title":"CogAgent  A Visual Language Model for GUI Agents","text":"<p> \u7ea6 989 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p> <p>\u7a81\u7834\u70b9</p> <p>\u7a81\u7834\u70b9\u6709\u4e8c:</p> <ul> <li> <p>\u89e3\u51b3\u4e86\u6570\u636e\u96c6\u95ee\u9898\uff0c\u4ee5\u5f80\u7684\u8bad\u7ec3\u90fd\u4f7f\u7528\u5305\u542b\u81ea\u7136\u56fe\u7247\uff0c\u5982LAION\u4e4b\u7c7b\u7684\uff0c\u4f46\u8fd9\u7bc7\u6587\u7ae0\u7684\u4f5c\u8005\u5efa\u7acb\u8d77\u4e86\u4e00\u4e2a\"large-scale annotated dataset about GUIs and OCR for continual pre-training\"</p> </li> <li> <p>\u7ef4\u6301\u4e86\u56fe\u7247\u5206\u8fa8\u7387\u4e0e\u8ba1\u7b97\u901f\u5ea6\u7684\u5e73\u8861\u3002\u5982\u679c\u56fe\u7247\u5206\u8fa8\u7387\u592a\u4f4e\u53ef\u80fd\u65e0\u6cd5\u8bc6\u522b\u51fa\"tiny icons and text\"\uff0c\u5982\u679c\u5206\u8fa8\u7387\u592a\u9ad8\u5219\u6570\u636e\u91cf\u4f1a\u5f88\u5927\uff0c\u5360\u636e\u8fc7\u591atoken\u3002</p> </li> </ul>"},{"location":"article/read/CogAgent%20A%20Visual%20Language%20Model%20for%20GUI%20Agents/#cogagent\u67b6\u6784","title":"CogAgent\u67b6\u6784","text":"<p> \u4ece\u4e2d\u4e0d\u96be\u770b\u51fa\uff0c\u8fd9\u4e2a\u67b6\u6784\u7684\u5173\u952e\u5728\u4e8e\"High-Resolution Cross-Module\"</p>"},{"location":"article/read/CogAgent%20A%20Visual%20Language%20Model%20for%20GUI%20Agents/#high-resolution-cross-module","title":"High-Resolution Cross-Module","text":"<p>\u6709\u4e24\u4e2a\u7ecf\u9a8c\uff1a</p> <ul> <li> <p>\u5728 224 \u00d7 224 \u8fd9\u6837\u7684\u4e2d\u7b49\u5206\u8fa8\u7387\u4e0b\uff0c\u56fe\u50cf\u53ef\u4ee5\u6709\u6548\u5730\u63cf\u7ed8\u5927\u591a\u6570\u5bf9\u8c61\u548c\u5e03\u5c40\uff0c\u4f46\u8fd9\u79cd\u5206\u8fa8\u7387\u5374\u65e0\u6cd5\u6e05\u6670\u5730\u5448\u73b0\u6587\u672c\u3002\u56e0\u6b64\uff0c\u9ad8\u5206\u8fa8\u7387\u6a21\u5757\u5e94\u5f3a\u8c03\u4e0e\u6587\u672c\u76f8\u5173\u7684\u7279\u5f81\u3002</p> </li> <li> <p>\u4e00\u822c\u9886\u57df\u7684\u9884\u8bad\u7ec3 VLM \u901a\u5e38\u9700\u8981\u8f83\u5927\u7684\u9690\u85cf\u5927\u5c0f\uff08\u5982 PALI-X \u548c CogVLM \u4e2d\u7684 4096 \u5927\u5c0f\uff0cLLaVA \u4e2d\u7684 5120 \u5927\u5c0f\uff09\uff0c\u800c\u4e3a\u6587\u6863 OCR \u7b49\u4ee5\u6587\u672c\u4e3a\u4e2d\u5fc3\u7684\u4efb\u52a1\u5b9a\u5236\u7684 VLM \u5219\u9700\u8981\u8f83\u5c0f\u7684\u9690\u85cf\u5927\u5c0f\u624d\u80fd\u8fbe\u5230\u4ee4\u4eba\u6ee1\u610f\u7684\u6027\u80fd\uff08\u5982 Kosmos-2.5 \u548c Pix2Struct \u4e2d\u7684 1,536 \u5927\u5c0f\uff09\u3002\u8fd9\u8868\u660e\uff0c\u4f7f\u7528\u8f83\u5c0f\u7684\u9690\u85cf\u5c3a\u5bf8\u53ef\u4ee5\u6709\u6548\u6355\u6349\u4e0e\u6587\u672c\u76f8\u5173\u7684\u7279\u5f81\u3002</p> </li> </ul> <p>\u901a\u8fc7\u8bbe\u7f6e\u7f16\u7801\u5668\u548c\u89e3\u7801\u5668\u7684\u7b97\u6cd5\u4e0eQKV\u77e9\u9635\u7684\u5f97\u51fa\uff0c\u4f5c\u8005\u6210\u529f\u7528Cross Attention\u5b9e\u73b0\u4e86\u5bf9\u9ad8\u5206\u8fa8\u7387\u56fe\u50cf\u7684\u6ce8\u610f\uff0c\u4f7f\u5f97\u539f\u59cb\u7684LLM\u80fd\u591f\u6355\u6349\u5230\u56fe\u7247\u7684\u66f4\u591a\u4fe1\u606f\u3002</p>"},{"location":"article/read/CogAgent%20A%20Visual%20Language%20Model%20for%20GUI%20Agents/#\u590d\u6742\u5ea6\u4f18\u5316","title":"\u590d\u6742\u5ea6\u4f18\u5316","text":"<p>\u6839\u636e\u4f5c\u8005\u7684\u8ba1\u7b97\uff0c\u4f7f\u7528Cross Attention\u76f8\u6bd4\u4e8e\u76f4\u63a5\u4f7f\u7528\u9ad8\u5206\u8fa8\u7387\u56fe\u7247\u4f5c\u4e3a\u8f93\u5165\uff0c\u4f1a\u52a0\u901f\\(\\frac{6400+L_T}{256+L_T}\\)\u500d\uff0c\u5176\u4e2d\\(L_T\\)\u662f\u8f93\u5165\u6587\u672c\u5e8f\u5217\u7684\u957f\u5ea6\uff0c\u6bd4\u5982\u4e00\u4e2a\u95ee\u9898\u7684\u957f\u5ea6\u3002</p>"},{"location":"article/read/CogAgent%20A%20Visual%20Language%20Model%20for%20GUI%20Agents/#\u9884\u8bad\u7ec3","title":"\u9884\u8bad\u7ec3","text":"<p>\u9884\u8bad\u7ec3\u5173\u6ce8\u7684\u70b9</p> <ul> <li> <p>the capability to recognize texts of various sizes, orientations, and fonts in high-resolution images</p> </li> <li> <p>the grounding ability of text and objects in the image</p> </li> <li>a specialized understanding capability for GUI imagery such as web page</li> </ul> <p>\u56e0\u6b64\uff0c\u4f7f\u7528\u7684\u8bad\u7ec3\u6570\u636e\u96c6\u7531\u4ee5\u4e0b\u4e09\u90e8\u5206\u6784\u6210\uff1a</p>"},{"location":"article/read/CogAgent%20A%20Visual%20Language%20Model%20for%20GUI%20Agents/#text-recognition","title":"Text Recognition","text":"<p>\u5728\u6587\u672c\u8bc6\u522b\u4e2d\uff0c\u5305\u62ec\u5982\u4e0b\u7684\u6570\u636e\uff1a</p> <ol> <li>\u8bed\u8a00\u9884\u8bad\u7ec3\u6570\u636e\u96c6\u4e2d\u7684\u6587\u672c\u5408\u6210\u6548\u679c\u56fe\u3002\u6587\u672c\u7684\u5b57\u4f53\u3001\u5927\u5c0f\u3001\u989c\u8272\u548c\u65b9\u5411\u5404\u4e0d\u76f8\u540c\uff0c\u56fe\u50cf\u80cc\u666f\u5219\u6765\u81ea LAION-2B\u3002  Synthetic renderings with text from language pre-training dataset</li> <li>\u81ea\u7136\u56fe\u50cf\u7684\u5149\u5b66\u5b57\u7b26\u8bc6\u522b\uff08OCR\uff09\u3002Optical Character Recognition (OCR) of natural images.</li> <li>Academic documents.</li> </ol>"},{"location":"article/read/CogAgent%20A%20Visual%20Language%20Model%20for%20GUI%20Agents/#visual-grounding\u89c6\u89c9\u5b9a\u4f4d","title":"Visual grounding(\u89c6\u89c9\u5b9a\u4f4d)","text":"<p>\u6570\u636e\u96c6\u5305\u542b\u4e864,000\u4e07\u5f20\u56fe\u50cf\uff0c\u6bcf\u5f20\u56fe\u50cf\u90fd\u6709\u5bf9\u5e94\u7684\u56fe\u50cf-\u6587\u672c\u63cf\u8ff0\u5bf9\u3002\u8fd9\u4e9b\u6587\u672c\u63cf\u8ff0\u6765\u81eaLAION-115M\u6570\u636e\u96c6\uff0c\u4e14\u4e0e\u56fe\u50cf\u4e2d\u7684\u5bf9\u8c61\u4f4d\u7f6e\u901a\u8fc7\u8fb9\u754c\u6846\uff08bounding boxes\uff09\u5173\u8054\u3002</p>"},{"location":"article/read/CogAgent%20A%20Visual%20Language%20Model%20for%20GUI%20Agents/#gui-imagery","title":"GUI imagery","text":"<p>\u56fe\u5f62\u7528\u6237\u754c\u9762\u56fe\u50cf\u5177\u6709\u72ec\u7279\u7684\u5143\u7d20\uff0c\u5982\u8f93\u5165\u5b57\u6bb5\u3001\u8d85\u94fe\u63a5\u3001\u56fe\u6807\u548c\u72ec\u7279\u7684\u5e03\u5c40\u7279\u5f81\uff0c\u56e0\u6b64\u9700\u8981\u4e13\u95e8\u5904\u7406\u3002 \u4f5c\u8d23\u5f00\u521b\u4e86\u4e24\u4e2a\u56fe\u5f62\u754c\u9762\u57fa\u7840\u4efb\u52a1\uff1a</p> <ol> <li> <p>GUI Referring Expression Generation (REG):\u6839\u636e\u622a\u56fe\u4e2d\u7684\u6307\u5b9a\u533a\u57df\u4e3a DOM\uff08\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff09\u5143\u7d20\u751f\u6210 HTML \u4ee3\u7801</p> </li> <li> <p>GUI Referring Expression Comprehension (REC):\u4e3a\u7ed9\u5b9a\u7684 DOM \u5143\u7d20\u521b\u5efa\u8fb9\u754c\u6846</p> </li> </ol> <p>\u4f5c\u8005\u4e3a\u6b64\u641c\u96c6\u4e86\u5927\u91cf\u6570\u636e\u96c6\uff0c\u5f62\u6210\u4e86CCS400K\u6570\u636e\u96c6\u3002\u8fd9\u4e2a\u5e9e\u5927\u7684\u6570\u636e\u96c6\u662f\u901a\u8fc7\u4ece\u6700\u65b0\u7684\u901a\u7528\u6293\u53d6\u6570\u636e\u4e2d\u63d0\u53d6 URL\uff0c\u7136\u540e\u622a\u53d6 400,000 \u5f20\u7f51\u9875\u622a\u56fe\u5f62\u6210\u7684\u3002</p> <p>\u9664\u622a\u56fe\u5916\uff0c\u8fd8\u4f7f\u7528 Playwright \u7f16\u8bd1\u4e86\u6240\u6709\u53ef\u89c1\u7684 DOM \u5143\u7d20\u53ca\u5176\u76f8\u5e94\u7684\u6e32\u67d3\u6846\uff0c\u5e76\u8865\u5145\u4e86 1.4 \u4ebf\u4e2a REC \u548c REG \u95ee\u7b54\u5bf9\u3002</p> <p>\u6b64\u5916\uff0c\u4e3a\u4e86\u9632\u6b62\u8fc7\u62df\u5408\uff0c\u91c7\u7528\u4e86\u591a\u79cd\u5c4f\u5e55\u5206\u8fa8\u7387\u8fdb\u884c\u6e32\u67d3\uff0c\u8fd9\u4e9b\u5206\u8fa8\u7387\u662f\u4ece\u5404\u79cd\u8bbe\u5907\u7684\u5e38\u7528\u5206\u8fa8\u7387\u5217\u8868\u4e2d\u968f\u673a\u9009\u53d6\u7684\u3002</p> <p>\u6b64\u5916\uff0c\u4e3a\u4e86\u9632\u6b62 HTML \u4ee3\u7801\u53d8\u5f97\u8fc7\u4e8e\u5197\u957f\u548c\u7b28\u91cd\uff0c\u4f5c\u8005\u6309\u901a\u8fc7\u5220\u9664 DOM \u5143\u7d20\u4e2d\u7684\u5197\u4f59\u5c5e\u6027\u6765\u8fdb\u884c\u5fc5\u8981\u7684\u6570\u636e\u6e05\u7406\u3002</p>"},{"location":"article/read/CogAgent%20A%20Visual%20Language%20Model%20for%20GUI%20Agents/#\u968f\u610f\u4e00\u53e5","title":"\u968f\u610f\u4e00\u53e5","text":"<p>and convert them into a natural language question-and-answer format using GPT-4\u8fd9\u91cc\u4e5f\u4f7f\u7528\u4e86\u5176\u4ed6\u7684AI\u6765\u751f\u6210\u6570\u636e\u96c6\u3002</p>"},{"location":"article/read/GPT-4%20Technical%20Report/","title":"GPT 4 Technical Report","text":""},{"location":"article/read/GPT-4%20Technical%20Report/#gpt-4-technical-report","title":"GPT-4 Technical Report","text":"<p> \u7ea6 111 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <p>\u7531\u4e24\u7bc7\u8bba\u6587\u7ec4\u6210\uff0c\u4ecb\u7ecd\u4e86GPT-4\u76f8\u6bd4\u4e0e\u4e4b\u524d\u7684\u6a21\u578b\u7684\u5f3a\u5927\uff0c\u4ee5\u53ca\u91cd\u70b9\u5173\u6ce8GPT-4\u7ed9\u51fa\u9519\u8bef/\u5371\u9669/\u8fdd\u6cd5/\u7f16\u9020\u56de\u7b54\u7684\u53ef\u80fd\uff0c\u7ed9\u51fa\u4e86\u5404\u79cd\u9519\u8bef\u7684\u793a\u4f8b\u4e0e\u5c1d\u8bd5\u51cf\u5c11\u9519\u8bef\u7684\u65b9\u6cd5\u53ca\u6548\u679c\u3002</p> <p>\u9519\u8bef\u7c7b\u578b\u6709\uff1a</p> <ul> <li>Hallucinations</li> <li>Harmful content</li> <li>Harms of representation, allocation, and quality of service</li> <li>Disinformation and influence operations</li> <li>Proliferation of conventional and unconventional weapons</li> <li>Privacy</li> <li>Cybersecurity</li> <li>Potential for risky emergent behaviors</li> <li>Interactions with other systems</li> <li>Economic impacts</li> <li>Acceleration</li> <li>Overreliance</li> </ul>"},{"location":"article/read/Instruction%20Tuning%20for%20Large%20Language%20Model%20%20A%20Survey/","title":"Instruction Tuning for Large Language Model  A Survey","text":""},{"location":"article/read/Instruction%20Tuning%20for%20Large%20Language%20Model%20%20A%20Survey/#instruction-tuning-for-large-language-models-a-survey","title":"Instruction Tuning for Large Language Models: A Survey","text":"<p> \u7ea6 205 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <p>Instruction Tuning\u4f18\u70b9\u4e0e\u6570\u636e\u96c6:</p> <p>It involves further training LLMs using (INSTRUCTION, OUTPUT) pairs, where INSTRUCTION denotes the human instruction for the model, and OUTPUT denotes the desired output that follows the INSTRUCTION. The benefits of IT are threefold: (1) Finetuning an LLM on the instruction dataset bridges the gap between the next-word prediction objective of LLMs and the users\u2019 objective of instruction following; (2) IT allows for a more controllable and predictable model behavior compared to standard LLMs. The instructions serve to constrain the model\u2019s outputs to align with the desired response characteristics or domain knowledge, providing a channel for humans to intervene with the model\u2019s behaviors; and (3) IT is computationally efficient and can help LLMs rapidly adapt to a specific domain without extensive retraining or architectural changes. Each instance in an instruction dataset consists of three elements: an instruction, which is a natural language text sequence to specify the task (e.g., write a thank-you letter to XX for XX, write a blog on the topic of XX, etc); an optional input which provides supplementary information for context; and an anticipated output based on the instruction and the input</p>"},{"location":"article/read/Knowledge%20Distillation%20A%20Survey/","title":"Knowledge Distillation: A Survey","text":"<p> \u7ea6 2786 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 14 \u5206\u949f</p> <p>\u4e00\u7bc7\u5173\u4e8e\u77e5\u8bc6\u84b8\u998f\u9886\u57df\u7684\u7efc\u8ff0\u3002</p>"},{"location":"article/read/Knowledge%20Distillation%20A%20Survey/#\u4e3b\u8981\u5185\u5bb9\u6982\u89c8","title":"\u4e3b\u8981\u5185\u5bb9\u6982\u89c8","text":"<p>\u77e5\u8bc6\u84b8\u998f\u6307\u7684\u662f\u5c06\u4e00\u4e2a\u5927\u578b\u7684\u3001\u590d\u6742\u7684\u6a21\u578b\uff08\u6559\u5e08\u6a21\u578b\uff09\u4e2d\u63d0\u53d6\u7684\u77e5\u8bc6\u8f6c\u79fb\u5230\u4e00\u4e2a\u8f83\u5c0f\u7684\u3001\u7b80\u5355\u7684\u6a21\u578b\uff08\u5b66\u751f\u6a21\u578b\uff09\u4e2d\u3002\u77e5\u8bc6\u84b8\u998f\u7684\u4e3b\u8981\u76ee\u6807\u662f\u63d0\u9ad8\u5b66\u751f\u6a21\u578b\u7684\u6027\u80fd\uff0c\u4f7f\u5176\u5728\u63a8\u7406\u65f6\u66f4\u5feb\u3001\u66f4\u9ad8\u6548\u3002</p> <ol> <li> <p>\u6309\u7167\u6559\u5e08\u6a21\u578b\u4e2d\u53ef\u63d0\u53d6\u7684\u77e5\u8bc6\u7c7b\u578b\u5bf9\u77e5\u8bc6\u84b8\u998f\u8fdb\u884c\u5206\u7c7b</p> <ol> <li> <p>Response-based\uff1a\u76f4\u63a5\u4f7f\u7528\u6559\u5e08\u6a21\u578b\u7684\u8f93\u51fa\u4f5c\u4e3a\u5b66\u751f\u6a21\u578b\u7684\u76ee\u6807\u3002\u8fd9\u91cc\u7684\u8f93\u51fa\u5305\u62ec\u4e86\u8f6f\u6807\u7b7e(soft labels)\u548c\u786c\u6807\u7b7e(hard labels)\u3002\u8f6f\u6807\u7b7e\u662f\u6307\u6559\u5e08\u6a21\u578b\u7684\u8f93\u51fa\u6982\u7387\u5206\u5e03\uff0c\u800c\u786c\u6807\u7b7e\u662f\u6307\u771f\u5b9e\u6807\u7b7e\u3002\u8f6f\u6807\u7b7e\u5305\u542b\u4e86\u66f4\u591a\u7684\u4fe1\u606f\uff0c\u56e0\u6b64\u901a\u5e38\u6bd4\u786c\u6807\u7b7e\u66f4\u6709\u6548\u3002</p> <ul> <li>Response-based\u77e5\u8bc6\u84b8\u998f\u662f\u6700\u57fa\u7840\u7684\u77e5\u8bc6\u8fc1\u79fb\u65b9\u5f0f</li> <li>\u901a\u5e38\u4f7f\u7528KL\u6563\u5ea6\u6216\u4ea4\u53c9\u71b5\u635f\u5931\u6765\u8861\u91cf\u5b66\u751f\u6a21\u578b\u8f93\u51fa\u4e0e\u6559\u5e08\u6a21\u578b\u8f93\u51fa\u4e4b\u95f4\u7684\u5dee\u5f02</li> <li>\u5f15\u5165\u6e29\u5ea6\u53c2\u6570(Temperature)\u5bf9\u6559\u5e08\u6a21\u578b\u8f93\u51fa\u7684\u6982\u7387\u5206\u5e03\u8fdb\u884c\"\u8f6f\u5316\"\uff0c\u4f7f\u5176\u5305\u542b\u66f4\u591a\u4fe1\u606f</li> <li>\u4f8b\u5982\uff1a\u5728\u5206\u7c7b\u4efb\u52a1\u4e2d\uff0c\u6559\u5e08\u53ef\u80fd\u5bf9\u67d0\u4e2a\u56fe\u50cf\u670990%\u786e\u4fe1\u662f\u732b\uff0c8%\u662f\u72d7\uff0c2%\u662f\u5176\u4ed6\u52a8\u7269\uff0c\u8fd9\u79cd\u5206\u5e03\u6bd4\u7b80\u5355\u7684\"\u8fd9\u662f\u732b\"\u6807\u7b7e\u5305\u542b\u66f4\u4e30\u5bcc\u7684\u77e5\u8bc6</li> </ul> </li> <li> <p>Feature-based\uff1a\u4f7f\u7528\u6559\u5e08\u6a21\u578b\u4e2d\u95f4\u5c42\u7684\u7279\u5f81\u4f5c\u4e3a\u5b66\u751f\u6a21\u578b\u7684\u76ee\u6807\u3002\u8fd9\u91cc\u7684\u7279\u5f81\u53ef\u4ee5\u662f\u4e2d\u95f4\u5c42\u7684\u6fc0\u6d3b\u503c\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e2d\u95f4\u5c42\u7684\u8f93\u51fa\u3002</p> <ul> <li>\u5047\u8bbe\u6559\u5e08\u6a21\u578b\u901a\u8fc7\u591a\u5c42\u5904\u7406\u63d0\u53d6\u4e86\u4e30\u5bcc\u7684\u6570\u636e\u8868\u793a\uff0c\u8fd9\u4e9b\u4e2d\u95f4\u7279\u5f81\u5305\u542b\u6709\u4ef7\u503c\u7684\u77e5\u8bc6</li> <li>\u5b9e\u73b0\u65b9\u5f0f\u5305\u62ec\u5728\u5b66\u751f\u6a21\u578b\u4e2d\u6dfb\u52a0\u989d\u5916\u7684\u6620\u5c04\u5c42\uff0c\u4f7f\u5176\u7279\u5f81\u7a7a\u95f4\u4e0e\u6559\u5e08\u6a21\u578b\u5bf9\u9f50</li> <li>\u901a\u5e38\u901a\u8fc7\u6700\u5c0f\u5316\u5b66\u751f\u7279\u5f81\u4e0e\u6559\u5e08\u7279\u5f81\u4e4b\u95f4\u7684\u8ddd\u79bb\uff08\u5982L2\u8ddd\u79bb\u3001\u4f59\u5f26\u76f8\u4f3c\u5ea6\u7b49\uff09</li> <li>\u53ef\u4ee5\u9009\u62e9\u6027\u5730\u5173\u6ce8\u7279\u5b9a\u5c42\u6216\u591a\u5c42\u7279\u5f81\uff0c\u4e0d\u540c\u5c42\u6b21\u7684\u7279\u5f81\u53ef\u80fd\u643a\u5e26\u4e0d\u540c\u7684\u62bd\u8c61\u7ea7\u522b\u4fe1\u606f</li> </ul> </li> <li> <p>Relation-based\uff1a\u4f7f\u7528\u6559\u5e08\u6a21\u578b\u4e2d\u95f4\u5c42\u7684\u5173\u7cfb\u4f5c\u4e3a\u5b66\u751f\u6a21\u578b\u7684\u76ee\u6807\u3002\u8fd9\u91cc\u7684\u5173\u7cfb\u53ef\u4ee5\u662f\u4e2d\u95f4\u5c42\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e2d\u95f4\u5c42\u4e0e\u8f93\u5165\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u5177\u4f53\u6765\u8bb2\uff1a</p> <ul> <li>\u5173\u6ce8\u7684\u662f\u6a21\u578b\u5185\u90e8\u7ed3\u6784\u5316\u5173\u7cfb\u7684\u8fc1\u79fb\uff0c\u800c\u975e\u5355\u70b9\u7279\u5f81\u6216\u8f93\u51fa</li> <li>\u4e3b\u8981\u5f62\u5f0f\u5305\u62ec\uff1a<ul> <li>\u6837\u672c\u5173\u7cfb\u8fc1\u79fb\uff1a\u4fdd\u6301\u6279\u6b21\u5185\u4e0d\u540c\u6837\u672c\u6fc0\u6d3b\u503c\u4e4b\u95f4\u7684\u76f8\u4f3c\u6027\u5173\u7cfb</li> <li>\u7279\u5f81\u5173\u7cfb\u8fc1\u79fb\uff1a\u4fdd\u6301\u540c\u4e00\u5c42\u4e0d\u540c\u901a\u9053/\u795e\u7ecf\u5143\u4e4b\u95f4\u7684\u5173\u7cfb\u7ed3\u6784</li> <li>\u5c42\u95f4\u5173\u7cfb\u8fc1\u79fb\uff1a\u6355\u83b7\u4e0d\u540c\u5c42\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb</li> </ul> </li> <li>\u5e38\u7528\u65b9\u6cd5\u5305\u62ec\u76f8\u5173\u7cfb\u6570\u77e9\u9635\u8fc1\u79fb\u3001\u6ce8\u610f\u529b\u6620\u5c04\u8fc1\u79fb\u3001\u56fe\u7ed3\u6784\u77e5\u8bc6\u8fc1\u79fb\u7b49</li> </ul> </li> </ol> </li> <li> <p>\u84b8\u998f\u65b9\u6848\uff1a\u6559\u5e08\u6a21\u578b\u4e0e\u5b66\u751f\u6a21\u578b\u6709\u5f88\u591a\u8bad\u7ec3\u65b9\u5f0f</p> <ol> <li> <p>\u79bb\u7ebf\u84b8\u998f(Offline Distillation)\uff1a\u6559\u5e08\u6a21\u578b\u548c\u5b66\u751f\u6a21\u578b\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u8bad\u7ec3\u3002\u6559\u5e08\u6a21\u578b\u5148\u8bad\u7ec3\u597d\uff0c\u7136\u540e\u7528\u5176\u8f93\u51fa\u4f5c\u4e3a\u5b66\u751f\u6a21\u578b\u7684\u8bad\u7ec3\u76ee\u6807\u3002</p> <ul> <li>\u4f18\u70b9\uff1a\u53ef\u4ee5\u5145\u5206\u5229\u7528\u6559\u5e08\u6a21\u578b\u7684\u77e5\u8bc6</li> <li>\u7f3a\u70b9\uff1a\u9700\u8981\u989d\u5916\u7684\u5b58\u50a8\u7a7a\u95f4\u6765\u4fdd\u5b58\u6559\u5e08\u6a21\u578b\u7684\u8f93\u51fa</li> </ul> </li> <li> <p>\u5728\u7ebf\u84b8\u998f(Online Distillation)\uff1a\u6559\u5e08\u6a21\u578b\u548c\u5b66\u751f\u6a21\u578b\u5728\u540c\u4e00\u65f6\u95f4\u8bad\u7ec3\u3002\u6559\u5e08\u6a21\u578b\u548c\u5b66\u751f\u6a21\u578b\u5171\u4eab\u53c2\u6570\uff0c\u6216\u8005\u5728\u540c\u4e00\u6279\u6b21\u4e2d\u8bad\u7ec3\u3002</p> <ul> <li>\u4f18\u70b9\uff1a\u53ef\u4ee5\u51cf\u5c11\u5b58\u50a8\u7a7a\u95f4\u7684\u9700\u6c42</li> <li>\u7f3a\u70b9\uff1a\u9700\u8981\u66f4\u591a\u7684\u8ba1\u7b97\u8d44\u6e90</li> </ul> </li> <li> <p>\u81ea\u84b8\u998f(Self-Distillation)\uff1a\u5b66\u751f\u6a21\u578b\u5728\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u81ea\u5df1\u7684\u8f93\u51fa\u4f5c\u4e3a\u76ee\u6807\u3002\u5373\u5b66\u751f\u6a21\u578b\u5728\u8bad\u7ec3\u65f6\u65e2\u662f\u6559\u5e08\u6a21\u578b\u4e5f\u662f\u5b66\u751f\u6a21\u578b\u3002</p> </li> </ol> </li> <li> <p>\u84b8\u998f\u7b97\u6cd5:\u6709\u8bb8\u591a\u7b97\u6cd5\u6765\u5b9e\u73b0\u5728\u6559\u5e08\u4e0e\u5b66\u751f\u4e2d\u4f20\u9012\u77e5\u8bc6</p> <ol> <li> <p>Adversarial Distillation:\u5bf9\u6297\u84b8\u998f.\u5229\u7528GAN\u7684\u601d\u60f3,\u6559\u5e08\u6a21\u578b\u751f\u6210\u7684\u77e5\u8bc6\u52a0\u4e0a\u566a\u58f0,\u5b66\u751f\u6a21\u578b\u901a\u8fc7\u5bf9\u6297\u8bad\u7ec3\u6765\u5b66\u4e60\u6559\u5e08\u6a21\u578b\u7684\u77e5\u8bc6.</p> </li> <li> <p>Multi-Teacher Distillation:\u591a\u6559\u5e08\u84b8\u998f.\u4f7f\u7528\u591a\u4e2a\u6559\u5e08\u6a21\u578b\u6765\u751f\u6210\u77e5\u8bc6,\u5b66\u751f\u6a21\u578b\u901a\u8fc7\u878d\u5408\u591a\u4e2a\u6559\u5e08\u6a21\u578b\u7684\u77e5\u8bc6\u6765\u5b66\u4e60.</p> </li> <li> <p>Cross-Modal Distillation:\u4ea4\u53c9\u6a21\u6001\u84b8\u998f.\u5728\u4e0d\u540c\u6a21\u6001\u4e4b\u95f4\u8fdb\u884c\u77e5\u8bc6\u84b8\u998f,\u4f8b\u5982\u4ece\u56fe\u50cf\u5230\u6587\u672c,\u6216\u4ece\u6587\u672c\u5230\u56fe\u50cf.</p> </li> <li> <p>Graph-Based Distillation:\u56fe\u84b8\u998f.\u4f7f\u7528\u56fe\u795e\u7ecf\u7f51\u7edc\u6765\u8fdb\u884c\u77e5\u8bc6\u84b8\u998f,\u901a\u8fc7\u56fe\u7ed3\u6784\u6765\u8868\u793a\u6559\u5e08\u6a21\u578b\u548c\u5b66\u751f\u6a21\u578b\u4e4b\u95f4\u7684\u5173\u7cfb.</p> </li> <li> <p>Attention-Based Distillation:\u6ce8\u610f\u529b\u84b8\u998f.\u4f7f\u7528\u6ce8\u610f\u529b\u673a\u5236\u6765\u8fdb\u884c\u77e5\u8bc6\u84b8\u998f,\u901a\u8fc7\u5bf9\u6559\u5e08\u6a21\u578b\u7684\u6ce8\u610f\u529b\u6743\u91cd\u8fdb\u884c\u84b8\u998f\u6765\u63d0\u9ad8\u5b66\u751f\u6a21\u578b\u7684\u6027\u80fd.</p> </li> <li> <p>Data-Free Distillation:\u65e0\u6570\u636e\u84b8\u998f.\u5728\u6ca1\u6709\u8bad\u7ec3\u6570\u636e\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u77e5\u8bc6\u84b8\u998f,\u901a\u8fc7\u751f\u6210\u5408\u6210\u6570\u636e\u6765\u8fdb\u884c\u84b8\u998f.</p> </li> <li> <p>Quantized Distillation:\u91cf\u5316\u84b8\u998f.\u5bf9\u6559\u5e08\u6a21\u578b\u8fdb\u884c\u91cf\u5316,\u5373\u5c06\u6a21\u578b\u7684\u6d6e\u70b9\u6570\u53c2\u6570\uff08\u901a\u5e38\u662f32\u4f4d\u6d6e\u70b9\u6570\uff09\u8f6c\u6362\u4e3a\u4f4e\u7cbe\u5ea6\u8868\u793a\uff08\u59828\u4f4d\u6574\u6570\u6216\u4e8c\u503c\uff09\uff0c\u4ee5\u51cf\u5c11\u6a21\u578b\u5927\u5c0f\u548c\u63a8\u7406\u65f6\u95f4\u3002\u91cf\u5316\u84b8\u998f\u5c06\u91cf\u5316\u6280\u672f\u4e0e\u77e5\u8bc6\u84b8\u998f\u76f8\u7ed3\u5408\uff1a</p> <ul> <li>\u901a\u8fc7\u77e5\u8bc6\u84b8\u998f\u6765\u7f13\u89e3\u91cf\u5316\u8fc7\u7a0b\u4e2d\u5f15\u5165\u7684\u7cbe\u5ea6\u635f\u5931</li> <li>\u6559\u5e08\u6a21\u578b\u901a\u5e38\u662f\u5168\u7cbe\u5ea6\u6a21\u578b\uff0c\u800c\u5b66\u751f\u6a21\u578b\u4e3a\u91cf\u5316\u540e\u7684\u4f4e\u7cbe\u5ea6\u7248\u672c</li> </ul> </li> <li> <p>Lifelong Distillation:\u7ec8\u8eab\u84b8\u998f.\u5728\u7ec8\u8eab\u5b66\u4e60\u573a\u666f\u4e2d\u8fdb\u884c\u77e5\u8bc6\u84b8\u998f,\u6559\u5e08\u6a21\u578b\u5728\u4e0d\u65ad\u66f4\u65b0,\u5b66\u751f\u6a21\u578b\u9700\u8981\u4e0d\u65ad\u9002\u5e94\u65b0\u7684\u77e5\u8bc6.</p> </li> <li> <p>NAS-Based Distillation:\u57fa\u4e8e\u795e\u7ecf\u67b6\u6784\u641c\u7d22\u7684\u84b8\u998f.\u4f7f\u7528\u795e\u7ecf\u67b6\u6784\u641c\u7d22\u6765\u81ea\u52a8\u5316\u5730\u8bbe\u8ba1\u6559\u5e08\u6a21\u578b\u548c\u5b66\u751f\u6a21\u578b,\u901a\u8fc7\u641c\u7d22\u6700\u4f18\u7684\u84b8\u998f\u7b56\u7565\u6765\u63d0\u9ad8\u5b66\u751f\u6a21\u578b\u7684\u6027\u80fd.</p> </li> </ol> </li> </ol>"},{"location":"article/read/Knowledge%20Distillation%20A%20Survey/#response-based-knowledge-distillation","title":"Response-Based Knowledge Distillation","text":"<p>\u5728\u77e5\u8bc6\u84b8\u998f\u4e2d\uff0c\u4f20\u7edf\u7684\u635f\u5931\u51fd\u6570\u65e0\u6cd5\u7cbe\u786e\u63cf\u8ff0\u5b66\u751f\u5b66\u4e60\u6559\u5e08\u6a21\u578b\u7684\u7a0b\u5ea6\uff0c\u56e0\u6b64\u9700\u8981\u8bbe\u8ba1\u65b0\u7684\u635f\u5931\u51fd\u6570\u6765\u66f4\u597d\u5730\u6355\u6349\u6559\u5e08\u6a21\u578b\u7684\u77e5\u8bc6\u3002</p> <p>\u4e8e\u662f\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u65b0\u7684\u635f\u5931\u51fd\u6570\uff0c\u79f0\u4e3a\u84b8\u998f\u635f\u5931\u51fd\u6570\uff0c\u5b83\u7ed3\u5408\u4e86\u6559\u5e08\u6a21\u578b\u7684\u8f93\u51fa\u548c\u5b66\u751f\u6a21\u578b\u7684\u8f93\u51fa\u3002\u84b8\u998f\u635f\u5931\u51fd\u6570\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a</p> \\[ L_{KD} = \\alpha L_{hard} + (1 - \\alpha) L_{soft} \\] <p>\u5176\u4e2d\uff0c\\(L_{hard}\\)\u662f\u5b66\u751f\u6a21\u578b\u7684\u786c\u6807\u7b7e\u635f\u5931\uff0c\\(L_{soft}\\)\u662f\u5b66\u751f\u6a21\u578b\u7684\u8f6f\u6807\u7b7e\u635f\u5931\uff0c\\(\\alpha\\)\u662f\u4e00\u4e2a\u8d85\u53c2\u6570\uff0c\u7528\u4e8e\u5e73\u8861\u4e24\u8005\u7684\u6743\u91cd\u3002</p> <p>\\(L_{hard}\\)\u901a\u5e38\u4f7f\u7528\u4ea4\u53c9\u71b5\u635f\u5931\u51fd\u6570\u6765\u8ba1\u7b97\uff0c\u800c\\(L_{soft}\\)\u5219\u4f7f\u7528KL\u6563\u5ea6\u6765\u8ba1\u7b97\u3002\u5177\u4f53\u6765\u8bf4\uff0c\\(L_{hard}\\)\u548c\\(L_{soft}\\)\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a</p> \\[ L_{hard} = -\\sum_{i=1}^{N} y_i \\log(p_i) \\] \\[ L_{soft} = -\\sum_{i=1}^{N} q_i \\log(p_i) \\] <p>\u5176\u4e2d\uff0c\\(N\\)\u662f\u6837\u672c\u6570\u91cf\uff0c\\(y_i\\)\u662f\u6837\u672c\\(i\\)\u7684\u771f\u5b9e\u6807\u7b7e\uff0c\\(p_i\\)\u662f\u5b66\u751f\u6a21\u578b\u7684\u8f93\u51fa\u6982\u7387\u5206\u5e03\uff0c\\(q_i\\)\u662f\u6559\u5e08\u6a21\u578b\u7684\u8f93\u51fa\u6982\u7387\u5206\u5e03\u3002</p> <p>\u5bf9\u4e8e\u6982\u7387\u5206\u5e03\uff0c\u6211\u4eec\u4f7f\u7528softmax\u51fd\u6570\u6765\u8ba1\u7b97\uff1a</p> \\[ p_i = \\frac{e^{z_i / T}}{\\sum_{j=1}^{N} e^{z_j / T}} \\] <p>\u5176\u4e2d\\(z_i\\)\u662f\u5b66\u751f\u6a21\u578b\u7684logits\uff0c\\(T\\)\u662f\u6e29\u5ea6\u53c2\u6570\u3002\u6e29\u5ea6\u53c2\u6570\u7528\u4e8e\u63a7\u5236softmax\u51fd\u6570\u7684\u5e73\u6ed1\u7a0b\u5ea6\u3002\u5f53\\(T=1\\)\u65f6\uff0csoftmax\u51fd\u6570\u8f93\u51fa\u7684\u662f\u539f\u59cb\u7684\u6982\u7387\u5206\u5e03\uff1b\u5f53\\(T&gt;1\\)\u65f6\uff0csoftmax\u51fd\u6570\u8f93\u51fa\u7684\u662f\u5e73\u6ed1\u7684\u6982\u7387\u5206\u5e03\uff1b\u5f53\\(T&lt;1\\)\u65f6\uff0csoftmax\u51fd\u6570\u8f93\u51fa\u7684\u662f\u5c16\u9510\u7684\u6982\u7387\u5206\u5e03\u3002</p>"},{"location":"article/read/Knowledge%20Distillation%20A%20Survey/#feature-based-knowledge-distillation","title":"Feature-Based Knowledge Distillation","text":"<p>\u84b8\u998f\u635f\u5931\u51fd\u6570\u4e3a\uff1a</p> \\[\\begin{equation} L_{FeaD} \\left( f_t (x), f_s(x) \\right) = L_F \\left( \\Phi_t ( f_t (x)), \\Phi_s( f_s(x)) \\right) \\end{equation}\\] <p>\u5176\u4e2d\uff1a</p> <ul> <li> <p>\\(f_t (x)\\) \u548c \\(f_s(x)\\) \u662f\u6559\u5e08\u548c\u5b66\u751f\u6a21\u578b\u7684\u4e2d\u95f4\u5c42\u7279\u5f81\u8868\u793a\uff1b</p> </li> <li> <p>\\(\\Phi_t\\) \u548c \\(\\Phi_s\\) \u662f\u7528\u4e8e\u53d8\u6362\u7279\u5f81\u7684\u51fd\u6570\uff0c\u4f7f\u6559\u5e08\u548c\u5b66\u751f\u7684\u7279\u5f81\u7ef4\u5ea6\u5339\u914d\uff1b</p> </li> <li> <p>\\(L_F (\\cdot)\\) \u662f\u8861\u91cf\u7279\u5f81\u76f8\u4f3c\u6027\u7684\u635f\u5931\u51fd\u6570\uff0c\u5982 L1\u3001L2 \u6216\u6700\u5927\u5747\u503c\u5dee\u5f02 (MMD) \u635f\u5931\u3002</p> </li> </ul>"},{"location":"article/read/Knowledge%20Distillation%20A%20Survey/#relation-based-knowledge-distillation","title":"Relation-Based Knowledge Distillation","text":"<p>\u5173\u7cfb\u84b8\u998f\u7684\u6838\u5fc3\u601d\u60f3\u662f\u901a\u8fc7\u4fdd\u6301\u6559\u5e08\u6a21\u578b\u548c\u5b66\u751f\u6a21\u578b\u4e4b\u95f4\u7684\u5173\u7cfb\u6765\u8fdb\u884c\u77e5\u8bc6\u84b8\u998f\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u635f\u5931\u51fd\u6570\u6765\u5b9e\u73b0\u5173\u7cfb\u84b8\u998f\uff1a $$ L_{Rel} = \\sum_{i=1}^{N} \\left| R(f_t(x_i)) - R(f_s(x_i)) \\right|_2^2 $$ \u5176\u4e2d\uff0c\\(R(\\cdot)\\)\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u7528\u4e8e\u8ba1\u7b97\u7279\u5f81\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u5e38\u7528\u7684\u5173\u7cfb\u5305\u62ec\u6b27\u51e0\u91cc\u5f97\u8ddd\u79bb\u3001\u4f59\u5f26\u76f8\u4f3c\u5ea6\u7b49\u3002</p>"},{"location":"article/read/Knowledge%20Distillation%20A%20Survey/#\u4e00\u4e9b\u635f\u5931\u51fd\u6570","title":"\u4e00\u4e9b\u635f\u5931\u51fd\u6570","text":"<p>Tip</p> \u6b27\u51e0\u91cc\u5f97\u8ddd\u79bb(L2 Loss)\u4f59\u5f26\u76f8\u4f3c\u5ea6(Cosine Similarity)\u6700\u5927\u5747\u503c\u5dee\u5f02(MMD)KL \u6563\u5ea6(KL Divergence)\u4ea4\u53c9\u71b5\u635f\u5931(Cross Entropy Loss)L1 \u635f\u5931(L1 Loss) \\[ L_{2} = \\left\\| f_t(x) - f_s(x) \\right\\|^2 \\] \\[ L_{cos} = 1 - \\frac{f_t(x) \\cdot f_s(x)}{\\left\\| f_t(x) \\right\\| \\left\\| f_s(x) \\right\\|} \\] \\[ L_{MMD} = \\left\\| \\frac{1}{N^2} \\sum_{i=1}^{N} f_t(x_i) f_t(x_i)^T - \\frac{1}{N^2} \\sum_{i=1}^{N} f_s(x_i) f_s(x_i)^T \\right\\|^2 \\] \\[ L_{KL} = \\sum_{i=1}^{N} p_i \\log \\frac{p_i}{q_i} \\] \\[ L_{CE} = -\\sum_{i=1}^{N} y_i \\log(p_i) \\] \\[ L_{1} = \\left\\| f_t(x) - f_s(x) \\right\\| \\]"},{"location":"article/read/Knowledge%20Distillation%20A%20Survey/#\u77e5\u8bc6\u84b8\u998f\u7684\u4e00\u822c\u8fc7\u7a0b","title":"\u77e5\u8bc6\u84b8\u998f\u7684\u4e00\u822c\u8fc7\u7a0b","text":"<p>\u6458\u81ea\u53e6\u4e00\u7bc7\u8bba\u6587</p> <ol> <li> <p>Target Skill or Domain Steering Teacher LLM</p> <ul> <li> <p>\u9009\u62e9\u4e00\u4e2a\u5927\u578b\u7684\u3001\u590d\u6742\u7684\u6559\u5e08\u6a21\u578b\uff0c\u901a\u5e38\u662f\u4e00\u4e2a\u9884\u8bad\u7ec3\u7684\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\uff0c\u5982GPT-3\u3001BERT\u7b49\u3002</p> </li> <li> <p>\u8be5\u6a21\u578b\u5728\u7279\u5b9a\u9886\u57df\u6216\u4efb\u52a1\u4e0a\u8868\u73b0\u826f\u597d\uff0c\u5e76\u4e14\u5177\u6709\u4e30\u5bcc\u7684\u77e5\u8bc6\u548c\u80fd\u529b\u3002</p> </li> <li> <p>\u7b2c\u4e00\u9636\u6bb5\u6d89\u53ca\u5c06\u6559\u5e08LLM\u5f15\u5bfc\u5411\u7279\u5b9a\u76ee\u6807\u6280\u80fd\u6216\u9886\u57df\u3002\u8fd9\u901a\u8fc7\u7cbe\u5fc3\u8bbe\u8ba1\u7684\u6307\u4ee4\u6216\u6a21\u677f\u6765\u5b9e\u73b0\uff0c\u8fd9\u4e9b\u6307\u4ee4\u5f15\u5bfcLLM\u7684\u6ce8\u610f\u529b\u3002\u8fd9\u4e9b\u6307\u4ee4\u65e8\u5728\u5f15\u51fa\u5c55\u793aLLM\u5728\u7279\u5b9a\u9886\u57df\u7684\u719f\u7ec3\u7a0b\u5ea6\u7684\u54cd\u5e94\uff0c\u65e0\u8bba\u662f\u533b\u7597\u4fdd\u5065\u6216\u6cd5\u5f8b\u7b49\u4e13\u4e1a\u9886\u57df\uff0c\u8fd8\u662f\u63a8\u7406\u6216\u8bed\u8a00\u7406\u89e3\u7b49\u6280\u80fd\u3002</p> </li> </ul> </li> <li> <p>Seed Knowledge as Input</p> <ul> <li> <p>\u4e00\u65e6\u786e\u5b9a\u4e86\u76ee\u6807\u9886\u57df\uff0c\u4e0b\u4e00\u6b65\u662f\u5411\u6559\u5e08LLM\u63d0\u4f9b\u79cd\u5b50\u77e5\u8bc6\u3002</p> </li> <li> <p>\u8fd9\u79cd\u79cd\u5b50\u77e5\u8bc6\u901a\u5e38\u5305\u62ec\u4e0e\u76ee\u6807\u6280\u80fd\u6216\u9886\u57df\u77e5\u8bc6\u76f8\u5173\u7684\u5c0f\u578b\u6570\u636e\u96c6\u6216\u7279\u5b9a\u6570\u636e\u7ebf\u7d22\uff0c\u7528\u4e8e\u5f15\u5bfc\u6559\u5e08LLM\u751f\u6210\u54cd\u5e94\u3002</p> </li> <li> <p>\u79cd\u5b50\u77e5\u8bc6\u5145\u5f53\u50ac\u5316\u5242\uff0c\u4fc3\u4f7f\u6559\u5e08LLM\u57fa\u4e8e\u8fd9\u4e9b\u521d\u59cb\u4fe1\u606f\u751f\u6210\u66f4\u52a0\u8be6\u7ec6\u548c\u6df1\u5165\u7684\u8f93\u51fa\u3002</p> </li> <li> <p>\u79cd\u5b50\u77e5\u8bc6\u81f3\u5173\u91cd\u8981\uff0c\u56e0\u4e3a\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u57fa\u7840\uff0c\u6559\u5e08\u6a21\u578b\u53ef\u4ee5\u5728\u6b64\u57fa\u7840\u4e0a\u6784\u5efa\u548c\u6269\u5c55\uff0c\u4ece\u800c\u521b\u5efa\u66f4\u5168\u9762\u3001\u66f4\u6df1\u5165\u7684\u77e5\u8bc6\u793a\u4f8b\u3002</p> </li> </ul> </li> <li> <p>Generation of Distillation Knowledge</p> <ul> <li> <p>\u5728\u54cd\u5e94\u79cd\u5b50\u77e5\u8bc6\u548c\u5f15\u5bfc\u6307\u4ee4\u540e\uff0c\u6559\u5e08LLM\u751f\u6210\u77e5\u8bc6\u793a\u4f8b\u3002</p> </li> <li> <p>\u8fd9\u4e9b\u793a\u4f8b\u4e3b\u8981\u4ee5\u95ee\u7b54(QA)\u5bf9\u8bdd\u6216\u53d9\u8ff0\u6027\u89e3\u91ca\u7684\u5f62\u5f0f\u5448\u73b0\uff0c\u4e0eLLM\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406/\u7406\u89e3\u80fd\u529b\u76f8\u7b26\u3002</p> </li> <li> <p>\u5728\u67d0\u4e9b\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0c\u8f93\u51fa\u4e5f\u53ef\u80fd\u5305\u62eclogits\u6216\u9690\u85cf\u7279\u5f81</p> </li> </ul> </li> <li> <p>Training the Student Model with a Specific Learning Objective</p> <ul> <li> <p>\u6700\u540e\u4e00\u4e2a\u9636\u6bb5\u6d89\u53ca\u5229\u7528\u751f\u6210\u7684\u77e5\u8bc6\u793a\u4f8b\u6765\u8bad\u7ec3\u5b66\u751f\u6a21\u578b\u3002</p> </li> <li> <p>\u8fd9\u79cd\u8bad\u7ec3\u7531\u4e0e\u5b66\u4e60\u76ee\u6807\u76f8\u7b26\u7684\u635f\u5931\u51fd\u6570\u6307\u5bfc\u3002\u635f\u5931\u51fd\u6570\u91cf\u5316\u4e86\u5b66\u751f\u6a21\u578b\u5728\u590d\u5236\u6216\u9002\u5e94\u6765\u81ea\u6559\u5e08\u6a21\u578b\u77e5\u8bc6\u65b9\u9762\u7684\u8868\u73b0\u3002</p> </li> <li> <p>\u901a\u8fc7\u6700\u5c0f\u5316\u8fd9\u79cd\u635f\u5931\uff0c\u5b66\u751f\u6a21\u578b\u5b66\u4e60\u6a21\u4eff\u6559\u5e08\u7684\u76ee\u6807\u6280\u80fd\u6216\u9886\u57df\u77e5\u8bc6\uff0c\u4ece\u800c\u83b7\u5f97\u7c7b\u4f3c\u7684\u80fd\u529b\u3002</p> </li> <li> <p>\u8fd9\u4e2a\u8fc7\u7a0b\u6d89\u53ca\u4e0d\u65ad\u8c03\u6574\u5b66\u751f\u6a21\u578b\u7684\u53c2\u6570\uff0c\u4ee5\u51cf\u5c11\u5176\u8f93\u51fa\u4e0e\u6559\u5e08\u6a21\u578b\u8f93\u51fa\u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u786e\u4fdd\u77e5\u8bc6\u7684\u6709\u6548\u8f6c\u79fb\u3002</p> </li> </ul> </li> </ol>"},{"location":"article/read/Visual%20Instruction%20Tuning%20and%20Improved%20Baselines%20with%20Visual%20Instruction%20Tuning/","title":"Visual Instruction Tuning and Improved Baselines with Visual Instruction Tuning","text":""},{"location":"article/read/Visual%20Instruction%20Tuning%20and%20Improved%20Baselines%20with%20Visual%20Instruction%20Tuning/#visual-instruction-tuning\u4e0eimproved-baselines-with-visual-instruction-tuning","title":"Visual Instruction Tuning\u4e0eImproved Baselines with Visual Instruction Tuning","text":"<p> \u7ea6 1752 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p> <p>\u8fd9\u91cc\u4e5f\u51fa\u73b0\u4e86\u4e00\u6bb5\u8bdd\uff1aFinally, note that visual instruction tuning is different from visual prompt tuning : the former aims to improve the model\u2019s instruction-following abilities, while the latter aims to improve the parameter-efficiency in model adaptation</p> <p>\u4f46\u6ca1\u6709\u592a\u7406\u89e3\uff0cGPT\u89e3\u91ca\u5982\u4e0b\uff1a</p> <ul> <li>\u89c6\u89c9\u6307\u4ee4\u8c03\u4f18\uff08Visual Instruction Tuning\uff09</li> <li>\u5b9a\u4e49\uff1a\u89c6\u89c9\u6307\u4ee4\u8c03\u4f18\u662f\u4e00\u79cd\u65b9\u6cd5\uff0c\u65e8\u5728\u901a\u8fc7\u8c03\u6574\u6a21\u578b\uff0c\u4f7f\u5176\u80fd\u591f\u66f4\u597d\u5730\u7406\u89e3\u548c\u6267\u884c\u7ed9\u5b9a\u7684\u6307\u4ee4\u3002\u6307\u4ee4\u901a\u5e38\u662f\u81ea\u7136\u8bed\u8a00\u5f62\u5f0f\u7684\uff0c\u6bd4\u5982\u201c\u8bc6\u522b\u56fe\u50cf\u4e2d\u7684\u732b\u201d\u6216\u201c\u89e3\u91ca\u56fe\u7247\u4e2d\u7684\u573a\u666f\u201d</li> <li>\u76ee\u6807\uff1a\u63d0\u9ad8\u6a21\u578b\u5728\u63a5\u6536\u6307\u4ee4\u540e\u7684\u6267\u884c\u80fd\u529b\uff0c\u4e5f\u5c31\u662f\u8ba9\u6a21\u578b\u80fd\u591f\u66f4\u51c6\u786e\u5730\u6309\u7167\u6307\u4ee4\u53bb\u5904\u7406\u548c\u5206\u6790\u89c6\u89c9\u5185\u5bb9\u3002</li> <li> <p>Example: \u5047\u8bbe\u4f60\u6b63\u5728\u5f00\u53d1\u4e00\u4e2a\u667a\u80fd\u76f8\u518c\u5e94\u7528\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u8bed\u97f3\u6307\u4ee4\u641c\u7d22\u4ed6\u4eec\u7684\u7167\u7247\uff0c\u6bd4\u5982\u201c\u663e\u793a\u6211\u5728\u6d77\u8fb9\u7684\u6240\u6709\u7167\u7247\u201d\u6216\u8005\u201c\u627e\u5230\u6211\u751f\u65e5\u6d3e\u5bf9\u7684\u7167\u7247\u201d\u3002\u6a21\u578b\u9700\u8981\u4ece\u7528\u6237\u63d0\u4f9b\u7684\u8bed\u97f3\u6216\u6587\u5b57\u6307\u4ee4\u4e2d\u7406\u89e3\u8981\u67e5\u627e\u7684\u5185\u5bb9\uff0c\u7136\u540e\u5728\u5927\u91cf\u7167\u7247\u4e2d\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u56fe\u7247\u3002\u4f60\u4f1a\u7528\u5927\u91cf\u7c7b\u4f3c\u7684\u6307\u4ee4-\u7167\u7247\u5bf9\u6765\u8bad\u7ec3\u6a21\u578b\uff0c\u4f8b\u5982\u201c\u5728\u7167\u7247\u4e2d\u627e\u5230\u7a7f\u7ea2\u8863\u670d\u7684\u4eba\u201d\u4ee5\u53ca\u76f8\u5173\u7684\u56fe\u7247\u3002\u901a\u8fc7\u4e0d\u65ad\u8bad\u7ec3\uff0c\u6a21\u578b\u53d8\u5f97\u66f4\u64c5\u957f\u7406\u89e3\u8fd9\u4e9b\u81ea\u7136\u8bed\u8a00\u6307\u4ee4\uff0c\u5e76\u5728\u7167\u7247\u4e2d\u627e\u5230\u76f8\u5173\u7684\u5185\u5bb9\u3002</p> </li> <li> <p>\u89c6\u89c9\u63d0\u793a\u8c03\u4f18\uff08Visual Prompt Tuning\uff09</p> </li> <li>\u5b9a\u4e49\uff1a\u89c6\u89c9\u63d0\u793a\u8c03\u4f18\u5219\u4fa7\u91cd\u4e8e\u901a\u8fc7\u63d0\u793a\uff08prompts\uff09\u6765\u8c03\u6574\u6a21\u578b\u7684\u884c\u4e3a\u3002\u8fd9\u4e9b\u63d0\u793a\u53ef\u80fd\u662f\u4e00\u4e9b\u9884\u5148\u8bbe\u5b9a\u7684\u8f93\u5165\uff0c\u5e2e\u52a9\u6a21\u578b\u9002\u5e94\u65b0\u7684\u4efb\u52a1\u6216\u6570\u636e\u3002\u8fd9\u79cd\u65b9\u6cd5\u901a\u5e38\u7528\u4e8e\u5728\u4e0d\u5927\u5e45\u4fee\u6539\u6a21\u578b\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u8ba9\u6a21\u578b\u9002\u5e94\u65b0\u4efb\u52a1.</li> <li>\u76ee\u6807\uff1a\u63d0\u9ad8\u6a21\u578b\u5728\u65b0\u4efb\u52a1\u4e2d\u7684\u53c2\u6570\u6548\u7387\uff0c\u5373\u5728\u5c3d\u91cf\u5c11\u4fee\u6539\u6a21\u578b\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u6a21\u578b\u80fd\u591f\u9002\u5e94\u65b0\u7684\u4efb\u52a1\u6216\u6570\u636e\u3002</li> <li>\u4f60\u6709\u4e00\u4e2a\u5df2\u7ecf\u8bad\u7ec3\u597d\u7684\u6a21\u578b\uff0c\u80fd\u591f\u8bc6\u522b\u57fa\u672c\u7684\u7269\u4f53\uff0c\u5982\u732b\u3001\u72d7\u3001\u8f66\u7b49\u3002\u73b0\u5728\uff0c\u4f60\u60f3\u8ba9\u8fd9\u4e2a\u6a21\u578b\u80fd\u591f\u8bc6\u522b\u7279\u5b9a\u732b\u7684\u54c1\u79cd\uff0c\u4f46\u4e0d\u60f3\u4ece\u5934\u5f00\u59cb\u91cd\u65b0\u8bad\u7ec3\u6574\u4e2a\u6a21\u578b\u3002\u4f60\u6709\u4e00\u4e2a\u5df2\u7ecf\u8bad\u7ec3\u597d\u7684\u6a21\u578b\uff0c\u80fd\u591f\u8bc6\u522b\u57fa\u672c\u7684\u7269\u4f53\uff0c\u5982\u732b\u3001\u72d7\u3001\u8f66\u7b49\u3002\u73b0\u5728\uff0c\u4f60\u60f3\u8ba9\u8fd9\u4e2a\u6a21\u578b\u80fd\u591f\u8bc6\u522b\u7279\u5b9a\u732b\u7684\u54c1\u79cd\uff0c\u4f46\u4e0d\u60f3\u4ece\u5934\u5f00\u59cb\u91cd\u65b0\u8bad\u7ec3\u6574\u4e2a\u6a21\u578b\u3002\u4f60\u4f1a\u8bbe\u8ba1\u4e00\u4e9b\u7279\u5b9a\u7684\u201c\u63d0\u793a\u201d\uff0c\u6bd4\u5982\u7ed9\u6a21\u578b\u8f93\u5165\u4e00\u4e9b\u5178\u578b\u7684\u732b\u54c1\u79cd\u56fe\u7247\uff0c\u6216\u8005\u4f7f\u7528\u4e00\u4e9b\u5e26\u6709\u54c1\u79cd\u6807\u7b7e\u7684\u7279\u5f81\u5411\u91cf\u3002\u8fd9\u4e9b\u63d0\u793a\u4e0d\u4f1a\u6539\u53d8\u6a21\u578b\u7684\u6838\u5fc3\u7ed3\u6784\u6216\u5927\u91cf\u53c2\u6570\uff0c\u4f46\u4f1a\u5f15\u5bfc\u6a21\u578b\u5728\u505a\u51fa\u9884\u6d4b\u65f6\u66f4\u52a0\u5173\u6ce8\u4e0e\u732b\u54c1\u79cd\u76f8\u5173\u7684\u7279\u5f81\u3002\u4f60\u4f1a\u8bbe\u8ba1\u4e00\u4e9b\u7279\u5b9a\u7684\u201c\u63d0\u793a\u201d\uff0c\u6bd4\u5982\u7ed9\u6a21\u578b\u8f93\u5165\u4e00\u4e9b\u5178\u578b\u7684\u732b\u54c1\u79cd\u56fe\u7247\uff0c\u6216\u8005\u4f7f\u7528\u4e00\u4e9b\u5e26\u6709\u54c1\u79cd\u6807\u7b7e\u7684\u7279\u5f81\u5411\u91cf\u3002\u8fd9\u4e9b\u63d0\u793a\u4e0d\u4f1a\u6539\u53d8\u6a21\u578b\u7684\u6838\u5fc3\u7ed3\u6784\u6216\u5927\u91cf\u53c2\u6570\uff0c\u4f46\u4f1a\u5f15\u5bfc\u6a21\u578b\u5728\u505a\u51fa\u9884\u6d4b\u65f6\u66f4\u52a0\u5173\u6ce8\u4e0e\u732b\u54c1\u79cd\u76f8\u5173\u7684\u7279\u5f81\u3002</li> </ul> <p>\u6587\u7ae0\u63d0\u5230\u4e86\u4f7f\u7528GPT-4\u751f\u6210\u6d4b\u8bd5\u6570\u636e\u96c6\uff0c\u5728\u4e4b\u524d\u7684\u5176\u4ed6\u5730\u65b9\u4e5f\u770b\u5230\u8fc7\uff0c\u4f3c\u4e4e\u662f\u4e2a\u633a\u5e38\u89c1\u7684\u65b9\u6cd5\uff1f</p> <p>pipeline\u731c\u6d4b</p> <p>\u8be6\u89c1LLaVA/llava/train/train.py\u8fd9\u4e2a\u4e5d\u767e\u591a\u884c\uff0c\u627f\u62c5\u4e86\u4e3b\u8981\u8bad\u7ec3\u4efb\u52a1\u7684\u6587\u4ef6\u3002 LLaVA \u7684 pipeline \u603b\u4f53\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li>\u591a\u6a21\u6001\u4fe1\u606f\u7684\u6709\u6548\u878d\u5408<ul> <li>\u56fe\u50cf\u548c\u6587\u672c\u7684\u7ed3\u5408\uff1aLLaVA \u6210\u529f\u7684\u6838\u5fc3\u539f\u56e0\u4e4b\u4e00\u5728\u4e8e\u5b83\u80fd\u591f\u6709\u6548\u5730\u5c06\u89c6\u89c9\u4fe1\u606f\uff08\u56fe\u50cf\uff09\u548c\u6587\u672c\u4fe1\u606f\u878d\u5408\u5728\u4e00\u8d77\u3002\u8fd9\u662f\u901a\u8fc7\u5f15\u5165\u5982 DEFAULT_IMAGE_TOKEN \u548c\u4e13\u95e8\u5904\u7406\u56fe\u50cf\u76f8\u5173 token \u7684\u673a\u5236\u6765\u5b9e\u73b0\u7684\u3002\u5b83\u80fd\u591f\u5904\u7406\u6587\u672c\u4e2d\u5d4c\u5165\u7684\u56fe\u50cf\u4fe1\u606f\uff0c\u5e76\u901a\u8fc7\u89c6\u89c9\u548c\u8bed\u8a00\u7684\u534f\u540c\u5b66\u4e60\uff0c\u589e\u5f3a\u6a21\u578b\u7684\u7406\u89e3\u548c\u63a8\u7406\u80fd\u529b\u3002</li> <li>\u591a\u6a21\u6001\u6295\u5f71\u5668 (mm_projector)\uff1aLLaVA \u5229\u7528\u4e86\u4e13\u95e8\u7684\u591a\u6a21\u6001\u6295\u5f71\u5c42\uff0c\u5c06\u89c6\u89c9\u7279\u5f81\u6295\u5f71\u5230\u8bed\u8a00\u7a7a\u95f4\uff0c\u4f7f\u5f97\u56fe\u50cf\u4fe1\u606f\u80fd\u591f\u81ea\u7136\u5730\u878d\u5165\u8bed\u8a00\u6a21\u578b\u7684\u4e0a\u4e0b\u6587\u3002\u8fd9\u79cd\u7ed3\u5408\u4f7f\u6a21\u578b\u80fd\u591f\u57fa\u4e8e\u89c6\u89c9\u4fe1\u606f\u751f\u6210\u8bed\u8a00\u5185\u5bb9\uff0c\u6216\u8005\u5bf9\u591a\u6a21\u6001\u8f93\u5165\u505a\u51fa\u5408\u7406\u7684\u63a8\u7406\u3002</li> </ul> </li> <li>\u667a\u80fd\u7684\u6570\u636e\u91c7\u6837\u548c\u5904\u7406\u673a\u5236<ul> <li>\u957f\u5ea6\u5206\u7ec4\u91c7\u6837 (LengthGroupedSampler)\uff1a\u5728\u591a\u6a21\u6001\u6570\u636e\u5904\u7406\u4e2d\uff0cLLaVA \u5f15\u5165\u4e86\u6309\u957f\u5ea6\u5206\u7ec4\u91c7\u6837\u7684\u673a\u5236\uff0c\u8fd9\u4fdd\u8bc1\u4e86\u5728\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u540c\u957f\u5ea6\u7684\u6837\u672c\u80fd\u591f\u88ab\u5747\u5300\u5904\u7406\uff0c\u5e76\u63d0\u9ad8\u4e86\u6279\u6b21\u6784\u5efa\u7684\u6548\u7387\u3002\u5bf9\u4e8e\u89c6\u89c9\u548c\u8bed\u8a00\u6df7\u5408\u7684\u6570\u636e\uff0c\u8fd9\u79cd\u91c7\u6837\u7b56\u7565\u907f\u514d\u4e86\u6781\u7aef\u6837\u672c\uff08\u5982\u6781\u957f\u6216\u6781\u77ed\u7684\u6837\u672c\uff09\u5bf9\u8bad\u7ec3\u6548\u679c\u7684\u5e72\u6270\uff0c\u4f18\u5316\u4e86\u8bad\u7ec3\u6548\u7387\u3002</li> <li>\u5ef6\u8fdf\u6570\u636e\u52a0\u8f7d\uff1aLLaVA \u4f7f\u7528 LazySupervisedDataset \u5b9e\u73b0\u6570\u636e\u7684\u5ef6\u8fdf\u52a0\u8f7d\uff0c\u51cf\u5c11\u4e86\u5185\u5b58\u6d88\u8017\uff0c\u5e76\u5728\u5904\u7406\u5927\u89c4\u6a21\u6570\u636e\u96c6\u65f6\u4fdd\u6301\u9ad8\u6548\u7684\u5904\u7406\u901f\u5ea6\u3002\u8fd9\u4f7f\u5f97\u5728\u591a\u6a21\u6001\u6570\u636e\u96c6\u8bad\u7ec3\u65f6\u80fd\u591f\u652f\u6301\u66f4\u5927\u89c4\u6a21\u7684\u6570\u636e\u91cf\u3002</li> </ul> </li> <li>\u7075\u6d3b\u7684\u4f18\u5316\u5668\u4e0e\u6a21\u578b\u8bad\u7ec3\u8bbe\u8ba1<ul> <li>\u53c2\u6570\u4f18\u5316\u7b56\u7565\uff1aLLaVA \u9488\u5bf9\u4e0d\u540c\u7684\u6a21\u578b\u90e8\u5206\uff08\u5982\u591a\u6a21\u6001\u6295\u5f71\u5668\u3001\u8bed\u8a00\u6a21\u578b\u7b49\uff09\u8bbe\u5b9a\u4e86\u4e0d\u540c\u7684\u4f18\u5316\u7b56\u7565\u3002\u901a\u8fc7\u8bbe\u5b9a\u4e0d\u540c\u7684\u5b66\u4e60\u7387\u548c\u6743\u91cd\u8870\u51cf\u53c2\u6570\uff0c\u6a21\u578b\u53ef\u4ee5\u9488\u5bf9\u8bed\u8a00\u548c\u89c6\u89c9\u90e8\u5206\u8fdb\u884c\u5fae\u8c03\uff0c\u8fbe\u5230\u66f4\u597d\u7684\u8bad\u7ec3\u6548\u679c\u3002</li> <li>\u5fae\u8c03\u4e0e\u4fdd\u5b58\u673a\u5236\uff1a\u6a21\u578b\u5728\u4fdd\u5b58\u65f6\u4ec5\u4fdd\u7559\u4e0e\u591a\u6a21\u6001\u76f8\u5173\u7684\u5173\u952e\u53c2\u6570\uff0c\u5982 mm_projector\uff0c\u8fd9\u5728\u4e0d\u727a\u7272\u6027\u80fd\u7684\u524d\u63d0\u4e0b\u5927\u5e45\u51cf\u5c11\u4e86\u6a21\u578b\u7684\u5b58\u50a8\u8d1f\u62c5\uff0c\u540c\u65f6\u4e5f\u4f7f\u5f97\u591a\u6a21\u6001\u76f8\u5173\u90e8\u5206\u7684\u5fae\u8c03\u66f4\u4e3a\u6709\u6548\u3002</li> </ul> </li> <li>\u4f18\u79c0\u7684\u6846\u67b6\u8bbe\u8ba1\u4e0e\u6df1\u5ea6\u5b66\u4e60\u6280\u672f<ul> <li>\u57fa\u4e8e Transformers \u6846\u67b6\uff1aLLaVA \u5145\u5206\u5229\u7528\u4e86 Transformers \u6846\u67b6\u7684\u4f18\u52bf\uff0c\u5982\u5206\u5e03\u5f0f\u8bad\u7ec3\u3001\u667a\u80fd\u4f18\u5316\u5668\u9009\u62e9\u7b49\u3002Transformer \u7684\u81ea\u6ce8\u610f\u529b\u673a\u5236\u4f7f\u5f97\u6a21\u578b\u80fd\u591f\u6709\u6548\u6355\u6349\u8f93\u5165\u4e2d\u8de8\u6a21\u6001\u7684\u4fe1\u606f\u4ea4\u4e92\uff0c\u5e76\u5728\u4e0a\u4e0b\u6587\u4e2d\u5408\u7406\u6574\u5408\u89c6\u89c9\u548c\u8bed\u8a00\u6570\u636e\u3002</li> <li>\u6df1\u5ea6\u5b66\u4e60\u7684\u524d\u6cbf\u6280\u672f\uff1a\u6a21\u578b\u6574\u5408\u4e86\u591a\u9879\u6df1\u5ea6\u5b66\u4e60\u6280\u672f\uff0c\u5982 DeepSpeed \u4f18\u5316\u5668\u7684\u652f\u6301\u548c 8-bit Adam \u4f18\u5316\u6280\u672f\u7b49\u3002\u8fd9\u4e9b\u4f18\u5316\u5668\u80fd\u8fdb\u4e00\u6b65\u63d0\u5347\u5927\u89c4\u6a21\u8bad\u7ec3\u7684\u6027\u80fd\uff0c\u5e76\u964d\u4f4e\u8bad\u7ec3\u7684\u663e\u5b58\u5360\u7528\u3002</li> </ul> </li> <li>\u9488\u5bf9\u591a\u6a21\u6001\u4efb\u52a1\u7684\u7cbe\u7ec6\u8bbe\u8ba1<ul> <li>\u7279\u5b9a\u4efb\u52a1\u5904\u7406\uff1aLLaVA \u7684\u8bbe\u8ba1\u7406\u5ff5\u5305\u62ec\u4e86\u9488\u5bf9\u4e0d\u540c\u4efb\u52a1\uff08\u5982\u89c6\u89c9\u95ee\u7b54\u3001\u56fe\u50cf\u63cf\u8ff0\u7b49\uff09\u7684\u7279\u5b9a\u6a21\u5757\u4f18\u5316\u3002\u901a\u8fc7\u5bf9\u591a\u6a21\u6001\u4efb\u52a1\u7684\u7cbe\u7ec6\u5904\u7406\uff0c\u6a21\u578b\u80fd\u591f\u6839\u636e\u4e0a\u4e0b\u6587\u66f4\u597d\u5730\u63a8\u7406\uff0c\u4ece\u800c\u5728\u591a\u6a21\u6001\u4efb\u52a1\u4e2d\u8868\u73b0\u51fa\u8272\u3002</li> <li>\u9002\u5e94\u6027\u5f3a\u7684\u67b6\u6784\uff1aLLaVA \u7684\u67b6\u6784\u652f\u6301\u4e0d\u540c\u7c7b\u578b\u7684\u8f93\u5165\u6570\u636e\uff0c\u5e76\u901a\u8fc7\u7075\u6d3b\u7684\u8bad\u7ec3\u6d41\u7a0b\u548c\u4f18\u5316\u7b56\u7565\uff0c\u4f7f\u5f97\u5b83\u80fd\u591f\u5728\u591a\u79cd\u573a\u666f\u548c\u4efb\u52a1\u4e2d\u8fdb\u884c\u6269\u5c55\u548c\u5e94\u7528\u3002</li> </ul> </li> </ol>"},{"location":"article/read/What%20is%20chatgpt%20doing%20and%20Why%20does%20it%20work/","title":"What is chatgpt doing and Why does it work","text":""},{"location":"article/read/What%20is%20chatgpt%20doing%20and%20Why%20does%20it%20work/#what-is-chatgpt-doing-and-why-does-it-work","title":"What is chatgpt doing and Why does it work","text":"<p> \u7ea6 437 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p> <p>\u5173\u4e8eChatgpt\u7684\u4e00\u7bc7\u957f\u6587\uff0c\u8bb2\u8ff0\u4e86Chatgpt\u751f\u6210\u56de\u7b54\uff0c\u4f7f\u7528\u795e\u7ecf\u7f51\u7edc\uff08nn\uff09\uff0cML\u4e4b\u7c7b\u7684\u3002</p> <p>\u201cIt operates in three basic stages. First, it takes the sequence of tokens that corresponds to the text so far, and finds an embedding (i.e. an array of numbers) that represents these. Then it operates on this embedding\u2014in a \u201cstandard neural net way\u201d, with values \u201crippling through\u201d successive layers in a network\u2014to produce a new embedding (i.e. a new array of numbers). It then takes the last part of this array and generates from it an array of about 50,000 values that turn into probabilities for different possible next tokens. (And, yes, it so happens that there are about the same number of tokens used as there are common words in English, though only about 3000 of the tokens are whole words, and the rest are fragments.)\u201d</p> <p>The success of ChatGPT is, I think, giving us evidence of a fundamental and important piece of science: it\u2019s suggesting that we can expect there to be major new \u201claws of language\u201d\u2014and effectively \u201claws of thought\u201d\u2014out there to discover. In ChatGPT\u2014built as it is as a neural net\u2014those laws are at best implicit.</p> <p>ChatGPT doesn\u2019t have any explicit \u201cknowledge\u201d of such rules. But somehow in its training it implicitly \u201cdiscovers\u201d them\u2014and then seems to be good at following them.</p> <p>\u8fd9\u6837\u770b\u6765GPT\u6709\u4e00\u79cd\u50cf\u751f\u7269\u8fdb\u5316\u7684\u6a21\u5f0f\uff0c\u5728\u8fdb\u5316\u4e2d\u5b83\u53d1\u5c55\u51fa\u4e86\u9690\u6027\u800c\u91cd\u8981\u7684rule\u4e0estrategy,\u50cf\u4e00\u4e2a\u76f2\u76d2\u6216\u8005\u9ed1\u7bb1\uff0c\u4ee5\u67d0\u79cd\u6211\u4eec\u65e0\u6cd5\u77e5\u9053\u7684\u65b9\u5f0f\u5b8c\u6210\u4e86\u4efb\u52a1\u3002\u5982\u540c\u8fd9\u91cc\uff1a</p> <p>\u201cBut is there a general way to tell if a sentence is meaningful? There\u2019s no traditional overall theory for that. But it\u2019s something that one can think of ChatGPT as having implicitly \u201cdeveloped a theory for\u201d after being trained with billions of (presumably meaningful) sentences from the web, etc.\u201d</p> <p>\u7b80\u5355\u7684\u603b\u7ed3\uff1a</p> <p>The basic concept of ChatGPT is at some level rather simple. Start from a huge sample of human-created text from the web, books, etc. Then train a neural net to generate text that\u2019s \u201clike this\u201d. And in particular, make it able to start from a \u201cprompt\u201d and then continue with text that\u2019s \u201clike what it\u2019s been trained with\u201d</p>"},{"location":"incourse/","title":"\u5f00\u59cb","text":"<p> \u7ea6 11 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>          \u77e5\u8bc6\u5c31\u662f\u529b\u91cf\u3002 \u2014\u2014\u4e01\u771f      </p>"},{"location":"incourse/ADS/","title":"\u6765\u8fa3","text":"<p> \u7ea6 22 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>          ADS\u82e6\u624b\u3002 \u2014\u2014starstone3      </p> <p>\u4f8b\u9898\u53c2\u8003</p> <p>\u672c\u8bfe\u7a0b\u4f8b\u9898\u89e3\u7b54\u53c2\u8003\uff1a</p> <ul> <li>https://zhoutimemachine.github.io/note/courses/ads-hw-review</li> </ul>"},{"location":"incourse/ADS/Approximation/","title":"\u8fd1\u4f3c\u7b97\u6cd5","text":""},{"location":"incourse/ADS/Approximation/#\u8fd1\u4f3c\u7b97\u6cd5","title":"\u8fd1\u4f3c\u7b97\u6cd5","text":"<p> \u7ea6 2770 \u4e2a\u5b57  6 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 14 \u5206\u949f</p> <p>from wiki</p> <p>https://zh.wikipedia.org/wiki/%E8%BF%91%E4%BC%BC%E7%AE%97%E6%B3%95</p> <p>\u5728\u4e0a\u8282\u8bfe\u4e2d\u63d0\u5230\uff0c\u5f53\u4eca\u7684\u5b66\u754c\u503e\u5411\u4e8e\\(P \\neq NP\\), \u5373NP\u95ee\u9898\u4e0d\u53ef\u80fd\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u89e3\u51b3\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5bfb\u627e\u4e00\u79cd\u8fd1\u4f3c\u7b97\u6cd5\u6765\u89e3\u51b3NP\u95ee\u9898\u3002\u8fd1\u4f3c\u7b97\u6cd5\u662f\u4e00\u79cd\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u6c42\u89e3NP\u95ee\u9898\u7684\u65b9\u6cd5\uff0c\u5b83\u4e0d\u4e00\u5b9a\u80fd\u591f\u5f97\u5230\u95ee\u9898\u7684\u6700\u4f18\u89e3\uff0c\u4f46\u662f\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u63a5\u8fd1\u6700\u4f18\u89e3\u7684\u89e3\u3002</p> <p>Approximation ratio</p> <p>\u8fd1\u4f3c\u6bd4\\(\\rho(n)\\)\u662f\u4e00\u4e2a\u5e38\u6570\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u6700\u4f18\u5316\u95ee\u9898\u7684\u8fd1\u4f3c\u7b97\u6cd5\uff0c\u6211\u4eec\u5047\u8bbe\\(f(n,x)\\)\u662f\u5bf9\u8f93\u5165x\u7684\u6700\u574f\u60c5\u51b5\u7684\u4e00\u79cd\u91cf\u5316\u3002\\(x\\)\u4e3a\u8fd1\u4f3c\u89e3,\\(x^*\\)\u4e3a\u51c6\u786e\u89e3\uff0c\u90a3\u4e48\\(\\rho(n)\\)\u5b9a\u4e49\u4e3a\uff1a</p> \\[\\rho(n) = \\max\\left\\{ \\frac{f(n,x)}{f(n,x^*)}, \\frac{f(n,x^*)}{f(n,x)} \\right\\}\\]"},{"location":"incourse/ADS/Approximation/#\u8fd1\u4f3c\u8303\u5f0fapproximation-scheme","title":"\u8fd1\u4f3c\u8303\u5f0f(Approximation Scheme)","text":"<p>\u8fd1\u4f3c\u8303\u5f0f\u662f\u5bf9\u4e8e\u67d0\u4e00\u65cf\u95ee\u9898\u7684\u4e00\u79cd\u8fd1\u4f3c\u7b97\u6cd5\uff0c\u5b83\u53ef\u4ee5\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u5f97\u5230\u4e00\u4e2a\u63a5\u8fd1\u6700\u4f18\u89e3\u7684\u89e3\u3002\u8fd1\u4f3c\u8303\u5f0f\u7684\u8fd1\u4f3c\u6bd4\\(\\rho(n)\\)\u662f\u4e00\u4e2a\u5e38\u6570\uff0c\u4e14\\(\\rho(n)\\)\u53ef\u4ee5\u968f\u7740\u8f93\u5165\u89c4\u6a21\\(n\\)\u7684\u589e\u5927\u800c\u51cf\u5c0f\u3002</p> <p>\u53ef\u4ee5\u628a\u8303\u5f0f\u60f3\u6210\u662f\u4e00\u79cd\u8f93\u51fa\u4e3a\u7b97\u6cd5\u7684\u51fd\u6570\uff0c\u8f93\u5165\u662f\\(\\epsilon\\),\u5bf9\u4e8e\u7279\u5b9a\u7684\\(\\epsilon &gt; 0\\)\uff0c\u8303\u5f0f\u4f1a\u7ed9\u51fa\u4e00\u4e2a\u8fd1\u4f3c\u6bd4\u4e3a\\(1+\\epsilon\\)\u7684\u7b97\u6cd5\u3002</p> <p>\u800c\u6b64\u65f6\uff0c\u8fd9\u79cd\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u4ee5\u770b\u6210\u662f\\(O(f(n,\\epsilon))\\)\uff0c\u5176\u4e2d\\(f(n,\\epsilon)\\)\u662f\u4e00\u4e2a\u5173\u4e8e\\(n\\)\u548c\\(\\epsilon\\)\u7684\u51fd\u6570\u3002</p> <p>PTAS(Polynomial Time Approximation Scheme)\u662f\u5728\\(\\epsilon\\)\u786e\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\\(f(n,\\epsilon)\\)\u5173\u4e8e\\(n\\)\u662f\u591a\u9879\u5f0f\u7684\u8303\u5f0f\u3002</p>"},{"location":"incourse/ADS/Approximation/#approximate-bin-packing","title":"Approximate Bin Packing","text":""},{"location":"incourse/ADS/Approximation/#\u95ee\u9898\u63cf\u8ff0","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u7ed9\u5b9a\\(n\\)\u4e2a\u7269\u54c1\uff0c\u6bcf\u4e2a\u7269\u54c1\u7684\u5927\u5c0f\u4e3a\\(s_i \\in (0,1]\\)\uff0c\u6bcf\u4e2a\u7bb1\u5b50\u7684\u5bb9\u91cf\u4e3a1\u3002\u6211\u4eec\u9700\u8981\u5c06\u8fd9\u4e9b\u7269\u54c1\u653e\u5165\u5c3d\u53ef\u80fd\u5c11\u7684\u7bb1\u5b50\u4e2d\u3002</p> <p>\ud83c\udf30</p> <p>\u7ed9\u5b9a 7 \u4e2a item\uff0csize \u5206\u522b\u4e3a\\(0.2,0.5,0.4,0.7,0.1,0.3,0.8\\)\u5219\u6700\u5c11\u9700\u8981 3 \u4e2a bin\uff08\u51c6\u786e\u89e3\uff09\uff1a</p> <ul> <li>bin1: 0.2, 0.8</li> <li>bin2: 0.5, 0.4,0.1</li> <li>bin3: 0.7, 0.3</li> </ul> <p>\u8fd9\u662f\u4e00\u4e2aNPH\u95ee\u9898(?)\uff0c\u4e0b\u9762\u6211\u4eec\u5c06\u8003\u8651\u5982\u4e0b\u7684\u7b97\u6cd5\u3002\u6ce8\u610f:online\u7b97\u6cd5\u610f\u5473\u7740\u5728\u5904\u7406\\(ith\\)\u4e2aitem\u65f6\uff0c\u6211\u4eec\u4e0d\u77e5\u9053\u540e\u9762\u7684item\u7684\u5927\u5c0f\u3002\u800coffline\u7b97\u6cd5\u5219\u662f\u5728\u5904\u7406\\(ith\\)\u4e2aitem\u65f6\uff0c\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u6240\u6709item\u7684\u5927\u5c0f\u3002</p>"},{"location":"incourse/ADS/Approximation/#next-fit-algorithmonline","title":"Next Fit Algorithm(online)","text":"<p>Next Fit Algorithm\u5728\u5904\u7406\u6bcf\u4e2aitem\u65f6\uff0c\u90fd\u4f1a\u5c1d\u8bd5\u5c06item\u653e\u5165\u5f53\u524d\u7684\u6700\u540e\u4e00\u4e2a\u7bb1\u5b50\u4e2d\uff0c\u5982\u679c\u653e\u4e0d\u4e0b\uff0c\u5219\u4f1a\u5c1d\u8bd5\u65b0\u5f00\u4e00\u4e2a\u7bb1\u5b50\uff0c\u653e\u5165\u5176\u4e2d\u3002</p> <p>\u5982\u679c\u7528M\u8868\u793a\u7b97\u6cd5\u7684\u51c6\u786e\u89e3\uff0c\u5219Next Fit\u4f7f\u7528\u7bb1\u5b50\u7684\u4e2a\u6570\u4e0d\u8d85\u8fc7\\(2M-1\\)\u3002</p> \u8bc1\u660e <p>\u6211\u4eec\u5c06\u95ee\u9898\u8f6c\u6362\u4e3a\u82e5Next Fit\u4f7f\u7528\u4e86\\(2M\\)\u4e2a\u7bb1\u5b50\uff0c\u5219\u6700\u4f18\u89e3\u81f3\u5c11\u9700\u8981\\(M+1\\)\u4e2a\u7bb1\u5b50\u3002</p> <p>\u8bbe \\(S(B_i)\\) \u4e3a\u7b2c \\(i\\) \u4e2a\u7bb1\u5b50\u7684\u5df2\u7ecf\u653e\u4e0b\u7684item\u7684size\u3002\u90a3\u4e48\u6211\u4eec\u5fc5\u5b9a\u6709\uff1a</p> \\[ \\begin{align*} S(B_1) + S(B_2) &amp;&gt; 1, \\\\ S(B_3) + S(B_4) &amp;&gt; 1, \\\\ &amp;\\vdots \\\\ S(B_{2M-1}) + S(B_{2M}) &amp;&gt; 1. \\end{align*} \\] <p>\u8fd9\u610f\u5473\u7740\uff1a</p> \\[ \\sum_{i=1}^{2M} S(B_i) &gt; M. \\] <p>\u6700\u4f18\u89e3\u81f3\u5c11\u9700\u8981 \\(\\left\\lceil \\frac{\\text{\u6240\u6709\u7269\u54c1\u7684\u603b\u5927\u5c0f}}{1} \\right\\rceil\\) \u4e2a\u7bb1\u5b50\uff0c\u8fd9\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a</p> \\[ \\left\\lceil \\sum_{i=1}^{2M} S(B_i) \\right\\rceil \\geq M + 1. \\] <p>\u56e0\u6b64\uff0cNext Fit\u7b97\u6cd5\u7684\u7bb1\u5b50\u4e2a\u6570\u4e0d\u4f1a\u8d85\u8fc7\\(2M-1\\)\u3002</p>"},{"location":"incourse/ADS/Approximation/#first-fit-algorithmonline","title":"First Fit Algorithm(online)","text":"<p>First Fit Algorithm\u5728\u5904\u7406\u6bcf\u4e2aitem\u65f6\uff0c\u90fd\u4f1a\u5c1d\u8bd5\u5c06item\u653e\u5165\u7b2c\u4e00\u4e2a\u7bb1\u5b50\u4e2d\uff0c\u5982\u679c\u653e\u4e0d\u4e0b\uff0c\u5219\u4f1a\u5c1d\u8bd5\u653e\u5165\u4e0b\u4e00\u4e2a\u7bb1\u5b50\u4e2d\u3002\u4e5f\u5373\uff0c\u5c06item\u653e\u5728\u7b2c\u4e00\u4e2a\u80fd\u5bb9\u7eb3\u7684\u7bb1\u5b50\u91cc\uff0c\u4e0d\u7136\u5c31\u65b0\u5f00\u4e00\u4e2a\u7bb1\u5b50\u3002</p> <p>\u5982\u679c\u7528M\u8868\u793a\u7b97\u6cd5\u7684\u51c6\u786e\u89e3\uff0c\u5219First Fit\u4f7f\u7528\u7bb1\u5b50\u7684\u4e2a\u6570\u4e0d\u8d85\u8fc7\\(1.7M\\)\u3002</p>"},{"location":"incourse/ADS/Approximation/#best-fit-algorithmonline","title":"Best Fit Algorithm(online)","text":"<p>Best Fit Algorithm\u5728\u5904\u7406\u6bcf\u4e2aitem\u65f6\uff0c\u90fd\u4f1a\u5c1d\u8bd5\u5c06item\u653e\u5165\u5269\u4f59\u7a7a\u95f4\u6700\u5c0f\u4e14\u80fd\u5bb9\u7eb3\u7684\u7bb1\u5b50\u4e2d\u3002</p> <p>\u5982\u679c\u7528M\u8868\u793a\u7b97\u6cd5\u7684\u51c6\u786e\u89e3\uff0c\u5219Best Fit\u4f7f\u7528\u7bb1\u5b50\u7684\u4e2a\u6570\u4e0d\u8d85\u8fc7\\(1.7M\\)\u3002</p>"},{"location":"incourse/ADS/Approximation/#online\u7b97\u6cd5\u7684\u7ed3\u8bba\u8fd1\u4f3c\u6bd4","title":"online\u7b97\u6cd5\u7684\u7ed3\u8bba(\u8fd1\u4f3c\u6bd4)","text":"<p>There are inputs that force any on-line bin-packing algorithm to use at least 5/3 the optimal number of bins.</p> <p>\u4e5f\u5373\uff0c\u5bf9\u4e8e\u4efb\u4f55online\u7b97\u6cd5\uff0c\u5176\u8fd1\u4f3c\u6bd4\\(\\rho(n) \\geq \\frac{5}{3}\\)\u3002</p>"},{"location":"incourse/ADS/Approximation/#first-fit-decreasingoffline","title":"First Fit Decreasing(offline)","text":"<p>First Fit Decreasing Algorithm\u662fFirst Fit Algorithm\u7684\u4e00\u4e2a\u53d8\u79cd\uff0c\u5b83\u9996\u5148\u5c06\u6240\u6709item\u6309\u7167\u5927\u5c0f\u964d\u5e8f\u6392\u5217\uff0c\u7136\u540e\u518d\u4f7f\u7528First Fit Algorithm\u3002</p> <p>\u5982\u679c\u7528M\u8868\u793a\u7b97\u6cd5\u7684\u51c6\u786e\u89e3\uff0c\u5219First Fit Decreasing\u4f7f\u7528\u7bb1\u5b50\u7684\u4e2a\u6570\u4e0d\u8d85\u8fc7</p> \\[\\frac{11M}{9} + \\frac{6}{9}\\]"},{"location":"incourse/ADS/Approximation/#the-knapsack-problem\u80cc\u5305\u95ee\u9898","title":"The Knapsack Problem(\u80cc\u5305\u95ee\u9898)","text":""},{"location":"incourse/ADS/Approximation/#\u95ee\u9898\u63cf\u8ff0_1","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u7ed9\u5b9a\\(n\\)\u4e2a\u7269\u54c1\uff0c\u6bcf\u4e2a\u7269\u54c1\u7684\u5927\u5c0f\u4e3a\\(w_i\\)\uff0c\u4ef7\u503c\u4e3a\\(p_i\\)\uff0c\u80cc\u5305\u7684\u5bb9\u91cf\u4e3a\\(M\\)\u3002\u6211\u4eec\u9700\u8981\u5c06\u8fd9\u4e9b\u7269\u54c1\u653e\u5165\u80cc\u5305\u4e2d\uff0c\u4f7f\u5f97\u80cc\u5305\u4e2d\u7269\u54c1\u7684\u603b\u4ef7\u503c\u6700\u5927\u3002</p>"},{"location":"incourse/ADS/Approximation/#fractional-version","title":"Fractional Version","text":"<p>\u5047\u8bbe\u6211\u4eec\u8bb0\\(x_i\\)\u662f\u7b2ci\u4e2aitem\u7684\u653e\u5165\u767e\u5206\u6bd4(\u5047\u8bbeitem\u662f\u8fde\u7eed\u53ef\u5206\u7684)\uff0c\u5219\u83b7\u5f97\u7684\u5229\u6da6\u4e3a\\(p_i x_i\\),\u5360\u636e\u7684\u7a7a\u95f4\u4e3a\\(w_i x_i\\)</p> <p>\u90a3\u4e48\u6211\u4eec\u5c31\u662f\u8981\u5728\\(\\sum w_i x_i \\leq M\\)\u7684\u7ea6\u675f\u6761\u4ef6\u4e0b\uff0c\u6c42\u51fa\u6700\u5927\u7684\\(\\sum p_i x_i\\).</p> <p>\u5f88\u663e\u7136\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u53ea\u9700\u8981\u8003\u8651\"\u6027\u4ef7\u6bd4\":\\(\\frac{p_i}{w_i}\\)\u6700\u5927\u7684\u7269\u54c1\uff0c\u5c06\u5b83\u4eec\u653e\u5165\u5373\u53ef\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5f97\u5230\u7684\u89e3\u5df2\u7ecf\u662f\u51c6\u786e\u89e3\u4e86\u3002</p>"},{"location":"incourse/ADS/Approximation/#0-1-version","title":"0-1 Version","text":"<p>0-1 Version\u8981\u6c42\u5bf9\u4e8e\u4e00\u4ef6item\uff0c\u6211\u4eec\u8981\u4e48\u653e\uff0c\u8981\u4e48\u4e0d\u653e\u3002</p> <p>\u73b0\u5728\uff0c\u95ee\u9898\u53d8\u6210\u4e86\u4e00\u4e2aNPC\u95ee\u9898\u3002</p>"},{"location":"incourse/ADS/Approximation/#\u8d2a\u5fc3\u505a\u6cd5","title":"\u8d2a\u5fc3\u505a\u6cd5","text":"<p>\u8d2a\u5fc3\u7684\u7b56\u7565\u662f\u603b\u662f\u9009\u62e9\u8d2a\u5fc3\u7b56\u7565\u53ef\u4ee5\u662f\u603b\u662f\u9009\u53ef\u4ee5\u653e\u5f97\u4e0b\u7684\u3001\u8fd8\u6ca1\u653e\u5165\u4e2d\u7684\uff0c\u5229\u6da6\u6700\u5927\u7684\u6216$ \\frac{p_i}{w_i}$\u6700\u5927\u7684\u3002\u8fd9\u4e9b\u505a\u6cd5\u7684\u8fd1\u4f3c\u6bd4\u90fd\u662f 2\u3002</p> <p>\u8d2a\u5fc3\u7b97\u6cd5\u76842-\u8fd1\u4f3c\u5ea6\u8bc1\u660e</p> <ul> <li>\\(p_\\text{max}\\): \u6240\u6709\u7269\u54c1\u4e2d\u5355\u4e2a\u7269\u54c1\u7684\u6700\u5927\u5229\u6da6</li> <li>\\(P_\\text{optimal}\\): \u6700\u4f18\u89e3\u7684\u603b\u5229\u6da6</li> <li>\\(P_\\text{greedy}\\): \u8d2a\u5fc3\u7b97\u6cd5\u5f97\u5230\u7684\u89e3\u7684\u603b\u5229\u6da6</li> </ul> <p>\u8fd1\u4f3c\u6bd4 \\(\\rho\\) \u5b9a\u4e49\u4e3a: $$ \\rho = \\max(\\frac{P_\\text{optimal}}{P_\\text{greedy}}, \\frac{P_\\text{greedy}}{P_\\text{optimal}}) $$</p> <ol> <li> <p>\u9996\u5148\u6211\u4eec\u6709\u4e24\u4e2a\u91cd\u8981\u7684\u4e0d\u7b49\u5f0f:</p> \\[ \\begin{cases} p_\\text{max} \\leq P_\\text{greedy} &amp; (1) \\\\ P_\\text{optimal} \\leq P_\\text{greedy} + p_\\text{max} &amp; (2) \\end{cases} \\] </li> <li> <p>\u4ece\u4e0d\u7b49\u5f0f(1)\u5f97\u5230:</p> \\[ \\frac{p_\\text{max}}{P_\\text{greedy}} \\leq 1 \\quad (3) \\] </li> <li> <p>\u5c06\u4e0d\u7b49\u5f0f(2)\u9664\u4ee5 \\(P_\\text{greedy}\\) \u5e76\u7ed3\u5408(3):</p> \\[ \\frac{P_\\text{optimal}}{P_\\text{greedy}} \\leq 1 + \\frac{p_\\text{max}}{P_\\text{greedy}} \\leq 2 \\] </li> </ol>"},{"location":"incourse/ADS/Approximation/#\u52a8\u6001\u89c4\u5212\u505a\u6cd5","title":"\u52a8\u6001\u89c4\u5212\u505a\u6cd5","text":"<p>\u8bbe \\(W_{i, p}\\) \u8868\u793a\u4ece\u96c6\u5408 \\(\\{1, \\ldots, i\\}\\) \u4e2d\u9009\u53d6\u5143\u7d20\uff0c\u4f7f\u5f97\u603b\u5229\u6da6\u6070\u597d\u4e3a \\(p\\) \u65f6\u7684\u6700\u5c0f\u91cd\u91cf\u3002</p> <ol> <li>\u9009\u62e9\u7b2c \\(i\\) \u9879: \\(W_{i,p} = w_i + W_{i-1,p-p_i}\\)</li> <li>\u8df3\u8fc7\u7b2c \\(i\\) \u9879: \\(W_{i,p} = W_{i-1,p}\\)</li> <li>\u65e0\u6cd5\u8fbe\u5230\u5229\u6da6 \\(p\\): \\(W_{i,p} = \\infty\\)</li> </ol> <p>\\(W_{i, p}\\) \u7684\u9012\u63a8\u516c\u5f0f\u53ef\u4ee5\u5b9a\u4e49\u4e3a\uff1a</p> \\[ W_{i, p} =  \\begin{cases}  \\infty &amp; \\text{\u5982\u679c } i = 0 \\\\ W_{i-1, p} &amp; \\text{\u5982\u679c } p_i &gt; p \\\\ \\min\\{W_{i-1, p}, w_i + W_{i-1, p-p_i}\\} &amp; \\text{\u5176\u4ed6\u60c5\u51b5} \\end{cases} \\] <p>\u5176\u4e2d \\(i = 1, \\ldots, n\\) \u4e14 \\(p = 1, \\ldots, n p_{\\max}\\)\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n^2 p_{\\max})\\)\u3002</p> <p>\\(p_{\\text{max}}\\)\u5c31\u662f\u4e0a\u9762\u63d0\u5230\u7684\u6240\u6709\u7269\u54c1\u4e2d\u5355\u4e2a\u7269\u54c1\u7684\u6700\u5927\u5229\u6da6</p>"},{"location":"incourse/ADS/Approximation/#the-k-center-problemk\u4e2d\u5fc3\u95ee\u9898","title":"The K-center Problem(K\u4e2d\u5fc3\u95ee\u9898)","text":"<p>K \u4e2d\u5fc3\u95ee\u9898\u6307\uff1a\u7ed9\u5b9a\u5e73\u9762\u4e0a\u7684\u4e00\u7cfb\u5217 site\uff08\u5373\u70b9\uff09\uff0c\u5728\u5e73\u9762\u4e2d\u627e\u51fa \\(k\\) \u4e2a\u4e0d\u540c\u7684 center\uff0c\u8bb0 \\(site_i\\) \u5230\u79bb\u5b83\u6700\u8fd1\u7684 center \u7684\u8ddd\u79bb\u4e3a \\(dis_i\\)\uff0c\u6c42 \\(\\max \\{dis_i\\}\\) \u7684\u6700\u5c0f\u503c\u3002</p> \\[ \\text{dist}(s_i, C) = \\min_{c \\in C} \\text{dist}(s_i, c) \\] <p>\u5373\u4ece \\(s_i\\) \u5230\u6700\u8fd1\u4e2d\u5fc3\u7684\u8ddd\u79bb</p> \\[ r(C) = \\max_i \\text{dist}(s_i, C) = \\text{\u6700\u5c0f\u8986\u76d6\u534a\u5f84} \\] <p>\u627e\u5230\u4e00\u4e2a\u4e2d\u5fc3\u96c6\u5408 \\(C\\)\uff0c\u4f7f\u5f97 \\(r(C)\\) \u6700\u5c0f\uff0c\u6761\u4ef6\u662f \\(|C| = K\\)\u3002</p>"},{"location":"incourse/ADS/Approximation/#\u7b80\u5355\u8d2a\u5fc3","title":"\u7b80\u5355\u8d2a\u5fc3","text":"<p>Definition</p> <p>Put the first center at the best possible location for a single center, and then keep adding centers so as to reduce the covering radius each time by as much as possible.</p> <p>\u8fd9\u4e2a\u505a\u6cd5\u8bf4\u7740\u7b80\u5355\uff0c\u5176\u5b9e\u6709\u5f88\u5927\u7684bug\u3002\u6bd4\u5982\u5982\u679c\u4e00\u5f00\u59cb\u6240\u6709\u70b9\u5f62\u6210\u4e86\u4e24\u4e2a\u51e0\u79cd\u7684\u70b9\u4e91\uff0c\u90a3\u4e48\u7b2c\u4e00\u4e2a\u70b9\u5c31\u4f1a\u9009\u62e9\u4e24\u4e2a\u70b9\u4e91\u7684\u4e2d\u95f4\uff0c\u8fd9\u663e\u7136\u662f\u4e0d\u5408\u7406\u7684\u3002</p>"},{"location":"incourse/ADS/Approximation/#2r-greedy","title":"2r-greedy","text":"<p>\u5047\u8bbe\u6700\u4f18\u89e3\u5bf9\u5e94\u7684\u4e2d\u5fc3\u96c6\u4e3a \\(C^*\\)\uff0c\u6ee1\u8db3 \\(\\forall C_x\\)\uff0c\u5982\u679c \\(r(C_x) \\geq r(C^*)\\)\uff0c\u5219\u5fc5\u5b9a\u5b58\u5728\u8986\u76d6\u65b9\u6848\u3002\u53cd\u4e4b\uff0c\u5982\u679c\u80fd\u591f\u9a8c\u8bc1 \\(C_x\\) \u80fd\u8986\u76d6\u6240\u6709\u70b9\uff0c\u5219\u53ef\u7ea6\u675f\u6700\u4f18\u89e3\u7684\u534a\u5f84 \\(r(C^*) \\leq r(C_x)\\)\u3002</p> <p>\u89e3\u91ca</p> <p>\u8bbe \\(C_x\\) \u4e3a\u9009\u5b9a\u7684\u4e2d\u5fc3\uff0c\\(S_x\\) \u4e3a\u5c1a\u672a\u88ab\u8986\u76d6\u7684\u70b9\u96c6\uff0c\\(r_x\\) \u4e3a\u5f53\u524d\u5f85\u5224\u65ad\u7684\u534a\u5f84\uff0c\\(S\\) \u4e3a\u6240\u6709\u70b9\u7684\u96c6\u5408\uff0c\u7b97\u6cd5\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li>\u521d\u59cb\u5316 \\(C_x = \\emptyset\\)\uff1b</li> <li>\u5f53 \\(S_x \\neq \\emptyset\\) \u65f6\uff0c\u91cd\u590d\u4ee5\u4e0b\u64cd\u4f5c\uff1a<ol> <li>\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u70b9 \\(s_i \\in S_x\\)\uff0c\u52a0\u5165 \\(C_x\\) \u4f5c\u4e3a\u4e2d\u5fc3\uff0c\u5e76\u4ece \\(S_x\\) \u4e2d\u79fb\u9664 \\(s_i\\)\uff1b</li> <li>\u4ece \\(S_x\\) \u4e2d\u79fb\u9664\u6240\u6709\u8ddd\u79bb \\(s_i\\) \u4e0d\u8d85\u8fc7 \\(2r_x\\) \u7684\u70b9\uff0c\u5373\u5220\u9664\u6240\u6709\u6ee1\u8db3 \\(dis(s_i, s_j) \\leq 2r_x\\) \u7684\u70b9 \\(s_j\\)\uff1b</li> </ol> </li> <li> <p>\u6240\u6709\u70b9\u88ab\u8986\u76d6\u540e\uff1a</p> <ol> <li>\u82e5 \\(|C_x| \\leq k\\)\uff0c\u5219\u8fd4\u56de \u662f\uff1b</li> <li>\u5426\u5219\u8fd4\u56de \u5426\u3002</li> </ol> </li> <li> <p>\u5982\u679c\u8fd4\u56de \u662f\uff0c\u4e0b\u4e00\u4e2a \\(r_x\\) \u5e94\u53d6\u66f4\u5c0f\u7684\u503c\uff1b</p> </li> <li>\u5982\u679c\u8fd4\u56de \u5426\uff0c\u4e0b\u4e00\u4e2a \\(r_x\\) \u5e94\u53d6\u66f4\u5927\u7684\u503c\u3002</li> </ol> <ol> <li>\u5f53\u7b97\u6cd5\u6210\u529f\u65f6\uff0c\u8bf4\u660e \\(2r_x \\geq r(C^*)\\)\uff0c\u5373\u53ef\u4ee5\u7528 \\(k\\) \u4e2a\u534a\u5f84\u4e3a \\(2r_x\\) \u7684\u5706\u8986\u76d6\u6240\u6709\u70b9\uff1b</li> <li>\u5f53\u7b97\u6cd5\u5931\u8d25\u65f6\uff0c\u4e0d\u80fd\u786e\u5b9a \\(2r_x \\geq r(C^*)\\)\uff0c\u4f46\u53ef\u4ee5\u786e\u5b9a \\(r_x \\leq r(C^*)\\)\uff0c\u56e0\u4e3a\u8be5\u65b9\u6cd5\u5e76\u975e\u6700\u4f18\u3002</li> </ol> <p>\u5f15\u7406\uff1a\u5047\u8bbe\u5b58\u5728\u534a\u5f84\u4e3a \\(r\\)\uff0c\u4ee5 \\(c\\) \u4e3a\u5706\u5fc3\u7684\u5706 \\(C\\) \u8986\u76d6\u4e86\u6240\u6709\u70b9\u96c6 \\(S\\)\u3002\u5bf9\u4e8e\u4efb\u610f\u56fa\u5b9a\u534a\u5f84 \\(r'\\)\uff0c\u5982\u679c\u4ee5 \\(S\\) \u4e2d\u4efb\u610f\u70b9 \\(s_i\\) \u4e3a\u5706\u5fc3\u7684\u5706 \\(C_i\\) \u80fd\u8986\u76d6\u6240\u6709\u70b9\uff0c\u5219\u5fc5\u987b\u6ee1\u8db3 \\(r' \\geq 2r\\)\u3002</p> <p>\u5f15\u7406\u7684\u8bc1\u660e\u5173\u952e\u5728\u4e8e\u8003\u8651\u4e24\u4e2a\u5206\u5e03\u5728\u76f4\u5f84\u4e24\u7aef\u7684\u70b9\u7684\u60c5\u51b5\u3002</p> <p>\u8be5\u5f15\u7406\u7684\u9644\u52a0\u7ed3\u8bba\u4e3a\uff1a</p> <p>\u6700\u4f18\u8986\u76d6\u534a\u5f84\u4e3a \\(r\\) \u7684\u5706\uff0c\u5fc5\u7136\u80fd\u88ab\u534a\u5f84\u4e3a \\(2r\\)\u3001\u4efb\u610f\u70b9\u4e3a\u5706\u5fc3\u7684\u5706\u6240\u8986\u76d6\u3002\u6781\u7aef\u60c5\u51b5\u5c31\u662f\u9009\u53d6\u7684\u70b9\u521a\u597d\u5728\u539f\u6765\u6700\u4f18\u8986\u76d6\u534a\u5f84\u4e3a\\(r\\)\u7684\u5706\u7684\u8fb9\u754c\u4e0a\u3002</p> <p>\u5f53\u8fd4\u56de\u662f\u7684\u65f6\u5019\uff0c\u6211\u4eec\u7f29\u5c0f\\(r_x\\)\uff0c\u4e0d\u7136\uff0c\u6269\u5927\\(r_x\\)\u3002\u6700\u7ec8\uff0c\u6211\u4eec\u4f1a\u5f97\u5230\u4e00\u4e2a\\(r_x\\)\u6ee1\u8db3\\(r_x\\leq r(C^*) \\leq 2r_x\\)</p> <p>\u6700\u7ec8\u7684\u7b54\u6848\u5c31\u662f\\(2r_x\\)</p> <p>\u5176\u8fd1\u4f3c\u6bd4\u4e3a2.</p>"},{"location":"incourse/ADS/Approximation/#a-smarter-solution","title":"A smarter solution","text":"<p>\u4e0a\u9762\u90a3\u4e2a\u505a\u6cd5\u603b\u662f\u968f\u673a\u7684\u9009\u53d6\u65b0\u7684 \\(c_i\\)\uff0c\u4f46\u662f\u5bf9\u4e8e center \u7684\u9009\u53d6\uff0c\u6211\u4eec\u5176\u5b9e\u53ef\u4ee5\u603b\u662f\u9009\u62e9\u8ddd\u79bb\u5df2\u6709\u7684 center \u6700\u8fdc\u7684\u70b9\uff0c\u6b64\u5916\uff0c\u5f53 \\(|C| &gt; k\\) \u65f6\uff0c\u6211\u4eec\u4e5f\u6ca1\u5fc5\u8981\u7ee7\u7eed\u505a\u4e86\u3002</p>"},{"location":"incourse/ADS/Approximation/#\u6700\u540e","title":"\u6700\u540e","text":"<ul> <li> <p>A :Optimality --quality of a solution(\u51c6\u786e\u89e3or\u8fd1\u4f3c\u89e3)</p> </li> <li> <p>B :Efficiency --cost of computations</p> </li> <li> <p>C :All instances</p> </li> </ul> <p>\u5bf9\u4e8e\u4e00\u4e2a\u95ee\u9898\u7684\u89e3\u6cd5\uff0c\u6ee1\u8db3:</p> <ul> <li> <p>A+B:Exact and fast algorithms for special cases</p> </li> <li> <p>A+C:Exact algorithms for all instances</p> </li> <li> <p>B+C:Approximation algorithms </p> </li> </ul> <p>\u5373\u4f7f\u6211\u4eec\u8bc1\u660e\u4e86P = NP,\u4e5f\u4e0d\u4e00\u5b9a\u80fd\u4fdd\u8bc1\u4e00\u4e2a\u89e3\u6cd5\u540c\u65f6\u6ee1\u8db3\u4e0a\u9762\u4e09\u4e2a\u7279\u70b9\u3002</p>"},{"location":"incourse/ADS/Approximation/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>\u4f8b\u9898</p> T1T2T3T4T5 <p></p> \u89e3\u6790 <p>F.\\(\\alpha\\)\u662ftight\u53ea\u80fd\u8bf4\u660e\u5bf9\u4e8e\u8fd9\u4e00\u79cd\u7b97\u6cd5\u7684\u8fd1\u4f3c\u6bd4\u662f\u6700\u4f18\u7684\uff0c\u4f46\u662f\u4e0d\u80fd\u8bf4\u660e\u8fd9\u4e2a\u7b97\u6cd5\u662f\u6700\u4f18\u7684\u3002\u53ef\u80fd\u8fd8\u6709\u5176\u4ed6\u7b97\u6cd5\u7684\u8fd1\u4f3c\u6bd4\u66f4\u597d\u3002</p> <p></p> \u89e3\u6790 <p>F.</p> \\[ \\rho_1=\\frac{C_2}{C_2^*}=\\frac{T}{T^*}=2,\\quad \\rho_2=\\frac{C_1^*}{C_1}=\\frac{|V|-T^*}{|V|-T}=1+\\frac{1}{\\dfrac{|V|}{T^*}-2} \\] <p>\u56e0\u6b64\uff0cclique\u7684\\(\\rho_2\\)\u4e0d\u4e00\u5b9a\u662f2</p> <p></p> \u89e3\u6790 <p>C.\u8bd5\u8bd5\u770b0.2,0.9,0.2,0.9\u7684item.</p> <p>\u5bf9\u4e8eD\uff0c\u5982\u679c\u6709\u4e24\u4e2abin\u7684\u5269\u4f59\u5bb9\u91cf\u5927\u4e8e\u4e00\u822c\uff0c\u6839\u636eFirst Fit\u7684\u539f\u5219\uff0c\u65e0\u8bba\u540e\u4e00\u4e2abin\u91cc\u6709\u51e0\u4e2aitem,\u90fd\u5fc5\u7136\u5728\u9009\u62e9\u662f\u4f1a\u9009\u62e9\u524d\u4e00\u4e2abin\u653e\u8fdb\u53bb\u3002</p> <p></p> \u89e3\u6790 <p> </p> <p></p> \u89e3\u6790 <p>\u770b\u4e0d\u61c2???</p>"},{"location":"incourse/ADS/Leandsk/","title":"Leftist Heaps and Skew Heaps","text":""},{"location":"incourse/ADS/Leandsk/#leftist-heaps-and-skew-heaps","title":"Leftist Heaps and Skew Heaps","text":"<p> \u7ea6 1858 \u4e2a\u5b57  123 \u884c\u4ee3\u7801  13 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p>"},{"location":"incourse/ADS/Leandsk/#leftist-heaps","title":"Leftist Heaps","text":"<p>\u76f8\u5173\u8d44\u6599</p> <p>wiki:https://zh.wikipedia.org/wiki/%E5%B7%A6%E5%81%8F%E6%A0%91</p>"},{"location":"incourse/ADS/Leandsk/#\u6982\u5ff5","title":"\u6982\u5ff5","text":"<p>\u5de6\u504f\u5806\u7684\u7279\u70b9\u5728\u4e8e\u5b83\u76f8\u5bf9\u4e8e\u666e\u901a\u7684\u4e8c\u53c9\u5806\uff0c\u52a0\u901f\u4e86\u4e24\u4e2a\u5806\u4e4b\u95f4\u7684\u5408\u5e76\u64cd\u4f5c\u3002\u666e\u901a\u7684\u4e8c\u53c9\u5806\u5408\u5e76\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\\(O(n)\\),\u800c\u5de6\u504f\u5806\u53ef\u52a0\u901f\u81f3\\(O(\\log{n})\\)\u3002</p> <p>\u5b9a\u4e49\u4e00\uff1aNull Path Length or dist</p> <p>The null path length, Npl(X), of any node X is the length of the shortest path from X to a node without two children.  Define Npl(NULL) = \u20131.</p> <p>\u5f53\u4e14\u4ec5\u5f53\u8282\u70b9 i \u7684\u5de6\u5b50\u6811\u6216\u53f3\u5b50\u6811\u4e3a\u7a7a\u65f6\uff0c\u8282\u70b9\u88ab\u79f0\u4f5c\u5916\u8282\u70b9\uff08\u5b9e\u9645\u4e0a\u4fdd\u5b58\u5728\u4e8c\u53c9\u6811\u4e2d\u7684\u8282\u70b9\u90fd\u662f\u5185\u8282\u70b9\uff0c\u5916\u8282\u70b9\u662f\u903b\u8f91\u4e0a\u5b58\u5728\u800c\u65e0\u9700\u4fdd\u5b58\u3002\u628a\u4e00\u9897\u4e8c\u53c9\u6811\u8865\u4e0a\u5168\u90e8\u7684\u5916\u8282\u70b9\uff0c\u5219\u79f0\u4e3aextended binary tree\uff09\u3002\u8282\u70b9i\u7684\u8ddd\u79bb\u662f\u8282\u70b9 i \u5230\u5b83\u7684\u540e\u4ee3\u4e2d\u7684\u6700\u8fd1\u7684\u5916\u8282\u70b9\u6240\u7ecf\u8fc7\u7684\u8fb9\u6570\u3002\u7279\u522b\u7684\uff0c\u5982\u679c\u8282\u70b9 i \u672c\u8eab\u662f\u5916\u8282\u70b9\uff0c\u5219\u5b83\u7684\u8ddd\u79bb\u4e3a0;\u800c\u7a7a\u8282\u70b9\u7684\u8ddd\u79bb\u89c4\u5b9a\u4e3a -1\u3002</p> <p>\\(\\text{dist}_i = \\min(\\text{dist}_{\\text{leftchild}}, \\text{dist}_{\\text{rightchild}}) + 1\\)</p> <p>\u5de6\u504f\u5806</p> <p>\u5de6\u504f\u5806\u9996\u5148\u5e94\u5f53\u6ee1\u8db3\u5927\u9876\u5806\u6216\u5c0f\u9876\u5806\u7684\u6027\u8d28\u3002\u5176\u6b21\uff0c\u8fd8\u9700\u8981\u6ee1\u8db3\u5982\u4e0b\u6027\u8d28\uff1a</p> <ul> <li>\u8282\u70b9\u7684\u5de6\u5b50\u8282\u70b9\u7684\u8ddd\u79bb\u4e0d\u5c0f\u4e8e\u53f3\u5b50\u8282\u70b9\u7684\u8ddd\u79bb\u3002</li> </ul> <p>\u7531\u6b64\uff0c\u5de6\u504f\u5806\u6709\u5982\u4e0b\u6027\u8d28\uff1a</p> <p>\u6027\u8d28</p> <ul> <li> <p>\u8282\u70b9\u7684\u8ddd\u79bb\u7b49\u4e8e\u5b83\u7684\u53f3\u5b50\u8282\u70b9\u7684\u8ddd\u79bb\u52a01</p> </li> <li> <p>\u4e00\u68f5N\u4e2a\u8282\u70b9\u7684\u5de6\u504f\u6811root\u8282\u70b9\u7684\u8ddd\u79bb\u6700\u591a\u4e3a\\(\\log{(N+1)}-1\\)</p> </li> <li> <p>\u5982\u679c\\(\\text{dist}_i=k\\),\u90a3\u4e48\u4ee5i\u4e3a\u6839\u7684\u5b50\u6811\u5728\u524dk+1\u5c42\u5fc5\u7136\u662f\u5b8c\u7f8e\u4e8c\u53c9\u6811\uff0c\u5373\u6ee1\u7684</p> </li> </ul>"},{"location":"incourse/ADS/Leandsk/#\u76f8\u5173\u64cd\u4f5c","title":"\u76f8\u5173\u64cd\u4f5c","text":"<p>\u5de6\u504f\u5806\u6700\u91cd\u8981\u7684\u64cd\u4f5c\u5728\u4e8e\u5408\u5e76\uff0c\u56e0\u6b64\u5148\u4ecb\u7ecdmerge\u3002</p>"},{"location":"incourse/ADS/Leandsk/#merge","title":"merge","text":"<p>\u4f8b\u5b50</p> \u5408\u5e76\u524d\u5408\u5e76\u540e <p></p> <p></p> <p>Warning</p> <p>\u8fd9\u91cc\u662f\u8fd8\u6ca1\u6709swap\u7684\u3002</p>"},{"location":"incourse/ADS/Leandsk/#\u9012\u5f52\u7248\u672c","title":"\u9012\u5f52\u7248\u672c","text":"<p>\u6211\u4eec\u5148\u5047\u8bbe\u73b0\u5728\u7684\u5de6\u504f\u5806\u662f\u5c0f\u9876\u5806\u3002\u90a3\u4e48\u5408\u5e76\u7684\u601d\u60f3\u5c31\u5728\u4e8e\u4e0d\u65ad\u6bd4\u8f83\u4e24\u4e2a\u5806\u9876\u5143\u7d20\u7684\u5927\u5c0f\uff0c\u4fdd\u6301\u8f83\u5c0f\u7684\u5806\u9876\u7684\u5de6\u5b50\u6811\u4e0d\u53d8\uff0c\u53f3\u5b50\u6811\u4e3a\u53f3\u5b50\u6811\u4e0e\u53e6\u4e00\u4e2a\u5806\u5408\u5e76\u7684\u7ed3\u679c\u3002\u5728\u5408\u5e76\u7684\u9012\u5f52\u8fc7\u7a0b\u4e2d\uff0c\u76f4\u5230\u53f6\u5b50\u8282\u70b9\uff0c\u7136\u540e\u4ece\u53f6\u5b50\u8282\u70b9\u5411\u6839\u8282\u70b9\u68c0\u67e5\uff0c\u786e\u4fdd\u5de6\u53f3\u5b50\u6811\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff1a</p> <p>\u5de6\u504f\u5806\u9996\u5148\u5e94\u5f53\u6ee1\u8db3\u5927\u9876\u5806\u6216\u5c0f\u9876\u5806\u7684\u6027\u8d28\u3002\u5176\u6b21\uff0c\u8fd8\u9700\u8981\u6ee1\u8db3\u5982\u4e0b\u6027\u8d28\uff1a</p> <ul> <li>\u8282\u70b9\u7684\u5de6\u5b50\u8282\u70b9\u7684\u8ddd\u79bb\u4e0d\u5c0f\u4e8e\u53f3\u5b50\u8282\u70b9\u7684\u8ddd\u79bb\u3002</li> </ul> <p>\u5982\u679c\u4e0d\u6ee1\u8db3\uff0c\u5219\u8c03\u6362\u5de6\u53f3\u5b50\u6811\uff0c\u5e76\u66f4\u65b0\u6839\u7684dist\u503c\u3002</p>"},{"location":"incourse/ADS/Leandsk/#\u4ee3\u7801","title":"\u4ee3\u7801","text":"recursive<pre><code>typedef struct LeftistNode {\n    int key;\n    struct LeftistNode *left;\n    struct LeftistNode *right;\n    int dist;\n} LeftistNode;\n\nLeftistNode* createNode(int key) {\n    LeftistNode* node = (LeftistNode*)malloc(sizeof(LeftistNode));\n    node-&gt;key = key;\n    node-&gt;left = NULL;\n    node-&gt;right = NULL;\n    node-&gt;dist = 0;\n    return node;\n}\n\nLeftistNode* merge(LeftistNode* h1, LeftistNode* h2) {\n    if (h1 == NULL) return h2;\n    if (h2 == NULL) return h1;\n    if (h1-&gt;key &gt; h2-&gt;key) {\n        LeftistNode* temp = h1;\n        h1 = h2;\n        h2 = temp;\n    }\n    h1-&gt;right = merge(h1-&gt;right, h2);\n    if (h1-&gt;left == NULL || h1-&gt;left-&gt;dist &lt; h1-&gt;right-&gt;dist) {\n        LeftistNode* temp = h1-&gt;left;\n        h1-&gt;left = h1-&gt;right;\n        h1-&gt;right = temp;\n    }\n    h1-&gt;dist = (h1-&gt;right == NULL) ? 0 : h1-&gt;right-&gt;dist + 1;\n    return h1;\n}\n</code></pre>"},{"location":"incourse/ADS/Leandsk/#\u5faa\u73af\u7248\u672c","title":"\u5faa\u73af\u7248\u672c","text":"<p>\u4ecb\u7ecd\u5de6\u504f\u5806\u5408\u5e76\u7684\u8fed\u4ee3\u7248\u672c\u3002\u4e0e\u9012\u5f52\u7248\u672c\u4e0d\u540c\uff0c\u8fed\u4ee3\u7248\u672c\u901a\u8fc7\u663e\u5f0f\u7684\u6808\u6765\u6a21\u62df\u9012\u5f52\u8c03\u7528\uff0c\u4ece\u800c\u907f\u514d\u4e86\u9012\u5f52\u8c03\u7528\u5e26\u6765\u7684\u6808\u7a7a\u95f4\u5f00\u9500\u3002</p> <p>\u8fed\u4ee3\u7248\u672c\u7684\u57fa\u672c\u601d\u60f3\u5982\u4e0b\uff1a</p> <ol> <li>\u9996\u5148\u6bd4\u8f83\u4e24\u4e2a\u5806\u9876\u5143\u7d20\u7684\u5927\u5c0f\uff0c\u9009\u62e9\u8f83\u5c0f\u7684\u4f5c\u4e3a\u65b0\u7684\u6839\u8282\u70b9\u3002</li> <li>\u4f7f\u7528\u4e00\u4e2a\u6808\u6765\u4fdd\u5b58\u9700\u8981\u5904\u7406\u7684\u53f3\u5b50\u6811\u6307\u9488\u3002</li> <li>\u5728\u5faa\u73af\u4e2d\u4e0d\u65ad\u6bd4\u8f83\u4e24\u4e2a\u5806\u7684\u5f53\u524d\u8282\u70b9\uff0c\u9009\u62e9\u8f83\u5c0f\u7684\u8282\u70b9\u5e76\u5c06\u5176\u53f3\u5b50\u6811\u6307\u9488\u538b\u5165\u6808\u4e2d\u3002</li> <li>\u5f53\u5176\u4e2d\u4e00\u4e2a\u5806\u5904\u7406\u5b8c\u6bd5\u540e\uff0c\u5c06\u53e6\u4e00\u4e2a\u5806\u7684\u5269\u4f59\u90e8\u5206\u76f4\u63a5\u8fde\u63a5\u5230\u5f53\u524d\u8282\u70b9\u7684\u53f3\u5b50\u6811\u3002</li> <li>\u6700\u540e\uff0c\u4ece\u6808\u4e2d\u5f39\u51fa\u8282\u70b9\uff0c\u8c03\u6574\u5de6\u53f3\u5b50\u6811\u4ee5\u6ee1\u8db3\u5de6\u504f\u5806\u7684\u6027\u8d28\u3002</li> </ol>"},{"location":"incourse/ADS/Leandsk/#\u4ee3\u7801_1","title":"\u4ee3\u7801","text":"iterative<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\ntypedef struct LeftistNode {\n    int key;\n    struct LeftistNode *left;\n    struct LeftistNode *right;\n    int dist;\n} LeftistNode;\n\nLeftistNode* createNode(int key) {\n    LeftistNode* node = (LeftistNode*)malloc(sizeof(LeftistNode));\n    node-&gt;key = key;\n    node-&gt;left = NULL;\n    node-&gt;right = NULL;\n    node-&gt;dist = 0;\n    return node;\n}\n\nLeftistNode* mergeIterative(LeftistNode* h1, LeftistNode* h2) {\n    if (h1 == NULL) return h2;\n    if (h2 == NULL) return h1;\n\n    LeftistNode* root = NULL;\n    LeftistNode** stack[64];\n    int top = -1;\n\n    if (h1-&gt;key &lt; h2-&gt;key) {\n        root = h1;\n        stack[++top] = &amp;h1-&gt;right;\n        h1 = h1-&gt;right;\n    } else {\n        root = h2;\n        stack[++top] = &amp;h2-&gt;right;\n        h2 = h2-&gt;right;\n    }\n\n    while (h1 != NULL &amp;&amp; h2 != NULL) {\n        if (h1-&gt;key &lt; h2-&gt;key) {\n            *stack[top] = h1;\n            stack[++top] = &amp;h1-&gt;right;\n            h1 = h1-&gt;right;\n        } else {\n            *stack[top] = h2;\n            stack[++top] = &amp;h2-&gt;right;\n            h2 = h2-&gt;right;\n        }\n    }\n\n    *stack[top] = (h1 == NULL) ? h2 : h1;\n\n    while (top &gt;= 0) {\n        LeftistNode** node = stack[top--];\n        if ((*node)-&gt;left == NULL || (*node)-&gt;left-&gt;dist &lt; (*node)-&gt;right-&gt;dist) {\n            LeftistNode* temp = (*node)-&gt;left;\n            (*node)-&gt;left = (*node)-&gt;right;\n            (*node)-&gt;right = temp;\n        }\n        (*node)-&gt;dist = ((*node)-&gt;right == NULL) ? 0 : (*node)-&gt;right-&gt;dist + 1;\n    }\n\n    return root;\n}\n\nvoid inorderTraversal(LeftistNode* root) {\n    if (root != NULL) {\n        inorderTraversal(root-&gt;left);\n        printf(\"%d \", root-&gt;key);\n        inorderTraversal(root-&gt;right);\n    }\n}\n\nint main() {\n    LeftistNode* h1 = createNode(3);\n    h1-&gt;left = createNode(10);\n    h1-&gt;right = createNode(8);\n\n    LeftistNode* h2 = createNode(7);\n    h2-&gt;left = createNode(12);\n    h2-&gt;right = createNode(9);\n\n    LeftistNode* mergedHeap = mergeIterative(h1, h2);\n\n    printf(\"Inorder traversal of merged heap: \");\n    inorderTraversal(mergedHeap);\n    printf(\"\\n\");\n\n    return 0;\n}\n</code></pre>"},{"location":"incourse/ADS/Leandsk/#\u63d2\u5165\u5143\u7d20","title":"\u63d2\u5165\u5143\u7d20","text":"<p>\u5806\u7684\u5408\u5e76\u4e2d\u6709\u4e00\u4e2a\u5806\u53ea\u6709\u4e00\u4e2a\u6839\u8282\u70b9\u7684\u60c5\u51b5</p>"},{"location":"incourse/ADS/Leandsk/#\u5220\u9664","title":"\u5220\u9664","text":"<p>\u5220\u9664\u5806\u9876\uff0c\u5408\u5e76\u5de6\u53f3\u5b50\u6811\u5373\u53ef</p>"},{"location":"incourse/ADS/Leandsk/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>\u4f8b\u9898</p> T1T2T3 <p></p> \u89e3\u6790 <p>\u63d2\u5165\u5b8c\u7684\u6811\u5982\u56fe\uff1a</p> <p></p> <p>\u56e0\u6b64\u53ef\u4ee5\u770b\u51faD\u662f\u9519\u7684\uff0cNpl\u90fd\u662f2</p> <p></p> \u89e3\u6790 <p>\u901a\u8fc7\u7279\u6b8a\u503c\u6cd5\u4e0e\u611f\u53d7\u6cd5\u53ef\u4ee5\u770b\u51faA\u4e0eC\u662f\u5bf9\u7684\uff0c\u7531C\u53ef\u4ee5\u63a8\u51faD\u662f\u9519\u7684\uff0c\u6309\u7167\u6211\u81ea\u5df1\u7684\u8ba1\u7b97\uff0c\u5e94\u8be5\u4e3a\\(O(N)\\)</p> <p></p> \u89e3\u6790 <p>\u89c1\u4ee3\u7801</p>"},{"location":"incourse/ADS/Leandsk/#skew-heaps","title":"Skew Heaps","text":"<p>\u8d44\u6599</p> <p>wiki:https://zh.wikipedia.org/wiki/%E6%96%9C%E5%A0%86</p>"},{"location":"incourse/ADS/Leandsk/#\u6982\u5ff5_1","title":"\u6982\u5ff5","text":"<p>\u659c\u5806\u662f\u4e00\u822c\u5316\u7684\u5de6\u504f\u5806\uff0c\u5de6\u504f\u5806\u662f\u7279\u6b8a\u7684\u659c\u5806\u3002\u659c\u5806\u7684\u4e00\u822c\u6027\u5728\u4e8e\u5b83\u4e0d\u8bb0\u5f55dist\u503c\uff0c\u800c\u662f\u5728\u5408\u5e76\u65f6\uff0c\u65e0\u6761\u4ef6\u8fdb\u884c\u5de6\u53f3\u5b50\u6811\u4ea4\u6362\u7684\u64cd\u4f5c\u3002</p>"},{"location":"incourse/ADS/Leandsk/#\u9012\u5f52","title":"\u9012\u5f52","text":"<p>\u9012\u5f52\u5408\u5e76\u7684\u64cd\u4f5c\u6709\u4e09\u6b65\uff1a</p> <ol> <li> <p>\u6bd4\u8f83\u4e24\u4e2a\u5806\uff1b \u8bbep\u662f\u5177\u6709\u66f4\u5c0f\u7684root\u7684\u952e\u503c\u7684\u5806\uff0cq\u662f\u53e6\u4e00\u4e2a\u5806\u3002</p> </li> <li> <p>p\u7684\u53f3\u5b50\u6811\u4e3a\u539f\u6765p\u7684\u5de6\u5b50\u6811</p> </li> <li> <p>p\u7684\u5de6\u5b50\u6811\u662f\u539f\u6765p\u7684\u53f3\u5b50\u6811\u4e0eq\u5408\u5e76\u7684\u7ed3\u679c\u3002</p> </li> </ol> <p>example from wiki</p> \u5408\u5e76\u524d\u5408\u5e76\u540e <p></p> <p></p> <p>\u7591\u60d1</p> <p>\u5728\u9012\u5f52\u7684\u4ee3\u7801\u4e2d\uff0c\u5f53\u4e00\u4e2a\u5806\u4e0eNULL\u5408\u5e76\u7684\u65f6\u5019\uff0c\u4f3c\u4e4e\u76f4\u63a5\u8fd4\u56de\u6839\u8282\u70b9\u5c31\u53ef\u4ee5\u4e86\uff0c\u4f46\u8fd9\u6837\u7684\u7ed3\u679c\u4e0e\u5b9e\u9645\u4e0d\u7b26\u3002\u5728\u975e\u5e38\u7591\u60d1\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u89c9\u5f97\u9700\u8981\u4e3amerge\u6253\u4e00\u4e2a\u8865\u4e01\uff1a \u5f53\u4e00\u4e2a\u5806\u4e0e\u4e00\u4e2a\u7a7a\u5806\u5408\u5e76\u65f6\uff0c\u9700\u8981\u4ea4\u6362\u5b83\u7684\u5de6\u53f3\u5b50\u6811</p>"},{"location":"incourse/ADS/Leandsk/#\u5faa\u73af","title":"\u5faa\u73af","text":"<p>iterative\u7248\u672c\u5c31\u4e0d\u5199\u4e86\uff0c\u653e\u4e00\u4e2awiki\u94fe\u63a5</p>"},{"location":"incourse/ADS/Leandsk/#\u5747\u644a\u5206\u6790","title":"\u5747\u644a\u5206\u6790","text":""},{"location":"incourse/ADS/Leandsk/#\u5b9a\u4e49","title":"\u5b9a\u4e49","text":"<p>\u91c7\u7528\u52bf\u80fd\u6cd5\u5bf9\u659c\u5806\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u8fdb\u884c\u5206\u6790\u3002\u7531\u4e8e\u659c\u5806\u4e3b\u8981\u7684\u64cd\u4f5c\u662fmerge\uff0c\u6240\u4ee5\u6211\u4eec\u5bf9merge\u8fdb\u884c\u5206\u6790\uff0c\u5e0c\u671b\u8bc1\u660e\u5b83\u662f\\(O(\\log{n})\\).</p> <p>\u52bf\u80fd\u51fd\u6570</p> <p>\\(\\Phi(D_i)=\\)the number of heavy nodes in heap</p> <p>heavy node</p> <p>from PPT:A node p is heavy if the number of descendants of p\u2019s right subtree is at least half of the number of descendants of p, and light otherwise. Note that the number of descendants of a node includes the node itself.</p> <p>\u603b\u7684\u6765\u8bf4\uff0c\u5c31\u662f\u53f3\u5b50\u6811\u4e2d\u8282\u70b9\u4e2a\u6570\u8d85\u8fc7\u603b\u7684\u4e00\u534a\u7684\u8282\u70b9\u3002</p> <p>\u53cd\u4e4b\u53ef\u5b9a\u4e49light node.</p> <p>\u4e00\u4e9b\u6027\u8d28</p> <ol> <li> <p>\u53ea\u6709\u539f\u5148\u6700\u53f3\u4fa7\u8def\u5f84\u4e0a\u7684\u8282\u70b9\u7684\u8f7b\u91cd\u72b6\u6001\u6709\u53ef\u80fd\u53d1\u751f\u53d8\u5316\u3002</p> </li> <li> <p>\u53ea\u6709\u539f\u5148\u6700\u53f3\u4fa7\u8def\u5f84\u4e0a\u7684\u8282\u70b9\u4f1a\u88ab\u8bbf\u95ee\uff0c\u4f5c\u76f8\u5173\u64cd\u4f5c\u3002</p> </li> <li> <p>\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u662f light node\uff0c\u5e76\u4e14\u5728\u5176\u53f3\u5b50\u6811\u53d1\u751f\u4e86\u5408\u5e76\uff08\u5305\u62ec\u7ffb\u8f6c\uff09\uff0c\u90a3\u4e48\u5b83\u53ef\u80fd\u53d8\u4e3a\u4e00\u4e2a heavy node</p> </li> <li> <p>\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u662f heavy node\uff0c\u5e76\u4e14\u5728\u5176\u53f3\u5b50\u6811\u53d1\u751f\u4e86\u5408\u5e76\uff08\u5305\u62ec\u7ffb\u8f6c\uff09\uff0c\u90a3\u4e48\u5b83\u4e00\u5b9a\u53d8\u4e3a\u4e00\u4e2a light node</p> </li> </ol> <p>\u5217\u51fa\u52bf\u80fd\u6cd5\u7684\u5f0f\u5b50\uff1a</p> <p>\\(\\hat{c_i}=c_i+\\Phi(D_i)-\\Phi(D_{i-1})\\)</p>"},{"location":"incourse/ADS/Leandsk/#\u5206\u6790","title":"\u5206\u6790","text":"<p>\u8bb0:</p> <ul> <li> <p>\\(l_1\\)\uff1a1\u53f7\u5806\u6700\u53f3\u4fa7\u8def\u5f84\u4e0alight node\u7684\u4e2a\u6570</p> </li> <li> <p>\\(h_1\\): 1\u53f7\u5806\u6700\u53f3\u4fa7\u8def\u5f84\u4e0aheavy node\u7684\u4e2a\u6570</p> </li> <li> <p>\\(l_2\\): 2\u53f7\u5806\u6700\u53f3\u4fa7\u8def\u5f84\u4e0alight node\u7684\u4e2a\u6570</p> </li> <li> <p>\\(h_2\\): 2\u53f7\u5806\u6700\u53f3\u4fa7\u8def\u5f84\u4e0aheavy node\u7684\u4e2a\u6570</p> </li> <li> <p>h: \u4e24\u4e2a\u5806\u4e0d\u5728\u6700\u53f3\u4fa7\u8def\u5f84\u4e0aheavy node\u7684\u4e2a\u6570\uff0c\u8fd9\u4e9b\u8282\u70b9\u59cb\u7ec8\u4e3aheavy node</p> </li> </ul> <p>\u56e0\u6b64\uff1a</p> <ul> <li> <p>\\(c_i\\)\u5728\u6700\u574f\u60c5\u51b5\u4e0b\u4e3a\\(l_1+h_1+l_2+h_2\\)\uff0c\u5373\u4e24\u4e2a\u5806\u53f3\u4fa7\u8282\u70b9\u5168\u90e8\u88ab\u8bbf\u95ee</p> </li> <li> <p>\\(\\Phi(D_{i-1}) = h + h_1 + h_2\\)</p> </li> <li> <p>\\(\\Phi(D_i) &lt;= h + l_1 + l_2\\),\u56e0\u4e3a\u6700\u53f3\u4fa7\u8def\u5f84\u4e0a\u7684heavy node\u5fc5\u7136\u4f1a\u53d8\u6210light node(\u89c1\u6027\u8d284)</p> <p>\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u662f heavy node\uff0c\u5e76\u4e14\u5728\u5176\u53f3\u5b50\u6811\u53d1\u751f\u4e86\u5408\u5e76\uff08\u5305\u62ec\u7ffb\u8f6c\uff09\uff0c\u90a3\u4e48\u5b83\u4e00\u5b9a\u53d8\u4e3a\u4e00\u4e2a light node</p> <p>\u800c\u5408\u5e76\u5b8c\u540e\uff0c\u5982\u679c\u8981\u8ba9\u52bf\u80fd\u6700\u5927\uff0c\u6211\u4eec\u53ea\u80fd\u5047\u8bbe\u6240\u6709\u7684light node\u5168\u90e8\u53d8\u6210\u4e86heavy node\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u662f light node\uff0c\u5e76\u4e14\u5728\u5176\u53f3\u5b50\u6811\u53d1\u751f\u4e86\u5408\u5e76\uff08\u5305\u62ec\u7ffb\u8f6c\uff09\uff0c\u90a3\u4e48\u5b83\u53ef\u80fd\u53d8\u4e3a\u4e00\u4e2a heavy node</p> <p>\u56e0\u6b64\u5f97\u5230\\(\\Phi(D_i) &lt;= h + l_1 + l_2\\)</p> </li> </ul>"},{"location":"incourse/ADS/Leandsk/#\u7efc\u4e0a\u6240\u8ff0","title":"\u7efc\u4e0a\u6240\u8ff0","text":"<p>\\(\\hat{c_i}=c_i+\\Phi(D_i)-\\Phi(D_{i-1}) &lt;=2(l_1 + l_2)\\)</p> <p>\u8003\u8651\u4e0a\u754c\u7684\u8bdd\uff0c\u6211\u4eec\u9700\u8981\u8ba9\\(l_1 + l_2\\)\u5c3d\u53ef\u80fd\u5927\uff0c\u90a3\u4ec0\u4e48\u65f6\u5019\u5c3d\u53ef\u80fd\u5927\u5462\uff1f</p> <p>\u56de\u60f3light node\u7684\u5b9a\u4e49\uff1a\u4e00\u4e2a\u8282\u70b9\uff0c\u5b83\u53f3\u5b50\u6811\u7684\u8282\u70b9\u5c11\u4e8e\u8fd9\u9897\u5b50\u6811\u5168\u90e8\u8282\u70b9\u7684\u4e00\u534a\u3002</p> <p>\u90a3light node\u5c3d\u53ef\u80fd\u591a\u662f\u591a\u5c11\u5462...\u4e00\u4e2a\u6811\u53f3\u8def\u5f84\u4e0a\u7684\u8282\u70b9\u53d7\u9650\uff0c\u8054\u60f3\u5230\u4e4b\u524d\u7684\u5de6\u503e\u6811\uff0c\u4e00\u9897\u6811\u6709N\u4e2a\u8282\u70b9\uff0c\u6700\u53f3\u4fa7\u8def\u5f84\u4e0a\u6700\u591a\u6709\u591a\u5c11\u8282\u70b9\u5462\uff1f</p> **$\\log(N)$** <p>\u81f3\u6b64\uff0c\u6211\u4eec\u63a8\u51faSkew heap merge\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\\(O(\\log(N))\\),\u7531\u4e8e\u5176\u4ed6\u64cd\u4f5c\u90fd\u53ef\u4ee5\u770b\u6210\u662f\u7279\u6b8a\u7684merge\uff0c\u56e0\u6b64\u7ed3\u675f\u63a8\u7406\uff0cQ.E.D</p>"},{"location":"incourse/ADS/Leandsk/#\u4f8b\u9898_1","title":"\u4f8b\u9898","text":"<p>\u4f8b\u9898</p> T1T2T3T4 <p></p> \u89e3\u6790 <p>emmm,\u597d\u50cf\u5c31\u662f\u8fd9\u6837\u7684\uff0c\u753b\u4e86\u51e0\u4e2a\u7b80\u5355\u60c5\u51b5\u7b26\u5408\u3002</p> <p></p> \u89e3\u6790 <p>\u597d\u50cf\u662f\u6ca1\u6709\u4ec0\u4e48\u89c4\u5b9a\uff1f</p> <p></p> \u89e3\u6790 <p>\u548c\u4e0a\u9762\u7684\u5224\u65ad\u9898\u4e00\u6837\uff0c\u5e94\u8be5\u662f\u4e2a\u6ee1\u4e8c\u53c9\u6811\u3002</p> <p></p> \u89e3\u6790 <p>\u7ed3\u679c\u5982\u56fe\uff1a</p> <p></p>"},{"location":"incourse/ADS/Random/","title":"\u968f\u673a\u7b97\u6cd5","text":"<p> \u7ea6 2194 \u4e2a\u5b57  17 \u884c\u4ee3\u7801  6 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p> <p>\u5728\u6982\u7387\u8bba\u4e0e\u6570\u7406\u7edf\u8ba1\u4e2d\u6211\u4eec\u5b66\u8fc7:</p> \\[ E(X) = \\sum_{i=1}^{n} x_i \\cdot P(X=x_i) \\] <p>\u800c\u968f\u673a\u7b97\u6cd5\u4e5f\u4e0e\u671f\u671b\u6709\u5173\u3002\u5728\u7b97\u6cd5\u5206\u6790\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u5173\u5fc3\u7684\u662f\u7b97\u6cd5\u7684\u5e73\u5747\u6027\u80fd\uff0c\u5373\u671f\u671b\u3002\u5728\u968f\u673a\u7b97\u6cd5\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u5173\u5fc3\u7684\u662f\u7b97\u6cd5\u7684\u671f\u671b\u6027\u80fd\uff0c\u5373\u7b97\u6cd5\u5728\u968f\u673a\u8f93\u5165\u4e0a\u7684\u671f\u671b\u6027\u80fd\u3002</p>"},{"location":"incourse/ADS/Random/#hiring-problem","title":"Hiring Problem","text":"<p>wiki</p> <p>Hiring problem</p> <p>\u73b0\u5728\u4f60\u9700\u8981\u96c7\u4f63\u4e00\u4e2a\u79d8\u4e66\uff0c\u4f60\u6709 \\(n\\) \u4e2a\u5e94\u8058\u8005\uff0c\u4f60\u53ef\u4ee5\u6309\u7167\u4efb\u610f\u987a\u5e8f\u9762\u8bd5\u4ed6\u4eec\uff0c\u4f46\u662f\u4f60\u4e0d\u80fd\u62d2\u7edd\u4e00\u4e2a\u5e94\u8058\u8005\uff0c\u4e00\u65e6\u62d2\u7edd\u5c31\u4e0d\u80fd\u518d\u6b21\u8003\u8651\u3002\u4f60\u7684\u76ee\u6807\u662f\u96c7\u4f63\u4e00\u4e2a\u6700\u4f18\u79c0\u7684\u5e94\u8058\u8005\uff0c\u5373\u4f7f\u4f60\u4e0d\u77e5\u9053\u4ed6\u4eec\u7684\u76f8\u5bf9\u987a\u5e8f\u3002</p> <p>\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u5047\u8bbe\u9762\u8bd5\u4e0e\u96c7\u4f63\u90fd\u6709\u76f8\u5e94\u7684\u6210\u672c\u3002\u5f53\u4f60\u9009\u62e9\u96c7\u4f63\u4e00\u4e2a\u4eba\u540e\uff0c\u5373\u4f7f\u4f60\u7b2c\u4e8c\u5929\u5c31\u627e\u5230\u4e00\u4e2a\u66f4\u597d\u5730\u628a\u4ed6\u5f00\u9664\uff0c\u4ecd\u7136\u9700\u8981\u652f\u4ed8\u96c7\u4f63\u7684\u6210\u672c\u3002\u6211\u4eec\u7684\u76ee\u6807\u662f\u627e\u5230\u4e00\u4e2a\u7b97\u6cd5\uff0c\u4f7f\u5f97\u671f\u671b\u6210\u672c\u6700\u5c0f\u3002</p>"},{"location":"incourse/ADS/Random/#naive-solution","title":"Naive Solution","text":"<p>\u6bcf\u4e00\u4e2a\u4eba\u90fd\u9762\u8bd5\uff0c\u7136\u540e\u9009\u62e9\u6700\u4f18\u79c0\u7684\u3002\u5728\u6700\u5dee\u7684\u60c5\u51b5\u4e0b\uff0c\u5047\u8bbe\u540e\u4e00\u4e2a\u4eba\u59cb\u7ec8\u6bd4\u524d\u4e00\u4e2a\u4eba\u4f18\u79c0\uff0c\u90a3\u4e48\u671f\u671b\u6210\u672c\u4e3a:</p> \\[ N C_h \\]"},{"location":"incourse/ADS/Random/#randomized-solution","title":"Randomized Solution","text":"<p>\u4ee4\\(X = \\text{number of hires}\\),\u6211\u4eec\u7528\\(X_i\\)\u8868\u793a\u7b2c\\(i\\)\u4e2a\u4eba\u88ab\u96c7\u4f63\u7684\u60c5\u51b5:</p> \\[ X_i = \\begin{cases} 1 &amp; \\text{if } i \\text{ is hired} \\\\ 0 &amp; \\text{otherwise} \\end{cases} \\] <p>\u90a3\u4e48\\(E(X_i) = \\frac{1}{i}\\)</p> <p>\u8fd9\u662f\u56e0\u4e3a\\(P(X_i = 1) = \\frac{1}{i}\\),\u53ef\u4ee5\u8fd9\u4e48\u8003\u8651:\u7b2ci\u4e2a\u4eba\u88ab\u96c7\u4f63&lt;=&gt;\u524di\u4e2a\u4eba\u4e2d\u6700\u4f18\u79c0\u7684\u51fa\u73b0\u5728\u7b2ci\u4e2a\u3002</p> <p>\u5219:</p> \\[ \\begin{aligned} E(X) &amp; = E(X_1 + X_2 + \\cdots + X_n) \\\\ &amp; = E(X_1) + E(X_2) + \\cdots + E(X_n) \\\\ &amp; = \\frac{1}{1} + \\frac{1}{2} + \\cdots + \\frac{1}{n} \\\\ &amp; = \\sum_{i=1}^{n} \\frac{1}{i} \\\\ &amp; = \\ln n + O(1) \\end{aligned} \\] <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u671f\u671b\u6210\u672c\u4e3a:</p> \\[ C_h \\ln n + N C_i \\] <p>\u5b9e\u73b0\u8fd9\u79cd\u6210\u672c\u7684\u5173\u952e\u5728\u4e8e\u968f\u673a\u6027\uff0c\u5373\u6211\u4eec\u9700\u8981\u968f\u673a\u5730\u9009\u62e9\u4e00\u4e2a\u4eba\u3002</p>"},{"location":"incourse/ADS/Random/#online-hiring-problem","title":"Online Hiring Problem","text":"<p>\u6b63\u5982\u8fd1\u4f3c\u7b97\u6cd5\u4e2d\u63d0\u5230\u7684\uff0conline\u7684\u610f\u601d\u662f\u6211\u4eec\u4e0d\u80fd\u63d0\u524d\u77e5\u9053\u6240\u6709\u7684\u5e94\u8058\u8005\uff0c\u800c\u662f\u5728\u9762\u8bd5\u7684\u8fc7\u7a0b\u4e2d\u9010\u4e2a\u5f97\u5230\u5e94\u8058\u8005\u7684\u4fe1\u606f\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u80fd\u4f7f\u7528\u4e0a\u9762\u7684\u968f\u673a\u7b97\u6cd5\uff0c\u56e0\u4e3a\u6211\u4eec\u65e0\u6cd5\u505a\u5230\u968f\u673a\u62bd\u53d6\u4e00\u4e2a\u4eba\uff0c\u4e5f\u5373\u4e0d\u76f8\u4fe1\u6570\u636e\u7684\u968f\u673a\u6027\u3002</p> <p>\u6b63\u5982\u7ef4\u57fa\u767e\u79d1\u4e2d\u6240\u8bf4\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a\u622a\u65ad\u51c6\u5219\uff0c\u5373\u5728\u524d \\(k\\) \u4e2a\u4eba\u4e2d\u9009\u62e9\u4e00\u4e2a\u6700\u4f18\u79c0\u7684\uff0c\u7136\u540e\u5728\u540e\u9762\u7684\u4eba\u4e2d\u9009\u62e9\u4e00\u4e2a\u6bd4\u524d \\(k\\) \u4e2a\u4eba\u66f4\u4f18\u79c0\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u9009\u62e9\u8fd9\u4e2a\u4eba\u3002</p> Online Hiring Problem<pre><code>int OnlineHiring ( EventType C[ ], int N, int k)\n{\n    int Best = N;\n    int BestQ = - infinity ;\n    for ( i=1; i&lt;=k; i++ ) {\n        Qi = interview( i );\n        if ( Qi &gt; BestQ )   BestQ = Qi;\n    }\n    for ( i=k+1; i&lt;=N; i++ ) {\n        Qi = interview( i );\n        if ( Qi &gt; BestQ ) {\n            Best = i;\n            break;\n        }\n    }\n    return Best;\n}\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u8981\u601d\u8003\u4e00\u4e2a\u95ee\u9898\uff0c\u5373\u5982\u4f55\u9009\u62e9 \\(k\\)\uff0c\u4f7f\u5f97\u6211\u4eec\u627e\u5230\u6700\u4f18\u79c0\u7684\u4eba\u7684\u6982\u7387\u6700\u5927\u3002</p> <p>\u4ee4\u4e8b\u4ef6\\(S_i\\)\u8868\u793a\u7b2c\\(i\\)\u4e2a\u4eba\u662f\u6700\u4f18\u79c0\u7684\u4e14\u88abpick\uff0c\u90a3\u4e48,\u8981\u4f7f\\(S_i\\)\u53d1\u751f\uff0c\u5fc5\u987b\u5982\u4e0b\u4e24\u4e2a\u4e8b\u4ef6\u53d1\u751f:</p> <ol> <li> <p>A: \u7b2c\\(i\\)\u4e2a\u4eba\u662f\u6700\u4f18\u79c0\u7684</p> </li> <li> <p>B: \u524d\\(k+1 \\sim i-1\\)\u4e2a\u4eba\u4e2d\u6ca1\u6709\u88ab\u96c7\u4f63</p> </li> </ol> <p>\u5e76\u4e14\uff0c\u8fd9\u4e24\u4e2a\u4e8b\u4ef6\u662f\u72ec\u7acb\u7684\u3002</p> <p>\u90a3\u4e48:</p> \\[ P(S_i) = P(A \\cap B)=P(A) \\cdot P(B) = \\frac{1}{N} \\cdot \\frac{k}{i-1} = \\frac{k}{N(i-1)} \\] <p>\u4e3a\u4ec0\u4e48\u662f\\(k/(i-1)\\)</p> <p>\u8fd9\u91cc\u7684\u601d\u60f3\u662f\u770b\u4f5c\u4e8b\u4ef6\u4e3a\u524di-1\u4e2a\u4eba\u5f53\u4e2d\uff0c\u6700\u4f18\u79c0\u7684\u4eba\u51fa\u73b0\u5728\u524dk\u4e2a\u4eba\u5f53\u4e2d\u3002\u800c\u6700\u4f18\u79c0\u7684\u4eba\u51fa\u73b0\u5728\u4efb\u4f55\u4e00\u4e2a\u4f4d\u7f6e\u7684\u6982\u7387\u662f\u76f8\u540c\u7684\uff0c\u5373\\(1/N\\)\u3002</p> <p>\u65e2\u7136\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u6700\u4f18\u79c0\u7684\u4eba\u51fa\u73b0\u5728\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u7684\u6982\u7387\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u51fa\u7528\u4e0a\u4e00\u4e2a\u7b97\u6cd5\u627e\u5230\u6700\u4f18\u79c0\u7684\u4eba\u7684\u6982\u7387:</p> \\[ P(\\text{find the best}) = \\sum_{i=k+1}^{N} P(S_i) = \\sum_{i=k+1}^{N} \\frac{k}{N(i-1)} = \\sum_{i = k}^{N-1} \\frac{k}{N} \\frac{1}{i} \\] <p>\u5f15\u7406</p> \\[ \\int_{k}^{N} \\frac{1}{x} \\mathrm{d} x \\leq \\sum_{i=k}^{N-1} \\frac{1}{i} \\leq \\int_{k-1}^{N-1} \\frac{1}{x} \\mathrm{d} x \\] \u8bc1\u660e <p>\u8bc1\u660e\u7565</p> <p>\u6211\u4eec\u56de\u5f52\u5fae\u79ef\u5206\u539f\u59cb\u7684\u6982\u5ff5\uff0c\u5373\u8ba1\u7b97\u66f2\u7ebf\u4e0b\u7684\u9762\u79ef\u3002  </p> <p>\u8fd9\u91cc\u4f5c\u4e00\u4e9b\u7b80\u5316:\u7528C G \u4e24\u70b9\u7684\u66f2\u7ebf\u4e0e\u5750\u6807\u8f74\u56f4\u6210\u7684\u9762\u79ef\u8868\u793a\\(\\int_{k}^{N} \\frac{1}{x} \\mathrm{d} x\\)\uff0c\u7528A E \u4e24\u70b9\u7684\u66f2\u7ebf\u4e0e\u5750\u6807\u8f74\u56f4\u6210\u7684\u9762\u79ef\u8868\u793a\\(\\int_{k-1}^{N-1} \\frac{1}{x} \\mathrm{d} x\\)\uff0c\u800c\\(\\sum_{i=k}^{N-1} \\frac{1}{i} = \\sum_{i=k}^{N-1} \\frac{1}{i} \\times 1\\),\u5219:</p> <ul> <li> <p>\u76f8\u6bd4\u4e8e\\(\\int_{k}^{N} \\frac{1}{x} \\mathrm{d} x\\)\uff0c\\(\\sum_{i=k}^{N-1} \\frac{1}{i}\\)\u76f8\u5f53\u4e8e\u6bcf\u6b21\u7528\u957f\u8fb9(\u6bd4\u5982CDFE\u4e2d\u7684CD)\u4f5c\u4e3a\u77e9\u5f62\u7684\u9ad8\uff0c\u56e0\u6b64\u6bd4\u5b9e\u9645\u9762\u79ef\u5927\u3002</p> </li> <li> <p>\u76f8\u6bd4\u4e8e\\(\\int_{k-1}^{N-1} \\frac{1}{x} \\mathrm{d} x\\)\uff0c\\(\\sum_{i=k}^{N-1} \\frac{1}{i}\\)\u76f8\u5f53\u4e8e\u6bcf\u6b21\u7528\u77ed\u8fb9(\u6bd4\u5982ABCD\u4e2d\u7684CD)\u4f5c\u4e3a\u77e9\u5f62\u7684\u9ad8\uff0c\u56e0\u6b64\u6bd4\u5b9e\u9645\u9762\u79ef\u5c0f\u3002</p> </li> </ul> <p>\u6709\u4e86\u4e0a\u9762\u90a3\u4e2a\u5f15\u7406\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230:</p> \\[ \\sum_{i = k}^{N-1} \\frac{k}{N} \\frac{1}{i} \\geq \\int_{k}^{N} \\frac{k}{N} \\frac{1}{x} \\mathrm{d} x = \\frac{k}{N} \\ln \\frac{N}{k} \\] <p>\u6c42\u5bfc\u5f97\u5230\u6700\u5927\u503c\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\\(k = \\frac{N}{e}\\)\u65f6\uff0c\u6982\u7387\u6700\u5927\u3002</p>"},{"location":"incourse/ADS/Random/#quick-sort","title":"Quick Sort","text":"<p>\u4f17\u6240\u5468\u77e5\uff0c\u666e\u901a\u7684\u5feb\u6392\u5728\u6700\u574f\u60c5\u51b5\u4e0b\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\\(O(n^2)\\)\uff0c\u800c\u5728\u5e73\u5747\u60c5\u51b5\u4e0b\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\\(O(n \\log n)\\)\u3002\u4e3a\u4e86\u89e3\u51b3\u6700\u574f\u60c5\u51b5\u4e0b\u5feb\u6392\u9000\u5316\u7684\u95ee\u9898\uff0c\u6211\u4eec\u4f5c\u5982\u4e0b\u5b9a\u4e49:</p> <p>Definition</p> <ul> <li> <p>Central splitter :\u4e00\u4e2a\u67a2\u7ebd\uff0c\u4f7f\u5f97\u67a2\u7ebd\u4e24\u8fb9\u7684\u90e8\u5206\u90fd\u81f3\u5c11\u5305\u542b\u539f\u6570\u7ec4\u7684\\(\\frac{1}{4}\\)</p> </li> <li> <p>Modified Quicksort :\u5728\u9012\u5f52\u524d\u603b\u662f\u9009\u62e9\u4e00\u4e2acentral splitter\u4f5c\u4e3a\u67a2\u7ebd\u3002</p> </li> </ul> <p>\u73b0\u5728\u6211\u4eec\u6765\u601d\u8003\uff0c\u5982\u679c\u6bcf\u6b21\u968f\u673a\u53d6\u4e00\u4e2a\u70b9\u4f5c\u4e3a\u67a2\u7ebd\uff0c\u9009\u62e9\u6b21\u6570\u7684\u671f\u671b\u662f\u591a\u5c11\u5462?</p> <p>Prove</p> <p> </p> <p>\u4ece\u56fe\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u70b9\u4f5c\u4e3a\u67a2\u7ebd\uff0c\u8fd9\u4e2a\u70b9\u662fCentral splitter\u7684\u6982\u7387\u662f\\(\\frac{1}{2}\\).</p> <p>\u4ee4\\(X = \\text{number of selections}\\),\u5219:</p> \\[P(X = 1) = \\frac{1}{2}\\\\\\] \\[P(X = 2) = \\frac{1}{2} \\times \\frac{1}{2} = \\frac{1}{4}\\\\\\] \\[P(X = 3) = \\frac{1}{2} \\times \\frac{1}{2} \\times \\frac{1}{2} = \\frac{1}{8}\\\\\\] \\[ \\cdots\\\\ \\] <p>\u5f88\u663e\u7136\uff0c\u4ece\u4e0a\u9762\u53ef\u4ee5\u770b\u51fa:</p> \\[\\begin{align}     E(X) &amp;= 1 \\times \\frac{1}{2} + 2 \\times \\frac{1}{4} + 3 \\times \\frac{1}{8} + \\cdots\\\\     &amp;= \\sum_{i=1}^{\\infty} i \\times \\frac{i}{2^i}\\\\     &amp;= \\sum_{i=1}^{\\infty} \\frac{i+1}{2^{i-1}} - \\frac{i+2}{2^{i}}\\\\     &amp;= \\frac{1+1}{2^0} - \\lim_{i \\to \\infty} \\frac{i+2}{2^i}\\\\     &amp;= 2 \\end{align}\\] <p>\u56e0\u6b64\uff0c\u6211\u4eec\u8bc1\u660e\u4e86\u9009\u53d6\u6b21\u6570\u7684\u671f\u671b\u662f2.</p> <p>Definition</p> <p>Type j:\u5982\u679c\u4e00\u4e2a\u5b50\u95ee\u9898S\u7684\u5927\u5c0f|S| = \u6570\u7ec4\u4e2d\u5143\u7d20\u4e2a\u6570\u6ee1\u8db3:</p> \\[ N (\\frac{3}{4})^{j+1} \\leq |S| \\leq N (\\frac{3}{4})^{j} \\] <p>\u6211\u4eec\u79f0\u8fd9\u4e2a\u5b50\u95ee\u9898\u662ftype j\u7684\u3002</p> <p>\u8fd9\u662f\u5f88\u663e\u7136\u7684\uff0c\u56e0\u4e3a\u6309\u7167Central Splitter\u7684\u5212\u5206\uff0c\u6bcf\u6b21\u9012\u5f52\uff0c\u95ee\u9898\u7684\u89c4\u6a21\u81f3\u5c11\u7f29\u5c0f\u4e3a\u539f\u6765\u7684\\(\\frac{3}{4}\\)</p> <p>\u5e76\u4e14\uff0c\u6211\u4eec\u53ef\u4ee5\u8bf4type j\u7684\u5b50\u95ee\u9898\u4e2a\u6570\u4e0d\u53ef\u80fd\u8d85\u8fc7\\((\\frac{4}{3})^{j+1}\\)\u4e2a\u3002\u8fd9\u662f\u56e0\u4e3atype j\u7684\u5b50\u95ee\u9898\u6700\u5c0f\u5927\u5c0f\u662f\\(N (\\frac{3}{4})^{j+1}\\)\uff0c\u5982\u679c\u8d85\u8fc7\u8fd9\u4e2a\u4e2a\u6570\uff0c\u90a3\u4e48\u5b50\u95ee\u9898\u5927\u5c0f\u4e4b\u548c\u6bd4\u539f\u95ee\u9898\u8fd8\u5927\u4e86\uff0c\u8fd9\u662f\u4e0d\u5408\u7406\u7684\u3002</p> <p>\u56e0\u6b64\u5bf9\u4e8e\u6240\u6709type j\u7684\u5b50\u95ee\u9898:</p> \\[ E(T_{type j}) = O(N (\\frac{3}{4})^{j}) \\times (\\frac{4}{3})^{j+1} = O(N) \\] <p>\u800c\u603b\u5171\u6709\u591a\u5c11\u4e2aj\u53ef\u4ee5\u53d6\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\uff0c\u5f53|S|=1\u65f6\u5faa\u73af\u7ec8\u6b62\uff0c\u56e0\u6b64\\(N (\\frac{3}{4})^{j} \\geq 1\\)</p> <p>\u6545\u4e00\u5171\\(\\log_{\\frac{4}{3}} N\\)\u4e2aj</p> <p>\u6240\u4ee5\u8fd9\u79cd\u5feb\u6392\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u662f:</p> \\[\\begin{align} T_{\\text{type j}} \\times \\text{number of j} &amp;= O(N) \\times O(\\log N)\\\\ &amp;= O(N \\log N) \\end{align}\\] <p>\u81f3\u6b64\uff0c\u6211\u4eec\u8bc1\u660e\u4e86\u4f18\u5316\u5feb\u6392\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\\(O(N \\log N)\\),\u5e76\u4e14\u51e0\u4e4e\u4e0d\u4f1a\u9000\u5316\u3002</p>"},{"location":"incourse/ADS/Random/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>\u4f8b\u9898</p> T1T2T3T4 <p></p> \u89e3\u6790 <p>F.</p> <p>\u4e3e\u53cd\u4f8b\u5982\u4e0b\uff1a{3, 4, 1, 2}\u3002\u5982\u679c\u7b2c\u4e00\u6b21\u90093\u6216\u80052\u4f5c\u4e3apivot\uff0c\u90a3\u4e481\u548c4\u4f1a\u88ab\u5206\u5f00\uff0c\u4e0d\u4f1a\u88ab\u6bd4\u8f83\u3002</p> <p>\u5982\u679c\u7b2c\u4e00\u6b21\u5c31\u9009\u4e2d1\u62164\uff0c\u5b83\u4eec\u624d\u4f1a\u88ab\u6bd4\u8f83\u3002\u56e0\u6b64\u5b83\u4eec\u88ab\u6bd4\u8f83\u7684\u6982\u7387\u662f1/2\u3002</p> <p>\u6309\u7167 \\(\\dfrac{2}{j-i+1}\\) \u8ba1\u7b97\uff0c\u5e94\u8be5\u662f1\u3002\u6240\u4ee5\u9519\u8bef\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e2a\u7ed3\u8bba\u5728\u539f\u5e8f\u5217\u5df2\u7ecf\u6709\u5e8f\u7684\u60c5\u51b5\u4e0b\u624d\u6210\u7acb\u3002\u56e0\u4e3a\u8fd9\u65f6\u5019:</p> <ul> <li> <p>\u53d6\u4efb\u4f55i,j\u4ee5\u5916\u7684\u5143\u7d20\u4f5c\u4e3a\u67a2\u7ebd\uff0ci,j\u8fd8\u662f\u5728\u540c\u4e00\u7ec4</p> </li> <li> <p>\u82e5\u53d6i,j\u4e4b\u95f4\u7684\u5143\u7d20\u4f5c\u4e3a\u67a2\u7ebd,i,j\u5c31\u4f1a\u88ab\u5206\u5230\u4e0d\u540c\u7ec4\u4e2d\uff0c\u56e0\u6b64\u4e0d\u4f1a\u88ab\u6bd4\u8f83\u3002</p> </li> <li> <p>\u53ea\u6709\u53d6i\u6216\u8005j\uff0c\u4f5c\u4e3a\u67a2\u7ebd\uff0c\u624d\u4f1a\u6bd4\u8f83\u3002</p> </li> </ul> <p></p> \u89e3\u6790 <p>T.\u56e0\u4e3a\u4e0d\u4f1a\u9000\u5316\u3002</p> <p></p> \u89e3\u6790 <p>A. \u601d\u8003\u9012\u63a8\u5f0f:\u5bf9\u4e8e\u4efb\u4f55\u5927\u5c0f\u7684N\uff0c\u5176\u5fc5\u7136\u6709\u5220\u9664\u4e00\u4e2a\u70b9\u8fd9\u4e00\u6b65\u3002\u5728\u5220\u9664\u4efb\u4f55\u4e00\u4e2a\u70b9\u540e\uff0c\u5269\u4e0b\u70b9\u7684\u4e2a\u6570\u4ece1\u5230N-1\u4e0d\u7b49\u3002</p> <p>\u56e0\u6b64\uff0c\u5982\u679c\u7528\\(T(N)\\)\u8868\u793a\u5220\u9664\u6b65\u6570\u7684\u671f\u671b,\u6211\u4eec\u6709:</p> \\[ T(N) = \\frac{1}{N}\\sum_{i=1}^{N-1}T(i)+1 \\] <p>\u611f\u53d7\u5f97\u5230A\u3002</p> <p></p> \u89e3\u6790 <p>\u9009\u62e9\u6700\u540e\u4e00\u4e2a\u53ef\u80fd\u662f\u4ec0\u4e48\u60c5\u51b5\u5462?</p> <ol> <li> <p>\u6700\u4f18\u79c0\u7684\u5728\u524dk\u4e2a: \\(P = \\frac{k}{N}\\)</p> </li> <li> <p>\u6700\u4f18\u79c0\u7684\u5728\u6700\u540e\u4e00\u4e2a\u5e76\u4e14\u524dN-1\u4e2a\u5019\u9009\u4eba\u4e2d\u6700\u4f18\u79c0\u7684\u5728\u524dk\u4e2a\u4e2d\uff08\u8fd9\u662f\u4e3a\u4e86\u4fdd\u8bc1\u4e0d\u4f1apick\u6700\u540e\u4e00\u4e2a\u4e4b\u524d\u7684\u4eba\uff09: \\(P = \\frac{1}{N} \\times \\frac{k}{N-1}\\)</p> </li> </ol> <p>\u76f8\u52a0\uff0c\u548c\\(\\frac{1}{3}\\)\u5dee\u4e0d\u591a\uff0c\u6545\u9009C\u3002</p>"},{"location":"incourse/ADS/Tree/","title":"AVL\u6811,Splay\u6811,\u7ea2\u9ed1\u6811\u4e0eB+\u6811","text":""},{"location":"incourse/ADS/Tree/#kinds-of-treesavlsplayb-and-red-black","title":"Kinds of Trees\uff1aAVL,Splay,B+ and Red Black","text":"<p> \u7ea6 3485 \u4e2a\u5b57  428 \u884c\u4ee3\u7801  55 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 23 \u5206\u949f</p>"},{"location":"incourse/ADS/Tree/#avl","title":"AVL","text":""},{"location":"incourse/ADS/Tree/#avl\u6811\u7684\u7279\u70b9\u4e0e\u6027\u8d28","title":"AVL\u6811\u7684\u7279\u70b9\u4e0e\u6027\u8d28","text":"<p>AVL\u6811\u662f\u4e00\u79cd\u81ea\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811\uff0c\u5176\u4e2d\u6240\u6709\u8282\u70b9\u7684\u5de6\u53f3\u5b50\u6811\u9ad8\u5ea6\u5dee\u4e0d\u80fd\u8d85\u8fc7\u4e00\u3002\u8fd9\u786e\u4fdd\u4e86\u6811\u4fdd\u6301\u5927\u81f4\u5e73\u8861\uff0c\u4ece\u800c\u63d0\u4f9b\u9ad8\u6548\u7684\u64cd\u4f5c\u3002</p>"},{"location":"incourse/ADS/Tree/#\u7279\u70b9","title":"\u7279\u70b9\uff1a","text":"<ol> <li>\u81ea\u5e73\u8861\uff1a\u901a\u8fc7\u63d2\u5165\u548c\u5220\u9664\u671f\u95f4\u7684\u65cb\u8f6c\u81ea\u52a8\u4fdd\u6301\u5e73\u8861\u3002</li> <li>\u4e8c\u53c9\u641c\u7d22\u6811\uff1a\u9075\u5faa\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u6027\u8d28\uff0c\u5373\u5de6\u5b50\u8282\u70b9\u5c0f\u4e8e\u7236\u8282\u70b9\uff0c\u53f3\u5b50\u8282\u70b9\u5927\u4e8e\u7236\u8282\u70b9\u3002</li> <li>\u9ad8\u5ea6\u5e73\u8861\uff1a\u4efb\u4f55\u8282\u70b9\u7684\u5de6\u53f3\u5b50\u6811\u9ad8\u5ea6\u5dee\u6700\u591a\u4e3a\u4e00\u3002</li> </ol> <p>\u9ad8\u5ea6\u516c\u5f0f</p> <p>\u516c\u5f0f\uff1a\u8bb0\u9ad8\u5ea6\u4e3ah\u7684AVL\u6811\u7684\u6700\u5c11\u8282\u70b9\u6570\u4e3a\\(n_h\\),\u6211\u4eec\u6709\\(n_h=n_{h-1}+n_{h-2}+1\\),\u4e14\\(n_0=0,n_1=1\\)</p> <p>\u6709\u4e00\u4e2a\u5341\u5206\u6709\u610f\u601d\u7684\u95ee\u9898\u3002\u7ed9\u5b9a\u8282\u70b9\u6570\u76ee\u7684AVL\u6811\u6700\u5927/\u6700\u5c0f\u9ad8\u5ea6\u662f\u591a\u5c11\u5462\uff1f</p> <p>\u89e3\u7b54\uff1ahttps://stackoverflow.com/questions/30769383/finding-the-minimum-and-maximum-height-in-a-avl-tree-given-a-number-of-nodes</p> <p>\u6700\u5c0f\u9ad8\u5ea6\u5341\u5206\u7b80\u5355\uff0c\u6309\u7167\u5b8c\u5168\u4e8c\u53c9\u6811\u7684\u987a\u5e8f\u586b\u5165\u5373\u53ef\u3002\u800c\u6700\u5927\u9ad8\u5ea6\u6709\u70b9\u590d\u6742\u3002wiki\u4e0a\u662f\u8fd9\u6837\u8bf4\u7684\u3002</p> <p></p>"},{"location":"incourse/ADS/Tree/#\u6027\u8d28","title":"\u6027\u8d28\uff1a","text":"<ol> <li>\u9ad8\u5ea6\uff1a\u5177\u6709<code>n</code>\u4e2a\u8282\u70b9\u7684AVL\u6811\u7684\u9ad8\u5ea6\u4e3aO(log n)\uff0c\u786e\u4fdd\u9ad8\u6548\u7684\u641c\u7d22\u3001\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u3002</li> <li>\u65cb\u8f6c\uff1a\u4f7f\u7528\u5355\u65cb\u8f6c\u548c\u53cc\u65cb\u8f6c\uff08\u5de6\u65cb\u3001\u53f3\u65cb\u3001\u5de6\u53f3\u65cb\u3001\u53f3\u5de6\u65cb\uff09\u6765\u4fdd\u6301\u5e73\u8861\u3002</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1a<ul> <li>\u641c\u7d22\uff1aO(log n)</li> <li>\u63d2\u5165\uff1aO(log n)</li> <li>\u5220\u9664\uff1aO(log n)</li> </ul> </li> <li>\u5e73\u8861\u56e0\u5b50\uff1a\u6bcf\u4e2a\u8282\u70b9\u90fd\u6709\u4e00\u4e2a\u5e73\u8861\u56e0\u5b50\uff0c\u8ba1\u7b97\u4e3a\u5176\u5de6\u53f3\u5b50\u6811\u9ad8\u5ea6\u5dee\uff0c\u53ef\u4ee5\u662f-1\u30010\u62161\u3002</li> </ol>"},{"location":"incourse/ADS/Tree/#\u4f18\u70b9","title":"\u4f18\u70b9\uff1a","text":"<ul> <li>\u63d0\u4f9b\u6bd4\u4e0d\u5e73\u8861\u4e8c\u53c9\u641c\u7d22\u6811\u66f4\u5feb\u7684\u67e5\u627e\u3001\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u3002</li> <li>\u786e\u4fdd\u57fa\u672c\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(log n)\u3002</li> </ul>"},{"location":"incourse/ADS/Tree/#\u7f3a\u70b9","title":"\u7f3a\u70b9\uff1a","text":"<ul> <li>\u7531\u4e8e\u9700\u8981\u65cb\u8f6c\uff0c\u5b9e\u73b0\u8d77\u6765\u7a0d\u5fae\u590d\u6742\u4e00\u4e9b\u3002</li> <li>\u4e0e\u5176\u4ed6\u81ea\u5e73\u8861\u6811\uff08\u5982\u7ea2\u9ed1\u6811\uff09\u76f8\u6bd4\uff0c\u53ef\u80fd\u9700\u8981\u66f4\u591a\u7684\u65cb\u8f6c\uff0c\u5bfc\u81f4\u65f6\u95f4\u590d\u6742\u5ea6\u4e2d\u7684\u5e38\u6570\u56e0\u5b50\u8f83\u9ad8\u3002</li> </ul> <p>\u56db\u79cd\u65cb\u8f6c\u64cd\u4f5c</p> <p>\u56fe\u7247\u6765\u81ea\u7f51\u7edc\u4e0e\u4e0a\u8bfePPT</p> LLRRRLLR <p> </p> <p></p> <p></p> <p></p> <p>\u65cb\u8f6c\u7684\u7406\u89e3</p> <p>\u6309\u6211\u4e2a\u4eba\u6765\u770b\uff0c\u8fd9\u56db\u79cd\u65cb\u8f6c\u90fd\u662f\u9700\u8981\u5148\u627e\u5230\"Trouble Maker\",\u5373\u4ece\u63d2\u5165\u7684\u8282\u70b9\u51fa\u53d1\uff0c\u4e00\u76f4\u5411\u4e0a\u8d70\u7b2c\u4e00\u4e2a\u4e0d\u5e73\u8861\u7684\u8282\u70b9\u3002\u7136\u540e\uff0c\u5bf9\u8fd9\u4e2a\u8282\u70b9\u505a\u64cd\u4f5c\uff0c\u5177\u4f53\u53ef\u4ee5\u770b\u4e0b\u9762\u7684\u4ee3\u7801\u5b9e\u73b0\u3002\u53e6\u5916\uff0cLR\u4e0eRL\u5176\u5b9e\u662f\u7531LL\u4e0eRR\u7ec4\u6210\u7684\u3002</p> <p>\u5e38\u89c4\u7684\u7ef4\u62a4\u5199\u6cd5\uff1a</p> AVL Tree<pre><code>struct avltree\n{\n    int data;\n    struct avltree *left;\n    struct avltree *right;\n    int height;\n};\ntypedef struct avltree* node;\nint height(node N) {\n    if (N == NULL)\n        return 0;\n    return N-&gt;height;\n}\n\nint max(int a, int b) {\n    return (a &gt; b) ? a : b;\n}\n\nnode createnode(int key) {\n    node n = (node)malloc(sizeof(struct avltree));\n    n-&gt;data = key;\n    n-&gt;left = NULL;\n    n-&gt;right = NULL;\n    n-&gt;height = 1;\n    return n;\n}\n\nnode rr(node y) {\n    node x = y-&gt;left;\n    node T2 = x-&gt;right;\n\n    x-&gt;right = y;\n    y-&gt;left = T2;\n\n    y-&gt;height = max(height(y-&gt;left), height(y-&gt;right)) + 1;\n    x-&gt;height = max(height(x-&gt;left), height(x-&gt;right)) + 1;\n\n    return x;\n}\n\nnode lr(node x) {\n    node y = x-&gt;right;\n    node T2 = y-&gt;left;\n\n    y-&gt;left = x;\n    x-&gt;right = T2;\n\n    x-&gt;height = max(height(x-&gt;left), height(x-&gt;right)) + 1;\n    y-&gt;height = max(height(y-&gt;left), height(y-&gt;right)) + 1;\n\n    return y;\n}\n\nint bf(node N) {\n    if (N == NULL)\n        return 0;\n    return height(N-&gt;left) - height(N-&gt;right);\n}\n\nnode insert(node n, int key) {\n    if (n == NULL)\n        return createnode(key);\n\n    if (key &lt; n-&gt;data)\n        n-&gt;left = insert(n-&gt;left, key);\n    else if (key &gt; n-&gt;data)\n        n-&gt;right = insert(n-&gt;right, key);\n    else\n        return n;\n\n    n-&gt;height = 1 + max(height(n-&gt;left), height(n-&gt;right));\n\n    int bl = bf(n);\n\n    if (bl &gt; 1 &amp;&amp; key &lt; n-&gt;left-&gt;data)\n        return rr(n);\n\n    if (bl &lt; -1 &amp;&amp; key &gt; n-&gt;right-&gt;data)\n        return lr(n);\n\n    if (bl &gt; 1 &amp;&amp; key &gt; n-&gt;left-&gt;data) {\n        n-&gt;left = lr(n-&gt;left);\n        return rr(n);\n    }\n\n    if (bl &lt; -1 &amp;&amp; key &lt; n-&gt;right-&gt;data) {\n        n-&gt;right = rr(n-&gt;right);\n        return lr(n);\n    }\n\n    return n;\n}\n</code></pre>"},{"location":"incourse/ADS/Tree/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>\u4f5c\u4e1a\u4f8b\u9898</p> T1T2 <p></p> <p></p>"},{"location":"incourse/ADS/Tree/#splay-tree\u4f38\u5c55\u6811","title":"Splay Tree(\u4f38\u5c55\u6811)","text":""},{"location":"incourse/ADS/Tree/#\u6027\u8d28_1","title":"\u6027\u8d28","text":"<p>Splay\u6811\u662f\u4e00\u79cd\u81ea\u8c03\u6574\u4e8c\u53c9\u641c\u7d22\u6811\uff0c\u901a\u8fc7\u5728\u6bcf\u6b21\u8bbf\u95ee\u8282\u70b9\u540e\u5c06\u5176\u65cb\u8f6c\u5230\u6839\u8282\u70b9\u6765\u4fdd\u6301\u8f83\u77ed\u7684\u8bbf\u95ee\u8def\u5f84\u3002\u4ee5\u4e0b\u662fSplay\u6811\u7684\u4e3b\u8981\u6027\u8d28\uff1a</p> <ol> <li>\u81ea\u8c03\u6574\uff1a\u6bcf\u6b21\u8bbf\u95ee\u8282\u70b9\u540e\uff0c\u901a\u8fc7\u65cb\u8f6c\u64cd\u4f5c\u5c06\u8be5\u8282\u70b9\u79fb\u52a8\u5230\u6839\u8282\u70b9\uff0c\u4ece\u800c\u4f7f\u5f97\u9891\u7e41\u8bbf\u95ee\u7684\u8282\u70b9\u66f4\u63a5\u8fd1\u6839\u8282\u70b9\u3002</li> <li>\u4e8c\u53c9\u641c\u7d22\u6811\uff1a\u9075\u5faa\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u6027\u8d28\uff0c\u5373\u5de6\u5b50\u8282\u70b9\u5c0f\u4e8e\u7236\u8282\u70b9\uff0c\u53f3\u5b50\u8282\u70b9\u5927\u4e8e\u7236\u8282\u70b9\u3002</li> <li>\u65cb\u8f6c\u64cd\u4f5c\uff1a\u4e3b\u8981\u4f7f\u7528\u4e09\u79cd\u65cb\u8f6c\u64cd\u4f5c\uff1aZig\u3001Zig-Zig\u548cZig-Zag\u3002</li> </ol>"},{"location":"incourse/ADS/Tree/#\u65cb\u8f6c\u64cd\u4f5c","title":"\u65cb\u8f6c\u64cd\u4f5c\uff1a","text":"<ol> <li>Zig\uff1a\u5f53\u8bbf\u95ee\u8282\u70b9\u662f\u6839\u8282\u70b9\u7684\u5de6\u5b50\u8282\u70b9\u6216\u53f3\u5b50\u8282\u70b9\u65f6\uff0c\u8fdb\u884c\u4e00\u6b21\u5355\u65cb\u8f6c\u3002</li> <li>Zig-Zig\uff1a\u5f53\u8bbf\u95ee\u8282\u70b9\u662f\u5176\u7236\u8282\u70b9\u7684\u5de6\u5b50\u8282\u70b9\uff0c\u4e14\u5176\u7236\u8282\u70b9\u662f\u5176\u7956\u7236\u8282\u70b9\u7684\u5de6\u5b50\u8282\u70b9\u65f6\uff0c\u8fdb\u884c\u4e24\u6b21\u5355\u65cb\u8f6c\u3002</li> <li>Zig-Zag\uff1a\u5f53\u8bbf\u95ee\u8282\u70b9\u662f\u5176\u7236\u8282\u70b9\u7684\u53f3\u5b50\u8282\u70b9\uff0c\u4e14\u5176\u7236\u8282\u70b9\u662f\u5176\u7956\u7236\u8282\u70b9\u7684\u5de6\u5b50\u8282\u70b9\u65f6\uff0c\u8fdb\u884c\u4e00\u6b21\u53cc\u65cb\u8f6c\u3002</li> </ol>"},{"location":"incourse/ADS/Tree/#\u65f6\u95f4\u590d\u6742\u5ea6","title":"\u65f6\u95f4\u590d\u6742\u5ea6\uff1a","text":"<ul> <li>\u644a\u8fd8\u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u6240\u6709\u57fa\u672c\u64cd\u4f5c\uff08\u63d2\u5165\u3001\u5220\u9664\u3001\u67e5\u627e\uff09\u7684\u644a\u8fd8\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(log n)\uff0c\u5176\u4e2dn\u662f\u6811\u4e2d\u7684\u8282\u70b9\u6570\u3002</li> <li>\u6700\u574f\u60c5\u51b5\u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u5355\u6b21\u64cd\u4f5c\u7684\u6700\u574f\u60c5\u51b5\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\uff0c\u4f46\u8fd9\u79cd\u60c5\u51b5\u5f88\u5c11\u53d1\u751f\u3002</li> </ul> <p>\u4e09\u79cd\u64cd\u4f5c</p> <p>\u8bbf\u95ee<code>X</code></p> zigzig-zigzig-zag <p>\u6839\u636e\u5de6\u53f3\u8282\u70b9\u7684\u60c5\u51b5\u5206\u522b\u8fdb\u884c\u4e00\u6b21\u5de6\u65cb\u548c\u53f3\u65cb\u5373\u53ef\u3002</p> <p></p> <p></p> <p>\u53ef\u80fd\u7684\u8bef\u533a</p> <p>\u7531\u4e8e\u6211\u5728\u4e00\u5f00\u59cb\u5b66\u4e60zig-zig\u65f6\u72af\u8fc7\u9519\u8bef\uff0c\u6240\u4ee5\u5728\u8fd9\u91cc\u8bb0\u5f55\u4e00\u4e0b\u3002zig-zig\u65f6\u5148\u5bf9x.grandparent\u4f5c\u64cd\u4f5c\uff0c\u518d\u5bf9x.parent\u505a\u64cd\u4f5c\u3002\u5728\u4e00\u5f00\u59cb\u6211\u8bef\u4ee5\u4e3a\u5148\u5bf9x.parent\u4f5c\u64cd\u4f5c\uff0c\u518d\u5bf9x.grandparent\u4f5c\u64cd\u4f5c\uff0c\u5ef6\u7eed\u4e86\u4e4b\u524d\u53cc\u65cb\u8f6c\u7684\u601d\u60f3\uff0c\u4e8e\u662f\u51fa\u95ee\u9898\u4e86\u3002</p> Splay Tree<pre><code>struct splaytree {\n    int data;\n    struct splaytree *left;\n    struct splaytree *right;\n};\ntypedef struct splaytree* node;\n\nnode rightRotate(node x) {\n    node y = x-&gt;left;\n    x-&gt;left = y-&gt;right;\n    y-&gt;right = x;\n    return y;\n}\n\nnode leftRotate(node x) {\n    node y = x-&gt;right;\n    x-&gt;right = y-&gt;left;\n    y-&gt;left = x;\n    return y;\n}\n\nnode splay(node root, int key) {\n    if (root == NULL || root-&gt;data == key)\n        return root;\n\n    if (root-&gt;data &gt; key) {\n        if (root-&gt;left == NULL) return root;\n\n        if (root-&gt;left-&gt;data &gt; key) {\n            root-&gt;left-&gt;left = splay(root-&gt;left-&gt;left, key);\n            root = rightRotate(root);\n        } else if (root-&gt;left-&gt;data &lt; key) {\n            root-&gt;left-&gt;right = splay(root-&gt;left-&gt;right, key);\n            if (root-&gt;left-&gt;right != NULL)\n                root-&gt;left = leftRotate(root-&gt;left);\n        }\n        return (root-&gt;left == NULL) ? root : rightRotate(root);\n    } else {\n        if (root-&gt;right == NULL) return root;\n\n        if (root-&gt;right-&gt;data &gt; key) {\n            root-&gt;right-&gt;left = splay(root-&gt;right-&gt;left, key);\n            if (root-&gt;right-&gt;left != NULL)\n                root-&gt;right = rightRotate(root-&gt;right);\n        } else if (root-&gt;right-&gt;data &lt; key) {\n            root-&gt;right-&gt;right = splay(root-&gt;right-&gt;right, key);\n            root = leftRotate(root);\n        }\n        return (root-&gt;right == NULL) ? root : leftRotate(root);\n    }\n}\n\nnode insert(node root, int key) {\n    if (root == NULL) return createnode(key);\n    root = splay(root, key);\n    if (root-&gt;data == key) return root;\n\n    node newnode = createnode(key);\n    if (root-&gt;data &gt; key) {\n        newnode-&gt;right = root;\n        newnode-&gt;left = root-&gt;left;\n        root-&gt;left = NULL;\n    } else {\n        newnode-&gt;left = root;\n        newnode-&gt;right = root-&gt;right;\n        root-&gt;right = NULL;\n    }\n    return newnode;\n}\n</code></pre>"},{"location":"incourse/ADS/Tree/#\u4f8b\u9898_1","title":"\u4f8b\u9898","text":"<p>\u4f8b\u9898</p> <p></p>"},{"location":"incourse/ADS/Tree/#\u7ea2\u9ed1\u6811","title":"\u7ea2\u9ed1\u6811","text":""},{"location":"incourse/ADS/Tree/#\u7ea2\u9ed1\u6811\u7684\u6027\u8d28","title":"\u7ea2\u9ed1\u6811\u7684\u6027\u8d28","text":"<ul> <li>\u8282\u70b9\u989c\u8272\uff1a\u6bcf\u4e2a\u8282\u70b9\u4e0d\u662f\u7ea2\u8272\u5c31\u662f\u9ed1\u8272\u3002</li> <li>\u6839\u8282\u70b9\uff1a\u6839\u8282\u70b9\u5fc5\u987b\u662f\u9ed1\u8272\u3002</li> <li>\u53f6\u8282\u70b9\uff1a\u6240\u6709\u53f6\u8282\u70b9\uff08NIL\u8282\u70b9\uff0cNIL\u4ee3\u6307NULL\uff09\u90fd\u662f\u9ed1\u8272\u3002</li> <li>\u7ea2\u8272\u8282\u70b9\uff1a\u7ea2\u8272\u8282\u70b9\u7684\u5b50\u8282\u70b9\u5fc5\u987b\u662f\u9ed1\u8272\uff08\u5373\u7ea2\u8272\u8282\u70b9\u4e0d\u80fd\u8fde\u7eed\uff09\u3002</li> <li>\u9ed1\u8272\u9ad8\u5ea6\uff1a\u4ece\u4efb\u4e00\u8282\u70b9\u5230\u5176\u6bcf\u4e2a\u53f6\u8282\u70b9\u7684\u6240\u6709\u8def\u5f84\u90fd\u5305\u542b\u76f8\u540c\u6570\u91cf\u7684\u9ed1\u8272\u8282\u70b9\u3002</li> <li>\u81ea\u5e73\u8861\uff1a\u901a\u8fc7\u63d2\u5165\u548c\u5220\u9664\u671f\u95f4\u7684\u65cb\u8f6c\u548c\u91cd\u65b0\u7740\u8272\u64cd\u4f5c\u4fdd\u6301\u5e73\u8861\u3002</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1a<ul> <li>\u641c\u7d22\uff1aO(log n)</li> <li>\u63d2\u5165\uff1aO(log n)</li> <li>\u5220\u9664\uff1aO(log n)</li> </ul> </li> </ul> <p>\u7ea2\u9ed1\u6811\u7684\u53f6\u5b50</p> <p>\u7ea2\u9ed1\u6811\u7684\u53f6\u5b50\u53ea\u6307NIL\u8282\u70b9\uff0c\u800c\u975e\u5e38\u89c4\u610f\u4e49\u4e0a\u7684\u53f6\u5b50\u3002\u4e14\u4ece\u7ea2\u9ed1\u6811\u7684\u6027\u8d28\u4e2d\u53ef\u4ee5\u5f97\u51fa\uff0c\u4e00\u4e2a\u6709N\u4e2a\u5185\u90e8\u8282\u70b9\uff08\u975eNIL\u8282\u70b9\uff09\u7684\u7ea2\u9ed1\u6811\uff0c\u5176\u9ad8\u5ea6\u4e0d\u8d85\u8fc7\\(2\\log_2(N+1)\\)\uff0c\u7531\u4ee5\u4e0b\u4e24\u6761\u63a8\u51fa(bh\u6307\u9ed1\u9ad8\uff0c\u5373\u4ece\u6839\u8282\u70b9\u5230NIL\u7684\u4e00\u6761\u8def\u5f84\u4e0a\u9ed1\u8272\u7ed3\u70b9\u7684\u4e2a\u6570)\uff1a</p> <ul> <li>\\(N \\geq 2^{bh} - 1\\)</li> <li>\\(2bh(Tree) \\geq h(Tree)\\)</li> </ul> <p>\u7ea2\u9ed1\u6811\u7684\u63d2\u5165\u4e0e\u5220\u9664\u90fd\u6709\u70b9\u6076\u5fc3\uff0c\u6211\u5c06\u4ee5\u8fd9\u4e24\u4e2aB\u7ad9\u89c6\u9891\u4e3a\u4e3b\u8bb0\u5f55\u505a\u6cd5:</p> <ul> <li> <p>\u63d2\u5165</p> </li> <li> <p>\u5220\u9664</p> </li> </ul> <p>\u4f46\u5176\u5b9e\u63d2\u5165\u4e0e\u5220\u9664\u7684\u89c4\u5219\u90fd\u53ef\u4ee5\u4ece\u4fdd\u6301\u7ea2\u9ed1\u6811\u7684\u6027\u8d28\u8fd9\u4e00\u76ee\u7684\u51fa\u53d1\u63a8\u6d4b\uff0c\u4e0b\u9762\u5728\u7ed9\u51fa\u7ed3\u8bba\u7684\u540c\u65f6\u9644\u4e0a\u4e00\u4e9b\u4e2a\u4eba\u7c97\u6d45\u7684\u5206\u6790\u8fc7\u7a0b\u3002\u5728\u6b64\u9644\u4e0a\u4e00\u4e2a\u53ef\u89c6\u5316\u7ea2\u9ed1\u6811\u64cd\u4f5c</p>"},{"location":"incourse/ADS/Tree/#\u63d2\u5165","title":"\u63d2\u5165","text":"<p>Tip</p> <p>\u65b0\u8282\u70b9\u63d2\u5165\u6309\u7167\u4e8c\u53c9\u67e5\u627e\u6811\u7684\u89c4\u5219\u6765\uff0c\u4e14\u9ed8\u8ba4\u4e3a\u7ea2\u8272\u8282\u70b9\u3002\u4e14\u6709\u4e00\u4e2a\u9690\u5f62\u524d\u63d0\uff1a\u82e5\u53d1\u751f\u95ee\u9898\uff0c\u63d2\u5165\u8282\u70b9\u7684\u7236\u4eb2\u4e00\u5b9a\u662f\u7ea2\u8272\u7684\uff0c\u63d2\u5165\u8282\u70b9\u7684\u7237\u7237\u4e00\u5b9a\u662f\u9ed1\u8272\u7684,\u56e0\u4e3a\u7ea2\u9ed1\u6811\u4e2d\u4e0d\u53ef\u80fd\u51fa\u73b0\u8fde\u7eed\u7684\u7ea2\u8272\u8282\u70b9\uff0c\u800c\u63d2\u5165\u51fa\u7ebf\u95ee\u9898\u5fc5\u7136\u662f\u8fdd\u53cd\u4e86\u8fd9\u4e2a\u539f\u5219\u3002</p> <p>\u76f4\u63a5\u8bf4\u7ed3\u8bba\uff1a</p> <ul> <li> <p>\u63d2\u5165\u7684\u8282\u70b9\u4e3a\u6839\u8282\u70b9-&gt;\u76f4\u63a5\u53d8\u9ed1</p> </li> <li> <p>\u63d2\u5165\u8282\u70b9\u7684\u53d4\u53d4\u4e3a\u7ea2\u8272-&gt;\u53d4\u53d4\uff0c\u7236\u4eb2\u548c\u7237\u7237\u90fd\u53d8\u8272\uff08\u9ed1\u53d8\u7ea2\uff0c\u7ea2\u53d8\u9ed1\uff09\uff0c\u5e76\u4e14\u5c06\u7237\u7237\u89c6\u4e3a\u65b0\u7684\u63d2\u5165\u8282\u70b9\u8fdb\u884c\u8fdb\u4e00\u6b65\u64cd\u4f5c\u3002</p> </li> <li> <p>\u63d2\u5165\u8282\u70b9\u7684\u53d4\u53d4\u4e3a\u9ed1\u8272-\u6839\u636e\u7237\u7237\uff0c\u7236\u4eb2\u548c\u63d2\u5165\u8282\u70b9\u7684\u4f4d\u7f6e\u5173\u7cfb\u8fdb\u884c\u76f8\u5e94\u7684LL,RR,LR,RL\u65cb\u8f6c\u64cd\u4f5c\uff0c\u5e76\u5c06\u6700\u540e\u4e00\u6b65\u65cb\u8f6c\u65f6\u4f5c\u64cd\u4f5c\u7684\u4e24\u4e2a\u8282\u70b9\u53d8\u8272</p> </li> </ul> <p>\u4ffa\u7684\u56fe\u56fe\u5462\uff1f\uff1f\uff1f</p> <p>\u7ea2\u9ed1\u6811\u63d2\u5165\u56fe\u89e3</p> \u6839\u8282\u70b9\u9ed1\u53d4\u53d4\u7ea2\u53d4\u53d4 <p>\u65e0\u9700\u591a\u8a00\uff0c\u76f4\u63a5\u53d8\u9ed1</p> \u539f\u6765\u540e\u6765 <p></p> <p></p> <p>\u5176\u5b9e\u9ed1\u53d4\u53d4\u8fd9\u79cd\u60c5\u51b5\u6211\u611f\u89c9\u53ea\u6709\u4e00\u79cd\u53ef\u80fd\uff0c\u5c31\u662f\u53d4\u53d4\u662fNIL\u8282\u70b9\u3002\u8fd9\u65f6\u5019\u6211\u4eec\u8981\u89e3\u51b3\u51b2\u7a81\u95ee\u9898\uff0c\u5c31\u8981\u8003\u8651\u628a\u63d2\u5165\u8282\u70b9\u548c\u63d2\u5165\u8282\u70b9\u7684\u7236\u4eb2\u8fd9\u4e2a\u4e24\u4e2a\u7ea2\u8272\u8282\u70b9\u8f6c\u4e00\u4e2a\u4e0a\u53bb\uff0c\u5e76\u4e14\u548c\u63d2\u5165\u8282\u70b9\u7684\u7237\u7237\u4e00\u8d77\u53d8\u8272\u3002\u80e1\u8bf4\u516b\u9053</p> LLRRLRRL \u539f\u6765\u540e\u6765 <p></p> <p></p> \u539f\u6765\u540e\u6765 <p></p> <p></p> \u539f\u6765\u540e\u6765 <p></p> <p></p> \u539f\u6765\u540e\u6765 <p></p> <p></p> <p>\u8fd9\u662f\u7684\u7ed3\u6784\u662f\u7ea2\u7236\u4eb2\uff0c\u7ea2\u53d4\u53d4\uff0c\u9ed1\u7237\u7237\uff0c\u4e3a\u4e86\u89e3\u51b3\u63d2\u5165\u8282\u70b9\u4e0e\u7ea2\u7236\u4eb2\u4ea7\u751f\u7684\u53cc\u7ea2\u51b2\u7a81\uff0c\u540c\u65f6\u4fdd\u6301\u7ea2\u9ed1\u6811NIL\u8282\u70b9\u5230\u9876\u7ecf\u8fc7\u9ed1\u8272\u8282\u70b9\u6570\u76f8\u540c\u7684\u6027\u8d28\uff0c\u6211\u4eec\u53d1\u73b0\uff0c\u628a\u53d4\u7236\u7237\u4e09\u8005\u90fd\u53d8\u8272\uff0c\u521a\u597d\u89e3\u51b3\u4e86\u4ee5\u4e0a\u6240\u6709\u95ee\u9898\u3002\u6b64\u65f6\u6211\u4eec\u53ea\u8981\u7ee7\u7eed\u5224\u65ad\u53d8\u8272\u540e\u7684\u7ea2\u7237\u7237\u6709\u6ca1\u6709\u51fa\u73b0\u51b2\u7a81\u5373\u53ef\uff0c\u8fd9\u4e5f\u5c31\u662f\u4e0a\u9762\u8bf4\u7684\u5c06\u7237\u7237\u89c6\u4e3a\u65b0\u7684\u63d2\u5165\u8282\u70b9\u3002</p> \u539f\u6765\u540e\u6765 <p></p> <p></p>"},{"location":"incourse/ADS/Tree/#\u5220\u9664","title":"\u5220\u9664","text":"<p>\u6765\u5230\u4e86\u6700\u6700\u6700\u590d\u6742\u7684\u5220\u9664\u3002</p> <p>\u5148\u6765\u56de\u987e\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u5220\u9664\uff1a</p> <ol> <li> <p>\u82e5\u8be5\u8282\u70b9\u4e3a\u53f6\u8282\u70b9-&gt;\u76f4\u63a5\u5220\u9664</p> </li> <li> <p>\u82e5\u8be5\u8282\u70b9\u6709\u4e00\u4e2a\u513f\u5b50-&gt;\u5220\u9664\u540e\u628a\u513f\u5b50\u63d0\u4e0a\u6765\u3002</p> </li> <li> <p>\u82e5\u8be5\u8282\u70b9\u6709\u5de6\u513f\u5b50\u548c\u53f3\u513f\u5b50-&gt;\u5c06\u8be5\u8282\u70b9\u7684\u503c\u53d8\u4e3a\u5de6\u5b50\u6811\u91cc\u7684\u6700\u5927\u503c\u6216\u53f3\u5b50\u6811\u91cc\u6700\u5c0f\u503c\uff0c\u518d\u5220\u9664\u5b50\u6811\u91cc\u7684\u8fd9\u4e2a\u70b9\u3002</p> </li> </ol> <p>\u53d1\u73b0</p> <p>\u4e0d\u96be\u53d1\u73b0\u7b2c\u4e09\u79cd\u60c5\u51b5\u6700\u7ec8\u53ef\u4ee5\u8f6c\u6362\u4e3a\u7b2c\u4e00\u79cd\u6216\u8005\u7b2c\u4e8c\u79cd\u60c5\u51b5\u3002\u56e0\u6b64\u5728\u7ea2\u9ed1\u6811\u7684\u5220\u9664\u4e2d\u6211\u4eec\u53ea\u8ba8\u8bba\u7b2c\u4e00\u548c\u7b2c\u4e8c\u79cd\u60c5\u51b5\u3002\u6b64\u5916\uff0c\u82e5\u63d2\u5165\u8282\u70b9\u53ea\u6709\u4e00\u4e2a\u513f\u5b50\uff0c\u5219\u5176\u5fc5\u7136\u662f\u9ed1\u7236\u4eb2\uff0c\u7ea2\u513f\u5b50\u7684\u7ed3\u6784\uff0c\u4e0d\u7136\u65e0\u6cd5\u6ee1\u8db3\u8def\u5f84\u9ed1\u8282\u70b9\u4e2a\u6570\u76f8\u540c\u7684\u7279\u6027\u3002</p> <p>\u53ef\u80fd\u53cd\u76f4\u89c9\u7684\u662f\uff0c\u7ea2\u9ed1\u6811\u5220\u9664\u7684\u7b2c\u4e8c\u4e2d\u60c5\u51b5\u53cd\u800c\u6bd4\u7b2c\u4e00\u79cd\u60c5\u51b5\u7b80\u5355\uff0c\u5c55\u5f00\u8ba8\u8bba\uff1a</p> <ul> <li> <p>\u82e5\u8be5\u8282\u70b9\u53ea\u6709\u4e00\u4e2a\u513f\u5b50-&gt;\u7528\u513f\u5b50\u66ff\u4ee3\u540e\u5c06\u513f\u5b50\u53d8\u9ed1</p> </li> <li> <p>\u82e5\u8be5\u8282\u70b9\u7684\u4e24\u4e2a\u5b69\u5b50\u90fd\u662fNIL\u8282\u70b9\uff1a</p> <ul> <li> <p>\u82e5\u8be5\u8282\u70b9\u4e3a\u7ea2\u8272\u8282\u70b9-&gt;\u76f4\u63a5\u5220\u9664</p> </li> <li> <p>\u82e5\u8be5\u8282\u70b9\u4e3a\u9ed1\u8282\u70b9\uff0c\u5148\u5c06\u5176\u76f4\u63a5\u5220\u9664\uff0c\u4f46\u4e3a\u4e86\u6682\u65f6\u4fdd\u6301\u7ea2\u9ed1\u6811\u7684\u6027\u8d28\uff0c\u6211\u4eec\u6682\u65f6\u5c06\u8fd9\u4e2a\u8282\u70b9\u5b9a\u4e49\u4e3a\u53cc\u9ed1\u8282\u70b9\uff0c\u56e0\u6b64\u6211\u4eec\u63a5\u4e0b\u6765\u7684\u76ee\u7684\u5c31\u662f\u628a\u5b83\u53d8\u56de\u666e\u901a\u7684\u5355\u9ed1\u8282\u70b9\u3002</p> <ul> <li> <p>\u5144\u5f1f\u662f\u9ed1\u8272</p> <ul> <li> <p>\u5144\u5f1f\u81f3\u5c11\u6709\u4e00\u4e2a\u7ea2\u8272\u5b69\u5b50\uff1a\u6211\u4eec\u5c06\u5144\u5f1f\uff0c\u7ea2\u5b69\u5b50\u548c\u7236\u4eb2\u5206\u522b\u8bb0\u4e3as,r,p</p> <ul> <li> <p>p,s,r\u4e09\u8005\u4e3aRR\u6216LL\u7c7b\u578b-&gt;s\u7684\u989c\u8272\u7ed9r\uff0cp\u7684\u989c\u8272\u7ed9s\uff0cp\u53d8\u9ed1\uff0c\u8fdb\u884c\u76f8\u5e94\u65cb\u8f6c,\u53cc\u9ed1\u53d8\u56de\u5355\u9ed1\u3002</p> </li> <li> <p>p,s,r\u4e3aRL\u6216LR\u7c7b\u578b-&gt;p\u7684\u989c\u8272\u7ed9r\uff0cp\u53d8\u9ed1\uff0c\u8fdb\u884c\u76f8\u5e94\u65cb\u8f6c,\u53cc\u9ed1\u53d8\u56de\u5355\u9ed1\u3002</p> </li> <li> <p>\u82e5\u5144\u5f1f\u4e24\u4e2a\u513f\u5b50\u90fd\u4e3a\u7ea2\u8272\uff0c\u5f52\u4e3aLL\u6216RR\u4e00\u7c7b\u3002</p> </li> </ul> </li> <li> <p>\u5144\u5f1f\u65e0\u7ea2\u5b69\u5b50\uff0c\u4e5f\u5373\u5b69\u5b50\u90fd\u662fNIL\u8282\u70b9-&gt;\u5144\u5f1f\u53d8\u7ea2\uff0c\u5c06\u53cc\u9ed1\u8282\u70b9\u4e0a\u79fb\u3002\u82e5\u53cc\u9ed1\u8282\u70b9\u9047\u5230\u6839\u8282\u70b9\u6216\u7ea2\u8272\u8282\u70b9\uff0c\u76f4\u63a5\u53d8\u5355\u9ed1\u7ed3\u675f\uff0c\u4e0d\u7136\uff0c\u91cd\u590d\u5224\u65ad\u3002</p> </li> </ul> </li> <li> <p>\u5144\u5f1f\u662f\u7ea2\u8272-&gt;\u5144\u7236\u53d8\u8272\uff0c\u7236\u4eb2\u5411\u53cc\u9ed1\u8282\u70b9\u79fb\u52a8\u3002\u6b64\u65f6\u53cc\u9ed1\u4ecd\u4fdd\u6301\uff0c\u7ee7\u7eed\u4f5c\u5224\u65ad\u3002</p> </li> </ul> </li> </ul> </li> </ul> <p>\u592a\u590d\u6742\u4e86\uff0c\u4e0a\u56fe\uff01</p> <p>\u7ea2\u9ed1\u6811\u5220\u9664\u56fe\u89e3(\u4e24\u4e2a\u5b69\u5b50\u90fd\u662fNIL\u8282\u70b9)</p> \u8be5\u8282\u70b9\u4e3a\u7ea2\u8272\u8be5\u8282\u70b9\u4e3a\u9ed1\u8272 <p>\u592aez\u4e86\uff0c\u65e0\u56fe\u3002\u5220\u9664\u4e4b\u540e\u5bf9\u7ea2\u9ed1\u6811\u7684\u6027\u8d28\u6ca1\u6709\u4efb\u4f55\u5f71\u54cd\u3002</p> <p>\u8fd9\u65f6\u5019\u5220\u9664\u5c31\u4f1a\u5f71\u54cd\u7ea2\u9ed1\u6811\u7684\u6027\u8d28\u4e86\u3002</p> \u5144\u5f1f\u662f\u9ed1\u8272\u5144\u5f1f\u662f\u7ea2\u8272\u8282\u70b9 <p>\u5144\u5f1f\u662f\u9ed1\u8272\u7684\u60c5\u51b5\u4e0b\uff0c\u5220\u9664\u4e86\u539f\u8282\u70b9\u4f1a\u5bfc\u81f4\u8def\u5f84\u9ed1\u8272\u8282\u70b9\u6570\u91cf\u4e0d\u4e00\u3002</p> \u5144\u5f1f\u81f3\u5c11\u6709\u4e00\u4e2a\u7ea2\u8272\u5b69\u5b50\u5144\u5f1f\u4e24\u4e2a\u513f\u5b50\u90fd\u662fNIL\u8282\u70b9 <p><code>d</code>\u662f\u5df2\u7ecf\u5220\u9664\u5b8c\u7684\u53cc\u9ed1\u8282\u70b9</p> LLRRLRRL \u539f\u6765\u540e\u6765 <p></p> <p></p> \u539f\u6765\u540e\u6765 <p></p> <p></p> \u539f\u6765\u540e\u6765 <p></p> <p></p> \u539f\u6765\u540e\u6765 <p></p> <p></p> <p>\u5220\u9664\u4e86\u8282\u70b9\u540e\uff0c\u4f1a\u5bfc\u81f4\u8fc7\u5220\u9664\u8282\u70b9\u7684\u8def\u5f84\u4e0a\u7684\u9ed1\u8272\u8282\u70b9\u4e2a\u6570\u90fd\u5c11\u4e00\u4e2a\uff0c\u56e0\u6b64\u8003\u8651\u5148\u5c06\u5144\u5f1f\u53d8\u7ea2\uff0c\u4f46\u8fd9\u6837\u53ea\u4fdd\u8bc1\u4e86\u8fd9\u4e24\u6761\u8def\u5f84\u7684\u5408\u6cd5\u6027\uff0c\u5bf9\u4e8e\u6574\u68f5\u6811\u6765\u8bf4\uff0c\u8fd8\u662f\u8fdd\u53cd\u4e86\u8def\u5f84\u9ed1\u8272\u8282\u70b9\u4e2a\u6570\u76f8\u540c\u7684\u539f\u5219\uff0c\u56e0\u6b64\u5c06\u53cc\u9ed1\u8282\u70b9\u4e0a\u79fb\u81f3\u7236\u4eb2\uff0c\u518d\u4f5c\u4fee\u6b63\u3002</p> \u539f\u6765\u5144\u5f1f\u53d8\u7ea2\u53cc\u9ed1\u4e0a\u79fb\u7ee7\u7eed\u8c03\u6574\u81f3\u5b8c\u6bd5 <p></p> <p></p> <p></p> <p>\u73b0\u5728\u7684\u53cc\u9ed1\u8282\u70b9\u57288\uff0c\u7b26\u5408\u5144\u5f1f\u81f3\u5c11\u6709\u4e00\u4e2a\u7ea2\u5b69\u5b50\u7684\u60c5\u51b5\uff0c\u56e0\u6b64\u8c03\u6574\u3002 </p> <p>\u6b64\u65f6\u5144\u5f1f\u5fc5\u5b9a\u6709\u4e24\u4e2a\u9ed1\u8272\u975eNIL\u8282\u70b9\u7684\u513f\u5b50\u3002</p> \u539f\u6765\u5144\u7236\u53d8\u8272\u5411\u53cc\u9ed1\u8282\u70b9\u65cb\u8f6c\u7ee7\u7eed\u8c03\u6574\u81f3\u53cc\u9ed1\u6d88\u9664 <p></p> <p></p> <p></p> <p></p> <p>\u81f3\u6b64\uff0c\u6211\u4eec\u8bb2\u5b8c\u4e86\u7ea2\u9ed1\u6811\u7684\u5220\u9664\u64cd\u4f5c\uff0c\u600e\u4e48\u8bb0\uff1f\u81ea\u6c42\u591a\u798f</p>"},{"location":"incourse/ADS/Tree/#\u4f8b\u9898_2","title":"\u4f8b\u9898","text":"<p>\u4f5c\u4e1a\u4f8b\u9898</p> T1T2 <p></p> <p></p>"},{"location":"incourse/ADS/Tree/#b\u6811","title":"B+\u6811","text":""},{"location":"incourse/ADS/Tree/#b\u6811\u7684\u6027\u8d28","title":"B+\u6811\u7684\u6027\u8d28","text":"<p>oi  wiki</p> <p>https://oi-wiki.org/ds/bplus-tree/</p> <p>B+\u6811\u7684\u4e3b\u8981\u6027\u8d28\uff1a</p> <ol> <li>\u6240\u6709\u53f6\u5b50\u8282\u70b9\u5728\u540c\u4e00\u5c42\uff1aB+\u6811\u662f\u4e00\u79cd\u5e73\u8861\u6811\uff0c\u6240\u6709\u53f6\u5b50\u8282\u70b9\u90fd\u5728\u540c\u4e00\u5c42\u3002</li> <li>\u5185\u90e8\u8282\u70b9\u53ea\u5b58\u50a8\u952e\uff1a\u5185\u90e8\u8282\u70b9(\u5373\u975e\u53f6\u5b50\u8282\u70b9)\u53ea\u5b58\u50a8\u952e\u503c\uff0c\u4e0d\u5b58\u50a8\u5b9e\u9645\u6570\u636e\u3002\u5b9e\u9645\u6570\u636e\u5b58\u50a8\u5728\u53f6\u5b50\u8282\u70b9\u4e2d\u3002</li> <li>\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u6570\u636e\u548c\u6307\u9488\uff1a\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u5b9e\u9645\u6570\u636e\uff0c\u5e76\u4e14\u901a\u8fc7\u6307\u9488\u76f8\u4e92\u8fde\u63a5\uff0c\u5f62\u6210\u4e00\u4e2a\u94fe\u8868\uff0c\u4fbf\u4e8e\u8303\u56f4\u67e5\u8be2\u3002</li> <li>\u591a\u8def\u641c\u7d22\u6811\uff1aB+\u6811\u662f\u591a\u8def\u641c\u7d22\u6811\uff0c\u6bcf\u4e2a\u8282\u70b9\u53ef\u4ee5\u6709\u591a\u4e2a\u5b50\u8282\u70b9\u3002\u5177\u4f53\u7684\u5b50\u8282\u70b9\u6570\u91cf\u53d6\u51b3\u4e8e\u6811\u7684\u9636\uff08\u901a\u5e38\u7528m\u8868\u793a\uff09\u3002\u6709 n \u68f5\u5b50\u6811\u7684\u8282\u70b9\u4e2d\u542b\u6709 n-1 \u4e2a\u5173\u952e\u5b57\uff08\u5373\u5c06\u533a\u95f4\u5206\u4e3a n \u4e2a\u5b50\u533a\u95f4\uff0c\u6bcf\u4e2a\u5b50\u533a\u95f4\u5bf9\u5e94\u4e00\u68f5\u5b50\u6811\uff09\u3002\u7b2ci\u4e2a\u5173\u952e\u5b57\u662f\u7b2ci+1\u68f5\u5b50\u6811\u91cckey\u7684\u6700\u5c0f\u503c\u3002</li> <li>\u952e\u503c\u6709\u5e8f\uff1a\u6240\u6709\u8282\u70b9\u4e2d\u7684\u952e\u503c\u6309\u987a\u5e8f\u6392\u5217(\u4e00\u822c\u4ece\u5c0f\u5230\u5927)\uff0c\u4fbf\u4e8e\u8303\u56f4\u67e5\u8be2\u548c\u987a\u5e8f\u8bbf\u95ee\u3002</li> <li>\u6839\u8282\u70b9\u7279\u6b8a\u60c5\u51b5\uff1a\u6839\u8282\u70b9\u81f3\u5c11\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\uff0c\u9664\u975e\u6574\u68f5\u6811\u53ea\u6709\u4e00\u4e2a\u8282\u70b9\u3002</li> <li>\u8282\u70b9\u5206\u88c2\u548c\u5408\u5e76\uff1a\u5728\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u4e2d\uff0c\u8282\u70b9\u53ef\u80fd\u4f1a\u5206\u88c2\u6216\u5408\u5e76\uff0c\u4ee5\u4fdd\u6301\u6811\u7684\u5e73\u8861\u6027\u3002</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1aB+\u6811\u7684\u641c\u7d22\u3001\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5747\u4e3aO(log n)\uff0c\u5176\u4e2dn\u662f\u6811\u4e2d\u7684\u952e\u503c\u6570\u91cf\u3002</li> </ol> <p>B+\u6811\u7684\u9636</p> <p>B+\u6811\u7684\u9636\uff08m\uff09\u51b3\u5b9a\u4e86\u6bcf\u4e2a\u8282\u70b9\u7684\u6700\u5c0f\u548c\u6700\u5927\u5b50\u8282\u70b9\u6570\u91cf\uff1a</p> <ul> <li> <p>\u6839\u8282\u70b9\u8981\u4e48\u662f\u53f6\u5b50\uff0c\u8981\u4e48\u6709[2,m]\u4e2a\u5b50\u8282\u70b9</p> </li> <li> <p>\u6bcf\u4e2a\u5185\u90e8\u8282\u70b9(\u9664\u4e86\u6839\u8282\u70b9)\u6700\u591a\u6709m\u4e2a\u5b50\u8282\u70b9\uff0c\u81f3\u5c11\u6709\u2308m/2\u2309\u4e2a\u5b50\u8282\u70b9\u3002\u540c\u6837\u9700\u8981\u5220\u9664\u548c\u5408\u5e76</p> </li> <li> <p>\u6bcf\u4e2a\u53f6\u5b50\u8282\u70b9\u6700\u591a\u5b58\u50a8m\u4e2a\u952e\u503c\uff0c\u81f3\u5c11\u5b58\u50a8\u2308m/2\u2309\u4e2a\u952e\u503c\u3002\u8d85\u8fc7m\u4e2a\u952e\u503c\u9700\u8981\u5206\u88c2\uff0c\u5c11\u4e8e[m/2]\u4e2a\u952e\u503c\u9700\u8981\u5408\u5e76</p> </li> </ul> <p>B+\u6811\u793a\u4f8b</p> <p></p>"},{"location":"incourse/ADS/Tree/#\u56fe\u89e3","title":"\u56fe\u89e3","text":"<p>\u8fd8\u662f\u4e0a\u56fe\u89e3\uff0c\u6709\u56fe\u6709\u771f\u76f8\u3002</p> <p>B+\u6811\u64cd\u4f5c\u56fe\u89e3</p> \u67e5\u627e\u63d2\u5165(\u65e0\u5206\u88c2)\u63d2\u5165(\u6709\u5206\u88c2) Step 0Step 1Step 2 <p></p> <p></p> <p></p> Step 0Step 1Step 2 <p></p> <p></p> <p></p> Step 0Step 1Step 2 <p></p> <p></p> <p></p> <p>\u5220\u9664\u540c\u7406\uff0c\u53ea\u9700\u8981\u8003\u8651\u5408\u5e76\uff0c\u4e5f\u5373\u5206\u88c2\u7684\u76f8\u53cd\u64cd\u4f5c\u5373\u53ef\u3002</p>"},{"location":"incourse/ADS/Tree/#\u4ee3\u7801","title":"\u4ee3\u7801","text":"<p>B+\u6811\u7684\u7f16\u7a0b\u9898\u5728\u4f5c\u4e1a\u4e2d\u6d89\u53ca\uff0c\u4f46\u6211\u5199\u5f97\u5341\u5206\u81c3\u80bf\u65e0\u7528\uff0c\u6240\u4ee5\u6700\u540e\u8fd8\u662f\u53e6\u7ed9\u51fa\u7f51\u4e0a\u7684\u4ee3\u7801\u3002</p> \u7f51\u4e0a\u4ee3\u7801<pre><code>    #include &lt;iostream&gt;\n    #include &lt;cstdio&gt;\n    #include &lt;cstring&gt;\n    #include &lt;vector&gt;\n    #include &lt;queue&gt;\n    #include &lt;algorithm&gt;\n    #include &lt;cmath&gt;\n\n    #define ORDER 3\n\n    using namespace std;\n\n    class Node\n    {\n    public:\n        int cnt_data = 0;  // \u8be5\u8282\u70b9\u6240\u4fdd\u5b58\u7684\u6570\u636e\u91cf\n        int cnt_child = 0;  // \u5b50\u8282\u70b9\u6570\n        int data[ORDER + 1];   // \u8be5\u8282\u70b9\u6240\u4fdd\u5b58\u7684\u5177\u4f53\u6570\u636e\uff08\u975e\u53f6\u5b50\u8282\u70b9\u4e3a\u7d22\u5f15\uff0c\u53f6\u5b50\u8282\u70b9\u4e3a\u6570\u636e\uff09\n        Node *child[ORDER + 2]; // \u5b50\u8282\u70b9\n        Node *parent = NULL; // \u7236\u8282\u70b9\uff0c\u8282\u70b9\u5206\u88c2\u65f6\u4f7f\u7528\uff0c\u6839\u8282\u70b9\u4e3aNULL\n        Node *next; // \u4f5c\u4e3a\u53f6\u5b50\u8282\u70b9\u65f6\u7684\u76f8\u90bb\u8282\u70b9\uff0c\u5b9e\u9645\u4e0a\u5e76\u6ca1\u6709\u7528\u5230\u8fd9\u4e2a\n        Node ()\n        {}\n\n        /**\n        * \u901a\u8fc7\u7ed9\u5b9a\u7684\u6570\u636e\u8fdb\u884c\u521d\u59cb\u5316\n        * @param pra \u7236\u8282\u70b9\n        * @param data_src \u7528\u6765\u8d4b\u503cdata\u7684\u6570\u636e\u6e90\n        * @param data_interval [first,second)\u5de6\u95ed\u53f3\u5f00\u7684\u533a\u95f4\uff0c\u8868\u793adata_src\u5177\u4f53\u4f20\u5165\u7684\u6570\u636e\u533a\u95f4\n        * @param child_src \u7528\u6765\u8d4b\u503cchild\u7684\u6570\u636e\u6e90\n        * @param child_interval \u540cdata_interval\n        */\n        Node (Node *pra, int data_src[], pair&lt;int, int&gt; data_interval, Node *child_src[], pair&lt;int, int&gt; child_interval)\n        {\n            this-&gt;parent = pra;\n            this-&gt;cnt_data = data_interval.second - data_interval.first;\n            memcpy(this-&gt;data, data_src + data_interval.first, this-&gt;cnt_data * sizeof(data_src[0]));\n            this-&gt;cnt_child = child_interval.second - child_interval.first;\n            memcpy(this-&gt;child, child_src + child_interval.first, this-&gt;cnt_child * sizeof(child_src[0]));\n            // \u5c06\u5b50\u8282\u70b9\u7684\u7236\u8282\u70b9\u6307\u9488\u6307\u5411\u8be5\u8282\u70b9\n            for (int i = 0; i &lt; cnt_child; ++i)\n            {\n                child[i]-&gt;parent = this;\n            }\n        }\n\n        void print ()\n        {\n            printf(\"[\");\n            for (int i = 0; i &lt; cnt_data; ++i)\n            {\n                if (i)\n                    printf(\",\");\n                printf(\"%d\", data[i]);\n            }\n            printf(\"]\");\n        }\n    };\n\n    int n;\n    Node *Root = new Node();\n\n    // DEBUG\n    int split_time = 0;\n\n    /**\n    * \u540e\u7eed\u518d\u63d2\u5165\u65b0\u7684\u5b50\u8282\u70b9\u540e\uff0c\u4e3a\u67d0\u4e00\u4e2a\u8282\u70b9\u7684\u5b50\u8282\u70b9\u5c5e\u6027\u6392\u5e8f\u65f6\u7528\u5230\n    * \u6392\u5e8f\u4f9d\u636e\u4e3a\u8282\u70b9\u7b2c\u4e00\u4e2a\u6570\u636e\u9879\u7684\u5927\u5c0f\n    * @param p1\n    * @param p2\n    * @return\n    */\n    bool cmp (Node *p1, Node *p2)\n    {\n        return p1-&gt;data[0] &lt; p2-&gt;data[0];\n    }\n\n    /**\n    * \u5c42\u5e8f\u904d\u5386\u5e76\u6253\u5370\n    */\n    void print_tree ()\n    {\n        Node *BlankLine = NULL; // \u6362\u884c\u6807\u8bb0\uff0c\u6807\u8bb0\u4e00\u5c42\u8282\u70b9\n        queue&lt;Node *&gt; que;\n        que.push(Root);\n        que.push(BlankLine);\n        while (!que.empty())\n        {\n            Node *t = que.front();\n            que.pop();\n            if (t == BlankLine)\n            {\n                printf(\"\\n\");\n                if (!que.empty())\n                    que.push(BlankLine);\n                continue;\n            }\n            t-&gt;print();\n            for (int i = 0; i &lt; t-&gt;cnt_child; ++i)\n            {\n                que.push(t-&gt;child[i]);\n            }\n\n        }\n    }\n\n    /**\n    * \u68c0\u67e5\u5e76\u5206\u88c2\u5f53\u524d\u8282\u70b9\uff0c\u5f53\u524d\u8282\u70b9\u5206\u88c2\u5b8c\u6210\u540e\u9012\u5f52\u68c0\u67e5\u7236\u8282\u70b9\u662f\u5426\u9700\u8981\u5206\u88c2\u3002\n    * @param node \u5f85\u5206\u88c2\u7684\u8282\u70b9\n    */\n    void split (Node *node)\n    {\n        // \u7528node\u6307\u9488\u83b7\u53d6\u53d8\u91cf\u592a\u957f\uff0c\u7528\u5c40\u90e8\u53d8\u91cf\u7b80\u5316\n        int cntData = node-&gt;cnt_data;\n        int cntChild = node-&gt;cnt_child;\n        bool is_leaf = cntChild == 0;\n        Node **child = node-&gt;child;\n        int *data = node-&gt;data;\n\n        // \u4e0d\u9700\u8981\u5206\u88c2\n        if ((is_leaf &amp;&amp; cntData &lt;= ORDER) ||\n            (!is_leaf &amp;&amp; cntData &lt; ORDER))\n        {\n            return;\n        }\n\n        // \u5f53\u524d\u8282\u70b9\u4e3a\u6839\u8282\u70b9\uff0c\u5219\u751f\u6210\u65b0\u7684\u6839\u8282\u70b9\n        if (node-&gt;parent == NULL)\n        {\n            Root = node-&gt;parent = new Node();\n        }\n\n        Node *pra = node-&gt;parent;\n\n        int mid ;\n\n        // \u5206\u88c2\u4e3a\u5de6\u53f3\u4e24\u4e2a\u8282\u70b9\n        Node *l ;\n        Node *r ;\n\n        // \u5bf9\u4e8e\u53f6\u5b50\u8282\u70b9\u548c\u975e\u53f6\u5b50\u8282\u70b9\u5206\u522b\u5904\u7406\n        if (is_leaf)\n        {\n            // mid = 2; // \u7b49\u6548\n            mid = ceil(1.0*ORDER/2);\n\n            l = new Node(pra, data, make_pair(0, mid), child, make_pair(0, 0));\n            r = new Node(pra, data, make_pair(mid, cntData), child, make_pair(0, 0));\n        } else\n        {\n            // mid = 1; // \u7b49\u6548\n            mid = ceil(1.0*(ORDER-1)/2);\n\n            l = new Node(pra, data, make_pair(0, mid), child, make_pair(0, mid+1));\n            r = new Node(pra, data, make_pair(mid+1, cntData), child, make_pair(mid+1, cntChild));\n        }\n\n        // \u66f4\u65b0\u7236\u8282\u70b9\u7684\u7d22\u5f15\n        pra-&gt;data[pra-&gt;cnt_data++] = data[mid];\n\n        // \u66ff\u6362\u7236\u8282\u70b9\u7684\u5b50\u8282\u70b9\u5217\u8868\u4e2d\u4fdd\u5b58\u7684\u5f53\u524d\u8282\u70b9\uff08\u5f53\u524d\u8282\u70b9\u5df2\u7ecf\u5206\u88c2\u4e3a2\u4e2a\u5b50\u8282\u70b9\uff09\n        if (pra-&gt;cnt_child &gt; 0)\n            for (int i = 0; i &lt; pra-&gt;cnt_child; ++i)\n            {\n                if (pra-&gt;child[i] == node)\n                {\n                    pra-&gt;child[i] = l;\n                    break;\n                }\n            }\n        else\n            pra-&gt;child[pra-&gt;cnt_child++] = l;\n        pra-&gt;child[pra-&gt;cnt_child++] = r;\n\n        // \u6392\u5e8f\uff0c\u4e0a\u4e00\u6b65\u76f4\u63a5\u63d2\u5165\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e71\u5e8f\n        sort(pra-&gt;data, pra-&gt;data + pra-&gt;cnt_data);\n        sort(pra-&gt;child, pra-&gt;child + pra-&gt;cnt_child, cmp);\n\n        // \u91ca\u653e\u5f53\u524d\u8282\u70b9\u7684\u6240\u5360\u7684\u7a7a\u95f4\n        delete node;\n\n        // \u9012\u5f52\u68c0\u67e5\u7236\u8282\u70b9\u662f\u5426\u9700\u8981\u5206\u88c2\n        split(pra);\n    }\n\n\n    /**\n    * \u63d2\u5165\u6570\u636e\n    * @param node\n    * @param n\n    */\n    void insert (Node *node, int n)\n    {\n        if (node == NULL)\n        {\n            node = new Node();\n        }\n        node-&gt;data[node-&gt;cnt_data++] = n;\n        sort(node-&gt;data, node-&gt;data + node-&gt;cnt_data);\n        split(node);\n    }\n\n    /**\n    * \u67e5\u627en\u5e94\u5728\u7684Node\u5bf9\u8c61\uff0c\u5b9e\u9645\u4e0an\u4e0d\u4e00\u5b9a\u5b58\u5728B+\u6811\u4e2d\n    * \u6570\u636e\u88abm\u4e2a\u7d22\u5f15\u5206\u6210\u4e86m+1\u6bb5\uff0c\u5373\u5b50\u6811\u7684\u6570\u91cf\u6bd4\u7d22\u5f15\u7684\u6570\u91cf\u591a1\uff0c\u6240\u4ee5\u7528upper_bound\u627e\u5230\u7684\u7b2c\u4e00\u4e2a\u5927\u4e8en\u7684\u7d22\u5f15\u4e0b\u6807\uff0c\u653e\u5230\u5176\u5b69\u5b50\u5217\u8868\u4e2d\u6070\u597d\u4e3an\u6240\u5728\u7684\u5b50\u6811\u7684\u4e0b\u6807\n    * @param root\n    * @param n\n    * @return \u8fd4\u56den\u5e94\u5728\u7684\u53f6\u5b50\u8282\u70b9\u7684\u6307\u9488\n    */\n    Node *find (Node *root, int n)\n    {\n        if (root == NULL)\n            return root;\n        // \u53f6\u5b50\u8282\u70b9\n        if (root-&gt;cnt_child == 0)\n            return root;\n\n        int i = upper_bound(root-&gt;data, root-&gt;data + root-&gt;cnt_data, n) - root-&gt;data;\n        return find(root-&gt;child[i], n);\n\n    }\n\n\n    /**\n    * \u5224\u65adn\u662f\u5426\u5b58\u5728\n    * @param node \u7528find\u65b9\u6cd5\u627e\u5230\u7684n\u5e94\u5728\u7684\u53f6\u5b50\u8282\u70b9\n    * @param n\n    * @return\n    */\n    bool exist (Node *node, int n)\n    {\n        if (node == NULL)\n            return false;\n        return binary_search(node-&gt;data, node-&gt;data + node-&gt;cnt_data, n);\n    }\n\n    int main ()\n    {\n\n        scanf(\"%d\", &amp;n);\n        for (int i = 0; i &lt; n; ++i)\n        {\n            int num;\n            scanf(\"%d\", &amp;num);\n            Node *leaf = find(Root, num);\n            if (!exist(leaf, num))\n                insert(leaf, num);\n            else\n            {\n                printf(\"Key %d is duplicated\\n\", num);\n            }\n        }\n\n        print_tree();\n\n        return 0;\n    }\n</code></pre> \u6211\u7684\u4ee3\u7801<pre><code>none\n</code></pre>"},{"location":"incourse/ADS/Tree/#\u4f8b\u9898_3","title":"\u4f8b\u9898","text":"<p>\u4f5c\u4e1a\u4f8b\u9898</p> T1T2T3T4 <p></p> <p></p> <p></p> <p></p> <p>\u7ea0\u9519</p> <p>\u8fd9\u9898\u5e94\u8be5\u9009C\uff0cA,D\u9009\u9879\u90fd\u8003\u8651\u6839\u8282\u70b9\u5373\u53ef\u3002</p>"},{"location":"incourse/ADS/amana/","title":"\u5747\u644a\u5206\u6790","text":""},{"location":"incourse/ADS/amana/#\u5747\u644a\u5206\u6790","title":"\u5747\u644a\u5206\u6790","text":"<p> \u7ea6 554 \u4e2a\u5b57  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p> <p>\u53c2\u8003\u8d44\u6599</p> <p>\u672c\u7bc7\u76ee\u53c2\u8003\u8d44\u6599:</p> <ul> <li> <p>https://zh.wikipedia.org/wiki/%E5%B9%B3%E6%91%8A%E5%88%86%E6%9E%90</p> </li> <li> <p>https://note.isshikih.top/cour_note/D2CX_AdvancedDataStructure/Ex01/</p> </li> <li> <p>https://www.yuque.com/xianyuxuan/saltfish_shop/weekly002_amortized_analysis#KmnY6</p> </li> </ul> <p>\u5747\u644a\u5206\u6790\uff08Amortized Analysis\uff09\u662f\u4e00\u79cd\u5206\u6790\u7b97\u6cd5\u590d\u6742\u5ea6\u7684\u65b9\u6cd5\uff0c\u65e8\u5728\u8ba1\u7b97\u5728\u4e00\u7cfb\u5217\u64cd\u4f5c\u4e2d\u6bcf\u4e2a\u64cd\u4f5c\u7684\u5e73\u5747\u4ee3\u4ef7\u3002\u8fd9\u79cd\u5206\u6790\u65b9\u6cd5\u7279\u522b\u9002\u7528\u4e8e\u90a3\u4e9b\u5728\u6700\u574f\u60c5\u51b5\u4e0b\u5355\u4e2a\u64cd\u4f5c\u4ee3\u4ef7\u5f88\u9ad8\uff0c\u4f46\u5728\u4e00\u7cfb\u5217\u64cd\u4f5c\u4e2d\u4ee3\u4ef7\u8f83\u4f4e\u7684\u7b97\u6cd5\u3002</p> <ul> <li>\u5747\u644a\u5206\u6790\u7684\u5e38\u7528\u65b9\u6cd5\u5305\u62ec\uff1a<ol> <li>\u805a\u5408\u5206\u6790\uff08Aggregate Analysis\uff09\uff1a\u8ba1\u7b97\u4e00\u7cfb\u5217\u64cd\u4f5c\u7684\u603b\u4ee3\u4ef7\uff0c\u7136\u540e\u9664\u4ee5\u64cd\u4f5c\u6b21\u6570\u3002</li> <li>\u8bb0\u8d26\u6cd5(Accounting method) : \u6267\u884c\u82b1\u8d39\u8f83\u4f4e\u7684operations\u65f6\u5148\u5b58credit\u672a\u96e8\u7ef8\u7f2a, \u4f9b\u672a\u6765\u82b1\u8d39\u8f83\u9ad8\u7684operations\u4f7f\u7528\u3002\u5bf9\u6bcf\u4e2a\u64cd\u4f5c\u5b9a\u4e49\u4e00\u4e2a\u5408\u6cd5\u7684\u5e73\u644a\u6210\u672c(amortized cost) .\u5047\u8bbe\\(c_i\\)\u4e3a\u7b2ci\u4e2a\u64cd\u4f5c\u7684actual cost,\\(\\hat{c_i}\\)\u4e3a\u7b2ci\u4e2a\u64cd\u4f5c\u7684amortized cost.\u82e5 \\(c_i &lt; \\hat{c_i}\\)\uff0c\u5219credit=\\(\\hat{c_i}-c_i\\),\u6211\u4eec\u628acredit\u5b58\u8d77\u6765(deposited)\uff0c\u672a\u6765\u53ef\u4ee5\u63d0\u53d6(withdraw) \u3002\u53cd\u4e4b\u5c31\u662f\u63d0\u53d6credit.\u603b\u4e4b\uff0c\u6700\u540e\u7684credit\u9700\u8981\\(\\geq 0\\)\uff0c\u4e5f\u5373\\(\\sum_{i=1}^{n} \\hat{c_i}  \\geq \\sum_{i=1}^{n} c_i\\)</li> <li>\u52bf\u80fd\u6cd5\uff08Potential Method\uff09\uff1a\u5f15\u5165\u4e00\u4e2a\u52bf\u80fd\u51fd\u6570\u6765\u8868\u793a\u6570\u636e\u7ed3\u6784\u7684\u6f5c\u5728\u80fd\u91cf\u53d8\u5316\uff0c\u901a\u8fc7\u52bf\u80fd\u53d8\u5316\u6765\u5206\u6790\u64cd\u4f5c\u4ee3\u4ef7\u3002</li> </ol> </li> <li>\u6570\u5b66\u516c\u5f0f\uff1a<ul> <li>\u805a\u5408\u5206\u6790\uff1aT(n) = O(f(n))\uff0c\u5176\u4e2dT(n)\u662fn\u6b21\u64cd\u4f5c\u7684\u603b\u4ee3\u4ef7\uff0cf(n)\u662f\u4e00\u4e2a\u51fd\u6570\u3002</li> <li>\u5747\u644a\u4ee3\u4ef7\u6cd5\uff1a\\(c_i \\leq  \\hat{c_i}\\)\uff0c\u5176\u4e2d\\(c_i\\)\u662f\u7b2ci\u6b21\u64cd\u4f5c\u7684\u5747\u644a\u4ee3\u4ef7\u3002</li> <li>\u52bf\u80fd\u6cd5\uff1a\\(c_i + \u03a6(D_i) - \u03a6(D_{i-1}) =  \\hat{c_i}\\)\uff0c\u5176\u4e2d\\(c_i\\)\u662f\u7b2ci\u6b21\u64cd\u4f5c\u7684\u5b9e\u9645\u4ee3\u4ef7\uff0c\u03a6\u662f\u52bf\u80fd\u51fd\u6570\uff0c\\(D_i\\)\u662f\u7b2ci\u6b21\u64cd\u4f5c\u540e\u7684\u6570\u636e\u7ed3\u6784\u72b6\u6001\u3002\u56e0\u6b64\\(\\sum_{i=1}^{n}\\hat{c_i} = \\sum_{i=1}^{n} c_i +\\Phi(D_n)-\\Phi(D_{1})\\)</li> </ul> </li> </ul> <p>\u5728\u8fd9\u91cc\u6211\u4eec\u4e3b\u8981\u4ecb\u7ecd\u52bf\u80fd\u6cd5\u3002</p>"},{"location":"incourse/ADS/amana/#\u52bf\u80fd\u6cd5","title":"\u52bf\u80fd\u6cd5","text":"<p>\u4e00\u8a00\u4ee5\u853d\u4e4b</p> <p>\u52bf\u80fd\u51fd\u6570\u7684\u6838\u5fc3\u5c31\u4e24\u53e5\u8bdd\uff1a</p> <ul> <li> <p>\u5c3d\u91cf\u4f7f\u521d\u59cb\u72b6\u6001\u7684\u52bf\u80fd\u6700\u5c0f</p> </li> <li> <p>\u5bf9\u4e8e\u5b9e\u9645\u5f00\u9500\u5927\u7684\u6b65\u9aa4\uff0c\u8981\u901a\u8fc7\u52bf\u80fd\u51fd\u6570\u4f7f\\(\\hat{c_i}\\)\u5c0f\u4e0b\u6765</p> </li> </ul>"},{"location":"incourse/ADS/amana/#\u4f8b\u5b50","title":"\u4f8b\u5b50","text":""},{"location":"incourse/ADS/amana/#\u6808","title":"\u6808","text":"<p>\u5047\u8bbe\u6211\u4eec\u73b0\u5728\u6709\u4e00\u4e2a\u6808\uff0c\u53ef\u4ee5\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a</p> <ul> <li> <p>push\u4e00\u4e2a\u5143\u7d20\uff0c\u4ee3\u4ef71</p> </li> <li> <p>pop\u4e00\u4e2a\u5143\u7d20\uff0c\u4ee3\u4ef71</p> </li> <li> <p>Multipop<code>k</code>\u4e2a\u5143\u7d20\uff0c\u4ee3\u4ef7<code>k</code></p> </li> </ul> <p>\u73b0\u5728\u6211\u4eec\u6765\u601d\u8003\u4e00\u4e2a\u52bf\u80fd\u51fd\u6570\uff0c\u80fd\u591f\u6ee1\u8db3\u4e0a\u9762\u7684\u8981\u6c42\u3002</p> <p>\u52bf\u80fd\u51fd\u6570\u7684\u6838\u5fc3\u5c31\u4e24\u53e5\u8bdd\uff1a</p> <ul> <li> <p>\u5c3d\u91cf\u4f7f\u521d\u59cb\u72b6\u6001\u7684\u52bf\u80fd\u6700\u5c0f</p> </li> <li> <p>\u5bf9\u4e8e\u5b9e\u9645\u5f00\u9500\u5927\u7684\u6b65\u9aa4\uff0c\u8981\u901a\u8fc7\u52bf\u80fd\u51fd\u6570\u4f7f\\(\\hat{c_i}\\)\u5c0f\u4e0b\u6765</p> </li> </ul> <p>\u5f00\u9500\u6700\u5927\u7684\u6b65\u9aa4\u660e\u663e\u662fMultipop,\u90a3\u4e48\u8981\u4f7f\u5b83\u7684\\(\\hat{c_i}\\)\u964d\u4e0b\u6765\uff0c\u6211\u4eec\u5fc5\u987b\u8003\u8651\u4e00\u4e2a\u52bf\u80fd\u51fd\u6570\u4f7f\u5f97\\(\\Phi(D_i)&lt;&lt;\\Phi(D_{i-1})\\),\u540c\u65f6\u8fd8\u8981\u6ee1\u8db3\u521d\u59cb\u65f6\u6574\u4e2a\u7ed3\u6784\u7684\u52bf\u80fd\u6700\u5c0f\u3002\u6b38\uff0c\u6211\u4eec\u60f3\u5230\uff0c\u53ef\u4ee5\u5b9a\u4e49\\(\\Phi(D_i)=sizeof(D_i),sizeof(D_i)\\)\u6307\\(D_i\\)\u4e0b\u6808\u7684\u5143\u7d20\u4e2a\u6570\u3002\u5206\u6790\u5982\u4e0b\uff1a</p> <ul> <li> <p>push:\\(\\hat{c_i}=c_i+\\Phi(D_i)-\\Phi(D_{i-1})=1+1=2\\)</p> </li> <li> <p>pop:\\(\\hat{c_i}=c_i+\\Phi(D_i)-\\Phi(D_{i-1})=1 - 1=0\\)</p> </li> <li> <p>Multipop:\\(\\hat{c_i}=c_i+\\Phi(D_i)-\\Phi(D_{i-1})=k-k=0\\)</p> </li> </ul> <p>\u5219\\(\\sum_{i=1}^n \\hat{c_i}=\\sum_{i=1}^n O(1)=O(n) \\geq \\sum_{i=1}^{n} c_i,\u6545T_{amortized}=\\frac{O(n)}{n}=O(1)\\)</p>"},{"location":"incourse/ADS/amana/#splay-tree","title":"Splay Tree","text":"<p>Splay Tree\u7684\u4e09\u4e2a\u64cd\u4f5c\u5206\u6790\u8d77\u6765\u6709\u70b9\u590d\u6742\uff0c\u5e76\u4e14\u5305\u542b\u4e86\u4e00\u4e9b\u6570\u5b66\u653e\u7f29\uff0c\u56e0\u6b64\u5728\u8fd9\u91cc\u4e0d\u6d89\u53ca\u4e86\uff0c\u653e\u4e00\u5f20PPT\u4e0a\u7684\u56fe\u3002</p> <p>Splay Tree</p> <p></p>"},{"location":"incourse/ADS/amana/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>\u9898\u76ee</p> T1 <p></p> \u89e3\u6790 <p>\u5148\u5206\u6790\u6240\u6709\u64cd\u4f5c\uff1a</p> <ul> <li> <p>Available Block insert:\u5f00\u95001</p> </li> <li> <p>Inadequate Block insert and move:\u5f00\u9500k+1 \u518d\u6b21\uff0c\u7262\u8bb0\u52bf\u80fd\u51fd\u6570\u7684\u6838\u5fc3\uff1a</p> <p>\u52bf\u80fd\u51fd\u6570\u7684\u6838\u5fc3\u5c31\u4e24\u53e5\u8bdd\uff1a</p> <ul> <li> <p>\u5c3d\u91cf\u4f7f\u521d\u59cb\u72b6\u6001\u7684\u52bf\u80fd\u6700\u5c0f</p> </li> <li> <p>\u5bf9\u4e8e\u5b9e\u9645\u5f00\u9500\u5927\u7684\u6b65\u9aa4\uff0c\u8981\u901a\u8fc7\u52bf\u80fd\u51fd\u6570\u4f7f\\(\\hat{c_i}\\)\u5c0f\u4e0b\u6765.</p> </li> </ul> </li> </ul> <p>\u5148\u6765\u770b\u7b2c\u4e00\u6761\u539f\u5219</p> <p>\u5c3d\u91cf\u4f7f\u521d\u59cb\u72b6\u6001\u7684\u52bf\u80fd\u6700\u5c0f</p> <p>\u53ef\u4ee5\u76f4\u63a5\u6392\u9664\u6389B\u9009\u9879\uff0cC\u6211\u611f\u89c9\u4e5f\u53ef\u4ee5\u6392\uff0c\u4f46\u662f\u8bf4\u4e0d\u6e05\uff0c\u5148\u7559\u7740\u3002\u7136\u540e\u518d\u770b\u8fd9\u4e2a\u7ed3\u6784\u5f00\u9500\u6700\u5927\u7684\u64cd\u4f5c\u662fInadequate Block insert and move\uff0c\u56e0\u6b64\u6211\u4eec\u7684\u52bf\u80fd\u51fd\u6570\u9700\u8981\u6ee1\u8db3\u7684\u7279\u70b9\u662f:\u5728\u6269\u5bb9\u540e\\(\\Phi(D_i)\\)\u5927\u5927\u51cf\u5c11\uff0c\u8fd9\u65f6\u5c31\u53ef\u4ee5\u770b\u51faD\u9009\u9879\u7684\u5408\u7406\u6027\u4e86\u3002\u518d\u6765\u5177\u4f53\u5206\u6790\u3002\u5e94\u7528D\u9009\u9879\u7684\u52bf\u80fd\u51fd\u6570\u540e:</p> <ul> <li> <p>Available Block insert:\\(\\hat{c_i}=c_i+\\Phi(D_i)-\\Phi(D_{i-1})=1+1=2\\)</p> </li> <li> <p>Inadequate Block insert and move:\\(\\hat{c_i}=c_i+\\Phi(D_i)-\\Phi(D_{i-1})=k+1 - k+1=2\\)</p> </li> </ul> <p>\u5219 </p> \\[\\sum_{i=1}^n \\hat(c_i)=\\sum_{i=1}^n O(1)=O(n) \\geq \\sum_{i=1}^{n} c_i\\] <p>\u6545</p> \\[T_{amortized}=\\frac{O(n)}{n}=O(1)\\]"},{"location":"incourse/ADS/backtracking/","title":"Backtracking","text":"<p> \u7ea6 264 \u4e2a\u5b57  156 \u884c\u4ee3\u7801  8 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p> <p>\u53c2\u8003\u8d44\u6599</p> <p>wiki : https://zh.wikipedia.org/wiki/%E5%9B%9E%E6%BA%AF%E6%B3%95</p>"},{"location":"incourse/ADS/backtracking/#\u7b80\u8981\u7684\u4ecb\u7ecd-from-ppt","title":"\u7b80\u8981\u7684\u4ecb\u7ecd from PPT","text":"<p>The basic idea is that suppose we have a partial solution ( \\(x_1\\), ... , \\(x_i\\) ) where each \\(x_k \\in S_k\\) for  \\(1 \\leq k \\leq i &lt; n\\).   First we add  \\(x_{i+1} \\in S_{i+1}\\) and check if ( \\(x_1\\), ... , \\(x_i\\), \\(x_{i+1}\\) ) satisfies the constrains.  If the answer is \u201cyes\u201d we continue to add the next x, else we delete \\(x_i\\) and backtrack to the previous partial solution ( \\(x_1\\), ... , \\(x_{i-1}\\) ).</p>"},{"location":"incourse/ADS/backtracking/#\u516b\u7687\u540e\u95ee\u9898","title":"\u516b\u7687\u540e\u95ee\u9898","text":"<p>\u516b\u7687\u540e\u95ee\u9898\u662f\u4e00\u4e2a\u4ee5\u56fd\u9645\u8c61\u68cb\u4e3a\u80cc\u666f\u7684\u95ee\u9898\uff1a\u5982\u4f55\u80fd\u591f\u57288\u00d78\u7684\u56fd\u9645\u8c61\u68cb\u68cb\u76d8\u4e0a\u653e\u7f6e\u516b\u4e2a\u7687\u540e\uff0c\u4f7f\u5f97\u4efb\u4f55\u4e00\u4e2a\u7687\u540e\u90fd\u65e0\u6cd5\u76f4\u63a5\u5403\u6389\u5176\u4ed6\u7684\u7687\u540e\uff1f\u4e3a\u4e86\u8fbe\u5230\u6b64\u76ee\u7684\uff0c\u4efb\u4e24\u4e2a\u7687\u540e\u90fd\u4e0d\u80fd\u5904\u4e8e\u540c\u4e00\u6761\u6a2a\u884c\u3001\u7eb5\u884c\u6216\u659c\u7ebf\u4e0a\u3002</p> <p>\u4e3a\u51cf\u5c11\u7b54\u6848\u8868\u793a\u7684\u590d\u6742\u5ea6\uff0c\u6211\u4eec\u4f5c\u5982\u4e0b\u89c4\u5b9a\uff1a</p> <p>\u7b54\u6848\u8868\u793a</p> <p>\u4ee4\u7b54\u6848\\(S_i = {x_1,x_2,x_3,x_4,x_5,x_6,x_7,x_8}\\),\u5176\u4e2d\\(x_i\\)\u8868\u793a\u7b2ci\u884c\u7687\u540e\u6240\u5728\u7684\u5217\u6570\u3002\u8fd9\u5f88\u663e\u7136\u662f\u6b63\u786e\u7684\uff0c\u56e0\u4e3a\u5fc5\u7136\u6bcf\u4e00\u884c\u90fd\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u7687\u540e\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u6765\u601d\u8003\u8fd9\u4e2a\u95ee\u9898\u6709\u54ea\u4e9b\u7ea6\u675f\u3002</p> <p>constrains</p> <ol> <li> <p>\\(S_i\\)\u67098\u4f4d\uff0c\u6bcf\u4e00\u4f4d\u6570\u5b57\u90fd\u662f1-8\u4e4b\u95f4\u7684\u4e00\u4e2a\u3002\u8fd9\u5c06\u7b54\u6848\u4e2a\u6570\u7f29\u51cf\u5230\\(8^8\\)</p> </li> <li> <p>$x_i \\neq x_j $ if \\(i \\neq j\\).\u8fd9\u662f\u663e\u7136\u7684\uff0c\u56e0\u4e3a\u4e0d\u53ef\u80fd\u6709\u4e24\u4e2a\u7687\u540e\u5728\u540c\u4e00\u5217\u3002\u7b54\u6848\u7f29\u51cf\u5230\\(8!\\)</p> </li> <li> <p>\\(\\frac{x_i-x_j}{i-j} \\neq \\pm 1\\),\u8fd9\u662f\u4e3a\u4e86\u786e\u4fdd\u5bf9\u89d2\u7ebf\u4e0a\u4e0d\u4f1a\u653b\u51fb\u3002</p> </li> </ol> <p>\u7136\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u7684\u601d\u60f3\uff0c\u6765\u904d\u5386\u6240\u6709\u53ef\u80fd\uff0c\u627e\u5230\u7b54\u6848\u3002</p> code in c for n queens puzzles<pre><code>#include &lt;stdio.h&gt;\n\n#define QUEENS       8 /* \u7687\u540e\u6570\u91cf */\n#define IS_OUTPUT    1 /* (IS_OUTPUT=0 or 1)\uff0cOutput\u7528\u4e8e\u9009\u62e9\u662f\u5426\u8f93\u51fa\u5177\u4f53\u89e3,\u4e3a1\u8f93\u51fa\uff0c\u4e3a0\u4e0d\u8f93\u51fa */\n\n/* \u5b9a\u4e49\u8f85\u52a9\u6570\u7ec4\u548c\u53d8\u91cf */\nint A[QUEENS + 1], B[QUEENS * 3 + 1], C[QUEENS * 3 + 1], k[QUEENS + 1][QUEENS + 1];\nint inc, *a = A, *b = B + QUEENS, *c = C;\n/*  a[j] \u8bb0\u5f55\u7b2c j \u5217\u662f\u5426\u6709\u7687\u540e\u3002\u5982\u679c a[j] \u4e3a 1\uff0c\u8868\u793a\u7b2c j \u5217\u5df2\u7ecf\u6709\u7687\u540e\uff1b\u5982\u679c\u4e3a 0\uff0c\u8868\u793a\u7b2c j \u5217\u6ca1\u6709\u7687\u540e\u3002\nb[j - i] \u8bb0\u5f55\u4ece\u5de6\u4e0a\u5230\u53f3\u4e0b\u7684\u5bf9\u89d2\u7ebf\u662f\u5426\u6709\u7687\u540e\u3002\u5bf9\u89d2\u7ebf\u7684\u7d22\u5f15\u662f j - i\uff0c\u5982\u679c b[j - i] \u4e3a 1\uff0c\u8868\u793a\u8be5\u5bf9\u89d2\u7ebf\u4e0a\u5df2\u7ecf\u6709\u7687\u540e\uff1b\u5982\u679c\u4e3a 0\uff0c\u8868\u793a\u8be5\u5bf9\u89d2\u7ebf\u4e0a\u6ca1\u6709\u7687\u540e\u3002\nc[j + i] \u8bb0\u5f55\u4ece\u53f3\u4e0a\u5230\u5de6\u4e0b\u7684\u5bf9\u89d2\u7ebf\u662f\u5426\u6709\u7687\u540e\u3002\u5bf9\u89d2\u7ebf\u7684\u7d22\u5f15\u662f j + i\uff0c\u5982\u679c c[j + i] \u4e3a 1\uff0c\u8868\u793a\u8be5\u5bf9\u89d2\u7ebf\u4e0a\u5df2\u7ecf\u6709\u7687\u540e\uff1b\u5982\u679c\u4e3a 0\uff0c\u8868\u793a\u8be5\u5bf9\u89d2\u7ebf\u4e0a\u6ca1\u6709\u7687\u540e\u3002\n */\n/* \u9012\u5f52\u51fd\u6570\uff0c\u7528\u4e8e\u5728\u7b2ci\u884c\u653e\u7f6e\u7687\u540e */\nvoid lay(int i) {\n  int j = 0, t, u;\n\n  /* \u5c1d\u8bd5\u5728\u7b2ci\u884c\u7684\u6bcf\u4e00\u5217\u653e\u7f6e\u7687\u540e */\n  while (++j &lt;= QUEENS)\n    /* \u68c0\u67e5\u5f53\u524d\u4f4d\u7f6e\u662f\u5426\u5b89\u5168\uff08\u6ca1\u6709\u51b2\u7a81\uff09 */\n    if (a[j] + b[j - i] + c[j + i] == 0) {\n      /* \u653e\u7f6e\u7687\u540e\uff0c\u5e76\u6807\u8bb0\u76f8\u5173\u6570\u7ec4 */\n      k[i][j] = a[j] = b[j - i] = c[j + i] = 1;\n      /* \u5982\u679c\u8fd8\u6ca1\u6709\u653e\u7f6e\u5b8c\u6240\u6709\u7687\u540e\uff0c\u9012\u5f52\u8c03\u7528lay\u51fd\u6570 */\n      if (i &lt; QUEENS) lay(i + 1);\n      else {\n        /* \u5982\u679c\u5df2\u7ecf\u653e\u7f6e\u4e86\u6240\u6709\u7687\u540e\uff0c\u589e\u52a0\u89e3\u7684\u6570\u91cf */\n        ++inc;\n        /* \u5982\u679cIS_OUTPUT\u4e3a1\uff0c\u8f93\u51fa\u5f53\u524d\u89e3 */\n        if (IS_OUTPUT) {\n          for (printf(\"(%d)\\n\", inc), u = QUEENS + 1; --u; printf(\"\\n\"))\n            for (t = QUEENS + 1; --t; ) k[t][u] ? printf(\"Q \") : printf(\"+ \");\n          printf(\"\\n\\n\\n\");\n        }\n      }\n      /* \u56de\u6eaf\uff0c\u64a4\u9500\u5f53\u524d\u7687\u540e\u7684\u653e\u7f6e */\n      a[j] = b[j - i] = c[j + i] = k[i][j] = 0;\n    }\n}\n\n/* \u4e3b\u51fd\u6570 */\nint main(void) {\n  /* \u4ece\u7b2c\u4e00\u884c\u5f00\u59cb\u653e\u7f6e\u7687\u540e */\n  lay(1);\n  /* \u8f93\u51fa\u603b\u5171\u627e\u5230\u7684\u89e3\u7684\u6570\u91cf */\n  printf(\"%d\u7687\u540e\u5171\u8ba1%d\u4e2a\u89e3\\n\", QUEENS, inc);\n  return 0;\n}\n</code></pre>"},{"location":"incourse/ADS/backtracking/#the-turnpike-reconstruction-problem","title":"The Turnpike Reconstruction Problem","text":"<p>\u516c\u8def\u91cd\u5efa\u95ee\u9898\uff08The Turnpike Reconstruction Problem\uff09\u662f\u4e00\u4e2a\u7ecf\u5178\u7684\u7ec4\u5408\u4f18\u5316\u95ee\u9898\u3002\u5176\u76ee\u6807\u662f\u6839\u636e\u7ed9\u5b9a\u7684\u4e00\u7ec4\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\uff0c\u91cd\u5efa\u8fd9\u4e9b\u70b9\u7684\u539f\u59cb\u4f4d\u7f6e\u3002</p>"},{"location":"incourse/ADS/backtracking/#\u95ee\u9898\u63cf\u8ff0","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u5047\u8bbe\u6709 \\(n\\) \u4e2a\u70b9 \\(x_1, x_2, ..., x_n\\)\uff0c\u5b83\u4eec\u5728\u4e00\u6761\u76f4\u7ebf\u4e0a\u3002\u5df2\u77e5\u8fd9\u4e9b\u70b9\u4e4b\u95f4\u7684\u6240\u6709\u4e24\u4e24\u8ddd\u79bb \\(d_{ij} = |x_i - x_j|\\)\uff0c\u5176\u4e2d \\(1 \\leq i &lt; j \\leq n\\)\u3002\uff08\u5f88\u663e\u7136\uff0c\u6709 \\(\\frac{N(N-1)}{2}\\) \u4e2a\u8ddd\u79bb\uff09\u516c\u8def\u91cd\u5efa\u95ee\u9898\u8981\u6c42\u6839\u636e\u8fd9\u4e9b\u8ddd\u79bb\u91cd\u5efa\u70b9\u7684\u539f\u59cb\u4f4d\u7f6e\u3002</p>"},{"location":"incourse/ADS/backtracking/#\u6570\u5b66\u63cf\u8ff0","title":"\u6570\u5b66\u63cf\u8ff0","text":"<p>\u7ed9\u5b9a\u4e00\u4e2a\u8ddd\u79bb\u96c6\u5408 \\(D = \\{d_{ij} | 1 \\leq i &lt; j \\leq n\\}\\)\uff0c\u91cd\u5efa\u70b9\u96c6 \\(X = \\{x_1, x_2, ..., x_n\\}\\)\uff0c\u4f7f\u5f97\u5bf9\u4e8e\u4efb\u610f\u7684 \\(i, j\\)\uff0c\\(d_{ij} = |x_i - x_j|\\)\u3002\u6211\u4eec\u5047\u8bbe\u79bb\u8d77\u70b9\u6700\u8fd1\u7684\u70b9\u4e3a\\(x_1\\),\u5728\u5750\u6807\\(x=0\\)\u5904\u3002</p>"},{"location":"incourse/ADS/backtracking/#\u89e3\u9898\u601d\u8def","title":"\u89e3\u9898\u601d\u8def","text":"<p>\u4f8b\u5b50</p> Step 0Step 1Step 2Step 3 <p>\u5047\u8bbe\u6211\u4eec\u73b0\u5728\u6709\u4e00\u4e2a\u8ddd\u79bb\u96c6\u5408 </p> <p>\u7531\u8ddd\u79bb\u5f97\u5230\u70b9\u7684\u4e2a\u6570 </p> <p>\u53d1\u73b0\u8d77\u59cb\u70b9\u548c\u6700\u8fdc\u7684\u70b9\u3002 </p> <p>\u627e\u5230\u7b2c\u4e8c\u5927\u7684\u8ddd\u79bb\u5f00\u59cb\u5c1d\u8bd5\u3002\u5728\u672c\u4f8b\u4e2d\uff0c\u7b2c\u4e8c\u5927\u8ddd\u79bb\u662f8\uff0c\u6709\u4e24\u79cd\u53ef\u80fd\uff1a</p> <ol> <li> <p>\u7b2c\u4e8c\u8fdc\u7684\u70b9\\(x_5\\)\u8ddd\u79bb\\(x_1\\)\u4e3a8</p> </li> <li> <p>\u7b2c\u4e8c\u8fd1\u7684\u70b9\u8ddd\u79bb\\(x_6\\)\u4e3a8</p> </li> </ol> <p>\u7531\u6b64\u753b\u51fa\u4e00\u68f5\u6811\u3002</p> <p></p> <p>\u4e4b\u540e\u4e0d\u65ad\u5c1d\u8bd5\uff0c\u68c0\u67e5\u8ddd\u79bb\u662f\u5426\u6ee1\u8db3\u6761\u4ef6\u5373\u53ef\u3002</p>"},{"location":"incourse/ADS/backtracking/#\u4ee3\u7801\u5b9e\u73b0","title":"\u4ee3\u7801\u5b9e\u73b0","text":"cpp\u5b9e\u73b0<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;unordered_set&gt;\n#include &lt;cmath&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nint Find_Max(const unordered_set&lt;int&gt;&amp; D) {\n    return *max_element(D.begin(), D.end());\n}\n\nbool Check(int value, const vector&lt;int&gt;&amp; X, int N, int left, int right) {\n    for (int i = 1; i &lt; left; i++) {\n        if (D.find(abs(value - X[i])) == D.end()) {\n            return false;\n        }\n    }\n    for (int i = right + 1; i &lt;= N; i++) {\n        if (D.find(abs(value - X[i])) == D.end()) {\n            return false;\n        }\n    }\n    return true;\n}\n/* X[1]...X[left-1] and X[right+1]...X[N] are solved */\nbool Reconstruct(vector&lt;int&gt;&amp; X, unordered_set&lt;int&gt;&amp; D, int N, int left, int right) {\n    if (D.empty()) {\n        return true;\n    }\n\n    int D_max = Find_Max(D);\n    bool Found = false;\n\n    // Option 1: X[right] = D_max\n    if (Check(D_max, X, N, left, right)) {\n        X[right] = D_max;\n        for (int i = 1; i &lt; left; i++) {\n            D.erase(abs(X[right] - X[i]));\n        }\n        for (int i = right + 1; i &lt;= N; i++) {\n            D.erase(abs(X[right] - X[i]));\n        }\n        Found = Reconstruct(X, D, N, left, right - 1);\n        if (!Found) {\n            for (int i = 1; i &lt; left; i++) {\n                D.insert(abs(X[right] - X[i]));\n            }\n            for (int i = right + 1; i &lt;= N; i++) {\n                D.insert(abs(X[right] - X[i]));\n            }\n        }\n    }\n\n    // Option 2: X[left] = X[N] - D_max\n    if (!Found) {\n        if (Check(X[N] - D_max, X, N, left, right)) {\n            X[left] = X[N] - D_max;\n            for (int i = 1; i &lt; left; i++) {\n                D.erase(abs(X[left] - X[i]));\n            }\n            for (int i = right + 1; i &lt;= N; i++) {\n                D.erase(abs(X[left] - X[i]));\n            }\n            Found = Reconstruct(X, D, N, left + 1, right);\n            if (!Found) {\n                for (int i = 1; i &lt; left; i++) {\n                    D.insert(abs(X[left] - X[i]));\n                }\n                for (int i = right + 1; i &lt;= N; i++) {\n                    D.insert(abs(X[left] - X[i]));\n                }\n            }\n        }\n    }\n\n    return Found;\n}\n\nint main() {\n    int n;\n    cout &lt;&lt; \"\u8f93\u5165\u70b9\u7684\u6570\u91cf: \";\n    cin &gt;&gt; n;\n\n    int dist_count = n * (n - 1) / 2;\n    unordered_set&lt;int&gt; distances;\n    cout &lt;&lt; \"\u8f93\u5165\u6240\u6709\u4e24\u4e24\u8ddd\u79bb: \";\n    for (int i = 0; i &lt; dist_count; i++) {\n        int d;\n        cin &gt;&gt; d;\n        distances.insert(d);\n    }\n\n    vector&lt;int&gt; points(n + 1);\n    points[1] = 0;\n    points[n] = *distances.rbegin();\n\n    if (Reconstruct(points, distances, n, 2, n - 1)) {\n        cout &lt;&lt; \"\u91cd\u5efa\u7684\u70b9\u4f4d\u7f6e: \";\n        for (int i = 1; i &lt;= n; i++) {\n            cout &lt;&lt; points[i] &lt;&lt; \" \";\n        }\n        cout &lt;&lt; endl;\n    } else {\n        cout &lt;&lt; \"\u65e0\u6cd5\u91cd\u5efa\u70b9\u4f4d\u7f6e\" &lt;&lt; endl;\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"incourse/ADS/backtracking/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>\u56de\u6eaf\u7b97\u6cd5\u7684\u603b\u4f53\u5957\u8def\u3002</p> <p></p>"},{"location":"incourse/ADS/backtracking/#alpha---beta\u526a\u679d","title":"\\(\\alpha - \\beta\\)\u526a\u679d","text":"<p>\u6211\u8ba4\u4e3a\u8bb2\u5f97\u5f88\u6e05\u695a\u7684\u4e00\u7bc7\u5e16\u5b50\uff0c\u8fd8\u6709oiwiki\uff0c\u6709\u7a7a(\u5927\u6982\u7387\u4e0d\u4f1a)\u518d\u7801</p>"},{"location":"incourse/ADS/backtracking/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>\u4f8b\u9898</p> T1T2T3 <p></p> \u89e3\u6790 <p>3-3=0\uff0c\u9009B</p> <p></p> \u89e3\u6790 <p>\u6309\u7167\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u7684\u987a\u5e8f\uff0c\u6211\u4eec\u8bbf\u95ee\u5230a\u7684\u7236\u4eb2\uff0c\u6b64\u65f6a\u7684\u7236\u4eb2\u7684\\(\\beta\\)\u4e3a68\uff0c\u800ca\u7684\\(\\alpha\\)\u4e3a86\uff08\u5148\u8bbf\u95ee\u4e86b\uff09\uff0c\u6b64\u65f6\\(\\alpha &gt; \\beta\\)\uff0c\u5df2\u7ecf\u4e0d\u4f1a\u6709\u610f\u4e49\u4e86\uff0c\u6240\u4ee5\u4e0d\u518d\u9700\u8981\u8bbf\u95eec\uff0c\u4e5f\u5c31\u662fc\u88ab\u526a\u679d\u4e86\u3002\u9009C</p> <p></p> \u89e3\u6790 <p>\u548c\u4e0a\u4e00\u9053\u9898\u4e00\u6837\uff0ca\u80af\u5b9a\u662f\u6709\u5fc5\u8981\u8bbf\u95ee\u7684\uff0c\u4e0d\u7136\u6211\u4eec\u90fd\u4e0d\u77e5\u9053a\u7684\u7236\u4eb2\u4f1a\u662f\u591a\u5c11\u3002\u5728\u8bbf\u95ee\u4e86a\u4e4b\u540e\uff0c\u6211\u4eec\u786e\u5b9aa\u7684\u7236\u4eb2\u662f65\uff0c\u56e0\u6b64a\u7684\u7237\u7237\u4f1a\u53d6\u7684\u503c\u5fc5\u7136\\(\\leq 65\\)\u3002\u4f46\u662f\u5462\uff0c\u5728a\u7684\u7237\u7237\u8fd9\u4e00\u5c42\u6211\u4eec\u53d6\u7684\u662fmax\uff0c\u53e6\u4e00\u8fb9\u662f68\uff0c\u4e5f\u5c31\u662f\u7edd\u5bf9\u4e0d\u53ef\u80fd\u53d6\u8fd9\u4e00\u8fb9\u4e86\u3002\u56e0\u6b64d\u6ca1\u5fc5\u8981\u8bbf\u95ee\uff0c\u53ef\u4ee5\u526a\u53bb\u3002\u9009A</p>"},{"location":"incourse/ADS/bioquene/","title":"Binomial Queue","text":""},{"location":"incourse/ADS/bioquene/#binomial-queue","title":"Binomial Queue","text":"<p> \u7ea6 883 \u4e2a\u5b57  91 \u884c\u4ee3\u7801  7 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p> <p>\u8d44\u6599</p> <p>wiki:https://zh.wikipedia.org/wiki/%E4%BA%8C%E9%A1%B9%E5%A0%86</p>"},{"location":"incourse/ADS/bioquene/#\u4e8c\u9879\u6811\u5b9a\u4e49\u4e0e\u6027\u8d28","title":"\u4e8c\u9879\u6811\u5b9a\u4e49\u4e0e\u6027\u8d28","text":"<ul> <li>\u5ea6\u6570\u4e3a0\u7684\u4e8c\u9879\u6811\u53ea\u5305\u542b\u4e00\u4e2a\u8282\u70b9</li> <li>\u5ea6\u6570\u4e3ak\u7684\u4e8c\u9879\u6811\u662f\u7531\u4e00\u9897\u5ea6\u6570\u4e3a\\(k-1\\)\u7684\u4e8c\u9879\u6811\u76f4\u63a5\u63d2\u5230\u53e6\u4e00\u9897\u5ea6\u6570\u4e3a\\(k-1\\)\u7684\u4e8c\u9879\u6811\u6839\u4e0b\uff0c\u542b\u6709k\u4e2a\u8282\u70b9\uff0c\u5171\\(k+1\\)\u5c42</li> <li>\u5ea6\u6570\u4e3ak\u7684\u4e8c\u9879\u6811\u6709k\u4e2a\u5b69\u5b50\uff0c\u5206\u522b\u4e3a\u5ea6\u6570\u4e3a0\uff0c1\uff0c...,k-1\u7684\u4e8c\u9879\u6811</li> <li>\u5ea6\u6570\u4e3ak\u7684\u4e8c\u9879\u6811\u5728\u7b2cd\u5c42\u6709\\(C_{k}^{d}\\)\u4e2a\u8282\u70b9</li> </ul> <p>\u4f8b\u5b50</p> <p> \u53ef\u4ee5\u770b\u51fa\u4e0a\u8ff0\u6240\u6709\u6027\u8d28\uff0c\u6bd4\u5982\u5ea6\u4e3a3\u7684\u4e8c\u9879\u6811\u5404\u5c42\u8282\u70b9\u6570\u4e3a1\uff0c3\uff0c3\uff0c1\uff0c\u53ef\u4ee5\u8054\u60f3\u5230\u6768\u8f89\u4e09\u89d2\u7684\u7b2c\u4e09\u5c42\u3002</p>"},{"location":"incourse/ADS/bioquene/#\u4e8c\u9879\u961f\u5217","title":"\u4e8c\u9879\u961f\u5217","text":""},{"location":"incourse/ADS/bioquene/#\u6982\u5ff5","title":"\u6982\u5ff5","text":"<p>\u4e8c\u9879\u961f\u5217\u5c31\u662f\u6709\u4e00\u5806\u4e8c\u9879\u6811\u7ec4\u6210\uff0c\u6bcf\u4e2a\u4e8c\u9879\u6811\u6ee1\u8db3\u5806\u7684\u6027\u8d28(\u5927\u9876\u5806/\u5c0f\u9876\u5806)\u3002</p> <p>\u4f8b\u5b50</p> <p>\u4f8b\u5982\uff0c\u5982\u679c\u4e00\u4e2a\u4e8c\u9879\u961f\u5217\u670913\u4e2a\u5143\u7d20\uff0c\\(13=(1101)_2\\),\u5373\u7531\u4e00\u9897\u5ea6\u4e3a0\uff0c\u4e00\u9897\u5ea6\u4e3a2\uff0c\u4e00\u9897\u5ea6\u4e3a3\u7684\u4e8c\u9879\u6811\u7ec4\u6210 </p>"},{"location":"incourse/ADS/bioquene/#\u64cd\u4f5c","title":"\u64cd\u4f5c","text":""},{"location":"incourse/ADS/bioquene/#findmin","title":"FindMin","text":"<p>\u53ef\u4ee5\u7528\u4e00\u4e2a\u6307\u9488\u6807\u8bb0\u6700\u503c\u3002\u56e0\u6b64\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u4ee5\u662f\\(O(1)\\)\u3002\u5982\u679c\u6ca1\u6709\u6807\u8bb0\uff0c\u904d\u5386\u6839\u7684\u8bdd\uff0c\u662f\\(O(\\log(N))\\)</p>"},{"location":"incourse/ADS/bioquene/#merge","title":"Merge","text":"<p>\u4e24\u4e2a\u4e8c\u9879\u961f\u5217\u7684\u5408\u5e76\u5c31\u662f\u628a\u5ea6\u76f8\u540c\u7684\u4e8c\u9879\u6811\u5408\u5e76\u3002</p> <p>\u5176\u5b9e\u4e5f\u53ef\u4ee5\u770b\u6210\u662f\u4e8c\u8fdb\u5236\u6570\u76f8\u52a0</p> <p><pre><code>       110\n\n    +  111\n\n    ------\n\n      1101\n</code></pre> \u56e0\u6b64\u5c31\u6709\u4e09\u68f5\u6811\uff0c\u5ea6\u5206\u522b\u4e3a3\uff0c2\uff0c0\uff0c\u7531\u6b64\u6211\u4eec\u4e5f\u53ef\u4ee5\u63a8\u51fa\u5408\u5e76\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\\(O(\\log(N))\\),\u56e0\u4e3a\u4e8c\u8fdb\u5236\u6709\\(\\log(N)\\)\u4f4d</p> <p>\u4f8b\u5b50</p> <p></p>"},{"location":"incourse/ADS/bioquene/#insert","title":"Insert","text":"<p>\u7279\u6b8a\u7684merge.\u6211\u4eec\u60f3\u4f7f\u7528\u5747\u644a\u5206\u6790\u6cd5\uff0c\u8bc1\u660eN\u4e2a\u8fde\u7eed\u7684Insert\u53ef\u4ee5\u662f\\(O(N)\\)\u7684\u65f6\u95f4\u590d\u6742\u5ea6</p>"},{"location":"incourse/ADS/bioquene/#\u805a\u5408\u5206\u6790\u6cd5","title":"\u805a\u5408\u5206\u6790\u6cd5","text":"<p>\u53d1\u73b0</p> <p>\u5982\u679c\u6211\u4eec\u628a\u4e8c\u9879\u961f\u5217\u770b\u6210\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570...</p> <ul> <li>n=....0,cost=1</li> <li>n=....01,cost=2</li> <li>n=....011,cost=3</li> <li>n=....0111,cost=4</li> </ul> <p>\u6211\u4eec\u53d1\u73b0\uff0c\u5f00\u9500\u5b9e\u9645\u4e0a\u5c31\u662f\u6839\u636e\u4f4e\u4f4d\u8fde\u7eed\u76841\u7684\u4e2a\u6570\u6765\u51b3\u5b9a\u3002\u90a3\u4e48N\u6b65\u63d2\u5165\uff0c\u6bcf\u79cd\u60c5\u51b5\u5404\u51fa\u73b0\u591a\u5c11\u6b21\u5462\uff1f</p> \u53d1\u73b0 <ul> <li> <p>\u5bf9\u4e8en=....0\u7684\u60c5\u51b5\uff0c\u6709\u4e00\u534a\u7684\u63d2\u5165\u60c5\u51b5\u662f\u8fd9\u6837</p> </li> <li> <p>\u5bf9\u4e8en=....01\u7684\u60c5\u51b5\uff0c\u6709\\(\\frac{1}{2} * \\frac{1}{2}=\\frac{1}{4}\\)</p> </li> <li> <p>...</p> </li> </ul> <p>\u56e0\u6b64\uff0c\u603b\u5f00\u9500\u4e3a\\(\\frac{n}{2}*1+\\frac{n}{4}*2+...=2N\\)</p> <p>\u5747\u644a\u4e0b\u6765\u5c31\u662f\u5e38\u6570\u65f6\u95f4\u3002</p>"},{"location":"incourse/ADS/bioquene/#\u52bf\u80fd\u6cd5","title":"\u52bf\u80fd\u6cd5","text":"<p>\u6211\u4eec\u4e0d\u59a8\u601d\u8003\uff0c\u54ea\u4e00\u6b65\u7684\u5f00\u9500\u6700\u5927\uff1f\u663e\u7136\u662f\u5f53\u53d1\u751f\u8fdb\u4f4d\uff0c\u4e5f\u5373\u6211\u4eec\u9700\u8981\u5220\u9664\u6811\u5e76\u5408\u5e76\u6811\u7684\u60c5\u51b5\uff0c\u4e0d\u7136\uff0c\u76f4\u63a5\u521b\u9020\u6811\u5373\u53ef\u3002\u6839\u636e\u5747\u644a\u5206\u6790\u7684\u539f\u5219\uff0c\u8ba9\u5f00\u9500\u5927\u7684\u6b65\u9aa4\u5c3d\u53ef\u80fd\u5c0f\u4e0b\u6765\uff0c\u6211\u4eec\u4f5c\u5982\u4e0b\u89c4\u5b9a\uff1a</p> <p>\u524d\u63d0</p> <ul> <li> <p>\\(\\hat{c_i}=c_i+\\Phi(D_i)-\\Phi(D_{i-1})\\)</p> </li> <li> <p>\\(\\Phi(D_i)=\\)number of trees after the ith insertion</p> </li> </ul> <p>\u5982\u679c\u67d0\u6b65Insertion\\(c_i\\)\u7684cost\u4e3ak\uff0c\u90a3\u4e48\u5fc5\u7136\u662f\u9664\u4e86\u4e00\u6b21\u521b\u5efa\u4ee5\u5916\uff0c\u5408\u5e76\u4e86k-1\u6b21\uff0c\u4e5f\u5373\u6811\u7684\u4e2a\u6570\u51cf\u5c11\u4e86\\(k-2\\)(\u7b2c\u4e00\u6b65\u5408\u5e76\u540e\\(\\Phi(D_i)=\\Phi(D_{i-1})\\))</p> <p>\u56e0\u6b64\\(\\hat{c_i}=c_i+\\Phi(D_i)-\\Phi(D_{i-1})=k-(k-2)=2\\)</p> <p>\\(\\therefore T_{\\text{amortized}}=\\frac{2N}{N}=2\\)</p>"},{"location":"incourse/ADS/bioquene/#deletemin","title":"DeleteMin","text":"<p>\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li> <p>FindMin:\\(O(\\log(N))\\)</p> </li> <li> <p>remove(\u79fb\u9664\u6700\u5c0f\u503c\u4f5c\u4e3a\u6839\u7684\u6811):\\(O(1)\\)</p> </li> <li> <p>\u79fb\u9664\u6839\uff0c\u539f\u6765\u7684\u6811\u88ab\u62c6\u5206\uff1a\\(O(\\log(N))\\)</p> </li> <li> <p>merge:\\(O(\\log(N))\\)</p> </li> </ol>"},{"location":"incourse/ADS/bioquene/#code","title":"code","text":""},{"location":"incourse/ADS/bioquene/#\u6570\u636e\u7ed3\u6784\u5b9a\u4e49","title":"\u6570\u636e\u7ed3\u6784\u5b9a\u4e49","text":"\u6570\u636e\u7ed3\u6784<pre><code>typedef int ElementType\ntypedef struct BinNode *Position;\ntypedef struct Collection *BinQueue;\ntypedef struct BinNode *BinTree;  /* missing from p.176 */\n\nstruct BinNode \n{ \n    ElementType     Element;\n    Position        LeftChild;\n    Position        NextSibling;\n} ;\n\nstruct Collection \n{ \n    int         CurrentSize;  /* total number of nodes */\n    BinTree TheTrees[ MaxTrees ];\n} ;\n</code></pre>"},{"location":"incourse/ADS/bioquene/#merge_1","title":"Merge","text":"\u540c\u5927\u5c0f\u7684\u6811\u5408\u5e76<pre><code>BinTree CombineTrees( BinTree T1, BinTree T2 )\n{  /* merge equal-sized T1 and T2 */\n    if ( T1-&gt;Element &gt; T2-&gt;Element )\n        /* attach the larger one to the smaller one */\n        return CombineTrees( T2, T1 );\n    /* insert T2 to the front of the children list of T1 */\n    T2-&gt;NextSibling = T1-&gt;LeftChild;\n    T1-&gt;LeftChild = T2;\n    return T1;\n}\n</code></pre> \u603b\u7684\u5408\u5e76<pre><code>BinQueue  Merge( BinQueue H1, BinQueue H2 )\n{   BinTree T1, T2, Carry = NULL;   \n    int i, j;\n    if ( H1-&gt;CurrentSize + H2-&gt; CurrentSize &gt; Capacity )  ErrorMessage();\n    H1-&gt;CurrentSize += H2-&gt; CurrentSize;\n    for ( i=0, j=1; j&lt;= H1-&gt;CurrentSize; i++, j*=2 ) {\n        T1 = H1-&gt;TheTrees[i]; T2 = H2-&gt;TheTrees[i]; /*current trees */\n        switch( 4*!!Carry + 2*!!T2 + !!T1 ) { \n        case 0: /* 000 */\n        case 1: /* 001 */  break;   \n        case 2: /* 010 */  H1-&gt;TheTrees[i] = T2; H2-&gt;TheTrees[i] = NULL; break;\n        case 4: /* 100 */  H1-&gt;TheTrees[i] = Carry; Carry = NULL; break;\n        case 3: /* 011 */  Carry = CombineTrees( T1, T2 );\n                        H1-&gt;TheTrees[i] = H2-&gt;TheTrees[i] = NULL; break;\n        case 5: /* 101 */  Carry = CombineTrees( T1, Carry );\n                        H1-&gt;TheTrees[i] = NULL; break;\n        case 6: /* 110 */  Carry = CombineTrees( T2, Carry );\n                        H2-&gt;TheTrees[i] = NULL; break;\n        case 7: /* 111 */  H1-&gt;TheTrees[i] = Carry; \n                        Carry = CombineTrees( T1, T2 ); \n                        H2-&gt;TheTrees[i] = NULL; break;\n        } /* end switch */\n    } /* end for-loop */\n    return H1;\n}\n</code></pre>"},{"location":"incourse/ADS/bioquene/#deletemin_1","title":"DeleteMin","text":"DeleteMin<pre><code>ElementType  DeleteMin( BinQueue H )\n{   BinQueue DeletedQueue; \n    Position DeletedTree, OldRoot;\n    ElementType MinItem = Infinity;  /* the minimum item to be returned */  \n    int i, j, MinTree; /* MinTree is the index of the tree with the minimum item */\n\n    if ( IsEmpty( H ) )  {  PrintErrorMessage();  return \u2013Infinity; }\n\n    for ( i = 0; i &lt; MaxTrees; i++) {  /* Step 1: find the minimum item */\n        if( H-&gt;TheTrees[i] &amp;&amp; H-&gt;TheTrees[i]-&gt;Element &lt; MinItem ) { \n        MinItem = H-&gt;TheTrees[i]-&gt;Element;  MinTree = i;    } /* end if */\n    } /* end for-i-loop */\n    DeletedTree = H-&gt;TheTrees[ MinTree ];  \n    H-&gt;TheTrees[ MinTree ] = NULL;   /* Step 2: remove the MinTree from H =&gt; H\u2019 */ \n    OldRoot = DeletedTree;   /* Step 3.1: remove the root */ \n    DeletedTree = DeletedTree-&gt;LeftChild;   free(OldRoot);\n    DeletedQueue = Initialize();   /* Step 3.2: create H\u201d */ \n    DeletedQueue-&gt;CurrentSize = ( 1&lt;&lt;MinTree ) \u2013 1;  /* 2MinTree \u2013 1 */\n    for ( j = MinTree \u2013 1; j &gt;= 0; j \u2013 \u2013 ) {  \n        DeletedQueue-&gt;TheTrees[j] = DeletedTree;\n        DeletedTree = DeletedTree-&gt;NextSibling;\n        DeletedQueue-&gt;TheTrees[j]-&gt;NextSibling = NULL;\n    } /* end for-j-loop */\n    H-&gt;CurrentSize  \u2013 = DeletedQueue-&gt;CurrentSize + 1;\n    H = Merge( H, DeletedQueue ); /* Step 4: merge H\u2019 and H\u201d */ \n    return MinItem;\n}\n</code></pre>"},{"location":"incourse/ADS/bioquene/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>\u4f8b\u9898</p> T1T2T3T4 <p></p> \u89e3\u6790 <p>\\((42)_{10}=(101010)_2\\)</p> <p></p> \u89e3\u6790 <p>\u5747\u644a\u5206\u6790\u6cd5\uff0cInsertion\u662f\\(O(1)\\)</p> <p>find-max\u6bd4\u8f83\u96be\uff0c\u80af\u5b9a\u4e0d\u662f\uff0cfindmin\u5012\u662f\u6709\u53ef\u80fd\\(O(1)\\)\uff08\u6307\u9488\u6807\u8bb0\uff09</p> <p>merge\u548cdeletemin\u90fd\u662f\\(O(\\log(N))\\)</p> <p></p> \u89e3\u6790 <p>D\u9009\u9879\uff1a4\u4e3a\u6839\u7684\\(B_2\\)\u548c2\u4e3a\u6839\u7684\\(B_2\\)\u5408\u5e76\u4e86\u300223\u5c31\u4e0d\u7528\u52a8\u4e86\u3002</p> <p></p> \u89e3\u6790 <p>C\u9009\u9879\uff1a29\u5f53\u7136\u53ef\u4ee5\u4f5c\u4e3a\u6839\uff0c\u53e6\u5916\u4e24\u4e2a\\(B_2\\)\u53bb\u5408\u5e76\u5c31\u884c</p>"},{"location":"incourse/ADS/divide/","title":"\u5206\u6cbb\u6cd5","text":"<p> \u7ea6 1991 \u4e2a\u5b57  9 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 10 \u5206\u949f</p> <p>wiki</p> <p>https://zh.wikipedia.org/wiki/%E5%88%86%E6%B2%BB%E6%B3%95</p>"},{"location":"incourse/ADS/divide/#\u6982\u5ff5","title":"\u6982\u5ff5","text":"<p>\u5206\u6cbb\u6cd5\u7684\u57fa\u672c\u601d\u60f3\u662f:</p> <ol> <li> <p>\u628a\u4e00\u4e2a\u590d\u6742\u95ee\u9898\u5206\u89e3\u4e3a\u51e0\u4e2a\u5c0f\u95ee\u9898</p> </li> <li> <p>\u9012\u5f52\u89e3\u51b3\u8fd9\u4e9b\u5b50\u95ee\u9898\uff0c\u5f97\u5230\u89e3</p> </li> <li> <p>\u7ec4\u5408\u89e3\uff0c\u5f97\u5230\u603b\u4f53\u7684\u89e3\u3002</p> </li> </ol>"},{"location":"incourse/ADS/divide/#\u6700\u8fd1\u70b9\u95ee\u9898","title":"\u6700\u8fd1\u70b9\u95ee\u9898","text":"<p>\u4e00\u4e2a\u5e73\u9762\u4e0a\u6709N\u4e2a\u70b9\u3002\u73b0\u60f3\u8981\u627e\u5230\u8ddd\u79bb\u6700\u8fd1\u7684\u4e00\u5bf9\u70b9\u3002</p>"},{"location":"incourse/ADS/divide/#\u6700\u7b80\u5355\u60f3\u6cd5","title":"\u6700\u7b80\u5355\u60f3\u6cd5","text":"<p>\u904d\u5386\u6bcf\u4e00\u4e2a\u7ec4\u5408\uff0c\u5171\\(\\frac{N(N-1)}{2}\\)\u5bf9\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\\(O(N^2)\\)</p>"},{"location":"incourse/ADS/divide/#\u5206\u6cbb\u601d\u60f3","title":"\u5206\u6cbb\u601d\u60f3","text":"<p>\u5212\u5206</p> <p>\u53d6\u4e00\u6761\u7ebf\u5c06\u8fd9\u4e9b\u70b9\u5206\u5272\uff0c\u4e8e\u662f\u6211\u4eec\u9700\u8981\u8ba1\u7b97:</p> <ol> <li> <p>\u53f3\u534a\u90e8\u5206\u7684\u6700\u77ed\u8ddd\u79bb</p> </li> <li> <p>\u5de6\u534a\u90e8\u5206\u7684\u6700\u77ed\u8ddd\u79bb</p> </li> <li> <p>\u4e2d\u95f4\u4ea4\u53c9\u90e8\u5206\u7684\u6700\u77ed\u8ddd\u79bb</p> </li> </ol> <p>\u7136\u540e\u6bd4\u8f83\u8fd9\u4e09\u8005\u7684\u5927\u5c0f\u3002</p> <p></p>"},{"location":"incourse/ADS/divide/#\u590d\u6742\u5ea6\u601d\u8003","title":"\u590d\u6742\u5ea6\u601d\u8003","text":"<p>\u5982\u679c\u8ba1\u7b97\u4ea4\u53c9\u90e8\u5206\u7684\u6700\u77ed\u8ddd\u79bb\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u7ebf\u6027\u7684\u8bdd\uff0c</p> \\[T(N) = 2T\\left(\\frac{N}{2}\\right) + cN\\] \\[= 2 \\left[ 2T\\left(\\frac{N}{2^2}\\right) + \\frac{cN}{2} \\right] + cN\\] \\[= 2^2 T\\left(\\frac{N}{2^2}\\right) + 2cN\\] \\[= \\dots\\] \\[= 2^k T\\left(\\frac{N}{2^k}\\right) + kcN\\] \\[= N + c N\\log N = O(N \\log N)(\\exists k,N \\approx 2^k)\\] <p>\u7136\u800c\uff0c\u5982\u679c\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u5e73\u65b9\u7684\u8bdd\uff1a</p> \\[T(N) = 2T\\left(\\frac{N}{2}\\right) + cN^2 \\\\\\] \\[= 2 \\left[ 2T\\left(\\frac{N}{2^2}\\right) + \\frac{cN^2}{2^2} \\right] + cN^2 \\\\\\] \\[= 2^2 T\\left(\\frac{N}{2^2}\\right) + cN^2 \\left(1 + \\frac{1}{2}\\right) \\\\\\] \\[= \\dots \\\\\\] \\[= 2^k T\\left(\\frac{N}{2^k}\\right) + cN^2 \\left(1 + \\frac{1}{2} + \\dots + \\frac{1}{2^{k-1}} \\right) \\\\\\] \\[= O(N^2)\\] <p>\u56e0\u6b64\uff0c\u6211\u4eec\u73b0\u5728\u9700\u8981\u91cd\u70b9\u5173\u6ce8\u7684\u5c31\u662f\u8ba1\u7b97\u4ea4\u53c9\u90e8\u5206\u8ddd\u79bb\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002</p> <p>\u5047\u8bbe\u5728\u7b2c\u4e00\u4e8c\u6b65\u4e2d\uff0c\u6211\u4eec\u5f97\u5230\u7684\u6700\u77ed\u8ddd\u79bb\u4e3a\\(\\delta\\)\uff0c\u90a3\u4e48\u5728\u8ba1\u7b97\u4e2d\u95f4\u4ea4\u53c9\u5904\u7684\u6700\u5c0f\u503c\u65f6\uff0c\u4e0d\u59a8\u5148\u5728\u6c34\u5e73\u65b9\u5411\u4e0a\u4f5c\u51fa\u7ea6\u675f\u3002\u56e0\u4e3a\u5728\u8fd9\u4e2a\u60c5\u51b5\u4e0b\u5f85\u6c42\u89e3\u7684\u70b9\u5bf9\uff0c\u5fc5\u7136\u662f\u5206\u5c45\u4e24\u4fa7\u7684\u3002\u5018\u82e5\u5b83\u4eec\u7684\u6c34\u5e73\u8ddd\u79bb\u5df2\u7ecf\u5927\u4e8e\\(\\delta\\),\u90a3\u5fc5\u7136\u4e0d\u662f\u6211\u4eec\u9700\u8981\u7684\u6700\u77ed\u8ddd\u79bb\u3002\u56e0\u6b64\u4f5c\u5982\u4e0b\u5212\u5206:</p> <p>\u8003\u8651\u4e86\u6c34\u5e73\u65b9\u5411\u4e0a\u7684\u9650\u5236\uff0c\u4e3a\u4ec0\u4e48\u6211\u4eec\u4e0d\u8003\u8651\u7ad6\u76f4\u65b9\u5411\u4e0a\u7684\u9650\u5236\u5462\uff1f\u52a0\u4e0a\u7ad6\u76f4\u65b9\u5411\u4e0a\u8ddd\u79bb\u7684\u9650\u5236\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\u5bf9\u4e8e\u4efb\u4e00\u70b9\\(p_i\\)\uff0c\u4e0e\u5b83\u8ddd\u79bb\u53ef\u80fd\u5c0f\u4e8e\\(\\delta\\)\u7684\u70b9\u53ea\u4f1a\u51fa\u73b0\u5728\u4e00\u4e2a\\(\\delta \\times 2\\delta\\)\u7684 \u77e9\u5f62\u4e2d\u3002\u66f4\u8fdb\u4e00\u6b65\uff0c\u77e9\u5f62\u7684\u5de6\u4fa7\u4e0e\u53f3\u4fa7\u7684\u70b9\u8fd8\u5fc5\u987b\u6ee1\u8db3\u8ddd\u79bb\u5927\u4e8e\u7b49\u4e8e\\(\\delta\\)\u7684\u9650\u5236(\u56e0\u4e3a\u5728\u540c\u4e00\u8fb9\u7684\u70b9\u76f8\u4e92\u4e4b\u95f4\u6700\u77ed\u7684\u8ddd\u79bb\u4e3a\\(\\delta\\))\u3002\u5728\u8fd9\u6837\u7684\u77e9\u5f62\u4e2d\uff0c\u6700\u591a\u67098\u4e2a\u8fd9\u6837\u7684\u70b9(\u8003\u8651\u91cd\u53e0):</p> <p>\u8fd9\u5c31\u610f\u5473\u7740\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5f85\u67e5\u8be2\u70b9\u7684\u70b9\uff0c\u6211\u4eec\u67e5\u8be2\u7684\u6b21\u6570\u662f\u5e38\u6570\u7ea7\u7684\uff0c\u800c\u6240\u6709\u7684\u5e26\u67e5\u8be2\u70b9\u6700\u591a\u4e5f\u4e0d\u8fc7\u662f\\(O(N)\\)\u91cf\u7ea7\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u8bba\u8bc1\u4e86\u4e2d\u95f4\u90e8\u5206\u7684\u8ba1\u7b97\u662f\u7ebf\u6027\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u56e0\u6b64\u6839\u636e\u4e0a\u9762\u7684\u63a8\u5bfc\uff0c\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\\(O(N\\log(N))\\)</p>"},{"location":"incourse/ADS/divide/#\u9012\u5f52\u590d\u6742\u5ea6\u5206\u6790","title":"\u9012\u5f52\u590d\u6742\u5ea6\u5206\u6790","text":"<p>\u5bf9\u4e8e\u5206\u6790\u5982\u4e0b\u5f62\u5f0f\u7684\u5f0f\u5b50\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u65f6</p> \\[T(N) = aT(\\frac{N}{b}) + f(N)\\] <p>\u6211\u4eec\u6709\u4e09\u79cd\u65b9\u6cd5\u3002</p> <p>\u6709\u4ee5\u4e0b\u4e24\u70b9\u8981\u6ce8\u610f</p> <ol> <li>\u5ffd\u7565\\(\\frac{N}{b}\\) \u662f\u5426\u4e3a\u6574\u6570</li> <li>\u8ba4\u4e3a\u5bf9\u4e8e\u5f88\u5c0f\u7684N\u6765\u8bf4\uff0c\\(T(N)= \\Theta(1)\\)</li> </ol>"},{"location":"incourse/ADS/divide/#substitution-method\u66ff\u4ee3\u6cd5","title":"Substitution method(\u66ff\u4ee3\u6cd5)","text":"<p>\u66ff\u4ee3\u6cd5\u7684\u601d\u8def\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u5148\u901a\u8fc7\u76f4\u89c9\u6216\u8005\u5176\u4ed6\u4ec0\u4e48\u65b9\u6cd5\u770b\u51fa\u53ef\u80fd\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u591a\u5c11\uff0c\u518d\u901a\u8fc7\u5f52\u7eb3\u6cd5\u7684\u624b\u6bb5\u8bc1\u660e\u3002</p> <p>\u4f8b\u5b50</p> <p>\u4ee5\u4e0b\u9762\u8fd9\u4e2a\u9012\u63a8\u5f0f\u4e3a\u4f8b\uff1a$$ T(N) = 2T(\\lfloor N/2 \\rfloor) + N $$</p> \u6b63\u786e\u505a\u6cd5\u9519\u8bef\u505a\u6cd5 \\[ T(N) = 2T(\\lfloor N/2 \\rfloor) + N \\] <p>\u6211\u4eec\u731c\u6d4b $$ T(N) = O(N \\log N) $$</p> <p>\u8bc1\u660e: \u5047\u8bbe\u5bf9 $\\forall m,m &lt; N $\u6210\u7acb, \u7279\u522b\u662f $ m = \\lfloor N/2 \\rfloor $.</p> <p>\u56e0\u6b64\u5b58\u5728\u5e38\u6570 $ c &gt; 0 $ \u4f7f\u5f97 $$ T(\\lfloor N/2 \\rfloor) \\leq c \\lfloor N/2 \\rfloor \\log \\lfloor N/2 \\rfloor $$.</p> <p>\u4ee3\u5165\u5f97\uff1a</p> \\[ T(N) = 2T(\\lfloor N/2 \\rfloor) + N \\] \\[ \\leq 2c \\lfloor N/2 \\rfloor \\log \\lfloor N/2 \\rfloor + N \\] \\[ \\leq cN(\\log N - \\log 2) +N \\] <p>\u56e0\u6b64\u53ea\u8981c\u591f\u5927\uff0c\u6211\u4eec\u5c31\u6709\u4e0a\u5f0f$ \\leq cN\\log N$,i.e. \\(T(N) = O(N \\ log N)\\)</p> <p>\u6211\u4eec\u731c\u6d4b $$ T(N) = O(N ) $$</p> <p>\u8bc1\u660e: \u5047\u8bbe\u5bf9 $\\forall m,m &lt; N $\u6210\u7acb, \u7279\u522b\u662f $ m = \\lfloor N/2 \\rfloor $.</p> <p>\u56e0\u6b64\u5b58\u5728\u5e38\u6570 $ c &gt; 0 $ \u4f7f\u5f97 $$ T(\\lfloor N/2 \\rfloor) \\leq c \\lfloor N/2 \\rfloor$$.</p> <p>\u4ee3\u5165\u5f97\uff1a</p> \\[ T(N) = 2T(\\lfloor N/2 \\rfloor) + N \\] \\[ \\leq 2c \\lfloor N/2 \\rfloor + N \\] \\[ \\leq cN +N = O(N) \\] \u9519\u5728\u54ea\u91cc <p>\u5047\u5982\u5728 \\(T(N) = 2T(\\lfloor N/2 \\rfloor) + N\\)\u5904\u4e0d\u76f4\u63a5\u653e\u7f29\uff0c\u800c\u662f\u518d\u5f80\u4e0b\u5199\u4e00\u6b65\uff0c\u5f97\u5230</p> \\[T(N)=2(2T(\\frac{N}{4})+\\frac{N}{2})+N\\] \\[=4T(\\frac{N}{4})+2N\\] \\[\\leq cN + 2N\\] <p>\u8fd9\u8bf4\u660e\u4e86\u4ec0\u4e48\uff1f\u5018\u82e5\u6211\u4eec\u4e00\u76f4\u5199\u4e0b\u53bb\uff0c\u5c31\u4f1a\u5f97\u5230\\(T(N) = cN + N \\log N\\),\u4e0e\u731c\u6d4b\u662f\u77db\u76fe\u7684\u3002</p>"},{"location":"incourse/ADS/divide/#recursion-tree-method\u9012\u5f52\u6811\u6cd5","title":"Recursion-tree method(\u9012\u5f52\u6811\u6cd5)","text":"<p>\u9012\u5f52\u6811\u6cd5\u7684\u601d\u8def\u5728\u4e8e\u5c06\u5206\u5272\u4e3a\u5b50\u95ee\u9898\u7684\u8fc7\u7a0b\u753b\u6210\u4e00\u9897\u6811\u7684\u60c5\u51b5\uff0c\u66f4\u52a0\u5f62\u8c61\u5730\u5206\u6790\u65f6\u95f4\u590d\u6742\u5ea6\u3002</p> <p>\u6570\u5b66\u6280\u5de7</p> <p>\u5728\u4f7f\u7528\u9012\u5f52\u6811\u6cd5\u4e4b\u524d\uff0c\u6211\u4eec\u5fc5\u987b\u8981\u77e5\u9053\u4e00\u4e2a\u6570\u5b66\u7b49\u5f0f\uff1a</p> \\[a^{\\log_b^n} = n^{\\log_b^a}\\] \u8bc1\u660e \\[a^{\\log_b^N} = \\exp^{\\log_b^N \\ln a}\\] \\[= \\exp ^{\\frac{\\ln(a) \\ln(N)}{\\ln(b)}}\\] \\[= \\exp^{\\ln(N) \\frac{\\ln a}{\\ln b}}\\] \\[= N^{\\log_b^a}\\] <p>\u81f3\u4e8e\u5982\u4f55\u4f7f\u7528\uff0c\u4ee5PPT\u4e0a\u7684\u4e00\u4e2a\u4f8b\u5b50\u6765\u8bf4\u660e</p> <p>Example</p> <p></p> <p>\u89e3\u91ca\uff1a</p> <ul> <li> <p>\u6211\u4eec\u8ba4\u4e3a\\(T(1) = \\Theta(1)\\)</p> </li> <li> <p>\u6709\\(3^{\\log_4^N}\\)\u4e2a\\(T(1)\\)</p> </li> </ul>"},{"location":"incourse/ADS/divide/#master-method\u4e3b\u65b9\u6cd5","title":"Master method(\u4e3b\u65b9\u6cd5)","text":"<p>\u6211\u613f\u79f0\u4e4b\u4e3a\u80cc\u516c\u5f0f\u5927\u6cd5\u3002</p> <p>Definition</p> <p>\u8bbe \\(a \\geq 1\\) \u4e14 \\(b &gt; 1\\) \u4e3a\u5e38\u6570\uff0c\u8bbe \\(f(N)\\) \u4e3a\u4e00\u4e2a\u51fd\u6570\uff0c\u5e76\u4e14 \\(T(N)\\) \u5728\u975e\u8d1f\u6574\u6570\u4e0a\u7531\u9012\u63a8\u5173\u7cfb \\(T(N) = aT(N/b) + f(N)\\) \u5b9a\u4e49\u3002\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u6839\u636e\\(f(N)\\)\u7684\u60c5\u51b5\u76f4\u63a5\u5f97\u51fa\\(T(N)\\)\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002</p>"},{"location":"incourse/ADS/divide/#\u5f62\u5f0f\u4e00","title":"\u5f62\u5f0f\u4e00","text":"<p>Info</p> <ol> <li>\u82e5 \\(f(N)=O(N^{(\\log_b{a})-\\varepsilon}), \\text{ \u5bf9\u4e8e\u67d0\u4e9b }\\varepsilon&gt;0\\)\uff0c\u90a3\u4e48 \\(T(N)=\\Theta(N^{\\log_b{a}})\\)\uff1b</li> <li>\u82e5 \\(f(N)=\\Theta(N^{\\log_b{a}})\\)\uff0c\u90a3\u4e48 \\(T(N)=\\Theta(N^{\\log_b{a}}\\log{N})\\)\uff1b</li> <li>\u82e5 \\(f(N)=\\Omega(N^{(\\log_b{a})+\\varepsilon}), \\text{ \u5bf9\u4e8e\u67d0\u4e9b }\\varepsilon&gt;0\\) \u4e14 \\(af(\\frac{N}{b})&lt;cf(N), \\text{ \u5bf9\u4e8e } c&lt;1 \\text{ \u4e0e } \\forall N &gt; N_0\\)\uff0c\u90a3\u4e48 \\(T(N)=\\Theta(f(N))\\)\uff1b</li> </ol>"},{"location":"incourse/ADS/divide/#\u8bc1\u660e","title":"\u8bc1\u660e","text":"<p>\u9996\u5148\uff0c\u4f7f\u7528\u9012\u5f52\u6811\u8bc1\u660e\uff0c\u5f97\u5230\u5982\u4e0b\u56fe\uff1a</p> <p>\u6240\u4ee5\u6211\u4eec\u5f97\u5230 </p> \\[T(N)=\\Theta(n^{\\log_b^a})+\\sum_{j=0}^{\\log_b^n -1} a^jf(\\frac{n}{b^j})\\] <p>\u4e0b\u9762\u5bf9\u4e09\u79cd\u60c5\u51b5\u5c55\u5f00\u8bc1\u660e</p> <p>\u8bc1\u660e</p> \u60c5\u51b5\u4e00\u60c5\u51b5\u4e8c\u60c5\u51b5\u4e09 <p>\u6211\u4eec\u76f4\u63a5\u8003\u8651\\(\\sum_{j=0}^{\\log_b^n -1} a^jf(\\frac{n}{b^j})\\) \u7531\u4e8e\\(f(N)=O(N^{(\\log_b{a})-\\varepsilon})\\)\uff0c\u4e8e\u662f</p> \\[ \\begin{aligned} \\sum_{j=0}^{\\log _{b} N-1} a^{j} f\\left(N / b^{j}\\right) &amp; =O\\left(\\sum_{j=0}^{\\log _{b} N-1} a^{j}\\left(\\frac{N}{b^{j}}\\right)^{\\log _{b} a-\\varepsilon}\\right)\\\\ &amp; =O\\left(N^{\\log _{b} a-\\varepsilon} \\sum_{j=0}^{\\log _{b} N-1}\\left(\\frac{a b^{\\varepsilon}}{b^{\\log _{b} a}}\\right)^{j}\\right) \\\\ &amp; =O\\left(N^{\\log _{b} a-\\varepsilon} \\sum_{j=0}^{\\log _{b} N-1}\\left(b^{\\varepsilon}\\right)^{j}\\right)\\\\ &amp; =O\\left(N^{\\log _{b} a-\\varepsilon} \\frac{b^{\\varepsilon \\log _{b} N}-1}{b^{\\varepsilon}-1}\\right) \\\\ &amp; =O\\left(N^{\\log _{b} a-\\varepsilon} N^{\\varepsilon}\\right)\\\\ &amp; =O\\left(N^{\\log _{b} a}\\right) \\\\ T(N) &amp; =\\Theta\\left(N^{\\log _{b} a}\\right)+O\\left(N^{\\log _{b} a}\\right)=\\Theta\\left(N^{\\log _{b} a}\\right) \\end{aligned} \\] <p>\u5df2\u77e5\\(f(N)=\\Theta(N^{\\log_b{a}})\\)\u3002 \u5219</p> \\[\\begin{aligned} T(N) &amp;= \\Theta(N^{\\log_b{a}}) + \\sum_{j=0}^{(\\log_b{N})-1}a^j\\Theta\\left(\\left(\\frac{N}{b^j}\\right)^{\\log_b{a}}\\right) \\\\ &amp;= \\Theta(N^{\\log_b{a}}) + \\Theta\\left(     N^{\\log_b{a}} \\times     \\sum_{j=0}^{(\\log_b{N})-1}\\left(\\frac{a}{b^{\\log_b{a}}}\\right)^j \\right) \\\\ &amp;= \\Theta(N^{\\log_b{a}}) + \\Theta\\left(     N^{\\log_b{a}} \\times     \\log_b{N} \\right) \\\\ &amp;= \\Theta(N^{\\log_b{a}}\\log{N}) \\end{aligned}\\] <p>\\(f(N)=\\Omega(N^{(\\log_b{a})+\\varepsilon}), \\text{ \u5bf9\u4e8e\u67d0\u4e9b }\\varepsilon&gt;0\\) \u4e14 \\(af(\\frac{N}{b})&lt;cf(N), \\text{ \u5bf9\u4e8e } c&lt;1 \\text{ \u4e0e } \\forall N &gt; N_0\\)</p> \u5f15\u7406 \\[ a^jf(\\frac{N}{b^j}) &lt; c\\times a^{j-1}f(\\frac{N}{b^{j-1}}) &lt; ... &lt; c^j f(N) \\] <p>\u5e94\u7528\u5f15\u7406\uff0c\u6211\u4eec\u6709\uff1a</p> \\[ \\begin{aligned}     T(N)      &amp;&lt; \\Theta(N^{\\log_b{a}}) + \\sum_{j=0}^{(\\log_b{N})-1}c^j f(N) \\\\     &amp;= \\Theta(N^{\\log_b{a}}) + f(N) \\sum_{j=0}^{(\\log_b{N})-1}c^j \\\\     &amp;= \\Theta(N^{\\log_b{a}}) + f(N) \\times \\frac{1-c^{\\log_b{N}}}{1-c} \\\\     &amp;= \\Theta(N^{\\log_b{a}}) + f(N) \\times \\frac{1-N^{\\log_b{c}}}{1-c} \\end{aligned}         \\] <p>\u800c\u7531\u4e8e \\(c&lt;1\\)\uff0c\u6240\u4ee5 \\(\\log_b{c} &lt; 0\\)\uff1b\u800c \\(N &gt; 0,\\text{\u800c\u4e14\u901a\u5e38\u4e5f\u5927\u4e8e}1\\)\uff0c\u6240\u4ee5 \\(N^{\\log_b{c}} \\in (0,1)\\)\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e\u786e\u5b9a\u7684 \\(c\\)\uff0c\u6211\u4eec\u6709 \\(\\frac{1-N^{\\log_b{c}}}{1-c} \\in \\left(0, \\frac{1}{1-c}\\right)\\)\uff1b</p> <p>\u56e0\u6b64\uff0c\u4e0a\u5f0f\u4fbf\u80fd\u6539\u53d8\u4e3a\uff1a</p> \\[ \\begin{aligned}     T(N)      &amp;&lt; \\Theta(N^{\\log_b{a}}) + f(N) \\times \\frac{1-N^{\\log_b{c}}}{1-c} \\\\     &amp;&lt; \\Theta(N^{\\log_b{a}}) + f(N) \\times \\frac{1}{1-c} \\end{aligned} \\] <p>\u56de\u60f3\\(f(N)=\\Omega(N^{(\\log_b{a})+\\varepsilon})\\),\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\\(T(N) = O(f(N))\\)</p> <p>\u53e6\u5916\u6709</p> \\[ \\begin{aligned} T(N) &amp;= \\Theta(N^{\\log_b{a}}) + \\sum_{j = 0}^{(\\log_b{N})-1} a^j f(\\frac{N}{b^j}) &amp;\\geq \\sum_{j = 0}^{(\\log_b{N})-1} a^j f(\\frac{N}{b^j}) &amp;\\geq f(N) \\end{aligned} \\] <p>\u7531\u6b64\u5f97\u5230 \\(T(N) = \\Omega(f(N))\\)\uff0c\u6700\u7ec8\u8bc1\u5f97 \\(T(N) = \\Theta(f(N))\\)</p>"},{"location":"incourse/ADS/divide/#\u5f62\u5f0f\u4e8c","title":"\u5f62\u5f0f\u4e8c","text":"<p>Info</p> <ol> <li>\u82e5 \\(af(\\frac{N}{b}) = \\kappa f(N) \\text{ \u5bf9\u4e8e\u786e\u5b9a\u7684 } \\kappa &lt; 1\\)\uff0c\u90a3\u4e48 \\(T(N) = \\Theta(f(N))\\)</li> <li>\u82e5 \\(af(\\frac{N}{b}) = K f(N) \\text{ \u5bf9\u4e8e\u786e\u5b9a\u7684 } K &gt; 1\\)\uff0c\u90a3\u4e48 \\(T(N) = \\Theta(N^{\\log_b{a}})\\)</li> <li>\u82e5 \\(af(\\frac{N}{b}) = f(N)\\)\uff0c\u90a3\u4e48 \\(T(N) = \\Theta(f(N) \\log_b N)\\)</li> </ol>"},{"location":"incourse/ADS/divide/#\u5f62\u5f0f\u4e09","title":"\u5f62\u5f0f\u4e09","text":"<p>Info</p> <p>\u7279\u522b\u7684\uff0c\u82e5\\(T(N)\\)\u6ee1\u8db3</p> \\[ \\begin{aligned} &amp; T(N) = a T(\\frac{n}{b}) + \\Theta(N^k \\log^p{N}) &amp;  a \\geq 1,\\; b &gt; 1,\\; p \\geq 0 \\end{aligned} \\] <p>\u5176\u590d\u6742\u5ea6\u7684\u7ed3\u8bba\u4e3a\uff1a</p> \\[ T(N) = \\left\\{ \\begin{aligned}     &amp; O(N^{\\log_b{a}}) &amp; \\text{\u82e5 } a &gt; b^{k} \\\\     &amp; O(N^k \\log^{p+1}{N}) &amp; \\text{\u82e5 } a = b^{k} \\\\     &amp; O(N^k \\log^{p}{N}) &amp; \\text{\u82e5 } a &lt; b^{k} \\end{aligned} \\right. \\]"},{"location":"incourse/ADS/divide/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>\u4f8b\u9898</p> T1T2T3T4 <p></p> \u89e3\u6790 <p>a=8,b=3,\\(f(N) = O(N^2 \\log N)\\),\\(a \\lt b^k\\)\uff0c\u6240\u4ee5\u53ef\u4ee5\u5f97\u51fa\u9009A\u3002</p> <p> \u8003\u8651\u4e3b\u65b9\u6cd5</p> \u89e3\u6790 <p>A\uff0c\\(T(N)=2T(N/3)+O(N)\\)\uff0c\u5219 \\(N^{\\log_ba}=N^{\\log_32}&lt;N\\)\uff0c\\(T=O(N)\\)</p> <p>B\uff0c\\(T(N)=2T(N/3)+O(N\\log N)\\)\uff0c\u5219 \\(N^{\\log_ba}=N^{\\log_32}&lt;N&lt;N\\log N\\)\uff0c\\(T=O(N\\log N)\\)</p> <p>C\uff0c\\(T(N)=3T(N/2)+O(N)\\)\uff0c\u5219 \\(N^{\\log_ba}=N^{\\log_23}&gt;N\\)\uff0c\\(T=O(N^{\\log_23})\\)</p> <p>D\uff0c\\(T(N)=3T(N/3)+O(N\\log N)\\)\uff0c\u5219 \\(N^{\\log_ba}=N\\)\uff0c\\(T=O(N\\log^2 N)\\)</p> <p>\u6545\u9009C\u3002</p> <p></p> \u89e3\u6790 <p>\\(a=3,b=3,f(N)=N\\),\u7531\u4e3b\u51fd\u6570\u5f62\u5f0f\u4e00\u53ef\u77e5\uff0c\\(T(N)=\\Theta(N^{\\log_b^a}\\log N)=\\Theta(N\\log N)\\)</p> <p></p> \u89e3\u6790 \\[T(n)=2^k T(n^{\\frac{1}{2^k}})+k \\log n\\] <p>\u4e0d\u59a8\u8003\u8651\\(n^{\\frac{1}{2^k}}\\)\u662f\u67d0\u4e00\u5e38\u6570\uff0c\u5219\\(k = \\log \\log n\\)</p> <p>\u5219\\(T(n) = O(\\log n + \\log \\log n \\log n)=O(\\log \\log n \\log n)\\)</p>"},{"location":"incourse/ADS/dp/","title":"\u52a8\u6001\u89c4\u5212","text":""},{"location":"incourse/ADS/dp/#\u52a8\u6001\u89c4\u5212","title":"\u52a8\u6001\u89c4\u5212","text":"<p> \u7ea6 938 \u4e2a\u5b57  23 \u884c\u4ee3\u7801  4 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p>"},{"location":"incourse/ADS/dp/#\u5b9a\u4e49","title":"\u5b9a\u4e49","text":"<p>\u52a8\u6001\u89c4\u5212\uff08Dynamic Programming\uff0c\u7b80\u79f0DP\uff09\u662f\u4e00\u79cd\u901a\u8fc7\u628a\u539f\u95ee\u9898\u5206\u89e3\u4e3a\u76f8\u5bf9\u7b80\u5355\u7684\u5b50\u95ee\u9898\u7684\u65b9\u5f0f\u6c42\u89e3\u590d\u6742\u95ee\u9898\u7684\u65b9\u6cd5\u3002\u5b83\u7684\u6838\u5fc3\u601d\u60f3\u662f\uff1a\u5982\u679c\u4e00\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u66f4\u5c0f\u89c4\u6a21\u7684\u5b50\u95ee\u9898\u6c42\u89e3\uff0c\u4e14\u5b50\u95ee\u9898\u4f1a\u91cd\u590d\u51fa\u73b0\uff0c\u90a3\u4e48\u53ef\u4ee5\u901a\u8fc7\u5b58\u50a8\u5b50\u95ee\u9898\u7684\u89e3\u6765\u907f\u514d\u91cd\u590d\u8ba1\u7b97\u3002</p>"},{"location":"incourse/ADS/dp/#\u4e00\u822c\u505a\u6cd5","title":"\u4e00\u822c\u505a\u6cd5","text":"<ol> <li> <p>\u786e\u5b9a\u72b6\u6001\u548c\u72b6\u6001\u53d8\u91cf</p> <ul> <li>\u601d\u8003\u95ee\u9898\u7684\u6700\u540e\u4e00\u6b65</li> <li>\u5b9a\u4e49\u5b50\u95ee\u9898</li> </ul> </li> <li> <p>\u786e\u5b9a\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b</p> <ul> <li>\u627e\u51fa\u72b6\u6001\u4e4b\u95f4\u7684\u5173\u7cfb</li> <li>\u5199\u51fa\u9012\u63a8\u5f0f</li> </ul> </li> <li> <p>\u786e\u5b9a\u521d\u59cb\u6761\u4ef6\u548c\u8fb9\u754c\u6761\u4ef6</p> <ul> <li>\u8bbe\u5b9a\u521d\u59cb\u72b6\u6001\u7684\u503c</li> <li>\u8003\u8651\u7279\u6b8a\u60c5\u51b5</li> </ul> </li> <li> <p>\u786e\u5b9a\u8ba1\u7b97\u987a\u5e8f</p> <ul> <li>\u4e00\u822c\u4ece\u5c0f\u5230\u5927</li> <li>\u786e\u4fdd\u8ba1\u7b97\u67d0\u72b6\u6001\u65f6\u6240\u4f9d\u8d56\u7684\u72b6\u6001\u5df2\u7ecf\u6c42\u51fa</li> </ul> </li> <li> <p>\u7a7a\u95f4\u4f18\u5316\uff08\u53ef\u9009\uff09</p> <ul> <li>\u89c2\u5bdf\u72b6\u6001\u8f6c\u79fb\u662f\u5426\u53ef\u4ee5\u4f18\u5316</li> <li>\u8003\u8651\u4f7f\u7528\u6eda\u52a8\u6570\u7ec4\u7b49\u6280\u5de7</li> </ul> </li> </ol> <p>\u5728\u8fd9\u91cc\u6709\u4e00\u4e9b\u9898\u3002</p>"},{"location":"incourse/ADS/dp/#\u77e9\u9635\u4e58\u6cd5\u7684\u987a\u5e8f","title":"\u77e9\u9635\u4e58\u6cd5\u7684\u987a\u5e8f","text":"<p>Info</p> <p>\u5bf9\u4e8e\u4e24\u4e2a\u77e9\u9635\u76f8\u4e58\uff0c\\(M_{n \\times p} \\times M_{p \\times r}\\),\u65f6\u95f4\u82b1\u8d39\u4e3a\\(n \\times p \\times r\\)</p> <p>\u8bc1\u660e\u662f\u663e\u7136\u7684\u3002\u76ee\u6807\u77e9\u9635\u6709\\(n \\times r\\)\u4e2a\u5143\u7d20\uff0c\u6bcf\u4e2a\u5143\u7d20\u662f\u7531p\u5bf9\u5143\u7d20\u76f8\u4e58\u5f97\u5230\u3002</p> <p>\u5047\u8bbe\u6211\u4eec\u8981\u76f8\u4e584\u4e2a\u77e9\u9635\uff1a</p> <p>\\( M_1 \\, [10 \\times 20] \\times M_2 \\, [20 \\times 50] \\times M_3 \\, [50 \\times 1] \\times M_4 \\, [1 \\times 100] \\)</p> <p>\u5982\u679c\u6309\u7167\u4ee5\u4e0b\u987a\u5e8f\u76f8\u4e58\uff1a</p> \\[ M_1 \\, [10 \\times 20] \\times (M_2 \\, [20 \\times 50] \\times (M_3 \\, [50 \\times 1] \\times M_4 \\, [1 \\times 100])) \\] <p>\u5219\u8ba1\u7b97\u65f6\u95f4\u4e3a\uff1a</p> \\[ 50 \\times 1 \\times 100 + 20 \\times 50 \\times 100 + 10 \\times 20 \\times 100 = 125,000 \\] <p>\u5982\u679c\u6309\u7167\u4ee5\u4e0b\u987a\u5e8f\u76f8\u4e58\uff1a</p> \\[ ((M_1 \\, [10 \\times 20] \\times (M_2 \\, [20 \\times 50] \\times M_3 \\, [50 \\times 1])) \\times M_4 \\, [1 \\times 100]) \\] <p>\u5219\u8ba1\u7b97\u65f6\u95f4\u4e3a\uff1a</p> \\[ 20 \\times 50 \\times 1 + 10 \\times 20 \\times 1 + 10 \\times 1 \\times 100 = 2,200 \\] <p>\u95ee\u9898\uff1a\u6309\u7167\u54ea\u79cd\u987a\u5e8f\u8ba1\u7b97 \\( n \\) \u4e2a\u77e9\u9635\u7684\u4e58\u79ef\u80fd\u591f\u4f7f\u8ba1\u7b97\u65f6\u95f4\u6700\u5c0f\uff1f</p>"},{"location":"incourse/ADS/dp/#\u601d\u8def","title":"\u601d\u8def","text":"<p>\u4ee4 \\( b_n \\) \u8868\u793a\u8ba1\u7b97 \\( M_1 \\cdot M_2 \\cdots M_n \\) \u7684\u4e0d\u540c\u65b9\u6cd5\u7684\u6570\u91cf\u3002\u5219\u6211\u4eec\u6709\uff1a \\( b_2 = 1, b_3 = 2, b_4 = 5, \\cdots \\)</p> <p>\u4ee4 \\( M_{ij} = M_i \\cdots M_j \\)\u3002\u90a3\u4e48 \\( M_{1n} = M_1 \\cdots M_n = M_{1i} \\cdot M_{i+1 \\, n} \\)</p> <p>\u56e0\u6b64\uff0c $$ b_n = \\sum_{i=1}^{n-1} b_i b_{n-i} \\quad \\text{\u5f53} \\, n &gt; 1 \\, \\text{\u4e14} \\, b_1 = 1 $$</p> \\[ b_n = O\\left( \\frac{4^n}{n^{3/2}} \\right) \\quad \\text{** Catalan \u6570 **} \\] <p>\u5047\u8bbe\u6211\u4eec\u8981\u76f8\u4e58 \\( n \\) \u4e2a\u77e9\u9635 \\( M_1 * \\cdots * M_n \\)\uff0c\u5176\u4e2d \\( M_i \\) \u662f\u4e00\u4e2a \\( r_{i-1} \\times r_i \\) \u7684\u77e9\u9635\u3002\u4ee4 \\( m_{ij} \\) \u8868\u793a\u8ba1\u7b97 \\( M_i * \\cdots * M_j \\) \u7684\u6700\u4f18\u65b9\u5f0f\u7684\u4ee3\u4ef7\u3002</p> <p>\u5219\u6211\u4eec\u6709\u4ee5\u4e0b\u9012\u63a8\u5173\u7cfb\uff1a</p> \\[ m_{ij} =  \\begin{cases}  0 &amp; \\text{\u5982\u679c} \\, i = j \\\\ \\min\\{ m_{il} + m_{l+1 \\, j} + r_{i-1} r_l r_j \\} &amp; \\text{\u5982\u679c} \\, j &gt; i \\, \\text{\u4e14} \\, i \\leq l &lt; j  \\end{cases} \\] <p>Info</p> <p>\u8fd9\u91cc\u6700\u540e\u8981\u52a0\u4e0a\\(r_{i-1} r_l r_j\\)\u662f\u56e0\u4e3a\u5728\u8ba1\u7b97\u5b8c\\(m_{il} + m_{l+1 \\, j}\\)\u540e\uff0c\u6211\u4eec\u5269\u4e0b\u8981\u505a\u7684\u662f\\(M_{r-1 \\times l} \\times M_{l \\times j}\\),\u7531\u4e0a\u9762\u7684\u5f15\u7406\u53ef\u77e5\u3002</p> <pre><code>#include &lt;limits.h&gt;\n\n#define Infinity LONG_MAX\ntypedef long TwoDimArray[][/* size */];\n\nvoid OptMatrix(const long r[], int N, TwoDimArray M) \n{\n    int i, j, k, L;\n    long ThisM;\n    for(i = 1; i &lt;= N; i++)\n        M[i][i] = 0;\n    for(k = 1; k &lt; N; k++) /* k = j - i */\n        for(i = 1; i &lt;= N - k; i++) { /* For each position */\n            j = i + k;\n            M[i][j] = Infinity;//M[i][j]\u4ee3\u8868\u4e86\u4eceM_i\u4e58\u5230M_j\u7684\u6700\u5c0f\u5f00\u9500\n            for(L = i; L &lt; j; L++) {\n                ThisM = M[i][L] + M[L+1][j] + r[i-1] * r[L] * r[j];\n                if(ThisM &lt; M[i][j]) /* Update min */\n                    M[i][j] = ThisM;\n            } /* end for-L */\n        } /* end for-k */\n}\n</code></pre>"},{"location":"incourse/ADS/dp/#\u6700\u4f73\u4e8c\u53c9\u641c\u7d22\u6811","title":"\u6700\u4f73\u4e8c\u53c9\u641c\u7d22\u6811","text":"<p>\u76ee\u6807\uff1a \u6700\u4f73\u4e8c\u53c9\u641c\u7d22\u6811\u9002\u7528\u4e8e\u9ad8\u6548\u7684\u9759\u6001\u67e5\u627e\uff08\u5373\u4e0d\u6d89\u53ca\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\uff09\u3002\u7ed9\u5b9a\u4e00\u4e2a\u6309\u7167\u987a\u5e8f\u6392\u5217\u7684\u5355\u8bcd\u5217\u8868 \\( w_1 &lt; w_2 &lt; \\dots &lt; w_N \\)\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5355\u8bcd \\( w_i \\) \u7684\u67e5\u627e\u6982\u7387\u4e3a \\( p_i \\)\u3002\u6211\u4eec\u7684\u76ee\u6807\u662f\u5c06\u8fd9\u4e9b\u5355\u8bcd\u6392\u5217\u6210\u4e00\u68f5\u4e8c\u53c9\u641c\u7d22\u6811\uff0c\u4ee5\u4f7f\u671f\u671b\u7684\u603b\u8bbf\u95ee\u65f6\u95f4\u6700\u5c0f\u5316\u3002</p> <p>\u4f18\u5316\u76ee\u6807\uff1a \u6700\u5c0f\u5316\u671f\u671b\u7684\u603b\u8bbf\u95ee\u65f6\u95f4 \\( T(N) \\)\uff0c\u5b9a\u4e49\u5982\u4e0b\uff1a</p> \\[ T(N) = \\sum_{i=1}^{N} p_i \\cdot (1 + d_i) \\] <p>\u5176\u4e2d\uff0c\\( d_i \\) \u8868\u793a\u5355\u8bcd \\( w_i \\) \u5728\u4e8c\u53c9\u641c\u7d22\u6811\u4e2d\u7684\u6df1\u5ea6\u3002</p>"},{"location":"incourse/ADS/dp/#\u793a\u4f8b","title":"\u793a\u4f8b","text":"<p>\u7ed9\u5b9a\u4e0b\u8868\u4e2d\u7684\u5355\u8bcd\u53ca\u5176\u67e5\u627e\u6982\u7387\uff1a</p> \u5355\u8bcd break case char do return switch void \u6982\u7387 0.22 0.18 0.20 0.05 0.25 0.02 0.08 <p>\u95ee\u9898\u662f\u5c06\u8fd9\u4e9b\u5355\u8bcd\u4ee5\u6700\u4f73\u65b9\u5f0f\u6784\u5efa\u6210\u4e00\u68f5\u4e8c\u53c9\u641c\u7d22\u6811\uff0c\u4f7f\u5f97\u6839\u636e\u7ed9\u5b9a\u7684\u6982\u7387\uff0c\u671f\u671b\u7684\u603b\u8bbf\u95ee\u65f6\u95f4\u6700\u5c0f\u3002</p>"},{"location":"incourse/ADS/dp/#\u601d\u8def_1","title":"\u601d\u8def","text":""},{"location":"incourse/ADS/dp/#\u5b9a\u4e49_1","title":"\u5b9a\u4e49","text":"<ul> <li> <p>\\( T_{i j} ::= \\) OBST for \\( w_{i},\\ldots\\ldots, w_{j} \\) (i &lt; j)</p> </li> <li> <p>\\( c_{i j} ::= \\) cost of \\( T_{i j} \\) \\((c_{i i} = 0 \\text{ if } j &lt; i)\\)</p> </li> <li> <p>\\( r_{i j} ::= \\) root of \\( T_{i j} \\)</p> </li> <li> <p>\\( w_{i j} ::= \\) weight of \\( T_{i j} = \\sum_{k=i}^{j} p_{k} \\) \\((w_{i i} = p_{i})\\)</p> </li> </ul>"},{"location":"incourse/ADS/dp/#\u6743\u91cd\u548c\u6210\u672c\u8ba1\u7b97","title":"\u6743\u91cd\u548c\u6210\u672c\u8ba1\u7b97","text":"\\[ \\begin{align*} c_{i j} &amp;= p_{k} + \\text{cost}(L) + \\text{cost}(R) + \\text{weight}(L) + \\text{weight}(R) \\\\         &amp;= p_k + c_{i, k-1} + c_{k+1, j} + w_{i, k-1} + w_{k+1, j} \\\\         &amp;= w_{i j} + c_{i, k-1} + c_{k+1, j} \\end{align*} \\] \u4e3a\u4ec0\u4e48\u8fd9\u91cc\u8981\u52a0\u4e0aweight(L)\u548cweight(R) <p>\u56e0\u4e3a\u5728\u8ba1\u7b97cost(L)\u4e0ecost(R)\u7684\u65f6\u5019\uff0c\u5b50\u6811\u7684\u9ad8\u5ea6\u662f\u51cf\u5c111\u7684\u3002</p> <p>\u56de\u60f3\u8ba1\u7b97\u516c\u5f0f:</p> \\[ T(N) = \\sum_{i=1}^{N} p_i \\cdot (1 + d_i) \\] <p>\u6211\u4eec\u9700\u8981\u628a\u51cf\u5c11\u7684\u52a0\u56de\u6765\uff0c\u56e0\u6b64\u8981\u52a0\u4e0aweight(L)\u548cweight(R)</p>"},{"location":"incourse/ADS/dp/#\u6700\u4f18\u5b50\u6811\u6761\u4ef6","title":"\u6700\u4f18\u5b50\u6811\u6761\u4ef6","text":"<ul> <li>\\( T_{i j} \\) is optimal \\( \\Rightarrow r_{i j} = k \\) is such that</li> </ul> \\[ c_{i j} = \\min_{i&lt;l\\leq j} \\left( w_{i j} + c_{i, l-1} + c_{l+1, j} \\right) \\] <p>$$ i &lt; l \\leq j $$</p>"},{"location":"incourse/ADS/dp/#all-pairs-shortest-path","title":"All-Pairs Shortest Path","text":"<p>\u5982\u4f55\u627e\u5230\u4e00\u4e2a\u56fe\u4e2d\u4efb\u610f\u4e24\u70b9\u4e4b\u95f4\u7684\u6700\u77ed\u8def\u5f84\uff1f</p> <p>\u4f7f\u7528\u5f17\u6d1b\u4f0a\u5fb7-\u6c83\u820d\u5c14\u7b97\u6cd5</p> <p>\u4e5f\u662f\u52a8\u6001\u89c4\u5212\u3002</p>"},{"location":"incourse/ADS/dp/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>\u9898</p> T1T2T3 <p></p> \u89e3\u6790 <p>D.\u5f88\u660e\u663e\u662f\\(\\max_{1 \\leq i \\leq n}({R_i + R_{n-i}})\\)</p> <p></p> \u89e3\u6790 <p>D.\u5f53\u6211\u4eec\u5728\u8ba1\u7b97A(i-2,j-2)\u7684\u65f6\u5019\u53c8\u8981\u7528\u5230A(i,j)\u3002\u8fd9\u6837\u5c31\u6c38\u8fdc\u5faa\u73af\u8ba1\u7b97\u4e86\u3002</p> <p></p> \u89e3\u6790 <p>B.\u5f88\u660e\u663ej\u8981\u964d\u5e8f\u3002</p>"},{"location":"incourse/ADS/exsort/","title":"\u5916\u90e8\u6392\u5e8f","text":"<p> \u7ea6 476 \u4e2a\u5b57  26 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p> <p>\u65f6\u95f4\u5306\u5fd9\uff0c\u53c2\u8003\u8fd9\u91cc\u3002</p>"},{"location":"incourse/ADS/exsort/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>\u4f8b\u9898</p> T1T2T3T4T5T6T7T8T9 <p></p> \u89e3\u7b54 <p>T.\u6b63\u5982\u8bfe\u4e0a\u6240\u8bb2\u7684\uff0c\u4ee5\u6590\u6ce2\u90a3\u5951\u6570\u5206\u5272runs\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u5f97\u6700\u540e\u7684Passes\u6570\u76ee\u6700\u5c11\u3002</p> <p></p> \u89e3\u7b54 <p>T.\u7531\u4e8e\u53ea\u6709\u4e00\u4e2a\u78c1\u5e26\u673a\uff0c\u5bfb\u9053\u65f6\u95f4\u4f1a\u53d8\u957f\u3002</p> <p></p> \u89e3\u7b54 <p>F.K\u4e0d\u80fd\u8d8a\u5927\u8d8a\u597d</p> <p></p> \u89e3\u7b54 <p>T.\u9700\u89812k\u4e2ainput buffers\u548c2\u4e2aoutput buffer\u3002</p> <p></p> \u89e3\u7b54 <p>B\u3002\u6839\u636e\u516c\u5f0f:</p> \\[ \\text{Number of Passes} = 1 + \\lceil\\log_K {N/M}\\rceil = 1 + \\lceil\\log_2 {2^8 * 10^8/2^{27}}\\rceil = 1 + 8 = 9 \\] <p></p> \u89e3\u7b54 <p>B\u3002\u6839\u636e\u6784\u5efa\u54c8\u592b\u66fc\u6811\u7684\u539f\u5219\uff0c\u4e0d\u65ad\u5408\u5e76\u6700\u5c0f\u7684\u4e24\u4e2a\u8282\u70b9\u3002</p> <p></p> \u89e3\u7b54 <p>B\u3002\u6700\u540e\u5f97\u5230\u7684\u4e24\u4e2a\u5e8f\u5217\u4e3a:</p> \\[ \\begin{matrix}     25 &amp; 34 &amp; 56 &amp; 74\\\\     11 &amp; 21 &amp; 29 &amp; 38 &amp; 53 &amp; 80 \\end{matrix} \\] <p></p> \u89e3\u7b54 <p>D\u3002\u6211\u4eec\u628a\u5185\u5b58\u5206\u4e3a6\u4e2abuffer\uff0c\u5305\u62ec4\u4e2ainput buffer\u548c2\u4e2aoutput buffer\uff0c\u6bcf\u4e2abuffer\u53ef\u4ee5\u5b58\u653e\u4e24\u4e2a\u6570\u636e\uff0c\u4f9d\u6b21\u8bb0\u4e3aB1, B2, B3, B4, B5, B6\u3002</p> <ol> <li> <p>\u8bfb\u53d6\u6570\u636e\u5230B1\u548cB2</p> B1 B2 B3 B4 B5 B6 1,3 2,4 - - - - </li> <li> <p>\u8bfb\u53d6\u6570\u636e\u5230B3\uff0c\u518d\u5c06B1\u548cB2\u4e2d\u7684\u6570\u636emerge\u5230B5</p> B1 B2 B3 B4 B5 B6 3 4 5,7 - 1,2 - </li> <li> <p>\u8bfb\u53d6\u6570\u636e\u5230B4\uff0c\u540c\u65f6\u8f93\u51faB5\u6570\u636e\uff0c\u518d\u5c06B1\u548cB2\u4e2d\u7684\u6570\u636emerge\u5230B6</p> B1 B2 B3 B4 B5 B6 - - 5,7 6,15 -- 3,4 </li> <li> <p>\u8bfb\u53d6\u6570\u636e\u5230B1\uff0c\u540c\u65f6\u8f93\u51faB6\u6570\u636e\uff0c\u518d\u5c06B3\u548cB4\u4e2d\u7684\u6570\u636emerge\u5230B5</p> B1 B2 B3 B4 B5 B6 8,9 - 7 15 5,6 - </li> <li> <p>\u8bfb\u53d6\u6570\u636e\u5230B2\uff0c\u540c\u65f6\u8f93\u51faB5\u6570\u636e\uff0c\u518d\u5c06B1\u548cB3\u4e2d\u7684\u6570\u636emerge\u5230B6</p> B1 B2 B3 B4 B5 B6 9 20,25 - 15 - 7,8 </li> <li> <p>\u8bfb\u53d6\u6570\u636e\u5230B3\uff0c\u540c\u65f6\u8f93\u51faB6\u6570\u636e\uff0c\u518d\u5c06B2\u548cB4\u4e2d\u7684\u6570\u636emerge\u5230B5</p> B1 B2 B3 B4 B5 B6 - 20,25 12 15 9,10 - </li> </ol> <p>D \u9009\u9879\u5f3a\u9519\u8bef\u5728\u6ca1\u6709\u7b4910,12\u8bfb\u5165\u5b8c\u6bd5\u518dmerge\u3002</p> <p></p> \u89e3\u7b54 <p>C\u3002 \u6700\u540e\u7684\u7ed3\u679c\u4e3a:</p> \\[ \\begin{matrix} 9 &amp; 12 &amp; 17 &amp; 25 &amp; 75 &amp; 88 &amp; 91\\\\ 22 &amp; 35 &amp; 41 &amp; 58 &amp; 96 \\\\ 15  \\end{matrix} \\]"},{"location":"incourse/ADS/fileindex/","title":"\u5012\u6392\u7d22\u5f15","text":""},{"location":"incourse/ADS/fileindex/#inverted-file-index","title":"Inverted File Index","text":"<p> \u7ea6 1029 \u4e2a\u5b57  9 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p> <p>\u5f53\u6211\u4eec\u4f7f\u7528\u7f51\u9875\u641c\u7d22\u65f6\uff0c\u641c\u7d22\u5f15\u64ce\u4f1a\u5feb\u901f\u5730\u4ece\u5927\u91cf\u7f51\u9875\u4e2d\u627e\u5230\u4e0e\u67e5\u8be2\u76f8\u5173\u7684\u5185\u5bb9\u3002\u8fd9\u662f\u5982\u4f55\u505a\u5230\u7684\u5462\uff1f</p> <ol> <li> <p>\u641c\u7d22\u6bcf\u4e00\u4e2a\u7f51\u9875\uff0c\u67e5\u627e\u5185\u5bb9\uff0c\u8fd9\u663e\u7136\u662f\u4e0d\u5408\u7406\u7684</p> </li> <li> <p>Term-Document Incidence Matrix</p> <p>Term-Document Incidence Matrix \u662f\u4e00\u79cd\u7b80\u5355\u7684\u8868\u793a\u65b9\u6cd5\uff0c\u5176\u4e2d\u884c\u8868\u793a\u6587\u6863\uff0c\u5217\u8868\u793a\u8bcd\u8bed\u3002\u5982\u679c\u67d0\u4e2a\u8bcd\u8bed\u51fa\u73b0\u5728\u67d0\u4e2a\u6587\u6863\u4e2d\uff0c\u5219\u77e9\u9635\u4e2d\u7684\u76f8\u5e94\u4f4d\u7f6e\u4e3a1\uff0c\u5426\u5219\u4e3a0\u3002\u4f8b\u5982\uff1a</p> term1 term2 term3 doc1 1 0 1 doc2 0 1 1 doc3 1 1 0 <p>\u8fd9\u79cd\u65b9\u6cd5\u867d\u7136\u76f4\u89c2\uff0c\u4f46\u5728\u5904\u7406\u5927\u89c4\u6a21\u6570\u636e\u65f6\u6548\u7387\u8f83\u4f4e\u3002\u5e76\u4e14\uff0c\u8fd9\u79cd\u505a\u6cd5\u5b58\u5728\u4e0d\u5408\u7406\u4e4b\u5904\u3002\u4f8b\u5982\uff0cthe\u8fd9\u4e2a\u8bcd\u5728\u51e0\u4e4e\u6bcf\u7bc7\u6587\u7ae0\u90fd\u4f1a\u51fa\u73b0\uff0c\u4f46\u6ca1\u6709\u7279\u522b\u7684\u610f\u4e49\uff0c\u4e00\u4e9b\u51b7\u95e8\u8bcd\u51fa\u73b0\u9891\u7387\u6781\u4f4e\uff0c\u975e\u5e38\u964d\u4f4e\u6548\u7387\u3002</p> <p>\u4e3a\u4e86\u4f18\u5316\u8fd9\u79cd\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u8bcd\u4ee3\u6a21\u578b\uff0c\u4f8b\u5982TF\uff08\u8bcd\u9891\uff09\u3001DF\uff08\u6587\u6863\u9891\u7387\uff09\u548cIR\uff08\u4fe1\u606f\u68c0\u7d22\uff09\u3002\u8fd9\u4e9b\u6a21\u578b\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u66f4\u6709\u6548\u5730\u8861\u91cf\u8bcd\u8bed\u7684\u91cd\u8981\u6027\uff0c\u4ece\u800c\u63d0\u9ad8\u641c\u7d22\u6548\u7387\u3002</p> </li> <li> <p>\u5012\u6392\u7d22\u5f15\u6280\u672f\u3002\u5012\u6392\u7d22\u5f15\u662f\u4e00\u79cd\u7d22\u5f15\u6570\u636e\u7ed3\u6784\uff0c\u5b83\u5b58\u50a8\u4e86\u6587\u6863\u4e2d\u6bcf\u4e2a\u8bcd\u7684\u4f4d\u7f6e\uff0c\u4f7f\u5f97\u641c\u7d22\u5f15\u64ce\u80fd\u591f\u9ad8\u6548\u5730\u67e5\u627e\u5305\u542b\u7279\u5b9a\u8bcd\u7684\u6240\u6709\u6587\u6863\u3002</p> </li> </ol>"},{"location":"incourse/ADS/fileindex/#\u5012\u6392\u7d22\u5f15\u793a\u4f8b","title":"\u5012\u6392\u7d22\u5f15\u793a\u4f8b","text":"<p>\u5012\u6392\u7d22\u5f15</p> <p></p>"},{"location":"incourse/ADS/fileindex/#\u5012\u6392\u7d22\u5f15\u6539\u8fdb","title":"\u5012\u6392\u7d22\u5f15\u6539\u8fdb","text":""},{"location":"incourse/ADS/fileindex/#\u505c\u7528\u8bcdstop-words","title":"\u505c\u7528\u8bcd(Stop words)","text":"<p>\u5f71\u54cd\u5012\u6392\u7d22\u5f15\u7684\u4e00\u4e2a\u56e0\u7d20\u5c31\u662f\u505c\u6b62\u8bcd\u7684\u5b58\u5728\u3002\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e9b\u5e38\u89c1\u8bcd\u5728\u6587\u6863\u548c\u7528\u6237\u9700\u6c42\u8fdb\u884c\u5339\u914d\u65f6\u4ef7\u503c\u5e76\u4e0d\u5927\uff0c\u9700\u8981\u5f7b\u5e95\u4ece\u8bcd\u6c47\u8868\u4e2d\u53bb\u9664\u3002\u8fd9\u4e9b\u8bcd\u79f0\u4e3a\u505c\u7528\u8bcd\uff08stop word\uff09\u3002</p> <p>\u5e38\u89c1\u7684\u505c\u7528\u8bcd</p> <p></p> <p>\u7136\u800c\uff0c\u6709\u65f6\u53bb\u9664\u505c\u7528\u8bcd\u4e5f\u4e0d\u662f\u4e00\u4e2a\u597d\u9009\u62e9\u3002\u4f8b\u5982\uff0c\u77ed\u8bed\u67e5\u8be2President of the United States\u663e\u7136\u6bd4\"President\" and \"United States\"\u641c\u7d22\u66f4\u52a0\u51c6\u786e\u3002</p>"},{"location":"incourse/ADS/fileindex/#\u8bcd\u6761\u5316","title":"\u8bcd\u6761\u5316","text":"<p>\u8bcd\u6761\u5316\u662f\u5c06\u6587\u672c\u5206\u89e3\u4e3a\u5355\u72ec\u7684\u8bcd\u8bed\u6216\u8bcd\u7ec4\u7684\u8fc7\u7a0b\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u5bf9\u4e8e\u6784\u5efa\u5012\u6392\u7d22\u5f15\u81f3\u5173\u91cd\u8981\uff0c\u56e0\u4e3a\u5b83\u51b3\u5b9a\u4e86\u7d22\u5f15\u7684\u7c92\u5ea6\u548c\u51c6\u786e\u6027\u3002</p> <p>\u8bcd\u6761\u5316\u793a\u4f8b</p> <p>\u5047\u8bbe\u6211\u4eec\u6709\u4ee5\u4e0b\u6587\u672c\uff1a</p> <pre><code>The quick brown fox jumps over the lazy dog.\n</code></pre> <p>\u7ecf\u8fc7\u8bcd\u6761\u5316\u5904\u7406\u540e\uff0c\u6211\u4eec\u5f97\u5230\u4ee5\u4e0b\u8bcd\u6761\uff1a</p> <pre><code>[The, quick, brown, fox, jumps, over, the, lazy, dog]\n</code></pre> <p>\u5728\u8bcd\u6761\u5316\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u8003\u8651\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a</p> <ol> <li>\u5927\u5c0f\u5199\u89c4\u8303\u5316\uff1a\u5c06\u6240\u6709\u8bcd\u8bed\u8f6c\u6362\u4e3a\u5c0f\u5199\uff0c\u4ee5\u786e\u4fdd\u7d22\u5f15\u7684\u4e00\u81f4\u6027\u3002</li> <li>\u53bb\u9664\u6807\u70b9\u7b26\u53f7\uff1a\u5ffd\u7565\u6807\u70b9\u7b26\u53f7\uff0c\u4ee5\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u8bcd\u6761\u3002</li> <li>\u5904\u7406\u590d\u5408\u8bcd\uff1a\u6839\u636e\u5177\u4f53\u9700\u6c42\uff0c\u51b3\u5b9a\u662f\u5426\u5c06\u590d\u5408\u8bcd\uff08\u5982\"New York\"\uff09\u4f5c\u4e3a\u5355\u4e2a\u8bcd\u6761\u5904\u7406\u3002</li> <li>\u8bcd\u5f62\u8fd8\u539f\uff1a\u628a\u5355\u590d\u6570\uff0c\u65f6\u6001\u7b49\u5f15\u8d77\u7684\u8bcd\u5f62\u53d8\u5316\u8fd8\u539f\uff0c\u4f8b\u5982,\"apples\"-&gt;\"apple\"</li> </ol> <p>\u8bcd\u6761\u5316\u5de5\u5177</p> <p>\u6709\u8bb8\u591a\u73b0\u6210\u7684\u5de5\u5177\u548c\u5e93\u53ef\u4ee5\u5e2e\u52a9\u5b9e\u73b0\u8bcd\u6761\u5316\uff0c\u4f8b\u5982NLTK\uff08Natural Language Toolkit\uff09\u548cSpaCy\u3002\u8fd9\u4e9b\u5de5\u5177\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u6839\u636e\u4e0d\u540c\u7684\u9700\u6c42\u8fdb\u884c\u5b9a\u5236\u3002</p>"},{"location":"incourse/ADS/fileindex/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>\u4f8b\u9898</p> T1T2T3T4T5T6T7 <p></p> \u89e3\u6790 <p>\u8fd9\u662f term-partitioned \u7b56\u7565\u3002</p> <p></p> \u89e3\u6790 <ul> <li> <p>Data Retrieval Performance Evaluation: \u8bc4\u4f30\u6570\u636e\u68c0\u7d22\u6027\u80fd\uff0c\u4e3b\u8981\u5173\u6ce8\u68c0\u7d22\u901f\u5ea6\u3002</p> </li> <li> <p>Information Retrieval Performance Evaluation: \u8bc4\u4f30\u4fe1\u606f\u68c0\u7d22\u6027\u80fd\uff0c\u4e3b\u8981\u5173\u6ce8\u68c0\u7d22\u7ed3\u679c\u7684\u8d28\u91cf\u548c\u76f8\u5173\u6027\u3002</p> </li> </ul> <p></p> \u89e3\u6790 <p>\u8fd9\u53e5\u8bdd\u7684\u610f\u601d\u662f\uff1a\u5728\u8bc4\u4f30\u673a\u573a\u5b89\u68c0\u4e2d\u7684\u7206\u70b8\u7269\u68c0\u6d4b\u65f6\uff0c\u7cbe\u786e\u7387\u6bd4\u53ec\u56de\u7387\u66f4\u91cd\u8981\u3002</p> <ul> <li> <p>Precision\uff08\u7cbe\u786e\u7387\uff09\uff1a\u5728\u6240\u6709\u88ab\u9884\u6d4b\u4e3a\u6b63\u6837\u672c\u7684\u5b9e\u4f8b\u4e2d\uff0c\u5b9e\u9645\u4e3a\u6b63\u6837\u672c\u7684\u6bd4\u4f8b\u3002\u5373\u68c0\u6d4b\u5230\u7684\u7206\u70b8\u7269\u4e2d\uff0c\u771f\u6b63\u662f\u7206\u70b8\u7269\u7684\u6bd4\u4f8b\u3002</p> </li> <li> <p>Recall\uff08\u53ec\u56de\u7387\uff09\uff1a\u5728\u6240\u6709\u5b9e\u9645\u4e3a\u6b63\u6837\u672c\u7684\u5b9e\u4f8b\u4e2d\uff0c\u88ab\u6b63\u786e\u9884\u6d4b\u4e3a\u6b63\u6837\u672c\u7684\u6bd4\u4f8b\u3002\u5373\u6240\u6709\u7206\u70b8\u7269\u4e2d\uff0c\u88ab\u68c0\u6d4b\u51fa\u6765\u7684\u6bd4\u4f8b\u3002 \u8fd8\u662f\u53ec\u56de\u7387\u66f4\u91cd\u8981\uff0c\u5b89\u5168\u7b2c\u4e00\u3002</p> </li> </ul> <p></p> \u89e3\u6790 <p>wu</p> <p></p> \u89e3\u6790 <p>\u51c6\u786e\u7406\u89e3\u4ec0\u4e48\u662f\u51c6\u786e\u7387\u4ec0\u4e48\u662f\u53ec\u56de\u7387\u5373\u53ef\u3002</p> <p></p> \u89e3\u6790 <p>\u7231\u7528\u7528\uff0c\u4e0d\u7528\u6eda\u3002\u7528\u6237\u53cb\u597d\u4ec0\u4e48\u7684\uff0c\u4e0d\u5b58\u5728\u7684\uff08bushi\uff09</p> <p></p> \u89e3\u6790 <p>\\(\\text{recall}=\\frac{4000}{4000+8000}=33\\%\\)</p>"},{"location":"incourse/ADS/fileindex/#more","title":"More","text":"<p>\u6682\u65f6\u6ca1\u4ec0\u4e48\u8981\u5199\u4e86\uff0c\u7b49\u4ee5\u540e\u60f3\u5230\u5427\u3002</p>"},{"location":"incourse/ADS/greedy/","title":"\u8d2a\u5fc3\u7b97\u6cd5","text":""},{"location":"incourse/ADS/greedy/#\u8d2a\u5fc3\u7b97\u6cd5","title":"\u8d2a\u5fc3\u7b97\u6cd5","text":"<p> \u7ea6 1208 \u4e2a\u5b57  3 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p> <p>\u8d2a\u5fc3\u7b97\u6cd5\u662f\u4e00\u79cd\u5728\u6bcf\u4e00\u6b65\u9009\u62e9\u4e2d\u90fd\u91c7\u53d6\u5728\u5f53\u524d\u72b6\u6001\u4e0b\u6700\u597d\u6216\u6700\u4f18\u7684\u9009\u62e9\uff0c\u4ece\u800c\u5e0c\u671b\u5bfc\u81f4\u5168\u5c40\u6700\u4f18\u89e3\u7684\u7b97\u6cd5\u3002\u5b83\u4e0d\u4ece\u6574\u4f53\u4e0a\u8003\u8651\u95ee\u9898\uff0c\u53ea\u505a\u51fa\u5c40\u90e8\u6700\u4f18\u89e3\uff0c\u4ece\u800c\u5e0c\u671b\u6700\u7ec8\u7ed3\u679c\u662f\u5168\u5c40\u6700\u4f18\u89e3\u3002</p> <p>from PPT - the Greedy Method</p> <p>Make the best decision at each stage, under some greedy criterion.  A decision made in one stage is not changed in a later stage, so each decision should assure feasibility.</p> <p>\u7136\u800c\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u8d2a\u5fc3\u6cd5\u5e76\u4e0d\u603b\u662f\u80fd\u6700\u7ec8\u6c42\u5f97\u6700\u4f18\u89e3\uff0c\u7528PPT\u4e0a\u7684\u8bdd\u6765\u8bf4\uff0c\u5c31\u662f</p> <p>Greedy algorithm does not guarantee optimal solutions.  However, it generally produces solutions that are very close in value (heuristics) to the optimal, and hence is intuitively appealing when finding the optimal solution takes too much time..</p>"},{"location":"incourse/ADS/greedy/#activity-selection-problem","title":"Activity Selection Problem","text":"<p>\u7ed9\u5b9a\u4e00\u7ec4\u6d3b\u52a8 \\( S = \\{ a_1, a_2, \\ldots, a_n \\} \\)\uff0c\u8fd9\u4e9b\u6d3b\u52a8\u5e0c\u671b\u4f7f\u7528\u4e00\u4e2a\u8d44\u6e90\uff08\u4f8b\u5982\u6559\u5ba4\uff09\u3002\u6bcf\u4e2a\u6d3b\u52a8 \\( a_i \\) \u5728\u65f6\u95f4\u533a\u95f4 \\([s_i, f_i]\\) \u5185\u8fdb\u884c\u3002\u5f53 \\( s_i \\geq f_j \\) \u6216\u8005 \\( s_j \\geq f_i \\) \u65f6\uff0c\u6d3b\u52a8 \\( a_i \\) \u548c \\( a_j \\) \u662f\u517c\u5bb9\u7684\uff08\u5373\u5b83\u4eec\u7684\u65f6\u95f4\u533a\u95f4\u4e0d\u91cd\u53e0\uff09\u3002\u5982\u4f55\u9009\u62e9\u4e00\u4e2a\u6700\u5927\u7684\u76f8\u4e92\u517c\u5bb9\u6d3b\u52a8\u5b50\u96c6?</p>"},{"location":"incourse/ADS/greedy/#dp\u7684\u5c1d\u8bd5","title":"DP\u7684\u5c1d\u8bd5","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u662f\u53ef\u4ee5\u4f7f\u7528\u52a8\u6001\u89c4\u5212\u89e3\u51b3\u7684\u3002</p> <ol> <li> <p>\u6d3b\u52a8\u6392\u5e8f    \u5c06\u6240\u6709\u6d3b\u52a8\u6309\u7167\u7ed3\u675f\u65f6\u95f4 \\( f_i \\) \u5347\u5e8f\u6392\u5e8f\u3002\u8fd9\u6837\u53ef\u4ee5\u53ca\u65f6\u7a7a\u51fa\u65f6\u95f4\u3002</p> </li> <li> <p>\u5b9a\u4e49\u5b50\u95ee\u9898    \u8bbe \\( dp[i] \\) \u8868\u793a\u524d \\( i \\) \u4e2a\u6d3b\u52a8\u4e2d\u53ef\u4ee5\u9009\u62e9\u7684\u6700\u5927\u517c\u5bb9\u6d3b\u52a8\u6570\u3002</p> </li> <li> <p>\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b    \u5bf9\u4e8e\u6bcf\u4e2a\u6d3b\u52a8 \\( a_i \\)\uff0c\u627e\u5230\u6700\u540e\u4e00\u4e2a\u4e0e\u4e4b\u517c\u5bb9\u7684\u6d3b\u52a8 \\( a_j \\)\uff08\u5373 \\( f_j \\leq s_i \\)\uff09\u3002\u5219\u6709\uff1a</p> </li> </ol> \\[ dp[i] = \\max(dp[i-1], dp[j] + 1) \\] <p>\u5176\u4e2d\uff1a</p> <ul> <li> <p>\\( dp[i-1] \\) \u8868\u793a\u4e0d\u9009\u62e9\u6d3b\u52a8 \\( a_i \\) \u65f6\u7684\u6700\u5927\u517c\u5bb9\u6d3b\u52a8\u6570\u3002</p> </li> <li> <p>\\( dp[j] + 1 \\) \u8868\u793a\u9009\u62e9\u6d3b\u52a8 \\( a_i \\) \u5e76\u52a0\u4e0a\u4e0e\u4e4b\u517c\u5bb9\u7684\u6d3b\u52a8 \\( a_j \\) \u7684\u6700\u5927\u517c\u5bb9\u6d3b\u52a8\u6570\u3002</p> </li> <li> <p>\u521d\u59cb\u5316 \\( dp[0] = 1 \\)\uff08\u9009\u62e9\u7b2c\u4e00\u4e2a\u6d3b\u52a8\uff09</p> </li> <li> <p>\u8ba1\u7b97\u7ed3\u679c    \u6700\u7ec8\u7b54\u6848\u4e3a \\( dp[n] \\)\uff0c\u5176\u4e2d \\( n \\) \u662f\u6d3b\u52a8\u7684\u603b\u6570\u3002</p> </li> </ul> <p>\u90a3\u6211\u4eec\u601d\u8003\uff0c\u8fd9\u4e2a\u95ee\u9898\u662f\u5426\u80fd\u901a\u8fc7\u8d2a\u5fc3\u7684\u601d\u60f3\u89e3\u51b3\u5462\uff1f</p> <p>\u901a\u8fc7\u76f4\u89c9,\u6211\u4eec\u8ba4\u4e3a\u6bcf\u6b21\u53d6\u7ed3\u675f\u65f6\u95f4\u6700\u65e9\u7684\u6d3b\u52a8\uff0c\u53ef\u4ee5\u5f97\u5230\u6700\u4f18\u89e3\u3002</p>"},{"location":"incourse/ADS/greedy/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>Example</p> T1T2T3 <p></p> \u89e3\u6790 <p>\u4e0d\u4e00\u5b9a\u3002\u5c40\u90e8\u6700\u4f18\u89e3\u548c\u6700\u7ec8\u6700\u4f18\u89e3\u4e0d\u4e00\u5b9a\u4e00\u6837\u3002F</p> <p></p> \u89e3\u6790 <p>\u8003\u8651\u4e00\u9897\u54c8\u592b\u66fc\u6811\u3002\u4ece\u6839\u5230\u53f6\u5b50\u7684\u8def\u5f84\u957f\u5ea6(\u4e5f\u5c31\u662f\u6df1\u5ea6)\u80af\u5b9a\u4e0d\u4f1a\u8d85\u8fc7\\(n-1\\).\u7b49\u4e8e\u7684\u65f6\u5019\u561b...\u6211\u611f\u89c9\u662f\\(n=2\\)\u7684\u65f6\u5019.T</p> <p></p> \u89e3\u6790 <ol> <li> <p>(I) \u53ef\u7528\u7684\u786c\u5e01\u9762\u989d\u4e3a25\u7f8e\u5206\u300110\u7f8e\u5206\u30015\u7f8e\u5206\u548c1\u7f8e\u5206\u65f6\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u603b\u662f\u80fd\u5f97\u5230\u6700\u4f18\u89e3\u3002</p> <p>\u89e3\u6790\uff1a</p> <p>\u8f83\u5927\u7684\u786c\u5e01\u9762\u989d\u662f\u8f83\u5c0f\u9762\u989d\u7684\u6574\u6570\u500d\uff08\u4f8b\u5982\uff0c10 = 2 \u00d7 5\uff0c25 = 2.5 \u00d7 10\uff09\u3002\u8d2a\u5fc3\u7b97\u6cd5\u6bcf\u6b21\u9009\u62e9\u5f53\u524d\u6700\u5927\u7684\u53ef\u7528\u786c\u5e01\u65f6\uff0c\u5269\u4f59\u91d1\u989d\u53ef\u4ee5\u901a\u8fc7\u8f83\u5c0f\u9762\u989d\u7684\u786c\u5e01\u7cbe\u786e\u8868\u793a\u3002\u56e0\u6b64\uff0c\u65e0\u8bba\u9700\u8981\u627e\u96f6\u7684\u603b\u91d1\u989dn\u662f\u591a\u5c11\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u90fd\u80fd\u627e\u5230\u6700\u5c11\u786c\u5e01\u6570\u7684\u6700\u4f18\u89e3\u3002</p> <p>\u793a\u4f8b\uff1a \u9700\u8981\u627e\u96f641\u7f8e\u5206\u3002</p> <ol> <li> <p>\u9009\u62e91\u4e2a25\u7f8e\u5206\uff0c\u5269\u4f5916\u7f8e\u5206\u3002</p> </li> <li> <p>\u9009\u62e91\u4e2a10\u7f8e\u5206\uff0c\u5269\u4f596\u7f8e\u5206\u3002</p> </li> <li> <p>\u9009\u62e91\u4e2a5\u7f8e\u5206\uff0c\u5269\u4f591\u7f8e\u5206\u3002</p> </li> <li> <p>\u9009\u62e91\u4e2a1\u7f8e\u5206\u3002</p> </li> </ol> <p>\u603b\u5171\u4f7f\u75284\u4e2a\u786c\u5e01\uff0c\u8fd9\u662f\u6700\u4f18\u89e3\u3002</p> </li> <li> <p>(II) \u53ef\u7528\u7684\u786c\u5e01\u9762\u989d\u662fc\u7684\u5e42\u6b21\u65b9\uff0c\u5373c\u2070, c\u00b9, ..., c\u1d4f\uff08c &gt; 1\uff0ck \u2265 1\uff09\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u603b\u662f\u80fd\u5f97\u5230\u6700\u4f18\u89e3\u3002</p> <p>\u89e3\u6790\uff1a</p> <p>\u5f53\u786c\u5e01\u9762\u989d\u4e3ac\u7684\u5e42\u6b21\u65b9\u65f6\uff0c\u6bcf\u4e2a\u66f4\u9ad8\u9762\u989d\u90fd\u662f\u524d\u4e00\u9762\u989d\u7684c\u500d\uff08\u5982c=2\u65f6\uff0c\u9762\u989d\u4e3a1, 2, 4, 8, ...\uff09\u3002\u8fd9\u79cd\u9012\u589e\u5173\u7cfb\u786e\u4fdd\u4e86\u8d2a\u5fc3\u7b97\u6cd5\u7684\u9009\u62e9\u603b\u662f\u6700\u4f18\u7684\uff0c\u56e0\u4e3a\u6bcf\u6b21\u9009\u62e9\u6700\u5927\u7684\u9762\u989d\u65f6\uff0c\u5269\u4f59\u91d1\u989d\u4e5f\u80fd\u901a\u8fc7\u8f83\u5c0f\u9762\u989d\u7684\u7ec4\u5408\u7cbe\u786e\u8868\u793a\u3002</p> <p>\u793a\u4f8b\uff1a \u91c7\u75282\u7684\u5e42\u6b21\u65b9\u9762\u989d\uff081, 2, 4, 8\uff09\u3002 \u9700\u8981\u627e\u96f611\u7f8e\u5206\u3002</p> <ol> <li> <p>\u9009\u62e91\u4e2a8\u7f8e\u5206\uff0c\u5269\u4f593\u7f8e\u5206\u3002</p> </li> <li> <p>\u9009\u62e91\u4e2a2\u7f8e\u5206\uff0c\u5269\u4f591\u7f8e\u5206\u3002</p> </li> <li> <p>\u9009\u62e91\u4e2a1\u7f8e\u5206\u3002</p> </li> </ol> <p>\u603b\u5171\u4f7f\u75283\u4e2a\u786c\u5e01\uff0c\u8fd9\u662f\u6700\u4f18\u89e3\u3002</p> </li> <li> <p>(III) \u4efb\u4f55\u5305\u542b1\u7f8e\u5206\u7684k\u79cd\u4e0d\u540c\u786c\u5e01\u9762\u989d\u7684\u96c6\u5408\uff0c\u53ea\u8981\u6bcf\u4e2an\u90fd\u6709\u89e3\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u603b\u80fd\u5f97\u5230\u6700\u4f18\u89e3\u3002</p> <p>\u89e3\u6790\uff1a</p> <p>\u9519\u8bef\u3002\u867d\u7136\u5305\u542b1\u7f8e\u5206\u53ef\u4ee5\u786e\u4fdd\u4efb\u4f55\u91d1\u989dn\u90fd\u6709\u89e3\uff0c\u4f46\u5e76\u4e0d\u4fdd\u8bc1\u8d2a\u5fc3\u7b97\u6cd5\u603b\u662f\u80fd\u591f\u5f97\u5230\u6700\u4f18\u89e3\u3002\u5b58\u5728\u4e00\u4e9b\u786c\u5e01\u9762\u989d\u7684\u7ec4\u5408\uff0c\u5305\u542b1\u7f8e\u5206\uff0c\u4f46\u8d2a\u5fc3\u7b97\u6cd5\u65e0\u6cd5\u627e\u5230\u6700\u5c11\u786c\u5e01\u6570\u7684\u6700\u4f18\u89e3\u3002</p> <p>\u793a\u4f8b\uff1a \u786c\u5e01\u9762\u989d\u4e3a1\u7f8e\u5206\u30013\u7f8e\u5206\u548c4\u7f8e\u5206\u3002 \u9700\u8981\u627e\u96f66\u7f8e\u5206\u3002</p> <ul> <li> <p>\u8d2a\u5fc3\u7b97\u6cd5\u9009\u62e9\uff1a</p> <ol> <li> <p>\u9009\u62e91\u4e2a4\u7f8e\u5206\uff0c\u5269\u4f592\u7f8e\u5206\u3002</p> </li> <li> <p>\u9009\u62e92\u4e2a1\u7f8e\u5206\u3002</p> </li> </ol> <p>\u603b\u5171\u4f7f\u75283\u4e2a\u786c\u5e01\u3002</p> </li> <li> <p>\u6700\u4f18\u89e3\uff1a:2\u4e2a3\u7f8e\u5206\u3002</p> <p>\u56e0\u6b64\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u672a\u80fd\u627e\u5230\u6700\u4f18\u89e3           </p> </li> </ul> </li> </ol> <p>\u9009C</p>"},{"location":"incourse/ADS/localsearch/","title":"Local Search","text":"<p> \u7ea6 1606 \u4e2a\u5b57  27 \u884c\u4ee3\u7801  10 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p> <p>Local Search\u662f\u4e00\u79cd\u542f\u53d1\u5f0f\u7b97\u6cd5\uff0c\u5b83\u4ece\u4e00\u4e2a\u521d\u59cb\u89e3\u5f00\u59cb\uff0c\u901a\u8fc7\u4e0d\u65ad\u5730\u5728\u89e3\u7a7a\u95f4\u4e2d\u79fb\u52a8\uff0c\u76f4\u5230\u627e\u5230\u4e00\u4e2a\u5c40\u90e8\u6700\u4f18\u89e3\u3002Local Search\u7684\u4f18\u70b9\u662f\u5b83\u53ef\u4ee5\u5728\u5927\u89c4\u6a21\u95ee\u9898\u4e0a\u627e\u5230\u4e00\u4e2a\u8f83\u597d\u7684\u89e3\uff0c\u4f46\u662f\u5b83\u7684\u7f3a\u70b9\u662f\u5b83\u53ef\u80fd\u4f1a\u9677\u5165\u5c40\u90e8\u6700\u4f18\u89e3\uff0c\u800c\u65e0\u6cd5\u627e\u5230\u5168\u5c40\u6700\u4f18\u89e3\u3002</p> <p>from wiki</p> <p>Local Searh</p> <p>Local:\u6211\u4eec\u5b9a\u4e49neighborhood\u4e3a\u4e00\u4e2a\u89e3\u7684\u96c6\u5408\uff0c\u8fd9\u4e2a\u96c6\u5408\u5305\u542b\u4e86\u6240\u6709\u4e0e\u5f53\u524d\u89e3\u76f8\u90bb\u7684\u89e3\u3002local\u7684\u542b\u4e49\u662f\u6211\u4eec\u53ea\u8003\u8651neighborhood\u4e2d\u7684\u89e3\uff0c\u800c\u4e0d\u8003\u8651\u5168\u5c40\u7684\u89e3\u3002</p> <p>Search:\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u8bc4\u4ef7\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u53ef\u4ee5\u8bc4\u4ef7\u4e00\u4e2a\u89e3\u7684\u597d\u574f\u3002\u6211\u4eec\u4ece\u4e00\u4e2a\u521d\u59cb\u89e3\u5f00\u59cb\uff0c\u7136\u540e\u4e0d\u65ad\u5730\u5728neighborhood\u4e2d\u641c\u7d22\uff0c\u76f4\u5230\u627e\u5230\u4e00\u4e2a\u5c40\u90e8\u6700\u4f18\u89e3\u3002</p>"},{"location":"incourse/ADS/localsearch/#vertex-cover","title":"Vertex Cover","text":"<p>\u5b9a\u4e49\u5728NP\u7684\u90e8\u5206\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u3002\u4e0d\u8fc7\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u8ba8\u8bba\u7684\u662f\u5982\u4f55\u627e\u5230\u4e00\u4e2a\u5305\u542b\u6700\u5c11\u70b9\u7684vertex cover\u3002</p> <p>\u5728\u8fd9\u4e2a\u95ee\u9898\u4e2d:</p> <ul> <li> <p>\u521d\u59cb\u89e3:\u6240\u6709\u70b9</p> </li> <li> <p>\u8bc4\u4ef7\u51fd\u6570(cost):cost(S) = |S|</p> </li> <li> <p>Search:\u6bcf\u6b21\u5220\u9664/\u589e\u52a0\u4e00\u4e2a\u70b9\uff0c\u68c0\u67e5\u5269\u4e0b\u7684\u56fe\u662f\u5426\u4ecd\u4e3a\u4e00\u4e2a\u9876\u70b9\u8986\u76d6\u3002</p> </li> </ul> <p>\u4f46\u662f\uff0c\u5c40\u90e8\u641c\u7d22\u5e76\u4e0d\u662f\u4e00\u4e2a\u786e\u5b9a\u6027\u7b97\u6cd5\uff0c\u5b83\u53ef\u80fd\u4f1a\u9677\u5165\u5c40\u90e8\u6700\u4f18\u89e3\u3002</p> <p>Example</p> 123 <p></p> <p>\u8fd9\u91cc\u5c40\u90e8\u641c\u7d22\u662f\u751f\u6548\u7684\uff0c\u6700\u540e\u662f\u4e00\u4e2a\u7a7a\u96c6\u3002</p> <p></p> <p>\u8fd9\u91cc\u5c40\u90e8\u641c\u7d22\u662f\u65e0\u6548\u7684\uff0c\u53d6\u51b3\u4e8e\u6211\u4eec\u4f1a\u4e0d\u4f1a\u5220\u9664\u4e2d\u95f4\u90a3\u4e2a\u70b9\u3002</p> <p></p> <p>\u8fd9\u91cc\u5c40\u90e8\u641c\u7d22\u662f\u65e0\u6548\u7684\uff0c\u53d6\u51b3\u4e8e\u6211\u4eec\u4f1a\u4e0d\u4f1a\u5220\u9664\u4e24\u7aef\u90a3\u4e2a\u70b9\u3002</p> <p>\u6309\u6211\u4e2a\u4eba\u611f\u89c9\u6765\u770b\uff0c\u5355\u7eaf\u7684\u5c40\u90e8\u641c\u7d22\u4f1a\u4e0d\u4f1a\u9677\u5165\u5c40\u90e8\u6700\u4f18\u89e3\uff0c\u53d6\u51b3\u4e8e\u89e3\u91cc\u9762\u6bcf\u4e2a\u5143\u7d20\u662f\u4e0d\u662f\u540c\u7b49\u5730\u4f4d\u7684\uff0c\u5982\u679c\u4e0d\u662f\u7684\u8bdd\uff0c\u90a3\u5220\u9664\u7684\u9009\u62e9\u5c31\u4f1a\u5f71\u54cd\u6700\u540e\u7684\u7ed3\u679c\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u4e0d\u4ec5\u6709\u5220\u9664\u70b9\u7684\u64cd\u4f5c\uff0c\u8fd8\u6709\u6dfb\u52a0\u70b9\u7684\u64cd\u4f5c\uff0c\u6765\u8df3\u51fa\u5c40\u90e8\u6700\u4f18\u89e3\u3002</p>"},{"location":"incourse/ADS/localsearch/#the-metropolis-algorithm","title":"The Metropolis Algorithm","text":"<p>Metropolis Algorithm\u662f\u4e00\u79cd\u6a21\u62df\u9000\u706b\u7b97\u6cd5\uff0c\u5b83\u662f\u4e00\u79cd\u5c40\u90e8\u641c\u7d22\u7b97\u6cd5\u7684\u53d8\u79cd\u3002\u5b83\u7684\u57fa\u672c\u601d\u60f3\u662f\uff0c\u6211\u4eec\u5728\u641c\u7d22\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6709\u4e00\u5b9a\u7684\u6982\u7387\u63a5\u53d7\u4e00\u4e2a\u6bd4\u5f53\u524d\u89e3\u66f4\u5dee\u7684\u89e3\uff0c\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u9677\u5165\u5c40\u90e8\u6700\u4f18\u89e3\u3002</p> \u4f2a\u4ee3\u7801 from PPT<pre><code>SolutionType Metropolis()\n{   Define constants k and T;\n    Start from a feasible solution S \uf0ce FS ;\n    MinCost = cost(S);\n    while (1) {\n        S\u2019 = Randomly chosen from N(S); \n        CurrentCost = cost(S\u2019);\n        if ( CurrentCost &lt; MinCost ) {\n            MinCost = CurrentCost;    S = S\u2019;\n        }\n        else {\n            With a probability    $e^{- \\Delta \\text{cost} / KT}$ , let S = S\u2019;\n            else  break;\n        }\n    }\n    return S;\n}\n</code></pre>"},{"location":"incourse/ADS/localsearch/#hopfield-neural-networks","title":"Hopfield Neural Networks","text":"<p>\u7ed9\u5b9a\u4e00\u4e2a\u56feG(V,E)\uff0c\u5b83\u7684\u8fb9\u7684\u6743\u503c\u662f\u6574\u6570\uff0c\u4f46\u53ef\u4ee5\u662f\u8d1f\u6570\u3002\u5bf9\u4e8e\u8fb9(u,v)\uff0c\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u6743\u503c\\(w_{uv}\\)\u3002\u82e5\\(w_{uv} &lt; 0\\)\uff0c\u5219u,v\u5e0c\u671b\u662f\u4e00\u6837\u7684\u72b6\u6001(\\(\\pm 1\\));\u82e5\\(w_{uv} &gt; 0\\)\uff0c\u5219u,v\u5e0c\u671b\u662f\u4e0d\u4e00\u6837\u7684\u72b6\u6001\u3002\u7528\u6570\u5b66\u6765\u63cf\u8ff0\uff0c\u5c31\u662f</p> \\[ w_e S_u S_v &lt; 0 \\] <p>\u5176\u4e2d\\(S_u\\)\u662fu\u7684\u72b6\u6001\uff0c\\(S_v\\)\u662fv\u7684\u72b6\u6001\u3002</p> <p>\u8f93\u51fa\u4e3a\u4e00\u4e2a\u5168\u56fe\u6240\u6709\u70b9\u72b6\u6001\uff0c\u4f7f\u5f97\u6240\u6709\u7684\u8fb9\u90fd\u6ee1\u8db3\u4e0a\u8ff0\u6761\u4ef6\u3002\u7136\u800c\uff0c\u8fd9\u6837\u7684\u8981\u6c42\u5f88\u6709\u53ef\u80fd\u505a\u4e0d\u5230\uff0c\u4f8b\u5982\u4e00\u4e2a\u4e09\u89d2\u5f62\u73af\uff0c\u6bcf\u6761\u8fb9\u90fd\u662f\u6b63\u6570\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u5b9a\u4e49\u8fb9\u7684\u6743\u503c\u7684\u7edd\u5bf9\u503c\u662fthe strength of the requirement\uff0c\u5373\u6211\u4eec\u5e0c\u671b\u8fd9\u4e2a\u8fb9\u7684\u8981\u6c42\u662f\u5f3a\u7684\u8fd8\u662f\u5f31\u7684\u3002</p> <p>Definition</p> <ul> <li> <p>\u597d\u8fb9\uff1a\\(w_{u,v} S_u S_v &lt; 0\\)</p> </li> <li> <p>\u574f\u8fb9\uff1a\\(w_{u,v} S_u S_v &gt; 0\\)</p> </li> <li> <p>\u70b9\u88ab\u6ee1\u8db3(satisfied):\u5305\u542b\u8be5\u70b9\u7684\u6240\u6709\u8fb9\u52a0\u8d77\u6765\uff0c\u597d\u8fb9\u6743\u91cd\u5927\u4e8e\u7b49\u4e8e\u574f\u8fb9\u6743\u91cd</p> \\[\\sum_{v \\in N(u)} w_{u,v} S_u S_v \\leq 0\\] </li> <li> <p>Stable configuration:\u6240\u6709\u70b9\u90fd\u88ab\u6ee1\u8db3</p> </li> </ul>"},{"location":"incourse/ADS/localsearch/#state-flipping-algorithm","title":"State-flipping Algorithm","text":"\u4f2a\u4ee3\u7801 from PPT<pre><code>ConfigType State_flipping()\n{\n    Start from an arbitrary configuration S;\n    while ( ! IsStable(S) ) {\n        u = GetUnsatisfied(S);\n        s_u = - s_u;\n    }\n    return S;\n}\n</code></pre> <p>\u95ee\u9898\u6765\u4e86\uff0c\u6211\u4eec\u662f\u5426\u603b\u80fd\u627e\u5230\u4e00\u4e2astable configuration\u5462\uff1f</p> <p>\u7b54\u6848\u662f\u53ef\u4ee5\u3002\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0cState-flipping Algorithm\u5fc5\u7136\u4f1a\u5bfc\u81f4\u597d\u8fb9\u7684\u6743\u91cd\u589e\u52a0\uff0c\u7136\u800c\uff0c\u603b\u6743\u91cd\u662f\u6709\u4e0a\u9650\u7684\uff0c\u56e0\u6b64\u5728\u8c03\u6574\u5fc5\u7136\u4f1aterminate\uff0c\u800c\u4e14\u662f\u5728\u6709\u9650\u6b65\u5185\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u603b\u80fd\u627e\u5230\u4e00\u4e2astable configuration\uff0c\u5e76\u4e14\u6700\u591a\u82b1\u8d39\\(\\sum_{w \\in E} |w|\\)\u6b65\u3002</p> <p>\u7136\u800c\uff0c\u89e3\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e5f\u4e0d\u662f\u591a\u9879\u5f0f\u7ea7\u522b\u7684\u3002</p>"},{"location":"incourse/ADS/localsearch/#the-maximum-cut-problem","title":"The Maximum Cut Problem.","text":"<p>\u7ed9\u5b9a\u4e00\u4e2a\u56fe G(V, E)\uff0c\u6211\u4eec\u5e0c\u671b\u5c06\u9876\u70b9\u96c6 V \u5206\u6210\u4e24\u4e2a\u5b50\u96c6 A \u548c B\uff0c\u4f7f\u5f97\u8fde\u63a5 A \u548c B \u7684\u8fb9\u7684\u6743\u91cd\u603b\u548c\u6700\u5927\u3002</p> <p>\u8fd9\u4e2a\u95ee\u9898\u4e5f\u53ef\u4ee5\u8f6c\u6362\u4e3a\u4e00\u4e2aHopfield Neural Networks\u95ee\u9898\u3002</p> <ul> <li> <p>\u5b9a\u4e49\u6240\u6709\u8fb9\u7684\u6743\u503c\u5927\u4e8e0.</p> </li> <li> <p>\u96c6\u5408A\u5185\u7684\u70b9\u72b6\u6001\u5747\u4e3a-1.</p> </li> <li> <p>\u96c6\u5408B\u5185\u7684\u70b9\u72b6\u6001\u5747\u4e3a1\u3002</p> </li> </ul> <p>\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u95ee\u9898\u8f6c\u6362\u4e3a\u4e00\u4e2aHopfield Neural Networks\u95ee\u9898\u3002\u96c6\u5408\u5185\u7684\u8fb9\u90fd\u662f\u574f\u8fb9\uff0c\u96c6\u5408\u95f4\u7684\u8fb9\u90fd\u662f\u597d\u8fb9\u3002\u800c\u6211\u4eec\u7684\u8c03\u6574\uff0c\u5c31\u662f\u5c06\u4e00\u4e2a\u4e0d\u6ee1\u8db3\u7684\u70b9\u4ece\u4e00\u4e2a\u96c6\u5408\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u96c6\u5408\uff0c\u4e5f\u5c31\u662f\u4e0a\u9762\u7684State-flipping Algorithm\u3002\u8fd9\u6837\u4f1a\u8ba9\u597d\u8fb9\u7684\u6743\u91cd\u589e\u52a0\uff0c\u574f\u8fb9\u7684\u6743\u91cd\u51cf\u5c11\uff0c\u6700\u7ec8\u627e\u5230\u4e00\u4e2a\u6700\u5927\u503c\u3002</p>"},{"location":"incourse/ADS/localsearch/#how-good-is-this-local-optimum","title":"How good is this local optimum?","text":"<p>\u7ed3\u8bba\uff1a</p> <p>\u8bbe (A, B) \u662f\u4e00\u4e2a\u5c40\u90e8\u6700\u4f18\u5212\u5206\uff0c\u8bbe \\(w(A^*, B^*)\\) \u662f\u4e00\u4e2a\u5168\u5c40\u6700\u4f18\u5212\u5206\u3002\u90a3\u4e48 \\(w(A, B) \\geq \\frac{1}{2}w(A^*, B^*)\\)\u3002</p> <p>Big-improvement flip</p> <p></p>"},{"location":"incourse/ADS/localsearch/#try-a-better-local","title":"Try a better local?","text":"<p>\u5f53\u5c40\u90e8\u641c\u7d22\u65f6\uff0c\u90bb\u57df\u5e94\u8be5\u8db3\u591f\u4e30\u5bcc\uff0c\u4ee5\u907f\u514d\u9677\u5165\u4e0d\u7406\u60f3\u7684\u5c40\u90e8\u6700\u4f18\uff1b\u4f46\u90bb\u57df\u4e0d\u5b9c\u8fc7\u5927\uff0c\u56e0\u4e3a\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u9ad8\u6548\u5730\u641c\u7d22\u53ef\u80fd\u7684\u5c40\u90e8\u8c03\u6574\u3002</p>"},{"location":"incourse/ADS/localsearch/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>\u4f8b\u9898</p> T1T2T3T4T5T6 <p></p> \u89e3\u6790 <p>T.\u5220\u9664\u4e86\u56fe\u4e2d\u8fd9\u4e2a\u9ed1\u8272\u7684\u70b9\u540e\uff0c\u5f88\u663e\u7136\u53ea\u80fd\u5220\u6389\u6700\u4e0b\u9762\u4e24\u4e2a\u70b9\uff0c\u4fdd\u7559\u4e86\u4e2d\u95f4\u7684\u70b9\uff0c\u56e0\u6b64\u662f\u6700\u4f18\u7684\u3002</p> <p></p> \u89e3\u6790 <p>F.\u53cd\u4f8b\u89c1\u6b64</p> <p>\u5176\u5b9e\uff0c\u8fd9\u91cc\u7684\u5c40\u90e8\u641c\u7d22\u7684\u95ee\u9898\u5c31\u5728\u4e8e\u5b83\u53ef\u80fd\u4f1a\u5c06\u4e24\u4e2a\u5f88\u8fd1\u7684\u70b9\u5212\u5206\u5230\u4e0d\u540c\u7684set\u5f53\u4e2d\uff0c\u56e0\u4e3a\u4e00\u5f00\u59cb\u7684\\(c_i\\)\u662f\u968f\u673a\u843d\u70b9\u7684\uff0c\u6240\u4ee5\u8fd9\u4e2a\u95ee\u9898\u662f\u6709\u53ef\u80fd\u53d1\u751f\u7684\u3002\u800c\u8fd9\u79cd\u60c5\u51b5\u5f97\u5230\u7684\u8ddd\u79bb\u80af\u5b9a\u662f\u8fdc\u5927\u4e8e\u6700\u4f18\u89e3\u7684\u3002</p> <p>\u8bbe\u60f3\u6709\u4e00\u4e2a\u957f\u65b9\u5f62\uff0c\u957f\u8fb9\u65e0\u9650\u957f\uff0c\u77ed\u8fb9\u65e0\u9650\u77ed\uff0c\u56db\u4e2a\u70b9\u5206\u522b\u5728\u56db\u4e2a\u89d2\u4e0a\uff0c\u5f88\u663e\u7136\u6700\u4f18\u89e3\u7684\u5706\u5fc3\u80af\u5b9a\u5728\u77ed\u8fb9\u4e0a\uff0c\u4f46\u5982\u679c\u4e00\u5f00\u59cb\u7684\u968f\u673a\u7684\u5706\u5fc3\u843d\u5230\u4e86\u957f\u8fb9\u7684\u4e2d\u70b9\uff0c\u90a3\u5c31\u5bc4\u4e86\u3002</p> <p></p> \u89e3\u6790 <p>T.search space\u4e0eneighborhood\u4e0d\u540c\uff0csearch space\u6307\u7684\u662f\u6240\u6709\u53ef\u80fd\u7684\u89e3\uff0c\u800cneighborhood\u6307\u7684\u662f\u4e0e\u5f53\u524d\u89e3\u76f8\u90bb\u7684\u89e3\u3002SAT\u95ee\u9898\u4e2d\uff0cN\u4e2a\u53d8\u91cf\uff0c\u6bcf\u4e2a\u53ef\u4ee5\u53d60\u62161\uff0c\u90a3\u4e48search space\u5c31\u6709\\(2^N\\)\u4e2a\u89e3.N-Queens\u95ee\u9898\u4e2d\uff0c\u6bcf\u4e2a\u7687\u540e\u53ef\u4ee5\u653e\u5728N\u4e2a\u4f4d\u7f6e\uff0c\u90a3\u4e48search space\u5c31\u6709\\(N^N\\)\u4e2a\u89e3\u3002</p> <p></p> \u89e3\u6790 <p>B.\u6ca1\u6709\u592a\u770b\u61c2\uff0c\u4f46\u662f\u6211\u611f\u89c9Max Leaf Spanning Tree\u548cMax Degree Spanning Tree\u7684cost[T]\u5b9a\u4e49\u7684\u662f\u4e0d\u662f\u6709\u95ee\u9898?\u9898\u76ee\u91cc\u8bf4\u7684\u662f\u5411cost[T]\u51cf\u5c0f\u7684\u65b9\u5411\u8d70\u3002</p> <p></p> \u89e3\u6790 <p>A:\u6bcf\u6b21\u64cd\u4f5c\u90fd\u4f1a\u5bfc\u81f4dif\u51cf\u5c0f\uff0c\u7136\u800cdif\u6700\u5c0f\u662f0\uff0c\u56e0\u6b64\u80af\u5b9a\u4f1a\u7ec8\u6b62\uff0c\u6545\u9519\u8bef\u3002</p> <p>B:\u6b63\u786e\uff0c\u79fb\u8fc7\u53bb\u7684\u4e0d\u4f1a\u518d\u79fb\u56de\u6765\uff0c\u56e0\u6b64\u6700\u591an\u6b21\u3002</p> <p>C\uff1a\u8003\u8651{1,2,3,4,5}={1,2,3}+{4,5}.\u7406\u8bba\u6700\u4f18\u89e3\u662f{1,2,5}+{3,4},dif=1.\u7136\u800c\u5c40\u90e8\u641c\u7d22\u79fb\u52a8\u65f6\uff0c\u5b8c\u5168\u52a8\u4e0d\u4e86\uff0c\u56e0\u4e3a\u4e0d\u7ba1\u79fb\u54ea\u4e2a\u90fd\u8fdd\u80cc\u4e86\"we only move a job if the move decreases the absolute difference\"\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5c40\u90e8\u641c\u7d22\u592a\u77ed\u89c6\u4e86\uff0c\u770b\u4e0d\u5230\u6682\u65f6\u7684\u727a\u7272\u4e3a\u4e86\u957f\u8fdc\u7684\u5229\u76ca\u3002</p> <p>D\uff1a\u9519\u8bef\u3002\u8003\u8651{1,2,100}={1,2}+{100}</p> <p></p> \u89e3\u6790 <p>\u89c1\u4e0a\u56fe\u7ed3\u8bba</p>"},{"location":"incourse/ADS/np/","title":"NP Completeness","text":"<p> \u7ea6 2195 \u4e2a\u5b57  7 \u884c\u4ee3\u7801  11 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p> <p>P\u4e0eNP</p> <p>P\u7684\u610f\u601d\u662f\u201cPolynomial\u201d\uff0c\u591a\u9879\u5f0f\u65f6\u95f4\u53ef\u89e3\u51b3\uff0c</p> <p>NP\u662f\u201cNondeterministic Polynomial time\u201d\u7684\u7f29\u5199\uff0c\u6307\u7684\u662f\u5728\u975e\u786e\u5b9a\u6027\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u53ef\u4ee5\u9a8c\u8bc1\u89e3\u7684\u95ee\u9898\u96c6\u5408\u3002</p>"},{"location":"incourse/ADS/np/#halting-problem","title":"Halting problem","text":"<p>Warning</p> <p>Is it possible to have your C compiler detect all infinite loops?</p> <p>\u7b54\u6848\u662f\u5426</p> <p>\u5047\u8bbe\u6211\u4eec\u6709\u8fd9\u6837\u7684\u4e00\u4e2a\u51fd\u6570H(P,I),\u53ef\u4ee5\u5224\u65ad\u51fd\u6570P\u5728\u8f93\u5165I\u662f\u662f\u5426\u4e3a\u6b7b\u5faa\u73af\uff0c\u5982\u679c\u662f\uff0c\u8fd4\u56de1\uff0c\u4e0d\u7136\u8fd4\u56de0.</p> <p>\u6839\u636eH\u6211\u4eec\u53ef\u4ee5\u6784\u9020\u4e00\u4e2aU(P):</p> <pre><code>U(P){\n    if(H(P,P))//\u5982\u679c\u662f\u6b7b\u5faa\u73af\n        break;\n    else//\u5982\u679c\u4e0d\u662f\u6b7b\u5faa\u73af\n        infinite_loop();//\u8ba9\u51fd\u6570\u9677\u5165\u6b7b\u5faa\u73af\n}\n</code></pre> <p>\u8003\u8651U(U)\u7684\u8c03\u7528\u7ed3\u679c:</p> <p>Tip</p> <p>\u5982\u679c\u662f\u6b7b\u5faa\u73af\uff0c\u5219H(U,U)\u4e3a1\uff0c\u8fdb\u5165break\uff0c\u6211\u4eec\u5728U(U)\u662f\u6b7b\u5faa\u73af\u7684\u57fa\u7840\u4e0a\u63a8\u51faU(U)\u4e0d\u662f\u6b7b\u5faa\u73af\u3002</p> <p>\u4e0d\u7136\uff0c\u5219\u8fdb\u5165\u6b7b\u5faa\u73af\uff0c\u6211\u4eec\u5728U(U)\u4e0d\u662f\u6b7b\u5faa\u73af\u7684\u57fa\u7840\u4e0a\u63a8\u51faU(U)\u662f\u6b7b\u5faa\u73af\u3002</p> <p>\u7efc\u4e0a\u6240\u8ff0\uff0c\u4e0d\u5b58\u5728\u8fd9\u6837\u7684H,\u4e0d\u7136\uff0c\u6211\u4eec\u603b\u53ef\u4ee5\u6784\u9020\u51fa\u4e00\u4e2aU\u9020\u6210\u77db\u76fe\u3002</p>"},{"location":"incourse/ADS/np/#\u56fe\u7075\u673a","title":"\u56fe\u7075\u673a","text":""},{"location":"incourse/ADS/np/#deterministic-turing-machine","title":"Deterministic Turing Machine","text":"<p>\u786e\u5b9a\u6027\u56fe\u7075\u673a\u6307\u7684\u662f\u673a\u5668\u6839\u636e\u6307\u4ee4\u524d\u5f80\u4e00\u4e2a\u7279\u5b9a\u7684\u5730\u65b9\u3002</p> <p>from PPT</p> <p>A Deterministic Turing Machine executes one instruction at each point in time.  Then depending on the instruction, it goes to the next unique instruction.</p>"},{"location":"incourse/ADS/np/#nondeterministic-turing-machine","title":"Nondeterministic Turing Machine","text":"<p>\u975e\u786e\u5b9a\u578b\u56fe\u7075\u673a\u4e2d\uff0c\u673a\u5668\u53ef\u4ee5\u81ea\u7531\u9009\u62e9\u4e0b\u4e00\u6b65\u505a\u4ec0\u4e48\uff0c\u5e76\u603b\u662f\u9009\u62e9\u6b63\u786e\u7b54\u6848\u3002</p> <p>from PPT</p> <p>A Nondeterministic Turing Machine is free to choose its next step from a finite set.  And if one of these steps leads to a solution, it will always choose the correct one.</p>"},{"location":"incourse/ADS/np/#true-np","title":"True NP!","text":"<p>\u4e00\u4e2a\u95ee\u9898\u662fNP\u7684\uff0c\u610f\u5473\u7740\u867d\u7136\u6211\u4eec\u4e0d\u77e5\u9053\u80fd\u4e0d\u80fd\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u627e\u5230\u5b83\u7684\u89e3\uff0c\u4f46\u5bf9\u4e8e\u4efb\u4f55\u4e00\u4e2a\u53ef\u80fd\u7684\u89e3\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u9a8c\u8bc1\u5b83\u662f\u5426\u662f\u6b63\u786e\u7684\u3002</p> <p>Warning</p> <p>Not all decidable problems are in NP.  For example, consider the problem of determining whether a graph does not have a Hamiltonian cycle.</p> <p>\u663e\u7136,</p> \\[ P \\subset NP \\]"},{"location":"incourse/ADS/np/#np\u5b8c\u5168","title":"NP\u5b8c\u5168","text":"<p>NPC\u95ee\u9898\u662fNP\u95ee\u9898\u91cc\u6700\"\u96be\"\u7684\u95ee\u9898\u3002</p> <p>polynomial reduce</p> <p>\u95ee\u9898\u7684\u96be\u5ea6:\u5982\u679c\u6211\u4eec\u80fd\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u7684\u590d\u6742\u5ea6\u5185\uff0c\u5c06\u95ee\u9898 A \u8f6c\u5316\u4e3a\u95ee\u9898 B\uff0c\u5219\u79f0\u95ee\u9898 A \u53ef\u4ee5\u591a\u9879\u5f0f\u65f6\u95f4\u5f52\u7ea6(polynomial reduce)\u4e3a B\uff0c\u8bb0\u4e3a $A \\leq_p B $\uff0c\u8868\u793a A \u4e0d\u4f1a\u6bd4 B \u96be\u3002</p> <p>\u90a3\u4e48\uff0c\u5982\u679c\u6211\u4eec\u80fd\u8bc1\u660e\u4efb\u4f55\u4e00\u4e2aNPC\u95ee\u9898\u53ef\u4ee5\u5728\u591a\u9879\u5f0f\u590d\u6742\u5ea6\u5185\u89e3\u51b3\uff0c\u90a3\u4e48\u6240\u6709\u7684NP\u95ee\u9898\u90fd\u53ef\u4ee5\u5728\u591a\u9879\u5f0f\u590d\u6742\u5ea6\u5185\u89e3\u51b3\uff0c\u90a3\u4e48\u5c31\u6709</p> \\[ P=NP \\]"},{"location":"incourse/ADS/np/#traveling-salesman-problem","title":"Traveling salesman problem","text":"<p>Definition</p> Hamiltonian cycle problemTraveling salesman problem <p>Given a graph G=(V, E), is there a simple cycle that visits all vertices?</p> <p>Given a complete graph G=(V, E), with edge costs, and an integer K, is there a simple cycle that visits all vertices and has total cost \\(\\leq\\) K?</p> <p>\u5982\u4f55\u8bc1\u660eTSP\u662f\u4e00\u4e2aNPC\u95ee\u9898?</p> <p>\u5047\u8bbe\u6211\u4eec\u5df2\u7ecf\u77e5\u9053Hamiltonian cycle problem\u662f\u4e00\u4e2aNPC\u95ee\u9898\u3002</p> <p>\u9996\u5148\uff0cTSP\u95ee\u9898\u663e\u7136\u662f\u4e00\u4e2aNP\u95ee\u9898\uff0c\u56e0\u4e3a\u4efb\u4f55\u4e00\u4e2a\u5b83\u7684\u53ef\u80fd\u89e3\uff0c\u90fd\u53ef\u4ee5\u5728\\(O(N)\\)\u7684\u65f6\u95f4\u8303\u56f4\u5185\u5f97\u5230\u9a8c\u8bc1\u3002</p> <p>\u5176\u6b21\uff0c\u5bf9\u4e8e\u4efb\u4f55\u4e00\u4e2a\u56de\u8def\u662f\u5426\u6709Hamiltonian cycle,\u6211\u4eec\u53ef\u4ee5\u4f5c\u5982\u4e0b\u601d\u8003</p> <p>Hamiltonian cycle\u4e0eTSP\u7684\u8f6c\u6362</p> Graph for Hamiltonian cycleExtended Graph for TSP <p></p> <p></p> <p>\u6211\u4eec\u5728\u628a\u4e00\u4e2a\u56fe\u62d3\u5c55\u4e3a\u5b8c\u5168\u56fe\u65f6\uff0c\u5c06\u56fe\u539f\u6765\u5c31\u6709\u7684\u8fb9\u6743\u503c\u5b9a\u4e49\u4e3a1\uff0c\u65b0\u6dfb\u52a0\u7684\u8fb9\u6743\u503c\u5b9a\u4e49\u4e3a2\uff0c\u90a3\u4e48\u5bf9\u4e8e\u539f\u6765\u7684\u56fe\u662f\u5426\u6709Hamiltonian cycle\uff0c\u5c31\u53ef\u4ee5\u8f6c\u6362\u4e3a\u62d3\u5c55\u540e\u7684\u5b8c\u5168\u56fe\u5728TSP\u95ee\u9898\u4e0a\u662f\u5426\u6709\u89e3\u7684\u95ee\u9898(\u4ee4K = |v|)\u3002</p> <p>\u7531\u4e8e\u5b8c\u5168\u56fe\u7684\u8fb9\u6570\u4e3a\\(\\frac{n(n+1)}{2}\\),\u56e0\u6b64\u8fd9\u4e2a\u8f6c\u6362\u8fc7\u7a0b\u662f\u591a\u9879\u5f0f\u65f6\u95f4\u590d\u6742\u5ea6\u7684\u3002\u7efc\u4e0a\uff0c\u6211\u4eec\u4eceHamiltonian cycle\u662fNPC\u95ee\u9898\u63a8\u51fa\u4e86TSP\u662fNPC\u95ee\u9898\u3002</p> \u7b2c\u4e00\u4e2aNPC\u95ee\u9898\u4ece\u4f55\u800c\u6765 <p>The first problem that was proven to be NP-complete was the Satisfiability problem (Circuit-SAT): Input a boolean expression and ask if it has an assignment to the variables that gives the expression a value of 1.</p> <p>Cook showed in 1971 that all the problems in NP could be polynomially transformed to Satisfiability.  He proved it by solving this problem on a nondeterministic Turing machine in polynomial time.</p>"},{"location":"incourse/ADS/np/#formal-language-theory","title":"Formal-language Theory","text":""},{"location":"incourse/ADS/np/#\u5b57\u6bcd\u8868","title":"\u5b57\u6bcd\u8868","text":"<ul> <li>\u5b57\u6bcd\u8868\uff08\\(\\Sigma\\)\uff09\uff1a\u4e00\u4e2a\u6709\u9650\u7684\u7b26\u53f7\u96c6\u5408\u3002</li> </ul>"},{"location":"incourse/ADS/np/#\u8bed\u8a00","title":"\u8bed\u8a00","text":"<ul> <li>\u8bed\u8a00\uff08\\(L\\)\uff09\uff1a\u7531\u5b57\u6bcd\u8868 \\(\\Sigma\\) \u4e2d\u7b26\u53f7\u7ec4\u6210\u7684\u5b57\u7b26\u4e32\u96c6\u5408\u3002</li> <li>\u7a7a\u5b57\u7b26\u4e32\uff1a\u7528 \\(\\varepsilon\\) \u8868\u793a\u3002</li> <li>\u7a7a\u8bed\u8a00\uff1a\u7528 \\(\\emptyset\\) \u8868\u793a\u3002</li> <li>\u6240\u6709\u5b57\u7b26\u4e32\u7684\u8bed\u8a00\uff1a\u7528 \\(\\Sigma^*\\) \u8868\u793a\u3002</li> <li>\u8865\u96c6\uff1a\\(L\\) \u7684\u8865\u96c6\u8868\u793a\u4e3a $ \\Sigma ^* - L$\u3002</li> </ul>"},{"location":"incourse/ADS/np/#\u8bed\u8a00\u7684\u8fd0\u7b97","title":"\u8bed\u8a00\u7684\u8fd0\u7b97","text":"<ul> <li> <p>\u8fde\u63a5\uff1a</p> <ul> <li>\u4e24\u4e2a\u8bed\u8a00 \\(L_1\\) \u548c \\(L_2\\) \u7684\u8fde\u63a5\u662f\uff1a<ul> <li>\\(L = \\{ x_1x_2 \\mid x_1 \\in L_1 \\text{ \u4e14 } x_2 \\in L_2 \\}\\)\u3002</li> </ul> </li> </ul> </li> <li> <p>\u95ed\u5305\uff08\u514b\u6797\u661f\u95ed\u5305\uff0cKleene star\uff09\uff1a</p> <ul> <li>\u8bed\u8a00 \\(L\\) \u7684\u95ed\u5305\u8868\u793a\u4e3a \\(L^*\\)\uff0c\u5b9a\u4e49\u4e3a\uff1a<ul> <li>\\(L^* = \\{\\varepsilon\\} \\cup L \\cup L^2 \\cup L^3 \\cup \\dots\\)\uff0c</li> <li>\u5176\u4e2d \\(L^k\\) \u662f\u901a\u8fc7\u5c06 \\(L\\) \u81ea\u8eab\u8fde\u63a5 \\(k\\) \u6b21\u5f97\u5230\u7684\u8bed\u8a00\u3002</li> </ul> </li> </ul> </li> </ul>"},{"location":"incourse/ADS/np/#\u7b97\u6cd5\u4e0e\u8bed\u8a00\u7684\u51b3\u5b9a","title":"\u7b97\u6cd5\u4e0e\u8bed\u8a00\u7684\u51b3\u5b9a","text":"<ul> <li>Accept:\u7b97\u6cd5 \\(A\\) \u63a5\u53d7\u5b57\u7b26\u4e32 \\(x \\in \\{0, 1\\}^*\\) \u5f53\u4e14\u4ec5\u5f53 \\(A(x) = 1\\)\u3002</li> <li>Reject:\u7b97\u6cd5 \\(A\\) \u62d2\u7edd\u5b57\u7b26\u4e32 \\(x\\) \u5f53\u4e14\u4ec5\u5f53 \\(A(x) = 0\\)\u3002</li> <li>Decide:\u5982\u679c\u6bcf\u4e00\u4e2a\u5c5e\u4e8e\u8bed\u8a00 \\(L\\) \u7684\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\u90fd\u88ab\u7b97\u6cd5 \\(A\\) \u63a5\u53d7\uff0c\u5e76\u4e14\u6bcf\u4e00\u4e2a\u4e0d\u5c5e\u4e8e \\(L\\) \u7684\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\u90fd\u88ab\u7b97\u6cd5 \\(A\\) \u62d2\u7edd\uff0c\u90a3\u4e48\u7b97\u6cd5 \\(A\\) \u51b3\u5b9a\u4e86\u8bed\u8a00 \\(L\\)\u3002</li> <li>\u4e3a\u4e86\u63a5\u53d7\u4e00\u4e2a\u8bed\u8a00\uff0c\u7b97\u6cd5\u53ea\u9700\u8981\u5904\u7406\u5c5e\u4e8e \\(L\\) \u7684\u5b57\u7b26\u4e32\uff1b\u4f46\u8981\u51b3\u5b9a\u4e00\u4e2a\u8bed\u8a00\uff0c\u7b97\u6cd5\u5fc5\u987b\u6b63\u786e\u5730\u63a5\u53d7\u6216\u62d2\u7edd \\(\\{0, 1\\}^*\\) \u4e2d\u7684\u6bcf\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002</li> </ul>"},{"location":"incourse/ADS/np/#np-\u7c7b\u7684\u8bed\u8a00","title":"NP \u7c7b\u7684\u8bed\u8a00","text":"<ul> <li>\u5b9a\u4e49\uff1a\u4e00\u4e2a\u8bed\u8a00 \\(L\\) \u5c5e\u4e8e NP\uff0c\u5f53\u4e14\u4ec5\u5f53\u5b58\u5728\u4e00\u4e2a\u53cc\u8f93\u5165\u7684\u591a\u9879\u5f0f\u65f6\u95f4\u7b97\u6cd5 \\(A\\) \u548c\u4e00\u4e2a\u5e38\u6570 \\(c\\)\uff0c\u6ee1\u8db3     $$     L = { x \\in {0, 1}^* \\mid \\exists y \\text{\uff0c\u4e14 } |y| = O(|x|^c) \\text{ \u4e14 } A(x, y) = 1 }\u3002     $$     \u6362\u53e5\u8bdd\u8bf4\uff0c\u7b97\u6cd5 \\(A\\) \u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u9a8c\u8bc1\u8bed\u8a00 \\(L\\)\u3002</li> </ul>"},{"location":"incourse/ADS/np/#\u8bed\u8a00\u7684\u591a\u9879\u5f0f\u7ea6\u5316","title":"\u8bed\u8a00\u7684\u591a\u9879\u5f0f\u7ea6\u5316","text":"<p>L1 is polynomial-time reducible to a language L2 ( \\(L1 \\leq_P L2\\) ) </p> <p>\u8bed\u8a00 \\(L_1\\) \u53ef\u4ee5\u591a\u9879\u5f0f\u7ea6\u5316\u5230\u8bed\u8a00 \\(L_2\\)\uff0c\u5f53\u4e14\u4ec5\u5f53\u5b58\u5728\u4e00\u4e2a\u591a\u9879\u5f0f\u65f6\u95f4\u7b97\u6cd5 \\(A\\)\uff0c\u4f7f\u5f97\u5bf9\u4e8e\u6240\u6709\u7684\u5b57\u7b26\u4e32 \\(x\\)\uff0c\\(x \\in L_1\\) \u5f53\u4e14\u4ec5\u5f53 \\(A(x) \\in L_2\\)\u3002</p>"},{"location":"incourse/ADS/np/#clique-problem\u4e0evertex-cover-problem","title":"Clique problem\u4e0eVertex cover problem","text":""},{"location":"incourse/ADS/np/#clique-problem","title":"Clique problem","text":"<p>\u5b9a\u4e49\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u65e0\u5411\u56fe \\(G\\) \u548c\u4e00\u4e2a\u6574\u6570 \\(k\\)\uff0c\u5224\u65ad \\(G\\) \u4e2d\u662f\u5426\u5b58\u5728\u4e00\u4e2a\u5305\u542b \\(k\\) \u4e2a\u9876\u70b9\u7684\u5b8c\u5168\u5b50\u56fe\uff08clique\uff09\u3002</p>"},{"location":"incourse/ADS/np/#vertex-cover-problem","title":"Vertex cover problem","text":"<p>\u5b9a\u4e49\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u65e0\u5411\u56fe \\(G\\) \u548c\u4e00\u4e2a\u6574\u6570 \\(k\\)\uff0c\u5224\u65ad \\(G\\) \u4e2d\u662f\u5426\u5b58\u5728\u4e00\u4e2a\u5305\u542b\u81f3\u591a\\(k\\)\u4e2a\u9876\u70b9\u7684\u5b50\u56fe\uff0c\u5e76\u4e14\\(G\\)\u4e2d\u7684\u6bcf\u6761\u8fb9\u90fd\u81f3\u5c11\u6709\u4e00\u4e2a\u7aef\u70b9\u5728\u8fd9\u4e2a\u5b50\u56fe\u4e2d\u3002</p>"},{"location":"incourse/ADS/np/#npc\u8bc1\u660e","title":"NPC\u8bc1\u660e","text":"<p>\u5047\u8bbe\u6211\u4eec\u73b0\u5728\u5df2\u7ecf\u77e5\u9053Clique problem\u662f\u4e00\u4e2aNPC\u95ee\u9898\uff0c\u6211\u4eec\u6765\u8bc1\u660eVertex cover problem\u4e5f\u662f\u4e00\u4e2aNPC\u95ee\u9898\u3002</p> <p>Proof</p> Vertex cover problem \\(\\in\\) NPCLIQUE \\(\\leq_p\\) VERTEX-COVER  <p>\u9996\u5148\uff0c\u68c0\u67e5\u4e00\u4e2a\u89e3\\(V^{'}\\)\u7684\u9876\u70b9\u6570\u3002\u7136\u540e\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u6761\u8fb9(u,v)\uff0c\u68c0\u67e5\u662f\u5426\u6ee1\u8db3\\(u \\in V^{'} \\text{or }  v \\in V^{'}\\).\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\\(O(N^2)\\)</p> <p>\u8003\u8651\u8fd9\u6837\u7684\\(G\\)\u4e0e\\(\\bar G\\)</p> G\\(\\bar G\\) <p></p> <p></p> <p>\u82e5\\(\\bar G\\)\u6709size\u4e3a\\(\\left| V \\right| - K\\)\u7684\u70b9\u8986\u76d6\uff0c\u5219G\u6709size\u4e3aK\u7684clique</p> =&gt;&lt;= <p>\u82e5 \\(G\\) \u6709\u4e00\u4e2a\u5927\u5c0f\u4e3a \\(K\\) \u7684\u56e2 \\(V' \\subseteq V\\),\u8bbe \\((u, v)\\) \u4e3a \\(\\bar E\\) \u4e2d\u7684\u4efb\u610f\u4e00\u6761\u8fb9(E\u662fG\u4e2d\u8fb9\u7684\u96c6\u5408,\\(\\bar E\\)\u5c31\u662f\u5b8c\u5168\u56fe\u51cf\u53bb\u539f\u6765\u6709\u7684\u8fb9\u7684\u96c6\u5408,\u4e5f\u5c31\u662f\\(\\bar G\\)\u4e2d\u8fb9\u7684\u96c6\u5408)\u3002</p> <p>\u5219:</p> <ul> <li> <p>\u81f3\u5c11 \\(u\\) \u6216 \\(v\\) \u4e2d\u7684\u4e00\u4e2a\u4e0d\u5c5e\u4e8e \\(V'\\)</p> </li> <li> <p>\u81f3\u5c11 \\(u\\) \u6216 \\(v\\) \u4e2d\u7684\u4e00\u4e2a\u5c5e\u4e8e \\(V - V'\\)</p> </li> </ul> <p>\u6240\u4ee5\\(\\bar G\\) \u7684\u6bcf\u4e00\u6761\u8fb9\u90fd\u88ab \\(V - V'\\) \u4e2d\u7684\u4e00\u4e2a\u9876\u70b9\u8986\u76d6</p> <p>\u56e0\u6b64\uff0c\u96c6\u5408 \\(V - V'\\)\uff0c\u5176\u5927\u5c0f\u4e3a \\(|V| - K\\)\uff0c\u6784\u6210\u4e86 \\(\\bar G\\) \u7684\u4e00\u4e2a\u9876\u70b9\u8986\u76d6\u3002</p> <p>\u82e5 \\(\\bar G\\) \u6709\u4e00\u4e2a\u5927\u5c0f\u4e3a \\(|V| - K\\) \u7684\u9876\u70b9\u8986\u76d6 \\(V' \\subseteq V\\)</p> <p>\u5bf9\u4e8e\u6240\u6709 \\(u, v \\in V\\)\uff0c\u5982\u679c \\((u, v) \\notin E\\)\uff0c\u5219 \\(u \\in V'\\) \u6216 \\(v \\in V'\\) \u6216\u4e24\u8005\u90fd\u5c5e\u3002</p> <p>\u5bf9\u4e8e\u6240\u6709 \\(u, v \\in V\\)\uff0c\u5982\u679c \\(u \\notin V'\\) \u4e14 \\(v \\notin V'\\)\uff0c\u5219 \\((u, v) \\in E\\)\u3002</p> <p>\u56e0\u6b64\uff0c\\(V - V'\\) \u662f\u4e00\u4e2a\u56e2\uff0c\u5e76\u4e14\u5b83\u6709\u5927\u5c0f \\(|V| - |V'| = K\\)\u3002</p> <p>\u6700\u540e\uff0c\u7531\u4e8eG\u5230\\(\\bar G\\)\u7684\u8f6c\u53d8\u662f\\(O(N^2)\\)\u590d\u6742\u5ea6\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u6709CLIQUE \\(\\leq_p\\) VERTEX-COVER\u3002</p> <p>\u7efc\u4e0a\uff0c\u6211\u4eec\u8bc1\u660e\u4e86Vertex cover problem \u4e5f\u662fNPC\u95ee\u9898\u3002</p>"},{"location":"incourse/ADS/np/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>\u4f8b\u9898</p> T1T2T3T4T5T6T7 <p></p> \u89e3\u6790 <p>T.\u8fd9\u91cc\u4f7f\u7528\u591a\u9879\u5f0f\u89c4\u7ea6\u7684\u6bd4\u8f83\uff0c\u8bc1\u660e \\(L_1 \\leq_P L_2\\)\u3002\u90a3\u4e48\u5982\u679c \\(L_2\\) \u662f NP \u95ee\u9898\uff0c\u90a3\u4e48 \\(L_1\\) \u4e5f\u662f NP \u95ee\u9898\u3002</p> <p></p> \u89e3\u6790 <p>T.NPC\u95ee\u9898\u662f NP \u95ee\u9898\u7684\u6700\u96be\u95ee\u9898\u3002</p> <p></p> \u89e3\u6790 <p>F.\u4e0d\u662f\u6240\u6709\u7684\u8bed\u8a00\u90fd\u53ef\u4ee5\u88ab\u975e\u51b3\u5b9a\u6027\u56fe\u7075\u673a\u51b3\u5b9a\uff0c\u53ea\u6709\u9012\u5f52\u53ef\u5224\u5b9a\u7684\u8bed\u8a00\u624d\u80fd\u88ab\u56fe\u7075\u673a\uff08\u5305\u62ec\u975e\u786e\u5b9a\u6027\u56fe\u7075\u673a\uff09\u51b3\u5b9a.</p> <p></p> \u89e3\u6790 <p>T.\u8fd9\u5c31\u662fNP\u95ee\u9898\u7684\u5b9a\u4e49:\u7531\u975e\u786e\u5b9a\u6027\u56fe\u7075\u673a\u53ef\u4ee5\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u89e3\u51b3\u3002</p> <p></p> \u89e3\u6790 <p>F.\u4f8b\u5982\u80cc\u5305\u95ee\u9898\u3002</p> <p></p> \u89e3\u6790 <p>B.\u505c\u673a\u95ee\u9898\u662f\u4e0d\u53ef\u5224\u5b9a\u7684\uff0c\u4e0d\u662fP\u6216\u8005NP\u95ee\u9898\u3002</p> <p></p> \u89e3\u6790 <p>B\u3002SAT\u95ee\u9898\u662f\u4e00\u4e2aNPC\u95ee\u9898\u3002\u56e0\u6b64\u4e00\u4e2a\u53ef\u4ee5\u7528\u591a\u9879\u5f0f\u65f6\u95f4\u89e3\u51b3SAT\u95ee\u9898\u7684\u7b97\u6cd5\u5fc5\u7136\u53ef\u4ee5\u89e3\u51b3Q\u95ee\u9898\u3002\u53cd\u4e4b\uff0c\u7531\u4e8eQ\u4e0d\u4e00\u5b9a\u662fNPC\u95ee\u9898\uff0c\u56e0\u6b64\u80fd\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u89e3\u51b3Q\u95ee\u9898\u7684\u7b97\u6cd5\u4e0d\u4e00\u5b9a\u80fd\u89e3\u51b3SAT\u95ee\u9898\u3002</p>"},{"location":"incourse/ADS/parall/","title":"\u5e76\u53d1\u8ba1\u7b97","text":"<p>Warning</p> <p>\u8fd9\u90e8\u5206\u5199\u5f97\u7565\u6df7\u4e71\uff0c\u53ef\u4ee5\u79fb\u6b65Bruce\u7684\u7b14\u8bb0</p>"},{"location":"incourse/ADS/parall/#\u5e76\u53d1\u8ba1\u7b97","title":"\u5e76\u53d1\u8ba1\u7b97","text":"<p> \u7ea6 2867 \u4e2a\u5b57  44 \u884c\u4ee3\u7801  18 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p> <p>\u5e76\u53d1\u8ba1\u7b97\u6709\u4e24\u79cd\u7c7b\u578b:</p> <ul> <li> <p>\u6307\u4ee4\u96c6\u7684\u5e76\u53d1(Machine parallelism)\uff1a\u5904\u7406\u5668\u7684\u591a\u6838\u5fc3\uff0c\u6d41\u6c34\u7ebf\u7b49</p> </li> <li> <p>\u5e76\u53d1\u7b97\u6cd5(Parallel algorithms)\uff1a\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u6267\u884c</p> </li> </ul> <p>\u8fd9\u91cc\u6211\u4eec\u4e3b\u8981\u8ba8\u8bba\u5e76\u53d1\u7b97\u6cd5\u3002\u5e76\u53d1\u7b97\u6cd5\u53c8\u6709\u4e24\u79cd\u65b9\u5f0f\u63cf\u8ff0\uff1a</p> <ul> <li> <p>PRAM: \u5e76\u884c\u968f\u673a\u8bbf\u95ee\u673a\u5668(Parallel Random Access Machine)</p> </li> <li> <p>WD: \u5de5\u4f5c\u6df1\u5ea6(Work Depth)</p> </li> </ul>"},{"location":"incourse/ADS/parall/#pram","title":"PRAM","text":"<p>\u5047\u8bbe\u6211\u4eec\u6709\\(P_1,P_2,\\cdots,P_n\\)\u4e2a\u5904\u7406\u5668\uff0c\u6240\u6709\u7684\u5904\u7406\u5668\u5171\u4eab\u4e00\u5757\u5185\u5b58\u3002\u4e3a\u65b9\u4fbf\u8ba8\u8bba\uff0c\u6211\u4eec\u8ba4\u4e3a\u8bfb/\u5199/\u8ba1\u7b97\u90fd\u662f\u82b1\u8d39\u4e00\u4e2a\u5355\u4f4d\u65f6\u95f4\u7684\u3002</p> <p>\u4f8b\u5982\uff0c\u5982\u679c\u6211\u4eec\u60f3\u628aB\u6570\u7ec4\u91cc\u7684\u5185\u5bb9\u5199\u5230A\u6570\u7ec4\u91cc\uff0c\u5728n\u4e2a\u5904\u7406\u5668\u7684\u60c5\u51b5\u4e0b\u53ea\u9700\u8981\\(O(1)\\)\u7684\u65f6\u95f4\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u5904\u7406\u5668\u53ea\u8d1f\u8d23\u5199\u4e00\u4e2a\u5143\u7d20\u3002</p> <p>\u4f46\u662f\uff0c\u5bf9\u4e8e\u591a\u4e2a\u5904\u7406\u5668\u540c\u65f6\u8bbf\u95ee\u5185\u5b58\uff0c\u96be\u514d\u4e0d\u4f1a\u51fa\u73b0\u5185\u5b58\u51b2\u7a81\u7684\u60c5\u51b5\uff0c\u4e3a\u89e3\u51b3\u8fd9\u4e9b\u51b2\u7a81\uff0c\u6709\u5982\u4e0b\u65b9\u6cd5:</p> <p>Definition</p> <ol> <li> <p>EREW(Exclusive Read Exclusive Write): \u4efb\u610f\u4e24\u4e2a\u5904\u7406\u5668\u4e0d\u80fd\u540c\u65f6\u8bfb\u5199\u540c\u4e00\u4e2a\u5730\u5740</p> </li> <li> <p>CREW(Concurrent Read Exclusive Write): \u4efb\u610f\u4e24\u4e2a\u5904\u7406\u5668\u53ef\u4ee5\u540c\u65f6\u8bfb\uff0c\u4f46\u4e0d\u80fd\u540c\u65f6\u5199</p> </li> <li> <p>CRCW(Concurrent Read Concurrent Write): \u4efb\u610f\u4e24\u4e2a\u5904\u7406\u5668\u53ef\u4ee5\u540c\u65f6\u8bfb\u5199\uff0c\u4f46\u662f\u4ecd\u53ef\u80fd\u53d1\u751f\u5199\u5165\u51b2\u7a81\u7684\u60c5\u51b5\uff0c\u4e0d\u540c\u7684\u89e3\u51b3\u65b9\u6cd5\u6709\u5982\u4e0b\u51e0\u79cd\uff1a</p> <ol> <li> <p>Common Rule:\u5982\u679c\u6240\u6709\u5904\u7406\u5668\u5199\u5165\u7684\u503c\u76f8\u540c\uff0c\u5141\u8bb8\u540c\u65f6\u5199\u5165</p> </li> <li> <p>Priority Rule:\u7ed9\u5904\u7406\u5668\u7f16\u53f7\uff0c\u7f16\u53f7\u5c0f\u7684\u4f18\u5148\u5199\u5165</p> </li> <li> <p>Arbitrary Rule:\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u5199\u5165</p> </li> </ol> </li> </ol>"},{"location":"incourse/ADS/parall/#the-summation-problem","title":"The Summation Problem","text":"<p>\u6700\u5e38\u89c1\u7684\u95ee\u9898\uff0c\u8f93\u5165\\(A(1), A(2), \\cdots, A(n)\\),\u8f93\u51fa\\(A(1)+A(2)+\\cdots+A(n)\\)</p> <p>\u6b63\u5e38\u6765\u8bf4\uff0c\u8fd9\u4e2a\u95ee\u9898\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\\(O(n)\\)\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7PRAM\u6765\u4f18\u5316\u3002</p> <p>\u8003\u8651\u4e8c\u7ef4\u6570\u7ec4\\(B[i,j]\\)\uff0c\u4ee3\u8868\u4e86\u7b2ci\u6b65\u7684\u7b2cj\u4e2a\u5904\u7406\u5668\u7684\u503c\uff0c\u90a3\u4e48\u4e00\u5f00\u59cb\uff0c\u6211\u4eec\u53ef\u4ee5\u5728O(1)\u7684\u65f6\u95f4\u5185\u4f7f\u7528\u591a\u4e2a\u5904\u7406\u5668\u5c06A\u6570\u7ec4\u7684\u503c\u5199\u5230B\u7684\u7b2c\u4e00\u884c\u3002</p> <p>\u7136\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5728O(1)\u7684\u65f6\u95f4\u5185\u5c06B\u7684\u6bcf\u4e00\u884c\u7684\u503c\u76f8\u52a0\uff0c\u6700\u540e\u5f97\u5230\u7ed3\u679c\u3002</p> \u56fe\u4e2d\u7a7a\u767d\u5706\u5708\u4ee3\u8868\u95f2\u7f6e\u7684\u5904\u7406\u5668\u3002 <p>\u4e8e\u662f\u6211\u4eec\u5f97\u5230:</p> \\[B(h, i) = B(h-1, 2i-1) + B(h-1, 2i)\\]"},{"location":"incourse/ADS/parall/#pram_1","title":"PRAM","text":"<p>from PPT</p> <p></p> <p>\u8fd9\u91cc\u7684pardo\u6307\u7684\u662f\u5e76\u884c\u6267\u884c\uff0c\u5373\u591a\u4e2a\u5904\u7406\u5668\u540c\u65f6\u6267\u884c\u3002</p> <p>\u8fd9\u6837\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\\(O(\\log n +2)\\)</p> <p>PRAM\u7684\u7f3a\u9677</p> <ul> <li> <p>\u8be5\u6a21\u578b\u65e0\u6cd5\u63ed\u793a\u7b97\u6cd5\u548c\u5b9e\u9645\u4f7f\u7528\u7684\u5904\u7406\u5668\u4e2a\u6570\u4e4b\u95f4\u7684\u5173\u7cfb</p> <ul> <li>\u5bf9\u4e8e\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u5047\u5982\u6709 100 \u4e2a\u5904\u7406\u5668\uff0c\u4f46\u5b9e\u9645\u4e0a\u53ea\u7528\u4e86 8 \u4e2a\u5904\u7406\u5668\uff0c\u6240\u4ee5\u66f4\u591a\u7684\u5904\u7406\u5668\u5e76\u4e0d\u80fd\u4f7f\u6267\u884c\u901f\u5ea6\u8fdb\u4e00\u6b65\u52a0\u5feb</li> </ul> </li> <li> <p>\u8be5\u6a21\u578b\u9700\u8981\u6307\u5b9a\u54ea\u4e2a\u5904\u7406\u5668\u5904\u7406\u54ea\u90e8\u5206\u7684\u6307\u4ee4\uff0c\u8fd9\u4e9b\u8be6\u7ec6\u4fe1\u606f\u5176\u5b9e\u662f\u975e\u5e76\u884c\u7b97\u6cd5\u6240\u4e0d\u9700\u8981\u7684</p> </li> </ul>"},{"location":"incourse/ADS/parall/#wd","title":"WD","text":"<p>\u4e3a\u6b64\uff0c\u6211\u4eec\u5f15\u5165\u4e86WD\u7684\u6982\u5ff5\uff0c\u5373\u5de5\u4f5c\u6df1\u5ea6\u3002</p>"},{"location":"incourse/ADS/parall/#\u6027\u80fd\u7684\u5ea6\u91cf","title":"\u6027\u80fd\u7684\u5ea6\u91cf","text":"<p>\u4f20\u7edf\u7b97\u6cd5\u4ece\u65f6\u95f4\u590d\u6742\u5ea6\u6765\u5ea6\u91cf\u6027\u80fd\uff0c\u4f46\u662f\u5e76\u53d1\u7b97\u6cd5\u4e0d\u540c\uff0c\u56e0\u4e3a\u5e76\u53d1\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u548c\u5904\u7406\u5668\u6570\u91cf\u6709\u5173\u3002\u5904\u7406\u5668\u591a\u4e86\uff0c\u8dd1\u5f97\u5f53\u7136\u5feb\u4e86\uff0c\u4f46\u4e0e\u6b64\u540c\u65f6\uff0c\u5de5\u4f5c\u91cf\u4e5f\u589e\u52a0\u4e86\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u4f7f\u7528\u65f6\u95f4\u590d\u6742\u5ea6\u4e0e\u5de5\u4f5c\u590d\u6742\u5ea6(Work Load)\u4e24\u4e2a\u503c\u6765\u8861\u91cf\u3002</p> <p>\u6211\u4eec\u7684\u76ee\u6807\u662f\uff0c\u65e2\u8981\u9a6c\u513f\u8dd1\u5f97\u5feb\uff0c\u53c8\u8981\u9a6c\u513f\u5403\u5f97\u5c11\u3002</p> <p>T(n)\u4e0eW(n)</p> <ul> <li> <p>\\(T(n)\\): \u5e72\u6d3b\u6700\u591a\u7684\u90a3\u4e2a\u5904\u7406\u5668\uff0c\u5e72\u7684\u65f6\u95f4</p> </li> <li> <p>\\(W(n)\\): \u6240\u6709\u5904\u7406\u5668\u5de5\u4f5c\u91cf\u603b\u548c</p> </li> </ul> \u501f\u7528\u4e0a\u9762\u7684\u4f8b\u5b50\u8bf4\u660e <p>\u5728\u6c42\u548c\u95ee\u9898\u4e2d\uff0cWD\u6027\u80fd\u4e3a:</p> \\[T(n) = \\log n +2\\] <p>\u8fd9\u4e2a\u770b\u4e0a\u9762\u7684\u56fe\u5c31\u53ef\u4ee5\u7406\u89e3\uff0c\u6709\u4e00\u4e2a\u5904\u7406\u5668\u662f\u5728\u6811\u7684\u6bcf\u4e00\u5c42\u90fd\u8981\u5e72\u6d3b\u7684\uff0c\u52a0\u4e0a\u4e00\u5f00\u59cb\u8bfb\u53d6\u6570\u636e\u548c\u6700\u540e\u7684\u8f93\u51fa\uff0c\u6240\u4ee5\u662f\\(\\log n +2\\)</p> \\[\\begin{align} W(n) = n +n/2 + \\cdots + n/2^k(2^k=n) +1= 2n \\end{align}\\] <p>\u8fd9\u91cc\u662f\u56e0\u4e3a\uff0c\u5728\u6811\u7684\u6700\u5e95\u5c42\uff0cn\u4e2a\u5904\u7406\u5668\u90fd\u5e72\u6d3b\u4e86\uff0c\u6240\u4ee5\u662fn\uff0c\u7136\u540e\u4e0a\u4e00\u5c42\u662fn/2\uff0c\u4e00\u76f4\u5230\u6811\u7684\u9876\u5c42\uff0c\u53ea\u6709\u4e00\u4e2a\u5904\u7406\u5668\u5728\u5e72\u6d3b\uff0c\u6240\u4ee5\u662f1\u3002</p> <p>\u5176\u5b9e\u8fd8\u6709\u6700\u5f00\u59cb\u7684\u8bfb\u53d6\u548c\u6700\u540e\u7684\u8f93\u51fa\uff0c\u5206\u522b\u9700\u8981n\u548c1\u7684\u5de5\u4f5c\u91cf\uff0c\u4e0d\u8fc7\u4e0d\u5f71\u54cd\u6700\u540e\u5de5\u4f5c\u91cf\u7684\u91cf\u7ea7\u3002</p> <p>\u5bf9\u4e8ePRAM\u6765\u8bf4:</p> <ul> <li> <p>\u5f53\u4f7f\u7528\u5904\u7406\u5668\u6570\u91cf\\(P(n) =\\frac{W(n)}{T(n)}\\)\u65f6\uff0c\u64cd\u4f5c\u7684\u6700\u5dee\u65f6\u95f4\u590d\u6742\u5ea6\u662f\\(O(T(n))\\)</p> </li> <li> <p>\u5f53\u4f7f\u7528\u5904\u7406\u5668\u6570\u91cf\\(P(n) \\leq \\frac{W(n)}{T(n)}\\)\u65f6\uff0c\u64cd\u4f5c\u7684\u6700\u5dee\u65f6\u95f4\u590d\u6742\u5ea6\u662f\\(\\frac{W(n)}{P(n)}\\)(\u4e5f\u5c31\u662f\u5904\u7406\u5668\u4e0d\u8db3\u7684\u60c5\u51b5)</p> </li> <li> <p>\u5bf9\u4e8e\u4efb\u610f\u6570\u91cf\u7684P(n)\uff0c\u64cd\u4f5c\u7684\u6700\u5dee\u65f6\u95f4\u590d\u6742\u5ea6\u662f\\(\\frac{W(n)}{P(n)} + T(n)\\)</p> </li> </ul> <p>\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e09\u79cd\u8bc4\u4f30\u65b9\u5f0f\u662f\u6e10\u8fdb\u7b49\u4ef7(Asymptotically Equivalent)\uff0c\u4e5f\u5373\uff0c\u5f53n\u8d8b\u8fd1\u4e8e\u65e0\u7a77\u5927\u65f6\uff0c\u8fd9\u4e09\u79cd\u8bc4\u4f30\u65b9\u5f0f\u662f\u540c\u4e00\u590d\u6742\u5ea6\u3002</p> <p>\u800c\u5bf9\u4e8eWD\u6765\u8bf4\uff0c\u6709\u4ee5\u4e0b\u5b9a\u7406:</p> <p>WD-presentation Sufficiency Theorem</p> <p>\u4e00\u4e2a WD \u6a21\u5f0f\u4e0b\u7684\u7b97\u6cd5\u53ef\u4ee5\u7531\u4efb\u610f P(n) \u4e2a\u5904\u7406\u5668\u5728 O(W(n)/P(n) + T(n)) \u65f6\u95f4\u5185\u5b9e\u73b0\uff0c\u4f7f\u7528\u5e76\u53d1\u5199\u5165\u3002</p>"},{"location":"incourse/ADS/parall/#prefix-sums","title":"Prefix-Sums","text":"<p>Prefix-Sums\u95ee\u9898\u662f\u8fd9\u6837\u7684\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u6570\u7ec4\\(A(1), A(2), \\cdots, A(n)\\)\uff0c\u6c42\\(B(1), B(2), \\cdots, B(n)\\)\uff0c\u5176\u4e2d\\(B(i) = A(1)+A(2)+\\cdots+A(i)\\)</p> <p>\u9996\u5148\uff0c\u5efa\u7acb\u5982\u4e0b\u7684\u5e73\u8861\u4e8c\u53c9\u6811:</p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u91cc\u8fd8\u662f\u5148\u8ba1\u7b97\u4e86\u6c42\u548c\u95ee\u9898\uff0c\u4e3a\u4e4b\u540e\u524d\u7f00\u548c\u95ee\u9898\u7684\u89e3\u51b3\u6253\u4e0b\u57fa\u7840\u3002</p> <p>\u7136\u540e\uff0c\u6211\u4eec\u5b9a\u4e49:</p> \\[C(h,i)= \\sum_{k=1}^\\alpha A(k)\\] <p>\u5176\u4e2d\\(\\alpha\\)\u662f(h,i)\u8fd9\u4e2a\u8282\u70b9\u6700\u53f3\u8fb9\u7684\u53f6\u5b50\u8282\u70b9\u7684\u7f16\u53f7\u3002</p> <p>\u4e8e\u662f\u5c31\u6709\u8fd9\u6837\u4e00\u5f20\u56fe:</p> <p>\u6211\u4eec\u53ef\u770b\u51fa:</p> <p>\u5f53i\u4e3a1\u65f6:</p> <pre><code>if(i==1)\n    C(h,i) = B(h,i)\n</code></pre> <p>\u5f53i\u4e3a\u5076\u6570\u65f6: <pre><code>else if(i%2==0)\n    C(h,i) = C(h+1,i/2)\n</code></pre></p> <p>\u5f53i\u4e3a\u5947\u6570\u65f6: <pre><code>else\n    C(h,i) = C(h+1,(i-1)/2) + B(h,i)\n</code></pre></p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u5148\u81ea\u5e95\u5411\u4e0a\u8ba1\u7b97\u6c42\u548c\u95ee\u9898\uff0c\u7136\u540e\u6839\u636e\u6c42\u548c\u95ee\u9898\u7684\u7ed3\u679c\u81ea\u9876\u5411\u4e0b\u8ba1\u7b97\u524d\u7f00\u548c\u95ee\u9898</p> Prefix-Sums<pre><code>for Pi , 1 &lt;= i &lt;= n pardo\n  B(0, i) := A(i)\nfor h = 1 to log n\n  for i , 1 &lt;= i &lt;= n/2^h pardo\n    B(h, i) := B(h - 1, 2i - 1) + B(h - 1, 2i)\nfor h = log n to 0\n  for i even, 1 &lt;= i &lt;= n/2^h pardo\n    C(h, i) := C(h + 1, i/2)\n  for i = 1 pardo\n    C(h, 1) := B(h, 1)\n  for i odd, 3 &lt;= i &lt;= n/2^h pardo\n    C(h, i) := C(h + 1, (i - 1)/2) + B(h, i)\nfor Pi , 1 &lt;= i &lt;= n pardo\n  Output C(0, i)\n</code></pre> <p>\u8fd9\u6837\u7684\u505a\u6cd5\u4e0b,\\(T(n) = O(\\log n)\\),\\(W(n) = O(n)\\)</p> <p>\u8fd9\u662f\u5f88\u663e\u7136\u7684\uff0c\u53ef\u4ee5\u770b\u4f5c\u662f\u6c42\u548c\u95ee\u9898\u7684\u4e24\u500d\uff0c\u56e0\u4e3a\u81ea\u5e95\u5411\u4e0a\u7b97\\(B(h,i)\\)\u7684\u65f6\u5019\u662f\u4e00\u904d\uff0c\u81ea\u9876\u5411\u4e0b\u7b97\\(C(h,i)\\)\u7684\u65f6\u5019\u53c8\u662f\u4e00\u904d\u3002</p> <p>Tip</p> <p>\u5982\u679c\u8981\u6c42\u524d\u7f00\u6700\u5927\u503c(\u6700\u5c0f\u503c)\uff0c\u53ea\u9700\u8981\u628a\u6c42\u548c\u95ee\u9898\u7684\"+\"\u6362\u6210\"max\"(\u6216\"min\")\u5373\u53ef,T(n)\u4e0eW(n)\u4e0d\u53d8\u3002</p>"},{"location":"incourse/ADS/parall/#merging","title":"Merging","text":"<p>Merging\u95ee\u9898\u662f\u8fd9\u6837\u7684\uff0c\u7ed9\u5b9a\u4e24\u4e2a\u5df2\u7ecf\u6392\u597d\u5e8f(\u5347\u5e8f)\u7684\u6570\u7ec4\\(A(1), A(2), \\cdots, A(n)\\)\u548c\\(B(1), B(2), \\cdots, B(n)\\)\uff0c\u6c42\u5408\u5e76\u540e\u7684\u6570\u7ec4\\(C(1), C(2), \\cdots, C(2n)\\)</p> <p>\u6211\u4eec\u7ea6\u5b9a:</p> <ul> <li> <p>A,B\u5185\u5143\u7d20\u4e24\u4e24\u4e0d\u76f8\u7b49</p> </li> <li> <p>\\(n = m\\)</p> </li> <li> <p>\\(\\log n ,\\frac{n}{\\log n}\\)\u90fd\u662f\u6574\u6570</p> </li> </ul> <p>\u5206\u5272\u6837\u4f8b</p> <ul> <li> <p>\u5206\u5272 - \u5c06\u8f93\u5165\u5212\u5206\u4e3a\u5927\u91cf\u7684\u3001\u5f7c\u6b64\u72ec\u7acb\u7684\u5c0f\u4efb\u52a1\uff0c\u4f8b\u5982 p \u4e2a\uff0c\u4f7f\u5f97\u6700\u5927\u7684\u4e00\u4e2a\u5c0f\u4efb\u52a1\u7684\u5927\u5c0f\u5927\u81f4\u4e3a n/p</p> </li> <li> <p>\u5b9e\u9645\u5de5\u4f5c - \u5e76\u53d1\u5730\u6267\u884c\u8fd9\u4e9b\u5c0f\u4efb\u52a1\uff0c\u6bcf\u4e2a\u4efb\u52a1\u4f7f\u7528\u4e00\u4e2a\u72ec\u7acb\u7684\uff08\u53ef\u80fd\u662f\u4e32\u884c\u7684\uff09\u7b97\u6cd5</p> </li> </ul> <p>\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u6838\u5fc3\u7684\u76ee\u6807\u662f\u627e\u5230\u539f\u6765\u7684\u5143\u7d20\u5728\u5408\u5e76\u540e\u7684\u6570\u7ec4\u4e2d\u7684\u4f4d\u7f6e\u3002</p> <p>\u8bbe\u60f3\uff0c\u5bf9\u4e8e\u4e00\u4e2aB\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\uff0c\u6211\u4eec\u53ea\u9700\u8981\u77e5\u9053A,B\u4e2d\u4e00\u5171\u6709\u51e0\u4e2a\u5143\u7d20\u6bd4\u5b83\u5c0f\uff0c\u5c31\u53ef\u4ee5\u77e5\u9053\u5b83\u5728\u5408\u5e76\u540e\u7684\u6570\u7ec4\u4e2d\u7684\u4f4d\u7f6e\u3002</p> <p>B\u4e2d\u6bd4\u8fd9\u4e2a\u5143\u7d20\u5c0f\u7684\u4e2a\u6570\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u5b83\u7684\u7f16\u53f7\uff0c\u800c\u5728A\u4e2d\u6211\u4eec\u9700\u8981\u53bb\u627e\u6709\u51e0\u4e2a\u5143\u7d20\u6bd4\u5b83\u5c0f\u3002</p> <p>\u56e0\u6b64\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2aRANK\u51fd\u6570\u5982\u4e0b\uff0c\u7528\u4e8e\u5bfb\u627eB\u4e2d\u7b2cj\u4e2a\u5143\u7d20\u5728A\u4e2d\u80fd\u6392\u7b2c\u51e0:</p> <ul> <li> <p>\\(RANK( j, A) = i,   if A(i) &lt; B(j) &lt; A(i + 1), 1 \\leq i &lt; n\\)</p> </li> <li> <p>$RANK( j, A) = 0,  if B(j) &lt; A(1) $</p> </li> <li> <p>\\(RANK( j, A) = n,  if B(j) &gt; A(n)\\)</p> </li> </ul> <p>\u56e0\u6b64\u603b\u7684\u4efb\u52a1\u5c31\u662f\u8dd1\u5b8cRANK(j,A)\u4e0eRANK(i,B)\u3002</p> <p>\u5982\u679c\u6211\u4eec\u5f97\u5230\u4e86\u6240\u6709RANK\u7684\u503c\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u5728O(1)\u7684\u65f6\u95f4\u5185\u5f97\u5230\u5408\u5e76\u540e\u7684\u6570\u7ec4\u3002\u56e0\u4e3a\u6709\u8fd9\u6837\u7684\u5e76\u53d1\u7b97\u6cd5\u4f7f\u7528n\u4e2a\u5904\u7406\u5668:</p> <pre><code>for Pi , 1 &lt;= i &lt;= n  pardo\n    C(i + RANK(i, B)) := A(i)\nfor Pi , 1 &lt;= i &lt;= n(\u4e5f\u5373\u662fm) pardo\n    C(i + RANK(i, A)) := B(i)\n</code></pre> <p>\u7ed3\u679c\u793a\u4f8b:</p> <p>Question</p> <p>\u90a3\u4e48\u6211\u4eec\u8981\u5982\u4f55\u8ba1\u7b97RANK\u7684\u503c\u5462\uff1f</p> <p>\u6211\u4eec\u5148\u6765\u770b\u4e24\u4e2a\u6734\u7d20\u7684\u7b97\u6cd5:</p> <p>\u6734\u7d20\u7b97\u6cd5</p> Serial RankingBinary Search <pre><code>i = j = 0; \nwhile ( i &lt;= n || j &lt;= m ) {\n    if ( A(i+1) &lt; B(j+1) )\n        RANK(++i, B) = j;\n    else RANK(++j, A) = i;\n}\n</code></pre> <p>\u6b64\u65f6\uff0c\\(T(n) = O(n+m)\\),\\(W(n) = O(n+m)\\)</p> <pre><code>for Pi , 1 &lt;= i &lt;= n  pardo\n    RANK(i, B) := BS(A(i), B)\n    RANK(i, A) := BS(B(i), A)\n</code></pre> <p>\u6b64\u65f6\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\\(O(\\log n)\\)\u662f\u5f88\u5c0f\u7684\uff0c\u800c\u4e14\u7531\u4e8e\u6211\u4eec\u53ef\u4ee5\u5e76\u884c\u5904\u7406\uff0c\u56e0\u6b64\u603b\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e5f\u662f\\(O(\\log n)\\)</p> <p>\u4f46\u662f\u8fd9\u6837\u7684\u5de5\u4f5c\u91cf\u662f\u5f88\u5927\u7684\u3002\u6bcf\u4e00\u4e2a\u5904\u7406\u5668\u90fd\u5e72\u4e86\\(2\\log n\\)\u7684\u6d3b\uff0c\u8fd9\u6837\u7684\u8bdd\uff0c\u603b\u7684\u5de5\u4f5c\u91cf\u5c31\u662f\\(O(n\\log n)\\)\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u628a\u539f\u6765\u7684\u6570\u636e\u5206\u5272\u4e3a\\(p=\\frac{n}{\\log n}\\)\u5757\uff0c\u6bcf\u5757\u7684\u5934\u4e00\u4e2a\u5143\u7d20\u5bfb\u627eRANK\u503c\uff0c\u5f62\u6210\u4e86\u56fe\u4e2d\u7684\u7bad\u5934\u3002\u8fd9\u91cc\u76f8\u5f53\u4e8e\u662fp\u4e2a\u4e8c\u5206\u67e5\u627e\u5e76\u884c\uff0c\u56e0\u4e3a\u6211\u4eec\u8981\u4e3ap\u4e2a\u5143\u7d20\u627e\u5230RANK\u503c\uff0c\u56e0\u6b64\\(T(n) = O(\\log n)\\)\uff0c\\(W(n) = p \\log n = O(n)\\)</p> <p>\u7bad\u5934\u5212\u5206\u51fa\u81f3\u591a2p\u4e2a\u533a\u57df\u3002\u6bcf\u4e00\u5757\u533a\u57df\u5e76\u884c\u5904\u7406\uff0c\u533a\u57df\u5185\u90e8\u4f7f\u7528\u6734\u7d20\u7684\u4e32\u884c\u7b97\u6cd5\u3002</p> <p>\u8fd9\u6837\u6bcf\u5757\u7684\u5927\u5c0f\u4e3a\\(\\log n\\)\uff0c\u603b\u7684\u5de5\u4f5c\u91cf\u4e3a\\(p \\log n = O(n)\\)\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\\(O(\\log n)\\)</p> <p>\u7efc\u4e0a\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\\(O(\\log n)\\)\uff0c\u5de5\u4f5c\u91cf\u4e3a\\(O(n)\\)\u7684\u7b97\u6cd5\u3002</p>"},{"location":"incourse/ADS/parall/#maximum-finding","title":"Maximum Finding","text":"<p>Maximum Finding\u95ee\u9898\u662f\u8fd9\u6837\u7684\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u6570\u7ec4\\(A(1), A(2), \\cdots, A(n)\\)\uff0c\u6c42\u6700\u5927\u7684\u5143\u7d20\u3002</p>"},{"location":"incourse/ADS/parall/#\u6734\u7d20\u7684\u60f3\u6cd5","title":"\u6734\u7d20\u7684\u60f3\u6cd5","text":"<p>\u5982\u679c\u8981\u6c42\u524d\u7f00\u6700\u5927\u503c(\u6700\u5c0f\u503c)\uff0c\u53ea\u9700\u8981\u628a\u6c42\u548c\u95ee\u9898\u7684\"+\"\u6362\u6210\"max\"(\u6216\"min\")\u5373\u53ef,T(n)\u4e0eW(n)\u4e0d\u53d8\u3002</p>"},{"location":"incourse/ADS/parall/#compare-all-pairs","title":"Compare all pairs","text":"<p>\u53e6\u7ed9\u51fa\u4e00\u79cd\u7b97\u6cd5: Compare all pairs<pre><code>for Pi , 1 &lt;= i &lt;= n  pardo\n    B(i) := 0\nfor i and j, 1 &lt;= i, j &lt;= n  pardo\n    if ( (A(i) &lt; A(j)) || ((A(i) = A(j)) &amp;&amp; (i &lt; j)) )\n        B(i) = 1\n    else B(j) = 1\n\nfor Pi , 1 &lt;= i &lt;= n  pardo\n    if B(i) == 0\n       A(i) is a maximum in A\n</code></pre></p> <p>\u8fd9\u79cd\u7b97\u6cd5\u8dd1\u4e00\u904d\uff0c\\(T(n) = O(1)\\)\uff0c\\(W(n) = O(n^2)\\)</p>"},{"location":"incourse/ADS/parall/#\u5206\u5272","title":"\u5206\u5272","text":"<p>\u5982\u679c\u6211\u4eec\u4ee5\\(\\sqrt{n}\\)\u5206\u5272\uff0c\u6bcf\u5757\u5185\u90e8\u7528\u666e\u901a\u7684\u4e32\u884c\u7b97\u6cd5\u5bfb\u627e\u6700\u5927\u503c\uff0c\u5408\u5e76\u65f6\u7528\u4e0a\u9762\u7684\u7b97\u6cd5\u5bfb\u627e\u6700\u5927\u503c\uff0c\u7ed3\u679c\u5982\u4e0b \uff1a</p> <p>\u8fd8\u6709\u4e00\u79cd\u5206\u5272\u65b9\u6cd5\u5982\u4e0b:</p>"},{"location":"incourse/ADS/parall/#random-sampling","title":"Random Sampling","text":"<p>\u6ca1\u60f3\u5230\u5427\uff0c\u8fd8\u6709\u4e00\u79cd\u505a\u6cd5</p> <ol> <li> <p>\u628a\u6570\u7ec4A\u4e2d\u968f\u673a\u6311\\(n^{\\frac{7}{8}}\\)\u4e2a\u5143\u7d20\u51fa\u6765\uff0c\u5f62\u6210\u6570\u7ec4B</p> </li> <li> <p>\u5c06\u6570\u7ec4B\u5212\u5206\u4e3a\\(n^{\\frac{3}{4}}\\)\u4e2a\u5927\u5c0f\u4e3a\\(n^{\\frac{1}{8}}\\)\u7684\u5c0f\u5757,\u5c0f\u5757\u5185\u90e8\u4f7f\u7528Compare all pairs\u7b97\u6cd5\u6c42\u51fa\u6700\u5927\u503c\uff0c\u5f97\u5230\\(n^{\\frac{3}{4}}\\)\u4e2a\u6700\u5927\u503c,\\(T(n) = O(1),W(n) = n^{\\frac{3}{4}} * (n^{\\frac{1}{8}})^2 = O(n)\\)</p> </li> <li> <p>\u63a5\u4e0b\u6765\u5c06\u8fd9\u4e9b\u6700\u5927\u503c\u5212\u5206\u4e3a\u00a0\\(n^{\\frac{1}{2}}\u200b\\)\u00a0\u4e2a\u5927\u5c0f\u4e3a\u00a0\\(n^{\\frac{1}{4}}\\)\u00a0\u7684\u5c0f\u5757\uff0c\u7136\u540e\u5bf9\u6bcf\u4e2a\u5c0f\u5757\u6c42\u51fa\u6700\u5927\u503c\uff0c\u5f97\u5230\\(n^{\\frac{1}{2}}\u200b\\)\u4e2a\u6700\u5927\u503c.\uff08\u4f7f\u7528 Compare All Pairs \u65b9\u6cd5\u8ba1\u7b97\uff09\\(T(n) = O(1),W(n) = n^{\\frac{1}{2}} * (n^{\\frac{1}{4}})^2 = O(n)\\)</p> </li> <li> <p>\u518d\u4f7f\u7528\\(n^{\\frac{1}{2}}\u200b\\)\u4e2a\u6700\u5927\u503c\u6c42\u51fa\u6240\u6709\u00a0\\(n^{\\frac{7}{8}}\u200b\\)\u00a0\u4e2a\u5143\u7d20\u7684\u6700\u5927\u503c\uff08\u4f7f\u7528 Compare All Pairs \u65b9\u6cd5\u8ba1\u7b97\uff09\\(T(n) = O(1),W(n) = (n^{\\frac{1}{2}})^2 = O(n)\\)</p> </li> </ol> <p>\u603b\u7684\u6765\u8bf4\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u662f\\(O(1)\\)\uff0c\u5de5\u4f5c\u91cf\u662f\\(O(n)\\)\u3002\u4f46\u662f\u8fd9\u4e2a\u7b97\u6cd5\u4e0d\u80fd\u4fdd\u8bc1\u627e\u5230\u6700\u5927\u503c\uff0c\u53ea\u80fd\u8bf4\u6709\u5f88\u5927\u7684\u6982\u7387\u627e\u5230\u6700\u5927\u503c\u3002</p>"},{"location":"incourse/ADS/parall/#\u4f8b\u9898","title":"\u4f8b\u9898","text":"<p>\u4f8b\u9898</p> T1T2T3T4T5T6T7T8T9 <p></p> \u89e3\u6790 <p>F.\u8fd8\u9700\u8981\u8003\u8651T(n)\u7684\u503c</p> <p></p> \u89e3\u6790 <p>T.C\u662f\u81ea\u9876\u5411\u4e0b\u7b97\u7684\u3002</p> <p></p> \u89e3\u6790 <p>T.B\u662f\u81ea\u5e95\u5411\u4e0a\u7b97\u7684\u3002</p> <p></p> \u89e3\u6790 <p>F\u3002\u91c7\u7528 Random Sampling\uff0c\u5c31\u53ef\u4ee5\u5728O(n)\u7684\u5f00\u9500\u4e0b\u3002</p> <p></p> \u89e3\u6790 <p>T.\u89c1\u5b9a\u4e49</p> <p></p> \u89e3\u6790 <p>C.\u8fd9\u5176\u5b9e\u5c31\u662f\u628aSummation\u95ee\u9898\u7684\"+\"\u6362\u6210\u4e86\"min\"</p> <p></p> \u89e3\u6790 <p>D.\u89c1\u5b9a\u4e49\u3002</p> <p></p> \u89e3\u6790 <p>A.\u6309\u6211\u7684\u7406\u89e3\uff0c\u9012\u5f52\u6df1\u5ea6\u6709\\(\\log n\\)\u5c42\uff0c\u4f7f\u7528Parallel Ranking\u53ef\u4ee5\u8ba9\u6bcf\u5c42\u7684\\(W(n)=O(n)\\)\uff0c\u7efc\u5408\u8d77\u6765\u7684\u5de5\u4f5c\u91cf\u662f\\(O(n\\log n)\\)\u3002\u800c\u5bf9\u4e8e\\(T(n)\\),\u6700\u5e95\u4e0b\u90a3\u5c42\u662f\\(\\log 1\\)\uff0c\u5f80\u4e0a\u4e00\u5c42\u662f\\(\\log 2\\),\u4ee5\u6b64\u7c7b\u63a8\u662f\\(\\log 4,\\log 8,\\cdots,\\log n\\)\uff0c\u4e0d\u59a8\u8bbe\\(n=2^l\\),\u90a3\u4e48</p> <p>\\(T(n)=\\log 1 + \\log 2 + \\cdots + \\log n =(0 + 1 + \\cdots +l) \\log 2 = \\frac{l(l+1)}{2}\\log 2 = O(\\log^2 n)\\)</p> <p></p> \u89e3\u6790 <p>D.\u89c1Parallel Ranking\u3002</p>"},{"location":"incourse/ADS/resource/","title":"\u8d44\u6e90","text":"<p> \u7ea6 101 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <ul> <li> <p>18-19\u671f\u4e2d\u5377</p> </li> <li> <p>\u7a0b\u5e8f\u586b\u7a7a\u9898_wc_\u671f\u4e2d.pdf</p> </li> <li> <p>\u5355\u9009\u9898 - \u9898\u76ee\u5217\u8868 - ZJUADS_\u738b\u707f_2024_Midterm.pdf</p> </li> <li> <p>\u5224\u65ad\u9898 - \u9898\u76ee\u5217\u8868 - ZJUADS_\u738b\u707f_2024_Midterm.pdf</p> </li> <li> <p>\u6d59\u6c5f\u5927\u5b662015-16\u6625\u590f\u300a\u9ad8\u7ea7\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\u5206\u6790\u300b\u671f\u4e2d\u6a21\u62df\u7ec3\u4e60 Apr 23, 2023.html</p> </li> <li> <p>\u6d59\u6c5f\u5927\u5b662017-18\u6625\u590f\u300a\u9ad8\u7ea7\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\u5206\u6790\u300b\u671f\u4e2d\u6a21\u62df\u7ec3\u4e60 Apr 23, 2023.html</p> </li> <li> <p>yy_mid.zip</p> </li> <li> <p>\u671f\u672b\u8d44\u6e90\u6c47\u603b</p> </li> </ul>"},{"location":"incourse/CA/","title":"CAAAAAA","text":"<p> \u7ea6 19 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>          \u786c\u4ef6\u5927\u9b54\u738b\u7b2c\u4e09\u9636\u6bb5,\u5e0c\u671b\u6bd4\u7b2c\u4e8c\u9636\u6bb5\u5f31.      </p>"},{"location":"incourse/CA/Ch1/","title":"Introduction","text":"<p> \u7ea6 2244 \u4e2a\u5b57  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p>"},{"location":"incourse/CA/Ch1/#class-of-computers","title":"Class of Computers","text":""},{"location":"incourse/CA/Ch1/#internet-of-thingsembedded-computers","title":"Internet of Things/Embedded Computers","text":"<p>\u5d4c\u5165\u5f0f\u8ba1\u7b97\u673a\u662f\u4e00\u79cd\u4e13\u95e8\u8bbe\u8ba1\u7528\u4e8e\u6267\u884c\u7279\u5b9a\u4efb\u52a1\u7684\u8ba1\u7b97\u673a\u3002\u5b83\u4eec\u901a\u5e38\u662f\u5c0f\u578b\u7684\uff0c\u4f4e\u529f\u8017\u7684\uff0c\u4e14\u4ef7\u683c\u4fbf\u5b9c\uff0c\u901a\u5e38\u88ab\u5d4c\u5165\u5230\u5176\u4ed6\u8bbe\u5907\u4e2d\uff0c\u5982\u5bb6\u7528\u7535\u5668\uff0c\u6c7d\u8f66\uff0c\u533b\u7597\u8bbe\u5907\u7b49\u3002</p> <p>\u5d4c\u5165\u5f0f\u8ba1\u7b97\u673a\u901a\u5e38\u8fd0\u884c\u5728\u5b9e\u65f6\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u7cfb\u7edf\u901a\u5e38\u662f\u4e13\u95e8\u8bbe\u8ba1\u7528\u4e8e\u5d4c\u5165\u5f0f\u7cfb\u7edf\u7684\uff0c\u5982FreeRTOS\uff0cuC/OS\u7b49\u3002</p>"},{"location":"incourse/CA/Ch1/#personal-mobile-device","title":"Personal Mobile Device","text":"<p>\u4e2a\u4eba\u79fb\u52a8\u8bbe\u5907\u5305\u62ec\u667a\u80fd\u624b\u673a\uff0c\u5e73\u677f\u7535\u8111\uff0c\u7b14\u8bb0\u672c\u7535\u8111\u7b49\u3002\u8fd9\u4e9b\u8bbe\u5907\u901a\u5e38\u8fd0\u884c\u5728\u79fb\u52a8\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u5982Android\uff0ciOS\u7b49\u3002\u5b83\u4eec\u7684\u529f\u8017\u662f\u53d7\u9650\u7684\uff0c\u56e0\u4e3a\u7535\u6c60\u4e0e\u6563\u70ed\u7684\u95ee\u9898\u3002</p>"},{"location":"incourse/CA/Ch1/#desktop-computing","title":"Desktop Computing","text":"<p>\u6211\u4eec\u901a\u5e38\u8bf4\u7684\u53f0\u5f0f\u673a\uff0c\u6027\u80fd\u5f3a\u5927\uff0c\u4ef7\u683c\u6602\u8d35\uff0c\u901a\u5e38\u7528\u4e8e\u9ad8\u6027\u80fd\u8ba1\u7b97\uff0c\u6e38\u620f\u7b49\u3002</p>"},{"location":"incourse/CA/Ch1/#server-computing","title":"Server Computing","text":"<p>\u670d\u52a1\u5668\u8ba1\u7b97\u901a\u5e38\u662f\u6307\u8fd0\u884c\u5728\u670d\u52a1\u5668\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u670d\u52a1\u5668\u901a\u5e38\u662f\u9ad8\u6027\u80fd\u7684\uff0c\u7528\u4e8e\u63d0\u4f9b\u670d\u52a1\uff0c\u5982\u7f51\u7ad9\uff0c\u6570\u636e\u5e93\uff0c\u6587\u4ef6\u5171\u4eab\u7b49\u3002</p>"},{"location":"incourse/CA/Ch1/#clusterswarehouse-scale-computers","title":"Clusters/Warehouse-Scale Computers","text":"<p>\u96c6\u7fa4\u8ba1\u7b97\u662f\u6307\u5c06\u591a\u53f0\u8ba1\u7b97\u673a\u8fde\u63a5\u5728\u4e00\u8d77\uff0c\u4ee5\u5171\u540c\u5b8c\u6210\u4e00\u4e2a\u4efb\u52a1\u3002\u8fd9\u79cd\u8ba1\u7b97\u65b9\u5f0f\u901a\u5e38\u7528\u4e8e\u9ad8\u6027\u80fd\u8ba1\u7b97\uff0c\u5982\u79d1\u5b66\u8ba1\u7b97\uff0c\u6570\u636e\u5206\u6790\u7b49\u3002</p>"},{"location":"incourse/CA/Ch1/#\u5e76\u53d1\u7684\u79cd\u7c7b\u4e0e\u7ed3\u6784","title":"\u5e76\u53d1\u7684\u79cd\u7c7b\u4e0e\u7ed3\u6784","text":"<p>\u901a\u5e38\uff0c\u5728\u5e94\u7528\u4e0a\u6709\u4e24\u79cd\u5e76\u53d1\uff1a</p> <ol> <li> <p>Data-level parallelism(DLP): \u6570\u636e\u7ea7\u5e76\u53d1\uff0c\u5373\u591a\u4e2a\u6570\u636e\u540c\u65f6\u5904\u7406\u3002</p> </li> <li> <p>Task-level parallelism(TLP): \u4efb\u52a1\u7ea7\u5e76\u53d1\uff0c\u5373\u591a\u4e2a\u4efb\u52a1\u540c\u65f6\u5904\u7406\u3002</p> </li> </ol> <p>\u4e4b\u540e\uff0c\u8ba1\u7b97\u673a\u786c\u4ef6\u6839\u636e\u8fd9\u4e24\u79cd\u5e76\u53d1\uff0c\u8bbe\u8ba1\u51fa\u4e86\u56db\u79cd\u4e3b\u8981\u7684\u5e76\u53d1\u7ed3\u6784\uff1a</p> <ol> <li> <p>Instruction-level parallelism\uff1a\u6307\u4ee4\u5e76\u53d1\u5229\u7528\u7f16\u8bd1\u5668\u4e0e\u6d41\u6c34\u7ebf\u6280\u672f\uff0c\u4f7f\u5f97\u591a\u6761\u6307\u4ee4\u540c\u65f6\u6267\u884c\u3002</p> </li> <li> <p>Vector architectures, graphic processor units (GPUs), and multimedia instruction sets\uff1a\u5411\u91cf\u5904\u7406\u5668\uff0c\u56fe\u5f62\u5904\u7406\u5668\uff0c\u591a\u5a92\u4f53\u6307\u4ee4\u96c6\u7b49\u3002</p> </li> <li> <p>Thread-level parallelism\uff1a\u7ebf\u7a0b\u7ea7\u5e76\u53d1\uff0c\u5373\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u6267\u884c\u3002</p> </li> <li> <p>Request-level parallelism\uff1a\u8bf7\u6c42\u7ea7\u5e76\u53d1\uff0c\u5373\u591a\u4e2a\u8bf7\u6c42\u540c\u65f6\u6267\u884c\u3002</p> </li> </ol> <p>Flynn\u5c06\u8ba1\u7b97\u673a\u5206\u4e3a\u56db\u7c7b\uff1a</p> <ol> <li> <p>SISD(Single Instruction, Single Data)\uff1a\u5355\u6307\u4ee4\u5355\u6570\u636e\uff0c\u5373\u4f20\u7edf\u7684\u8ba1\u7b97\u673a\u3002</p> </li> <li> <p>SIMD(Single Instruction, Multiple Data)\uff1a\u5355\u6307\u4ee4\u591a\u6570\u636e\uff0c\u5373\u5411\u91cf\u5904\u7406\u5668\u3002</p> </li> <li> <p>MISD(Multiple Instruction, Single Data)\uff1a\u591a\u6307\u4ee4\u5355\u6570\u636e\uff0c\u7406\u8bba\u4e0a\u5b58\u5728\uff0c\u4f46\u5b9e\u9645\u4e0a\u5e76\u6ca1\u6709\u3002</p> </li> <li> <p>MIMD(Multiple Instruction, Multiple Data)\uff1a\u591a\u6307\u4ee4\u591a\u6570\u636e\uff0c\u5373\u591a\u6838\u5904\u7406\u5668\u3002\u6bcf\u4e2a\u5904\u7406\u5668\u83b7\u5f97\u81ea\u5df1\u7684\u6570\u636e\u5e76\u6267\u884c\u81ea\u5df1\u7684\u6307\u4ee4\u3002</p> </li> </ol>"},{"location":"incourse/CA/Ch1/#isa","title":"ISA","text":"<p>ISA(Instruction Set Architecture)\u662f\u6307\u4ee4\u96c6\u67b6\u6784\uff0c\u662f\u8ba1\u7b97\u673a\u786c\u4ef6\u4e0e\u8f6f\u4ef6\u4e4b\u95f4\u7684\u63a5\u53e3\u3002ISA\u5b9a\u4e49\u4e86\u8ba1\u7b97\u673a\u7684\u6307\u4ee4\u96c6\uff0c\u5bc4\u5b58\u5668\uff0c\u5185\u5b58\u6a21\u578b\u7b49\u3002\u5728\u8ba1\u7b97\u673a\u7ec4\u6210\u4e0e\u672c\u8bfe\u7a0b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u7684ISA\u90fd\u662fRISC-V\uff0c\u8fd9\u662f\u4e00\u4e2a\u5f00\u6e90\u7684ISA,\u7531\u4f2f\u514b\u5229\u5927\u5b66\u5f00\u53d1\u3002</p> <p>RISC-V\u662f32\u4f4d\u7684\uff0c\u670932\u4e2a\u901a\u7528\u5bc4\u5b58\u5668\uff0c\u4f7f\u7528load/store\u6307\u4ee4\u8bbf\u95ee\u5185\u5b58\uff0c\u6307\u4ee4\u957f\u5ea6\u4e5f\u662f32\u4f4d\u3002</p> <p>\u6307\u4ee4\u8bf4\u660e\uff08\u548c\u8ba1\u7ec4\u4e2d\u7684\u4e00\u6837\uff09</p> <p></p>"},{"location":"incourse/CA/Ch1/#performance","title":"Performance","text":""},{"location":"incourse/CA/Ch1/#bandwidth-over-latency","title":"Bandwidth over Latency","text":"<p>\u6211\u4eec\u4f7f\u7528\u4e24\u4e2a\u6307\u6807\u6765\u5ea6\u91cf\u6027\u80fd\uff1a</p> <ol> <li> <p>Latency(Response Time)\uff1a\u5ef6\u8fdf\uff0c\u5373\u5b8c\u6210\u4e00\u4e2a\u4efb\u52a1\u6240\u9700\u7684\u65f6\u95f4\u3002</p> </li> <li> <p>Throughput(Bandwidth)\uff1a\u541e\u5410\u91cf\uff0c\u5373\u5355\u4f4d\u65f6\u95f4\u5185\u5b8c\u6210\u7684\u4efb\u52a1\u6570\u91cf\u3002</p> </li> </ol> <p>\u5b83\u4eec\u7684\u5173\u7cfb\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p>"},{"location":"incourse/CA/Ch1/#scaling-of-transistor-performance-and-wires","title":"Scaling of Transistor Performance and Wires","text":"<p>\u96c6\u6210\u7535\u8def\u5904\u7406\u5668\u7684\u7279\u5f81\u5c3a\u5bf8</p> <p>\u7279\u5f81\u5c3a\u5bf8(Feature Size)\u662f\u6307\u6676\u4f53\u7ba1\u5728X\u548cY\u65b9\u5411\u4e0a\u7684\u6700\u5c0f\u5c3a\u5bf8\u3002</p> <p>\u7279\u5f81\u5c3a\u5bf8\u8d8a\u5c0f,\uff0c\u6676\u4f53\u7ba1\u7684\u6570\u91cf\u5c31\u8d8a\u591a\uff0c\u6027\u80fd\u5c31\u8d8a\u9ad8\u3002</p> <p>\u7136\u800c,\u5f53\u7279\u5f81\u5c3a\u5bf8\u51cf\u5c0f\u65f6,\u7ebf\u8def\u4f1a\u53d8\u5f97\u66f4\u77ed,\u5e26\u6765\u7684\u662f\u66f4\u7cdf\u7cd5\u7684\u7535\u963b\u4e0e\u7535\u5bb9</p>"},{"location":"incourse/CA/Ch1/#trends-in-power-and-energy-in-integrated-circuits","title":"Trends in Power and Energy in Integrated Circuits","text":"<p>\u5f53\u6211\u4eec\u6bd4\u8f83\u4e24\u4e2a\u5904\u7406\u5668\u7684\u6548\u7387\u65f6,\u4e0d\u5e94\u8be5\u6bd4\u8f83\u5b83\u4eec\u7684\u5e73\u5747\u529f\u7387,\u800c\u5e94\u8be5\u6bd4\u8f83\u5b83\u4eec\u5728\u540c\u4e00\u4efb\u52a1\u4e0a\u7684\u80fd\u91cf\u6d88\u8017.\u56e0\u4e3a\u529f\u7387\u66f4\u5927\u7684\u5904\u7406\u5668\u53ef\u80fd\u5728\u540c\u4e00\u4efb\u52a1\u4e0a\u66f4\u5feb,\u4ece\u800c\u6d88\u8017\u66f4\u5c11\u7684\u80fd\u91cf.</p>"},{"location":"incourse/CA/Ch1/#energy-and-power-within-a-microprocessor","title":"Energy and Power Within a Microprocessor","text":"<ul> <li> <p>dynamic energy:\u7528\u6765\u8f6c\u6362\u6676\u4f53\u7ba1\u72b6\u6001\u7684\u80fd\u91cf</p> <ul> <li> <p>\u5982\u679c\u8109\u51b2\u662f\\(0 \\rightarrow 1 \\rightarrow 0\\)\u6216\u8005\\(1 \\rightarrow 0 \\rightarrow 1\\),\u90a3\u4e48:</p> \\[ Energy_{dynamic} \\propto Capacitive load \\times Voltage^2  \\] </li> <li> <p>\u5982\u679c\u8109\u51b2\u662f\\(0 \\rightarrow 1 \\rightarrow 0\\)\u6216\u8005\\(1 \\rightarrow 0 \\rightarrow 1\\),\u90a3\u4e48:</p> \\[ Energy_{dynamic} \\propto Capacitive load \\times Voltage^2 \\times \\frac{1}{2} \\] </li> </ul> </li> <li> <p>power:\u529f\u7387\u662f\u5355\u4f4d\u65f6\u95f4\u5185\u6d88\u8017\u7684\u80fd\u91cf</p> \\[ Power_{dynamic} \\propto Capacitive load \\times Voltage^2 \\times \\frac{1}{2} \\times Switech\\text{_}Frequency \\] <p>\u5bf9\u4e8e\u4e00\u4e2a\u56fa\u5b9a\u7684\u4efb\u52a1,\u964d\u4f4e\u65f6\u949f\u9891\u7387\u53ef\u4ee5\u964d\u4f4e\u529f\u7387,\u4f46\u4e0d\u4f1a\u51cf\u5c11\u603b\u7684\u80fd\u91cf\u6d88\u8017.\u6240\u4ee5,\u8d85\u9891\u6709\u98ce\u9669.</p> <p>\u4f46\u662f\u5f88\u663e\u7136,\u964d\u4f4e\u7535\u538b\u53ef\u4ee5\u663e\u8457\u51cf\u5c11\u80fd\u91cf\u4e0e\u529f\u7387,\u6240\u4ee5\u8fd1\u4e9b\u5e74\u7684\u5904\u7406\u5668\u90fd\u5728\u52aa\u529b\u964d\u4f4e\u7535\u538b.</p> </li> <li> <p>Static Energy:     \u80fd\u91cf\u6cc4\u9732\u5bfc\u81f4\u7684\u635f\u8017.</p> </li> </ul> <p>\u4e3a\u4e86\u63d0\u9ad8\u80fd\u91cf\u6548\u7387,\u540c\u65f6\u4fdd\u6301\u65f6\u949f\u9891\u7387\u4e0e\u7535\u538b\u7a33\u5b9a,\u6709\u5982\u4e0b\u6280\u672f:</p> <ol> <li> <p>Do nothing well:\u5c06\u4e0d\u6d3b\u8dc3\u7684\u6a21\u5757\u5173\u95ed,\u6765\u8282\u7ea6\u80fd\u91cf</p> </li> <li> <p>Dynamic voltage-frequency scaling (DVFS): \u5728\u4f4e\u6d3b\u8dc3\u72b6\u6001\u4e0b\u964d\u4f4e\u65f6\u949f\u9891\u7387\u548c\u7535\u538b</p> </li> <li> <p>Design for the typical case: \u5bf9\u4e8e\u7b14\u8bb0\u672c\u7b49\u7ecf\u5e38\u7a7a\u95f2\u7684\u8bbe\u5907,\u8bbe\u7f6e\u5f85\u673a\u72b6\u6001</p> </li> <li> <p>Overclocking:\u8d85\u9891,\u8ba9\u82af\u7247\u66f4\u731b,\u76f4\u5230\u6e29\u5ea6\u592a\u9ad8</p> </li> </ol>"},{"location":"incourse/CA/Ch1/#trends-in-cost","title":"Trends in Cost","text":""},{"location":"incourse/CA/Ch1/#\u65f6\u95f4\u4ea7\u91cf\u4e0e\u5546\u4e1a\u5316\u7684\u5f71\u54cd","title":"\u65f6\u95f4,\u4ea7\u91cf\u4e0e\u5546\u4e1a\u5316\u7684\u5f71\u54cd","text":"<ul> <li> <p>\u65f6\u95f4:\u5373\u4f7f\u5de5\u827a\u6ca1\u6709\u6539\u8fdb,\u5236\u9020\u8ba1\u7b97\u673a\u7684\u6210\u672c\u4e5f\u4f1a\u968f\u7740\u65f6\u95f4\u6d41\u901d\u800c\u4e0b\u964d</p> <ul> <li> <p>\u5b66\u4e60\u66f2\u7ebf(Learning Curve):\u5236\u9020\u6210\u672c\u968f\u65f6\u95f4\u4e0b\u964d\u7684\u66f2\u7ebf</p> </li> <li> <p>\u5b66\u4e60\u66f2\u7ebf\u53ef\u901a\u8fc7\u4ea7\u51fa(yield)\u6d4b\u91cf</p> </li> </ul> </li> <li> <p>\u4ea7\u91cf:\u4ea7\u91cf\u7684\u63d0\u9ad8\u4f1a\u964d\u4f4e\u6210\u672c</p> <ul> <li> <p>\u51cf\u5c11\u4e86\u8d70\u5b8c\u5b66\u4e60\u66f2\u7ebf(\u79ef\u7d2f\u7ecf\u9a8c)\u6240\u9700\u7684\u65f6\u95f4\uff0c\u56e0\u4e3a\u5b66\u4e60\u66f2\u7ebf\u90e8\u5206\u4e0e\u5236\u9020\u7684\u7cfb\u7edf(\u6216\u82af\u7247)\u6570\u91cf\u6210\u6b63\u6bd4</p> </li> <li> <p>\u4ea7\u91cf\u7684\u63d0\u9ad8\u4f1a\u63d0\u9ad8\u8d2d\u4e70\u4e0e\u5236\u9020\u6548\u7387.</p> </li> <li> <p>\u51cf\u5c11\u4e86\u6bcf\u53f0\u8ba1\u7b97\u673a\u5fc5\u987b\u644a\u9500\u7684\u5f00\u53d1\u6210\u672c\u91cf\uff0c\u4ece\u800c\u4f7f\u6210\u672c\u548c\u9500\u552e\u4ef7\u683c\u66f4\u52a0\u63a5\u8fd1\u5e76\u4ecd\u7136\u83b7\u5229\u3002</p> </li> </ul> </li> <li> <p>\u5546\u4e1a\u5316:\u4f9b\u5e94\u5546\u7684\u7ade\u4e89\u4f1a\u5bfc\u81f4\u6210\u672c\u964d\u4f4e.</p> </li> </ul>"},{"location":"incourse/CA/Ch1/#cost-of-an-integrated-circuit","title":"Cost of an Integrated Circuit","text":"<p>\u96c6\u6210\u7535\u8def\u7684\u6210\u672c\u8ba1\u7b97\u516c\u5f0f\u4e3a\uff1a</p> \\[ \\text{Cost\u00a0of\u00a0integrated\u00a0circuit}=\\frac{\\text{Cost\u00a0of\u00a0die}\u00a0+\u00a0\\text{Cost\u00a0of\u00a0testing\u00a0die}\u00a0+\u00a0\\text{Cost\u00a0of\u00a0packaging\u00a0and\u00a0final\u00a0test}}{\\text{Final\u00a0test\u00a0yield}} \u200b\\] <p>\u6bcf\u4e2a\u6676\u7247(die)\u7684\u6210\u672c\u4e3a:</p> \\[ \\text{Cost\u00a0of\u00a0die}=\\frac{\\text{Cost\u00a0of\u00a0wafer}}{\\text{Dies\u00a0per\u00a0wafer}\\times\\text{Die\u00a0yield}} \u200b\\] <p>\u800c\u4e00\u4e2a\u6676\u5706(wafer)\u4e0a\u7684\u6676\u7247\u6570\u76ee\u4e3a:</p> \\[ \\text{Dies\u00a0per\u00a0wafer}=\\frac{\\pi\\times(\\frac{\\text{Wafer\u00a0diameter}}{2})^2}{\\text{Die\u00a0area}}\u2212\\frac{\\pi\\times\\text{Wafer\u00a0diameter}}{\\sqrt{2\\times\\text{Die\u00a0area}}}\u200b \\] <p>\u5f53\u7136,\u4e00\u4e2a\u6676\u5706\u4e0a\u7684\u6676\u7247\u5e76\u4e0d\u90fd\u662f\u5408\u683c\u7684,\u6211\u4eec\u5047\u8bbe\u7f3a\u9677\u968f\u673a\u5206\u5e03\u4e8e\u6676\u5706\u4e0a,\u4e14\u4ea7\u91cf\u4e0e\u5236\u9020\u8fc7\u7a0b\u7684\u590d\u6742\u6027\u6210\u53cd\u6bd4,\u6709\u5982\u4e0b\u516c\u5f0f:</p> \\[ \\text{Die\u00a0yield}=\\text{Wafer\u00a0yield}\\times\\frac{1}{(1+\\text{Defects\u00a0per\u00a0unit\u00a0area}\\times\\text{Die\u00a0area})^N}\u200b \\] <p>\u8fd9\u91cc\u7684Die yield\u6307\u7684\u662f\u597d\u7684\u6676\u7247\u4ea7\u51fa,N\u662fprocess-complexity factor(\u8fc7\u7a0b\u590d\u6742\u6027\u56e0\u5b50),\u8861\u91cf\u5236\u9020\u7684\u56f0\u96be\u7a0b\u5ea6.</p>"},{"location":"incourse/CA/Ch1/#dependability","title":"Dependability","text":"<p>\u89c1\u8ba1\u7ec4Measure\u4e0eRaid\u7ae0\u8282    </p>"},{"location":"incourse/CA/Ch1/#measurement","title":"Measurement","text":"<p>\u4e3a\u4e86\u8861\u91cf\u8ba1\u7b97\u673a\u7684\u6027\u80fd,\u6211\u4eec\u5f15\u5165\u5982\u4e0b\u4e24\u4e2a\u6982\u5ff5:</p> <ul> <li> <p>Execution Time:\u6267\u884c\u65f6\u95f4,\u5373\u5b8c\u6210\u4e00\u4e2a\u4efb\u52a1\u6240\u9700\u7684\u65f6\u95f4</p> <ul> <li> <p>\u6700\u76f4\u63a5\u7684\u5b9a\u4e49\u65b9\u6cd5\u662f<code>Wall-Clock Time/response time/elapsed time</code>,\u6307\u7684\u662f\u5b8c\u6210\u4e00\u9879\u4efb\u52a1\u6240\u9700\u7684\u65f6\u95f4,\u5305\u62ec\u6240\u6709\u7684\u7b49\u5f85\u65f6\u95f4,\u5982I/O,\u5185\u5b58\u8bbf\u95ee\u7b49</p> </li> <li> <p>\u53e6\u4e00\u79cd\u5b9a\u4e49\u65b9\u6cd5\u662f<code>CPU Time</code>,\u6307\u7684\u662fCPU\u5b9e\u9645\u6267\u884c\u6307\u4ee4\u6240\u9700\u7684\u65f6\u95f4,\u4e0d\u5305\u62ecI/O,\u5185\u5b58\u8bbf\u95ee\u7b49\u7b49\u5f85\u65f6\u95f4</p> <ul> <li> <p>CPU time = Instruction count \u00d7 CPI \u00d7 Clock cycle time</p> </li> <li> <p>CPI = Clock cycles per instruction</p> </li> <li> <p>Clock cycle time = 1 / Clock frequency</p> </li> <li> <p>CPU time = Instruction count / Clock frequency \u00d7 CPI</p> </li> </ul> </li> <li> <p><code>Workload</code>\u4e5f\u662f\u4e00\u79cd\u7528\u6765\u8861\u91cf\u8ba1\u7b97\u673a\u6027\u80fd\u7684\u65b9\u6cd5,\u4e5f\u5373\u5728\u7ed9\u5b9a\u4e00\u7ec4\u4efb\u52a1(\u5305\u62ec\u7528\u6237\u4efb\u52a1\u4e0e\u7cfb\u7edf\u4efb\u52a1)\u4e0b\u7684\u5904\u7406\u65f6\u95f4.</p> </li> </ul> </li> <li> <p>Throughput:\u541e\u5410\u91cf,\u5373\u5355\u4f4d\u65f6\u95f4\u5185\u5b8c\u6210\u7684\u4efb\u52a1\u6570\u91cf</p> <ul> <li> <p>\u901a\u8fc7<code>Throughput = 1 / Execution time</code>\u6765\u8ba1\u7b97</p> </li> <li> <p>\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>Throughput = Instruction count / CPU time</code>\u6765\u8ba1\u7b97</p> </li> <li> <p>\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>Throughput = Instruction count / (Instruction count / Clock frequency \u00d7 CPI)</code>\u6765\u8ba1\u7b97</p> </li> <li> <p>\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>Throughput = Clock frequency / CPI</code>\u6765\u8ba1\u7b97</p> </li> </ul> </li> </ul>"},{"location":"incourse/CA/Ch1/#benchmark","title":"Benchmark","text":"<p>\u611f\u89c9\u4e0d\u4f1a\u8003,\u4e0d\u8bb0\u4e86</p>"},{"location":"incourse/CA/Ch1/#specratio","title":"SPECRatio","text":"<p>SPECRatio\u662fSPEC\u57fa\u51c6\u6d4b\u8bd5\u7684\u7ed3\u679c,\u7528\u4e8e\u8861\u91cf\u8ba1\u7b97\u673a\u6027\u80fd.\u5b83\u662f\u901a\u8fc7\u5c06\u8ba1\u7b97\u673a\u7684\u6267\u884c\u65f6\u95f4\u4e0e\u53c2\u8003\u8ba1\u7b97\u673a\u7684\u6267\u884c\u65f6\u95f4\u8fdb\u884c\u6bd4\u8f83\u6765\u8ba1\u7b97\u7684. SPECRatio\u7684\u8ba1\u7b97\u516c\u5f0f\u4e3a: $$ SPECRatio = \\frac{Execution time of reference computer}{Execution time of computer under test} $$</p> <p>\u90a3\u4e48\u5728\u6bd4\u8f83\u4e24\u4e2a\u8ba1\u7b97\u673a\u7684\u6027\u80fd\u65f6,\u516c\u5f0f\u5982\u4e0b: $$ \\frac{\\text{SPECRatio of computer A}}{\\text{SPECRatio of computer B}} = \\frac{\\text{Execution time of computer B}}{\\text{Execution time of computer A}} $$</p> <p>\u7531\u4e8eSPEC\u662f\u4e00\u4e2a\u6bd4\u503c,\u5728\u8ba1\u7b97\u5e73\u5747\u503c\u65f6,\u6211\u4eec\u4f7f\u7528\u51e0\u4f55\u5e73\u5747\u6570,\u800c\u4e0d\u662f\u7b97\u672f\u5e73\u5747\u6570.\u6240\u4ee5,\u6211\u4eec\u4f7f\u7528\u5982\u4e0b\u516c\u5f0f\u6765\u8ba1\u7b97\u5e73\u5747\u503c: $$ SPECRatio_{geometric} = \\sqrt[n]{SPECRatio_1 \\times SPECRatio_2 \\times ... \\times SPECRatio_n} $$</p>"},{"location":"incourse/CA/Ch1/#quantitative-principles","title":"Quantitative Principles","text":"<p>Amdahl's Law:\u963f\u59c6\u8fbe\u5c14\u5b9a\u5f8b,\u7528\u4e8e\u8861\u91cf\u8ba1\u7b97\u673a\u6027\u80fd\u7684\u63d0\u5347\u4e0e\u7a0b\u5e8f\u7684\u5e76\u884c\u5316\u7a0b\u5ea6\u4e4b\u95f4\u7684\u5173\u7cfb.\u5b83\u7684\u516c\u5f0f\u4e3a: $$ \\text{New Execution Time} = \\text{Old Execution Time} \\times (1 - P) + \\frac{\\text{Old Execution Time} \\times P}{N} $$ \u5176\u4e2d,P\u662f\u7a0b\u5e8f\u4e2d\u53ef\u4ee5\u5e76\u884c\u5316\u7684\u90e8\u5206,\u800cN\u662f\u5e76\u884c\u5316\u7684\u7a0b\u5ea6.\u5f53P=1\u65f6,Speedup=N,\u5373\u5b8c\u5168\u5e76\u884c\u5316.\u5f53P=0\u65f6,Speedup=1,\u5373\u5b8c\u5168\u4e32\u884c\u5316.</p> <p>\u5bf9\u6b64\u7684\u52a0\u901f\u6bd4\u4e3a $$ Speedup = \\frac{1}{(1 - P) + \\frac{P}{N}} $$</p> <p>\u56e0\u6b64,\u5982\u679c\u6211\u4eec\u53ea\u80fd\u52a0\u901f\u6574\u4e2a\u4efb\u52a1\u4e2d\u5360\u6bd4\u4e3aP\u7684\u90e8\u5206,\u52a0\u901f\u6bd4\u6700\u591a\u4e3a $$ Speedup = \\frac{1}{(1 - P)} $$</p>"},{"location":"incourse/CA/Ch2/","title":"\u6307\u4ee4\u7ea7\u5e76\u884c","text":"<p> \u7ea6 7807 \u4e2a\u5b57  72 \u884c\u4ee3\u7801  24 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 40 \u5206\u949f</p> <ul> <li> <p> \u6bd4\u8d5b\u9884\u6d4b\u5668</p> </li> <li> <p> Tomasulo\u7b97\u6cd5</p> </li> </ul> <p>\u5f00\u5934\u6d41\u6c34\u7ebf\u5728\u524d\u9762\u5b66\u8fc7\u4e86...</p> <p>\u5728\u8ba1\u7ec4\u4e2d\u6211\u4eec\u5b66\u4e60\u7684\u6307\u4ee4\u90fd\u662f\u6574\u6570\u6307\u4ee4\uff0c\u5b9e\u9645\u4e0a\uff0c\u5bf9\u4e8e\u6d6e\u70b9\u6307\u4ee4(FP)\uff0c\u6d41\u6c34\u7ebf\u9700\u8981\u505a\u4e00\u4e9b\u5c0f\u6539\u52a8\u3002</p> <p>Latency&amp;Interval</p> <ul> <li> <p>Latency:the number of intervening cycles between an instruction that produces a result and an instruction that uses the result(\u5728\u4ea7\u751f\u7ed3\u679c\u7684\u6307\u4ee4\u548c\u4f7f\u7528\u7ed3\u679c\u7684\u6307\u4ee4\u4e4b\u95f4\u7684\u5468\u671f\u6570)</p> </li> <li> <p>Interval: the number of cycles that must elapse between the issue of two consecutive instructions(\u4e24\u6761\u8fde\u7eed\u6307\u4ee4\u4e4b\u95f4\u5fc5\u987b\u7ecf\u8fc7\u7684\u5468\u671f\u6570)</p> </li> </ul> <p>\u5728\u5904\u7406\u6d6e\u70b9\u6570\u65f6\uff0c\u6211\u4eec\u628aEX\u9636\u6bb5\u5206\u4e3a\u591a\u79cd\uff1a</p> <ul> <li> <p>\u5904\u7406\u6d6e\u70b9\u6570\u52a0\u6cd5</p> </li> <li> <p>\u5904\u7406\u6d6e\u70b9\u6570\u4e58\u6cd5</p> </li> <li> <p>\u5904\u7406\u6d6e\u70b9\u6570\u9664\u6cd5</p> </li> <li> <p>\u4e0d\u5904\u7406\u6d6e\u70b9\u6570</p> </li> </ul> <p>\u5728\u8fd9\u4e4b\u4e2d\uff0c\u4e58\u6cd5\u548c\u52a0\u6cd5\u662f\u53ef\u4ee5\u91c7\u53d6\u6d41\u6c34\u7ebf\u7684\u65b9\u5f0f\u6765\u5904\u7406\u7684,\u4e5f\u5c31\u662f\u8bf4\uff0c\u540e\u4e00\u6761\u6307\u4ee4\u5e76\u4e0d\u9700\u8981\u524d\u4e00\u6761\u6307\u4ee4\u79bb\u5f00EX\u9636\u6bb5\u624d\u80fd\u8fdb\u5165EX\u9636\u6bb5\u3002</p> <p>Out of order Completion</p> <p>\u5bf9\u4e8e\u5982\u4e0b\u6307\u4ee4: <pre><code>fdiv.d F0,F2,F4\nfadd.d F10,F10,F8\nfsub.d F12,F12,F14\n</code></pre></p> <p>\u7531\u4e8e\u9664\u6cd5\u6307\u4ee4\u6267\u884c\u9700\u8981\u7684\u65f6\u95f4\u4e45\uff0c\u56e0\u6b64\u52a0\u6cd5\u548c\u51cf\u6cd5\u4f1a\u5728\u9664\u6cd5\u505a\u5b8c\u4e4b\u524d\u505a\u5b8c\uff0c\u4e5f\u5c31\u662f\u51fa\u73b0\u4e86\u4e71\u5e8f\u7684\u73b0\u8c61\u3002</p> <p>\u5bf9\u4e8e\u4e71\u5e8f\uff0c\u6211\u4eec\u53ef\u4ee5\u91c7\u53d6\u5982\u4e0b\u505a\u6cd5</p> <ol> <li> <p>\u5982\u679c\u50cf\u4e0a\u9762\u8fd9\u6837\u6307\u4ee4\u4e4b\u95f4\u4e0d\u5b58\u5728\u4f9d\u8d56\uff0c\u90a3\u4e48\u53ef\u4ee5\u76f4\u63a5\u5ffd\u89c6</p> </li> <li> <p>\u628a\u540e\u5b8c\u6210\u7684\u6307\u4ee4\u7684\u7ed3\u679c\u5b58\u5230\u4e00\u4e2abuffer\u91cc\u9762\uff0c\u7b49\u5230\u524d\u9762\u7684\u6307\u4ee4\u5b8c\u6210\u540e\u518d\u5199\u56de\u53bb\u3002</p> </li> <li> <p>\u8bb0\u5f55\u6d41\u6c34\u7ebf\u4e2d\u7684\u6307\u4ee4\u4e0e\u5b83\u4eec\u7684PC\u503c\uff0c\u4ee5\u4fbf\u5904\u7406\u5f02\u5e38</p> </li> <li> <p>\u53ea\u6709\u5f53\u4e00\u6761\u6307\u4ee4\u524d\u9762\u7684\u6307\u4ee4\u90fd\u5904\u7406\u5b8c\u4e14\u6ca1\u53d1\u751f\u5f02\u5e38\u65f6\uff0c\u624d\u5904\u7406\u8fd9\u6761\u6307\u4ee4</p> </li> </ol>"},{"location":"incourse/CA/Ch2/#ilp-exploitation","title":"ILP exploitation","text":"<p>ILP exploitation</p> <p>ILP exploitation(\u6307\u4ee4\u7ea7\u5e76\u884c\u6027\u5229\u7528)\u662f\u6307\u901a\u8fc7\u7f16\u8bd1\u5668\u548c\u786c\u4ef6\u7684\u914d\u5408\u6765\u63d0\u9ad8\u6307\u4ee4\u7ea7\u5e76\u884c\u6027\u3002</p> <ul> <li> <p>Compiler-based static parallelism:\u7f16\u8bd1\u5668\u5728\u7f16\u8bd1\u65f6\u5206\u6790\u6307\u4ee4\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u5e76\u5c06\u53ef\u4ee5\u5e76\u884c\u6267\u884c\u7684\u6307\u4ee4\u8fdb\u884c\u8c03\u5ea6\u3002</p> </li> <li> <p>Hardware-based dynamic parallelism:\u786c\u4ef6\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u5206\u6790\u6307\u4ee4\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u5e76\u5c06\u53ef\u4ee5\u5e76\u884c\u6267\u884c\u7684\u6307\u4ee4\u8fdb\u884c\u8c03\u5ea6\u3002</p> </li> </ul> <p>\u4ec0\u4e48\u6837\u7684\u6307\u4ee4\u53ef\u4ee5\u5e76\u884c\u5462?</p> <p>\u5982\u679c\u4e24\u6761\u6307\u4ee4\u4e00\u8d77\u6267\u884c\u65f6\u4e0d\u4f1a\u6709stall\uff0c\u4e0d\u4f1a\u5f15\u8d77\u7ed3\u6784\u5192\u9669\uff0c\u8fd9\u4e24\u6761\u6307\u4ee4\u5c31\u662f\u53ef\u4ee5\u5e76\u884c\u7684\u3002</p> <p>\u4e0d\u7136\uff0c\u6211\u4eec\u79f0\u8fd9\u4e9b\u6307\u4ee4\u662f\u6709\u4f9d\u8d56\u7684\uff0c\u5373Dependant Instructions\u3002</p>"},{"location":"incourse/CA/Ch2/#dependence","title":"Dependence","text":""},{"location":"incourse/CA/Ch2/#data-dependence\u6570\u636e\u4f9d\u8d56","title":"Data Dependence(\u6570\u636e\u4f9d\u8d56)","text":"<p>\u6570\u636e\u4f9d\u8d56\u662f\u6307\u4e24\u6761\u6307\u4ee4\u4e4b\u95f4\u5b58\u5728\u6570\u636e\u4f20\u9012\u5173\u7cfb\uff0c\u5373\u4e00\u6761\u6307\u4ee4\u7684\u8f93\u51fa\u7ed3\u679c\u4f5c\u4e3a\u53e6\u4e00\u6761\u6307\u4ee4\u7684\u8f93\u5165\u3002\u5178\u578b\u7684\u6570\u636e\u4f9d\u8d56\u5c31\u662f:</p> <ul> <li>Read After Write (RAW): \u4e5f\u79f0\u4e3a\u771f\u5b9e\u4f9d\u8d56\uff0c\u8868\u793a\u7b2c\u4e8c\u6761\u6307\u4ee4\u9700\u8981\u8bfb\u53d6\u7b2c\u4e00\u6761\u6307\u4ee4\u7684\u7ed3\u679c\u3002</li> </ul> <pre><code>add r1, r2, r3\nsub r4, r1, r5\n</code></pre> <ul> <li>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u7b2c\u4e8c\u6761\u6307\u4ee4\u9700\u8981\u8bfb\u53d6\u7b2c\u4e00\u6761\u6307\u4ee4\u7684\u7ed3\u679cr1\uff0c\u56e0\u6b64\u5b83\u4eec\u4e4b\u95f4\u5b58\u5728\u6570\u636e\u4f9d\u8d56\u5173\u7cfb\u3002</li> </ul> <p>\u603b\u7684\u6765\u8bf4\uff0c\u5982\u679c\u6307\u4ee4j\u4e0d\u4e0e\u6307\u4ee4i\u6709\u6570\u636e\u4f9d\u8d56\u5173\u7cfb\uff0c\u90a3\u4e48\u4e0b\u9762\u7684\u60c5\u51b5\u90fd\u4e0d\u80fd\u51fa\u73b0\uff1a</p> <ul> <li> <p>\u6307\u4ee4j\u9700\u8981\u6307\u4ee4i\u7684\u7ed3\u679c</p> </li> <li> <p>\u6307\u4ee4j\u6570\u636e\u4f9d\u8d56\u6307\u4ee4k\uff0c\u6307\u4ee4k\u6570\u636e\u4f9d\u8d56\u6307\u4ee4i</p> </li> </ul>"},{"location":"incourse/CA/Ch2/#name-dependence\u540d\u79f0\u4f9d\u8d56","title":"Name Dependence(\u540d\u79f0\u4f9d\u8d56)","text":"<p>\u540d\u79f0\u4f9d\u8d56\u662f\u6307\u4e24\u6761\u6307\u4ee4\u4e4b\u95f4\u5b58\u5728\u540d\u79f0\u51b2\u7a81\uff0c\u5373\u5b83\u4eec\u4f7f\u7528\u4e86\u76f8\u540c\u7684\u5bc4\u5b58\u5668\u6216\u5185\u5b58\u5730\u5740\uff0c\u4f46\u5b9e\u9645\u4e0a\u5b83\u4eec\u4e4b\u95f4\u5e76\u6ca1\u6709\u6570\u636e\u4f20\u9012\u5173\u7cfb\u3002</p> <p>\u5178\u578b\u7684\u540d\u79f0\u4f9d\u8d56\u6709\u4ee5\u4e0b\u4e24\u79cd\uff1a</p> <ul> <li> <p>WAR(Write After Read): \u4e5f\u79f0\u4e3a\u53cd\u4f9d\u8d56(Antidependence)\uff0c\u5373\u540e\u4e00\u6761\u6307\u4ee4\u5199\u5165\u4e86\u4e00\u4e2a\u5bc4\u5b58\u5668\u6216\u5185\u5b58\u5730\u5740\uff0c\u800c\u524d\u4e00\u6761\u6307\u4ee4\u8bfb\u53d6\u4e86\u8fd9\u4e2a\u5bc4\u5b58\u5668\u6216\u5185\u5b58\u5730\u5740\u3002</p> <pre><code>fsd r1, 0(r2)\naddi r2,r2,-1\n</code></pre> <ul> <li>\u8fd9\u4e24\u6761\u6307\u4ee4\u5b9e\u9645\u4e0a\u6ca1\u6709\u6570\u636e\u4f9d\u8d56\u5173\u7cfb,\u4f46\u662f\u5b83\u4eec\u6267\u884c\u7684\u987a\u5e8f\u4e0d\u80fd\u4ea4\u6362\uff0c\u56e0\u4e3a\u7b2c\u4e8c\u6761\u6307\u4ee4\u4f1a\u8986\u76d6\u7b2c\u4e00\u6761\u6307\u4ee4\u7684\u7ed3\u679c\u3002</li> </ul> </li> <li> <p>WAW(Write After Write): \u4e5f\u79f0\u4e3a\u8f93\u51fa\u4f9d\u8d56(Output Dependence)\uff0c\u5373\u4e24\u6761\u6307\u4ee4\u90fd\u8981\u5199\u5165\u540c\u4e00\u4e2a\u5bc4\u5b58\u5668\u6216\u5185\u5b58\u5730\u5740\u3002</p> <pre><code>fsd r1, 0(r2)\nfsd r1, 4(r2)\n</code></pre> <ul> <li>\u540c\u6837,\u8fd9\u4e24\u6761\u6307\u4ee4\u6ca1\u6709\u6570\u636e\u4f9d\u8d56,\u4f46\u4e0d\u80fd\u4ea4\u6362\u987a\u5e8f.</li> </ul> </li> </ul> <p>\u8981\u89e3\u51b3\u540d\u79f0\u4f9d\u8d56\u7684\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u91c7\u53d6\u5982\u4e0b\u63aa\u65bd:</p> <ul> <li>Register Renaming:\u628a\u5bc4\u5b58\u5668\u91cd\u547d\u540d\u4e3a\u4e0d\u540c\u7684\u5bc4\u5b58\u5668,\u8fd9\u6837\u5c31\u53ef\u4ee5\u907f\u514d\u540d\u79f0\u4f9d\u8d56\u7684\u95ee\u9898\u3002</li> </ul>"},{"location":"incourse/CA/Ch2/#control-dependence\u63a7\u5236\u4f9d\u8d56","title":"Control Dependence(\u63a7\u5236\u4f9d\u8d56)","text":"<p>\u63a7\u5236\u4f9d\u8d56\u662f\u6307\u4e24\u6761\u6307\u4ee4\u4e4b\u95f4\u5b58\u5728\u63a7\u5236\u5173\u7cfb\uff0c\u5373\u4e00\u6761\u6307\u4ee4\u7684\u6267\u884c\u7ed3\u679c\u5f71\u54cd\u4e86\u53e6\u4e00\u6761\u6307\u4ee4\u7684\u6267\u884c\u3002</p> <pre><code>beq r1, r2, L1\n\naddi r3, r4, 1\n\nL1:\naddi r5, r6, 2\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u7b2c\u4e8c\u6761\u6307\u4ee4\u7684\u6267\u884c\u7ed3\u679c\u53d6\u51b3\u4e8e\u7b2c\u4e00\u6761\u6307\u4ee4\u7684\u6267\u884c\u7ed3\u679c\uff0c\u56e0\u6b64\u5b83\u4eec\u4e4b\u95f4\u5b58\u5728\u63a7\u5236\u4f9d\u8d56\u5173\u7cfb\u3002</p> <p>\u8fd9\u4e0e\u6211\u4eec\u8ba1\u7ec4\u5b66\u7684Control Hazard\u662f\u4e00\u6837\u7684\u3002</p>"},{"location":"incourse/CA/Ch2/#static-scheduling\u9759\u6001\u8c03\u5ea6","title":"Static Scheduling(\u9759\u6001\u8c03\u5ea6)","text":"<p>Static Scheduling \u89e3\u91ca from claude</p> <p>\u9759\u6001\u8c03\u5ea6\u662f\u6307\u5728\u7f16\u8bd1\u65f6\u5206\u6790\u6307\u4ee4\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u5e76\u5c06\u53ef\u4ee5\u5e76\u884c\u6267\u884c\u7684\u6307\u4ee4\u8fdb\u884c\u8c03\u5ea6\u3002</p> <ul> <li> <p>\u4f18\u70b9:\u7f16\u8bd1\u5668\u53ef\u4ee5\u6839\u636e\u6307\u4ee4\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u8fdb\u884c\u8c03\u5ea6\uff0c\u4ece\u800c\u63d0\u9ad8\u6307\u4ee4\u7ea7\u5e76\u884c\u6027\u3002</p> </li> <li> <p>\u7f3a\u70b9:\u7f16\u8bd1\u5668\u65e0\u6cd5\u52a8\u6001\u5206\u6790\u6307\u4ee4\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u6307\u4ee4\u65e0\u6cd5\u5e76\u884c\u6267\u884c\u3002</p> </li> </ul> <p>\u9759\u6001\u8c03\u5ea6\u5c31\u50cf\u662f\u4e00\u4e2a\u7cbe\u5fc3\u8bbe\u8ba1\u7684\u4ea4\u901a\u7ba1\u5236\u7cfb\u7edf\uff0c\u4f46\u8fd9\u4e2a\u7cfb\u7edf\u662f\u5728\"\u9053\u8def\u5efa\u8bbe\u5b8c\u6210\"\u4e4b\u524d\u5c31\u5df2\u7ecf\u89c4\u5212\u597d\u7684\u3002</p> <p>\u60f3\u8c61\u7f16\u8bd1\u5668\u662f\u4e00\u4f4d\u4ea4\u901a\u89c4\u5212\u5e08\uff0c\u5b83\u5728\u7a0b\u5e8f\u6267\u884c\u524d\uff08\u7f16\u8bd1\u65f6\uff09\u5c31\u9700\u8981\u89c4\u5212\u597d\u6240\u6709\"\u8f66\u8f86\"\uff08\u6307\u4ee4\uff09\u7684\u884c\u9a76\u8def\u7ebf\uff1a</p> <ol> <li> <p>\u63d0\u524d\u89c4\u5212\u8def\u7ebf\uff1a\u7f16\u8bd1\u5668\u4f1a\u63d0\u524d\u67e5\u770b\u6574\u4e2a\u4ee3\u7801\uff0c\u5c31\u50cf\u4ea4\u901a\u89c4\u5212\u5e08\u67e5\u770b\u57ce\u5e02\u5730\u56fe\uff0c\u627e\u51fa\u54ea\u4e9b\u6307\u4ee4\u53ef\u4ee5\u5e76\u884c\u6267\u884c\u3002</p> </li> <li> <p>\u907f\u5f00\"\u5835\u8f66\u70b9\"\uff1a\u7f16\u8bd1\u5668\u4f1a\u8bc6\u522b\u6307\u4ee4\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\uff08\u5982RAW\u3001WAR\u3001WAW\u4f9d\u8d56\uff09\uff0c\u5c31\u50cf\u89c4\u5212\u5e08\u907f\u5f00\u53ef\u80fd\u7684\u4ea4\u901a\u62e5\u5835\u70b9\u3002</p> </li> <li> <p>\u56fa\u5b9a\u7684\u4ea4\u901a\u706f\u8bbe\u7f6e\uff1a\u4e00\u65e6\u7f16\u8bd1\u5b8c\u6210\uff0c\u6307\u4ee4\u6267\u884c\u7684\u987a\u5e8f\u5c31\u50cf\u88ab\u56fa\u5b9a\u7684\u4ea4\u901a\u706f\u65f6\u5e8f\u4e00\u6837\uff0c\u4e0d\u4f1a\u6839\u636e\u5b9e\u9645\u8fd0\u884c\u60c5\u51b5\u505a\u51fa\u8c03\u6574\u3002</p> </li> </ol> <p>\u5b9e\u4f8b\u5206\u6790\uff1a <pre><code>a = b + c;    // \u6307\u4ee41\nd = e + f;    // \u6307\u4ee42 \ng = a + d;    // \u6307\u4ee43\n</code></pre></p> <p>\u9759\u6001\u8c03\u5ea6\u5206\u6790\uff1a</p> <ul> <li> <p>\u6307\u4ee41\u548c\u6307\u4ee42\u4e4b\u95f4\u6ca1\u6709\u4f9d\u8d56\uff0c\u53ef\u4ee5\u5e76\u884c\u6267\u884c</p> </li> <li> <p>\u6307\u4ee43\u4f9d\u8d56\u4e8e\u6307\u4ee41\u548c\u6307\u4ee42\u7684\u7ed3\u679c\uff0c\u5fc5\u987b\u7b49\u5b83\u4eec\u5b8c\u6210\u540e\u624d\u80fd\u6267\u884c</p> </li> </ul> <p>\u7f16\u8bd1\u5668\u4f1a\u751f\u6210\u8c03\u5ea6\u8ba1\u5212\uff1a\u5148\u5e76\u884c\u6267\u884c\u6307\u4ee41\u548c\u6307\u4ee42\uff0c\u518d\u6267\u884c\u6307\u4ee43\u3002\u8fd9\u79cd\u89c4\u5212\u662f\u57fa\u4e8e\u7f16\u8bd1\u65f6\u7684\"\u7406\u60f3\u60c5\u51b5\"\u505a\u51fa\u7684\u6700\u4f73\u5b89\u6392\uff0c\u4f46\u65e0\u6cd5\u5e94\u5bf9\u8fd0\u884c\u65f6\u7684\u610f\u5916\u60c5\u51b5\uff0c\u5982\u7f13\u5b58\u672a\u547d\u4e2d\u6216\u5206\u652f\u9884\u6d4b\u9519\u8bef\u3002</p> <p>\u9759\u6001\u8c03\u5ea6\u6709\u4e24\u79cd\u65b9\u6cd5:</p> <ol> <li> <p>Pipeline Scheduling:\u6d41\u6c34\u7ebf\u8c03\u5ea6</p> </li> <li> <p>Loop Unrolling:\u5faa\u73af\u5c55\u5f00</p> </li> </ol> <p>\u6211\u4eec\u4ee5\u63a5\u4e0b\u6765\u8fd9\u6bb5\u7a0b\u5e8f\u4e3a\u4f8b\u4ecb\u7ecd\u3002</p> <pre><code>for(i=999;i&gt;=0;i--){\n    x[i] = x[i] + s;\n}\n</code></pre> <p>\u5b83\u7684RISC-V\u6307\u4ee4\u5982\u4e0b:</p> <pre><code>Loop: fld f0,0(x1) // load x[i] into f0\n      fadd.d f4,f0,f2 // f0 = x[i] + s\n      fsd f4,0(x1) // store f0 into x[i]\n      addi x1,x1,-8 // i--\n      bne x1,x2,Loop // if i != 0, jump to Loop\n</code></pre>"},{"location":"incourse/CA/Ch2/#pipeline-scheduling\u6d41\u6c34\u7ebf\u8c03\u5ea6","title":"Pipeline Scheduling(\u6d41\u6c34\u7ebf\u8c03\u5ea6)","text":"<p>\u89c2\u5bdf\u4e0a\u9762\u7684\u6c47\u7f16\u6307\u4ee4\uff0c\u6211\u4eec\u53d1\u73b0\u524d\u4e09\u6761\u6307\u4ee4\u90fd\u5b58\u5728\u6570\u636e\u4f9d\u8d56\u5173\u7cfb\u3002</p> <p>\u5982\u679c\u5c31\u8fd9\u6837\u6267\u884c\u7684\u8bdd</p> <ol> <li> <p><code>fld</code>\u6307\u4ee4\u548c<code>fadd.d</code>\u6307\u4ee4\u4e4b\u95f4\u9700\u8981\u4e00\u4e2a\u5468\u671f\u7684stall(\u8003\u8651forwarding)</p> </li> <li> <p><code>fadd.d</code>\u6307\u4ee4\u548c<code>fsd</code>\u6307\u4ee4\u4e4b\u95f4\u9700\u8981\u4e24\u4e2a\u5468\u671f\u7684stall</p> </li> </ol> <p>\u8fd9\u6837,\u8dd1\u4e00\u4e2a\u5faa\u73af\u5c31\u8981\u516b\u4e2a\u5468\u671f.</p> <p>\u5982\u679c\u6211\u4eec\u628a\u6307\u4ee4\u987a\u5e8f\u8c03\u6574\u4e3a</p> <pre><code>Loop: fld f0,0(x1) // load x[i] into f0\n      addi x1,x1,-8 // i--\n      fadd.d f4,f0,f2 // f0 = x[i] + s\n      fsd f 8(x1) // store f0 into x[i]\n      bne x1,x2,Loop // if i != 0, jump to Loop\n</code></pre> <p>\u5728\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b,<code>fld</code>\u548c<code>fadd.d</code>\u4e4b\u95f4\u5c31\u4e0d\u7528\u505c\u4e86,\u56e0\u4e3a\u8fd9\u4e00\u4e2a\u5468\u671f\u62ff\u6765\u6267\u884c\u65e0\u5173\u7684\u6307\u4ee4\u4e86,\u73b0\u5728\u53ea\u9700\u8981\u5728<code>fadd.d</code>\u548c<code>fsd</code>\u4e4b\u95f4\u505c\u4e24\u4e2a\u5468\u671f\u5c31\u884c\u4e86.</p> <p>\u8dd1\u4e00\u4e2a\u5faa\u73af\u4ece\u516b\u4e2a\u5468\u671f\u53d8\u6210\u4e86\u4e03\u4e2a\u5468\u671f,\u52a0\u5feb\u4e86\u901f\u5ea6.</p> <p>\u7136\u800c,\u73b0\u5728\u8fd8\u5b58\u5728\u4e00\u4e2a\u95ee\u9898.\u5728\u4e00\u4e2a\u5faa\u73af\u4e2d,\u771f\u6b63\u5bf9\u6570\u636e\u4f5c\u64cd\u4f5c\u7684\u5c31\u53ea\u6709<code>fld</code>,<code>fadd.d</code>\u548c<code>fsd</code>\u4e09\u6761\u6307\u4ee4,\u4e94\u6761\u6307\u4ee4\u53ea\u6709\u4e09\u6761\u5728\u5e72\u6d3b,\u8fd9\u4e0d\u7b26\u5408\u6211\u4eec\u7684\u8bbe\u8ba1.</p> <p>\u56e0\u6b64,\u5f15\u5165\u4e86Loop Unrolling(\u5faa\u73af\u5c55\u5f00).</p>"},{"location":"incourse/CA/Ch2/#loop-unrolling\u5faa\u73af\u5c55\u5f00","title":"Loop Unrolling(\u5faa\u73af\u5c55\u5f00)","text":"<p>\u6211\u4eec\u628a\u7528\u4e8e\u5faa\u73af\u7684\u8bed\u53e5\u5f00\u9500\u79f0\u4e3aLoop Overhead(\u5faa\u73af\u5f00\u9500),\u5b83\u5305\u62ec:</p> <ul> <li> <p>\u8ba1\u7b97\u5faa\u73af\u6761\u4ef6\u7684\u5f00\u9500</p> </li> <li> <p>\u66f4\u65b0\u5faa\u73af\u53d8\u91cf\u7684\u5f00\u9500</p> </li> <li> <p>\u8df3\u8f6c\u7684\u5f00\u9500</p> </li> </ul> <p>\u6211\u4eec\u7684\u76ee\u7684\u5c31\u662f\u964d\u4f4e\u8fd9\u4e2a\u5f00\u9500,\u4e5f\u5c31\u662f\u63d0\u9ad8\u5e72\u6d3b\u6307\u4ee4\u7684\u6bd4\u4f8b.</p> <p>\u6211\u4eec\u76f4\u63a5\u628a\u5faa\u73af\u5c55\u5f00\u56db\u6b21:</p> <pre><code>Loop:   fld f0,0(x1) // load x[i] into f0\n        fadd.d f4,f0,f2 // f0 = x[i] + s\n        fsd f4,0(x1) // store f0 into x[i]\n        fld f6,-8(x1) // load x[i-1] into f6\n        fadd.d f8,f6,f2 // f6 = x[i-1] + s\n        fsd f8,-8(x1) // store f6 into x[i-1]\n        fld f10,-16(x1) // load x[i-2] into f10\n        fadd.d f12,f10,f2 // f10 = x[i-2] + s\n        fsd f12,-16(x1) // store f10 into x[i-2]\n        fld f14,-24(x1) // load x[i-3] into f14\n        fadd.d f16,f14,f2 // f14 = x[i-3] + s\n        fsd f16,-24(x1) // store f14 into x[i-3]\n        addi x1,x1,-32 // i--\n        bne x1,x2,Loop // if i != 0, jump to Loop\n</code></pre> <p>\u8fd9\u6837,\u5e73\u5747\u6bcf\u4e2a\u5faa\u73af\u8017\u65f66.5\u4e2a\u5468\u671f.</p> <p>\ud83d\udca1 \u6027\u80fd\u4f18\u5316\u65b0\u6311\u6218 \u4f46\u662f\u8fd8\u4e0d\u8fc7\u763e\uff01\u6211\u4eec\u60f3\u8981\u66f4\u8fdb\u4e00\u6b65\uff0c\u600e\u4e48\u505a\uff1f</p> <p>\u6211\u4eec\u53ef\u4ee5\u518d\u8fdb\u884c\u91cd\u6392\u6765\u51cf\u5c11\u5468\u671f\u6570\u3002</p> <pre><code>Loop:   fld f0,0(x1) // load x[i] into f0\n        fld f6,-8(x1) // load x[i-1] into f6\n        fld f10,-16(x1) // load x[i-2] into f10\n        fld f14,-24(x1) // load x[i-3] into f14\n        fadd.d f4,f0,f2 // f0 = x[i] + s\n        fadd.d f8,f6,f2 // f6 = x[i-1] + s\n        fadd.d f12,f10,f2 // f10 = x[i-2] + s\n        fadd.d f16,f14,f2 // f14 = x[i-3] + s\n        fsd f4,0(x1) // store f0 into x[i]\n        fsd f8,-8(x1) // store f6 into x[i-1]\n        fsd f12,-16(x1) // store f10 into x[i-2]\n        fsd f16,-24(x1) // store f14 into x[i-3]\n        addi x1,x1,-32 // i--\n        bne x1,x2,Loop // if i != 0, jump to Loop\n</code></pre> <p>\u8fd9\u6837,\u6211\u4eec\u7528\u6709\u7528\u7684\u6307\u4ee4\u4ee3\u66ff\u4e86stall,\u6240\u4ee5\u5b8c\u5168\u4e0d\u9700\u8981\u505c\u4e86.</p> <p>\u56db\u4e2a\u5faa\u73af\u4e00\u5171\u7528\u4e8614\u4e2a\u5468\u671f,\u5e73\u5747\u6bcf\u4e2a\u5faa\u73af3.5\u4e2a\u5468\u671f,\u63d0\u5347\u53ef\u4ee5\u8bf4\u975e\u5e38\u5927\u4e86.</p>"},{"location":"incourse/CA/Ch2/#dynamic-branch-prediction\u52a8\u6001\u5206\u652f\u9884\u6d4b","title":"Dynamic Branch Prediction(\u52a8\u6001\u5206\u652f\u9884\u6d4b)","text":""},{"location":"incourse/CA/Ch2/#1-bit-predictor1\u4f4d\u9884\u6d4b\u5668","title":"1 bit predictor(1\u4f4d\u9884\u6d4b\u5668)","text":"<p>\u7528\u4e00\u4e2a\u4f4d\u6765\u8868\u793a\u5206\u652f\u662f\u5426\u88ab\u9884\u6d4b\u4e3ataken,\u5982\u679c\u662f,\u5c31\u75281\u8868\u793a,\u5982\u679c\u4e0d\u662f,\u5c31\u75280\u8868\u793a.</p> <p>\u5982\u679c\u5f53\u524d\u9884\u6d4b\u7684\u7ed3\u679c\u548c\u5b9e\u9645\u7ed3\u679c\u76f8\u540c,\u5c31\u4e0d\u9700\u8981\u66f4\u65b0,\u5982\u679c\u4e0d\u540c,\u5c31\u66f4\u65b0.</p> <p>\u76f8\u5f53\u4e8e\u4e00\u4e2a\u53ea\u6709\u4e24\u4e2a\u72b6\u6001\u7684\u6709\u9650\u72b6\u6001\u673a.</p> <p>\u8fd9\u4e2a\u65b9\u6cd5\u5bf9\u4e8e\u201c\u6447\u6446\"\u7684\u5206\u652f\u9884\u6d4b\u6548\u679c\u4f1a\u5f88\u7cdf\u7cd5\uff0c\u6bd4\u5982taken\u548cnot taken\u4ea4\u66ff\u51fa\u73b0\u7684\u60c5\u51b5\u3002</p> <p>\u5728\u8fd9\u4e2a\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u601d\u80032bit\u9884\u6d4b\u5668\u7684\u8bbe\u8ba1\u3002</p>"},{"location":"incourse/CA/Ch2/#2-bit-predictor2\u4f4d\u9884\u6d4b\u5668","title":"2 bit predictor(2\u4f4d\u9884\u6d4b\u5668)","text":"<p>2bit\u9884\u6d4b\u5668\u4f7f\u7528\u4e24\u4e2a\u4f4d\u6765\u8868\u793a\u5206\u652f\u7684\u72b6\u6001\uff0c\u5206\u4e3a\u56db\u79cd\u72b6\u6001:</p> <ul> <li> <p>00: strongly not taken(\u5f3a\u4e0d\u8df3\u8f6c)</p> </li> <li> <p>01: weakly not taken(\u5f31\u4e0d\u8df3\u8f6c)</p> </li> <li> <p>10: weakly taken(\u5f31\u8df3\u8f6c)</p> </li> <li> <p>11: strongly taken(\u5f3a\u8df3\u8f6c)</p> </li> </ul> <p>\u5f3a\u5f31\u5728\u8fd9\u91cc\u5176\u5b9e\u6ca1\u6709\u7279\u522b\u7684\u542b\u4e49\uff0c\u4e0e1bit\u9884\u6d4b\u5668\u7684\u4e3b\u8981\u533a\u522b\u5c31\u662f\uff0c2bit\u9884\u6d4b\u5668\u9700\u8981\u4e24\u6b21\u9519\u8bef\u624d\u80fd\u6539\u53d8\u9884\u6d4b\u72b6\u6001</p> <pre>\n\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u2502 taken  \u2502            \u2502\n\u2502    00    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502     01     \u2502\n\u2502 \u5f3a\u4e0d\u8df3\u8f6c  \u2502         \u2502  \u5f31\u4e0d\u8df3\u8f6c   \u2502\n\u2502          \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518not taken\u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u2502       \u25b2 \n                          \u2502taken  |  not taken                                \n                          \u25bc       |\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u2502   taken \u2502           \u2502\n\u2502    11     \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524     10     \u2502\n\u2502  \u5f3a\u8df3\u8f6c    \u2502         \u2502   \u5f31\u8df3\u8f6c    \u2502\n\u2502           \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500not taken \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\n</pre>"},{"location":"incourse/CA/Ch2/#branch-target-bufferbtb\u5206\u652f\u76ee\u6807\u7f13\u51b2\u5668","title":"Branch Target Buffer(BTB)(\u5206\u652f\u76ee\u6807\u7f13\u51b2\u5668)","text":"<p>BTB\u4e2d\u653e\u7f6e\u4e86\u5206\u652f\u6307\u4ee4\u7684PC\u5730\u5740\u548c\u76ee\u6807\u5730\u5740\uff0c\u5f53\u6211\u4eec\u9047\u5230\u5206\u652f\u6307\u4ee4\u65f6\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u4eceBTB\u4e2d\u627e\u5230\u76ee\u6807\u5730\u5740\u3002</p> <ol> <li> <p>\u5de5\u4f5c\u539f\u7406</p> <ol> <li> <p>\u9884\u5b58\u50a8\u5206\u652f\u4fe1\u606f\uff1aBTB\u5b58\u50a8\u4e86\u5206\u652f\u6307\u4ee4\u7684PC\u5730\u5740\u548c\u5bf9\u5e94\u7684\u76ee\u6807\u5730\u5740\u7684\u6620\u5c04\u5173\u7cfb</p> </li> <li> <p>\u63d0\u524d\u83b7\u53d6\u76ee\u6807\uff1a\u5904\u7406\u5668\u9047\u5230\u5206\u652f\u6307\u4ee4\u65f6\uff0c\u4e0d\u5fc5\u7b49\u5230\u6307\u4ee4\u89e3\u7801\u9636\u6bb5\u624d\u77e5\u9053\u8df3\u8f6c\u76ee\u6807\uff0c\u800c\u662f\u53ef\u4ee5\u76f4\u63a5\u67e5\u8be2BTB</p> </li> <li> <p>\u9884\u53d6\u6307\u4ee4\uff1a\u5904\u7406\u5668\u53ef\u4ee5\u6839\u636eBTB\u4e2d\u7684\u4fe1\u606f\u63d0\u524d\u4ece\u76ee\u6807\u5730\u5740\u83b7\u53d6\u6307\u4ee4\uff0c\u5927\u5927\u51cf\u5c11\u5206\u652f\u6307\u4ee4\u5e26\u6765\u7684\u6d41\u6c34\u7ebf\u505c\u987f</p> </li> </ol> </li> <li> <p>BTB\u7684\u7ed3\u6784</p> <p>BTB\u901a\u5e38\u5b9e\u73b0\u4e3a\u4e00\u4e2a\u7f13\u5b58\u7ed3\u6784\uff1a</p> \u5206\u652f\u6307\u4ee4\u5730\u5740 \u76ee\u6807\u5730\u5740 \u9884\u6d4b\u4fe1\u606f 0x1000 0x2000 Taken 0x1200 0x1500 Not Taken ... ... ... </li> <li> <p>\u5b9e\u9645\u5e94\u7528\u8fc7\u7a0b</p> <ol> <li> <p>IF\u9636\u6bb5\uff1a\u5904\u7406\u5668\u83b7\u53d6\u6307\u4ee4\u5e76\u68c0\u67e5\u8be5\u5730\u5740\u662f\u5426\u5728BTB\u4e2d</p> </li> <li> <p>\u547d\u4e2d\u65f6\uff1a\u5982\u679c\u547d\u4e2d\u4e14\u9884\u6d4b\u4e3ataken\uff0c\u5904\u7406\u5668\u76f4\u63a5\u4ece\u76ee\u6807\u5730\u5740\u83b7\u53d6\u4e0b\u4e00\u6761\u6307\u4ee4</p> </li> <li> <p>\u672a\u547d\u4e2d\u65f6\uff1a\u7ee7\u7eed\u987a\u5e8f\u6267\u884c\uff0c\u5e76\u5728\u786e\u8ba4\u4e3a\u5206\u652f\u6307\u4ee4\u540e\u66f4\u65b0BTB</p> </li> <li> <p>\u9884\u6d4b\u9519\u8bef\uff1a\u5982\u679c\u5206\u652f\u9884\u6d4b\u9519\u8bef\uff0c\u5904\u7406\u5668\u6e05\u7a7a\u6d41\u6c34\u7ebf\u5e76\u4ece\u6b63\u786e\u7684\u5730\u5740\u91cd\u65b0\u53d6\u6307\u4ee4</p> </li> </ol> </li> </ol>"},{"location":"incourse/CA/Ch2/#tournament-predictor\u6bd4\u8d5b\u9884\u6d4b\u5668","title":"Tournament Predictor(\u6bd4\u8d5b\u9884\u6d4b\u5668)","text":"<p>Todo...</p>"},{"location":"incourse/CA/Ch2/#dynamic-scheduling\u52a8\u6001\u8c03\u5ea6","title":"Dynamic Scheduling(\u52a8\u6001\u8c03\u5ea6)","text":"<ul> <li> <p>\u5141\u8bb8\u6307\u4ee4\u4e71\u5e8f\u6267\u884c</p> </li> <li> <p>\u5c06\u6d41\u6c34\u7ebf\u7684<code>ID</code>\u9636\u6bb5\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5:</p> <ul> <li> <p><code>Issue</code>\u9636\u6bb5\uff1a\u6307\u4ee4\u89e3\u7801\uff0c\u68c0\u67e5\u6709\u6ca1\u6709\u7ed3\u6784\u5192\u9669</p> </li> <li> <p><code>Read Operands</code>\u9636\u6bb5\uff1a\u4e00\u76f4\u7b49\u5f85\uff0c\u76f4\u5230\u6ca1\u6709\u6570\u636e\u5192\u9669\u540e\uff0c\u8bfb\u53d6\u64cd\u4f5c\u6570</p> </li> <li> <p>\u56e0\u6b64\u73b0\u5728\u7684\u4e94\u7ea7\u6d41\u6c34\u7ebf\u5b9e\u9645\u4e0a\u662f:</p> <ul> <li> <p>IF:\u53d6\u6307\u4ee4</p> </li> <li> <p>ID:\u6307\u4ee4\u89e3\u7801</p> </li> <li> <p>Issue:\u53d1\u5c04\u6307\u4ee4</p> </li> <li> <p>Read Operands:\u8bfb\u53d6\u64cd\u4f5c\u6570</p> </li> <li> <p>EX:\u6267\u884c\u6307\u4ee4</p> </li> <li> <p>WB:\u5199\u56de\u7ed3\u679c</p> </li> </ul> </li> </ul> </li> </ul> <p>\u6ce8\u610f</p> <p>\u4e71\u5e8f\u6267\u884c\u53ea\u6307\u5728<code>EX</code>\u9636\u6bb5\u4e71\u5e8f\u6267\u884c,\u5728<code>IF</code>\u53d6\u6307\u9636\u6bb5\u8fd8\u662f\u8981\u6309\u987a\u5e8f\u53d6\u6307.</p> <p>\u56e0\u6b64\u6211\u4eec\u7684\u8c03\u5ea6\u7b56\u7565\u662f:</p> <ul> <li> <p>\u4e00\u65e6\u6709\u4e00\u6761\u6307\u4ee4stall\u4e86,\u628a\u5176\u4ed6\u53ef\u7528\u7684\u6307\u4ee4\u53d1\u5c04.</p> </li> <li> <p>\"\u53ef\u7528\"\u6307\u8be5\u6761\u6307\u4ee4\u4e0d\u4f9d\u8d56\u4efb\u4f55\u6b63\u5728\u6267\u884c\u7684\u6307\u4ee4\u6216\u662f\u524d\u9762Stall\u7684\u6307\u4ee4.</p> </li> </ul> <p>\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e2a\u8c03\u5ea6\u7b56\u7565,\u6211\u4eec\u4ecb\u7ecd\u5982\u4e0b\u4e24\u79cd\u7b97\u6cd5.</p>"},{"location":"incourse/CA/Ch2/#scoreboard-scheduling\u8bb0\u5206\u677f\u8c03\u5ea6","title":"Scoreboard Scheduling(\u8bb0\u5206\u677f\u8c03\u5ea6)","text":"<p>\u793a\u610f\u56fe</p> <p></p> <p>\u53ef\u89c6\u5316\uff1ahttps://jasonren0403.github.io/scoreboard/</p> <p>\u6240\u8c13Scoreboard,\u5c31\u662f\u5728\u5bc4\u5b58\u5668\u4e0e\u529f\u80fd\u5355\u5143\uff08\u5982\u6574\u6570\u52a0\u6cd5\u5668\u3001\u6d6e\u70b9\u4e58\u6cd5\u5668\u7b49\uff09\u4e4b\u95f4\u52a0\u4e00\u4e2a\u8868\u683c,\u7528\u6765\u5404\u79cd\u60c5\u51b5,\u5e76\u53d1\u51fa\u8c03\u5ea6\u7684\u4fe1\u53f7.</p> <p>\u5b83\u7531\u5982\u4e0b\u4e09\u90e8\u5206,\u4e5f\u53ef\u4ee5\u5f53\u4f5c\u662f\u4e09\u4e2a\u8868\u683c\u7ec4\u6210:</p> <ul> <li> <p>Instruction Status Table:\u6307\u4ee4\u72b6\u6001\u8868,\u8ddf\u8e2a\u5f53\u524d\u6b63\u5728\u5904\u7406\u7684\u6bcf\u6761\u6307\u4ee4\u3002\u8bb0\u5f55\u6bcf\u6761\u6307\u4ee4\u6240\u5904\u7684\u9636\u6bb5\u4e0e\u8981\u6c42\u7684\u529f\u80fd\u5355\u5143\u3002</p> </li> <li> <p>Functional Unit Status Table:\u529f\u80fd\u5355\u5143\u72b6\u6001\u8868</p> </li> <li> <p>Register Result Table:\u5bc4\u5b58\u5668\u7ed3\u679c\u8868,\u7528\u6765\u8bb0\u5f55\u5bc4\u5b58\u5668\u7684\u72b6\u6001</p> </li> </ul>"},{"location":"incourse/CA/Ch2/#1-instruction-status-table\u6307\u4ee4\u72b6\u6001\u8868","title":"1. Instruction Status Table(\u6307\u4ee4\u72b6\u6001\u8868)","text":"<p>\u6307\u4ee4\u72b6\u6001\u8868\u58f0\u660e\u6307\u4ee4\u6240\u5904\u7684\u72b6\u6001,\u5305\u62ec:</p> <ul> <li> <p><code>issue</code></p> </li> <li> <p><code>read operands</code></p> </li> <li> <p><code>execution</code></p> </li> <li> <p><code>write back</code></p> </li> </ul> <p>\u6211\u4eec\u8fd9\u91cc\u5ffd\u7565\u4e86\u5185\u5b58\u8bbf\u95ee,\u662f\u56e0\u4e3a\u5728\u4e71\u5e8f\u6267\u884c\u4e2d,\u6211\u4eec\u66f4\u5173\u6ce8\u6d6e\u70b9\u6307\u4ee4\u7684\u6267\u884c,\u56e0\u4e3a\u5b83\u4eec\u7684\u7528\u65f6\u6bd4\u6574\u6570\u6307\u4ee4\u957f.\u800c<code>ld/sd</code>\u53ef\u4ee5\u8ba4\u4e3a\u662f\u6574\u6570\u6307\u4ee4.</p> Instruction Status Table"},{"location":"incourse/CA/Ch2/#2-functional-unit-status-table\u529f\u80fd\u5355\u5143\u72b6\u6001\u8868","title":"2. Functional Unit Status Table(\u529f\u80fd\u5355\u5143\u72b6\u6001\u8868)","text":"<p>\u5178\u578b\u7684\u72b6\u6001\u8868\u5982\u4e0b:</p> Functional Unit Status Table <p>\u4e00\u4e2a\u529f\u80fd\u5355\u5143\u7684\u72b6\u6001\u7531\u5982\u4e0b9\u4e2a\u5b57\u6bb5\u8868\u660e:</p> <ol> <li> <p><code>busy</code>:\u8868\u793a\u8be5\u529f\u80fd\u5355\u5143\u662f\u5426\u6b63\u5728\u4f7f\u7528</p> </li> <li> <p><code>op</code>:\u8868\u793a\u8be5\u529f\u80fd\u5355\u5143\u6b63\u5728\u6267\u884c\u7684\u64cd\u4f5c,\u5982\u52a0\u6cd5\u3001\u4e58\u6cd5\u7b49</p> </li> <li> <p><code>Fj</code>, <code>Fk</code> (\u6e90\u5bc4\u5b58\u5668): \u6307\u4ee4\u7684\u6e90\u5bc4\u5b58\u5668\u3002</p> </li> <li> <p><code>Fi</code> (\u76ee\u6807\u5bc4\u5b58\u5668): \u6307\u4ee4\u7684\u76ee\u6807\u5bc4\u5b58\u5668\u3002</p> </li> <li> <p><code>Qj</code>, <code>Qk</code>: \u8868\u793a\u6e90\u5bc4\u5b58\u5668\u7684\u503c\u6765\u81ea\u54ea\u4e2a\u529f\u80fd\u5355\u5143\u3002</p> </li> <li> <p><code>Rj</code>, <code>Rk</code>: \u8868\u793a\u6e90\u5bc4\u5b58\u5668\u662f\u5426\u51c6\u5907\u597d\u3002\u5728<code>Read Operands</code>\u540e,<code>Rj</code>\u548c<code>Rk</code>\u4f1a\u88ab\u91cd\u7f6e\u4e3a<code>No</code>.</p> </li> </ol>"},{"location":"incourse/CA/Ch2/#3-register-result-table\u5bc4\u5b58\u5668\u7ed3\u679c\u8868","title":"3. Register Result Table(\u5bc4\u5b58\u5668\u7ed3\u679c\u8868)","text":"Register Result Table <p>\u8fd9\u5f20\u8868\u5f88\u7b80\u5355,\u5c31\u662f\u58f0\u660e\u67d0\u4e2a\u5bc4\u5b58\u5668\u4f1a\u88ab\u54ea\u6761\u6d3b\u8dc3\u7684\u6307\u4ee4\u5199\u5165,\u5982\u679c\u6ca1\u7528\u5230,\u5219\u8bbe\u7f6e\u4e3a\u7a7a.</p>"},{"location":"incourse/CA/Ch2/#\u5de5\u4f5c\u6d41\u7a0b\u8be6\u89e3","title":"\u5de5\u4f5c\u6d41\u7a0b\u8be6\u89e3","text":"<ol> <li> <p>\u5728<code>Issue</code>\u9636\u6bb5,Scoreboard\u68c0\u67e5\u6307\u4ee4\u9700\u8981\u4f7f\u7528\u7684\u529f\u80fd\u5355\u5143\u662f\u5426\u7a7a\u95f2,\u5982\u679c\u7a7a\u95f2,\u4e14\u4e0d\u5b58\u5728<code>WAW</code>\u5192\u9669,\u5c31\u628a\u6307\u4ee4\u53d1\u5c04,\u540c\u65f6,\u66f4\u65b0\u4e0a\u9762\u8fd9\u4e09\u5f20\u8868:</p> <ul> <li> <p><code>WAW</code> (Write After Write): \u68c0\u67e5\u662f\u5426\u6709\u66f4\u65e9\u53d1\u5c04\u4f46\u5c1a\u672a\u5b8c\u6210\u5199\u56de\u7684\u6307\u4ee4\uff0c\u4e5f\u6253\u7b97\u5199\u5165\u5f53\u524d\u6307\u4ee4\u7684\u76ee\u7684\u5bc4\u5b58\u5668<code>Fi</code>\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u68c0\u67e5\u5bc4\u5b58\u5668\u7ed3\u679c\u72b6\u6001\u8868\uff1a\u5982\u679c<code>RegResult[Fi]</code>\u4e0d\u7b49\u4e8e\u5f53\u524d\u6307\u4ee4\u6240\u5728\u7684\u529f\u80fd\u5355\u5143\uff0c\u8bf4\u660e\u6709\u5176\u4ed6\u5355\u5143\u5c06\u5199\u5165Fi\uff0c\u5e76\u4e14\u5b83\u7684\u6307\u4ee4\u662f\u5148\u53d1\u5c04\u7684.</p> </li> <li> <p>\u66f4\u65b0\u6307\u4ee4\u72b6\u6001\u8868\uff0c\u5c06\u8be5\u6307\u4ee4\u6807\u8bb0\u4e3a Issue \u9636\u6bb5\u3002</p> </li> <li> <p>\u66f4\u65b0\u529f\u80fd\u5355\u5143\u72b6\u6001\u8868\u4e2d\u5bf9\u5e94\u529f\u80fd\u5355\u5143\u7684\u6761\u76ee\uff0c\u6807\u8bb0\u5176\u4e3a Busy\uff0c\u5e76\u8bb0\u5f55\u64cd\u4f5c\u7c7b\u578b (Op)\u3001\u76ee\u7684\u5bc4\u5b58\u5668 (Fi) \u548c\u6e90\u5bc4\u5b58\u5668 (Fj, Fk)\u3002   </p> </li> <li> <p>\u66f4\u65b0\u5bc4\u5b58\u5668\u7ed3\u679c\u72b6\u6001\u8868\uff0c\u6807\u8bb0 Fi \u5bc4\u5b58\u5668\u5c06\u7531\u8be5\u529f\u80fd\u5355\u5143\u5199\u5165\u3002</p> </li> </ul> </li> <li> <p>\u5728<code>Read Operands</code>\u9636\u6bb5, \u68c0\u67e5\u662f\u5426\u5b58\u5728 RAW \u5192\u9669\uff08\u771f\u6570\u636e\u4f9d\u8d56\uff09\u3002\u5373\uff0c\u6307\u4ee4\u7684\u6e90\u64cd\u4f5c\u6570\u662f\u5426\u5c31\u7eea\u3002\u64cd\u4f5c\u6570\u5c31\u7eea\u7684\u6761\u4ef6\u662f\uff1a</p> <ul> <li> <p>\u64cd\u4f5c\u6570\u5df2\u7ecf\u5b58\u5728\u4e8e\u5bc4\u5b58\u5668\u4e2d\u4e14</p> </li> <li> <p>\u6ca1\u6709\u4e4b\u524d\u53d1\u5c04\u4f46\u5c1a\u672a\u5b8c\u6210\u7684\u6307\u4ee4\u4f1a\u5199\u5165\u8be5\u6e90\u5bc4\u5b58\u5668\uff08\u901a\u8fc7\u68c0\u67e5\u5bc4\u5b58\u5668\u7ed3\u679c\u72b6\u6001\u8868\uff1a\u5982\u679c <code>RegResult[\u6e90\u5bc4\u5b58\u5668]</code> \u4e3a\u7a7a\uff0c\u5219\u8868\u793a\u6ca1\u6709\u6b63\u5728\u8ba1\u7b97\u8be5\u5bc4\u5b58\u5668\u503c\u7684\u672a\u5b8c\u6210\u6307\u4ee4\uff09</p> </li> </ul> </li> <li> <p>\u5728<code>Execution</code>\u9636\u6bb5, \u529f\u80fd\u5355\u5143\u6267\u884c\u6307\u4ee4\u3002\u7ecf\u8fc7\u4e00\u5b9a\u5468\u671f,\u5b8c\u6210\u6267\u884c\u540e,\u8fdb\u5165\u4e0b\u4e00\u9636\u6bb5</p> </li> <li> <p>\u5728<code>Write Back</code>\u9636\u6bb5, \u68c0\u67e5\u662f\u5426\u5b58\u5728 <code>WAR</code>:</p> <ul> <li> <p><code>WAR</code> (Write After Read): \u68c0\u67e5\u662f\u5426\u6709 \u66f4\u65e9 \u53d1\u5c04\u4f46 \u5c1a\u672a\u8bfb\u53d6\u6e90\u64cd\u4f5c\u6570 \u7684\u6307\u4ee4\uff0c\u5176\u6e90\u64cd\u4f5c\u6570\u662f\u5f53\u524d\u6307\u4ee4\u5c06\u8981\u5199\u5165\u7684\u76ee\u7684\u5bc4\u5b58\u5668 <code>Fi</code>\u3002Scoreboard\u9700\u8981\u68c0\u67e5\u529f\u80fd\u5355\u5143\u72b6\u6001\u8868\u4e2d\u6240\u6709\u5176\u4ed6\u4e4b\u524d\u672a\u5b8c\u6210\u6307\u4ee4\u7684<code>Fj/Fk</code>\u5b57\u6bb5\uff0c\u770b\u662f\u5426\u6709\u7b49\u4e8e <code>Fi</code> \u7684\uff0c\u5e76\u4e14\u5176 <code>Rj/Rk</code> \u6807\u8bb0\u4ecd\u4e3a<code>No</code>\u3002</p> </li> <li> <p>\u5982\u679c\u4e0d\u5b58\u5728WAR\u5192\u9669,\u6307\u4ee4\u5c06\u7ed3\u679c\u5199\u56de\u76ee\u6807\u5bc4\u5b58\u5668\uff0c\u540c\u65f6\uff1a</p> <ul> <li> <p>\u66f4\u65b0\u6307\u4ee4\u72b6\u6001\u8868\u3002</p> </li> <li> <p>\u66f4\u65b0\u529f\u80fd\u5355\u5143\u72b6\u6001\u8868\u4e2d\u5bf9\u5e94\u529f\u80fd\u5355\u5143\u7684\u6761\u76ee\uff0c\u6807\u8bb0\u5176\u4e3a\u4e0d\u5fd9\u788c (Busy = No)\u3002</p> </li> <li> <p>\u540c\u65f6\uff0c\u901a\u77e5\u6240\u6709\u6b63\u5728\u7b49\u5f85\u8fd9\u4e2a\u7ed3\u679c\u4f5c\u4e3a\u6e90\u64cd\u4f5c\u6570\u7684\u5176\u4ed6\u6307\u4ee4\uff0c\u5b83\u4eec\u7684\u64cd\u4f5c\u6570\u5df2\u5c31\u7eea\uff08\u5728\u5404\u81ea\u7684\u529f\u80fd\u5355\u5143\u72b6\u6001\u8868\u4e2d\u66f4\u65b0 <code>Qj/Qk</code> \u5e76\u8bbe\u7f6e <code>Rj/Rk</code> \u4e3a <code>Yes</code>\uff09\u3002</p> </li> </ul> </li> </ul> </li> </ol> <p>\u4f8b\u5b50</p> <p>\u4ee5\u8fd9\u7bc7\u77e5\u4e4e\u6587\u7ae0\u4e2d\u7684\u4f8b\u5b50\u5c55\u5f00.</p> Cycle 1Cycle 2Cycle 3Cycle 4Cycle 5Cycle 6Cycle 7Cycle 8Cycle 9Cycle 10 <p></p> <p>\u7b2c\u4e00\u4e2a\u5468\u671f,\u5927\u5bb6\u90fd\u5f88\u7a7a,\u4e8e\u662f\u7b2c\u4e00\u6761\u6307\u4ee4\u987a\u5229\u53d1\u5c04\u4e86:)</p> <p>\u540c\u65f6\u66f4\u65b0\u4e86\u8ba1\u5206\u677f\u4fe1\u606f.</p> <p></p> <p>\u7b2c\u4e8c\u6761\u6307\u4ee4\u4e5f\u662f<code>ld</code>\u6307\u4ee4,\u56e0\u4e3a\u68c0\u6d4b\u5230\u6574\u6570\u5355\u5143\u8fd8\u5728\u5904\u7406\u7b2c\u4e00\u6761\u6307\u4ee4,\u6240\u4ee5\u4e0d\u80fd\u53d1\u5c04,\u4e5f\u4e0d\u66f4\u65b0\u8ba1\u5206\u677f</p> <p></p> <p>\u56e0\u4e3a\u7b2c\u4e8c\u6761\u6307\u4ee4\u963b\u585e\u4e86,\u6240\u4ee5\u7b2c\u4e09\u6761\u6307\u4ee4\u4e5f\u4e0d\u80fd\u53d1\u5c04.</p> <p>\u4f46\u6b64\u65f6,\u7b2c\u4e00\u6761\u6307\u4ee4\u5b8c\u6210\u4e86<code>Read Operands</code>,\u6240\u4ee5<code>Rk</code>\u88ab\u91cd\u7f6e\u4e3a<code>No</code>,\u5e76\u4e14\u66f4\u65b0\u4e86\u8ba1\u5206\u677f.</p> <p></p> <p>\u4f9d\u7136\u963b\u585e...\u4f46\u7b2c\u4e00\u6761\u6307\u4ee4\u73b0\u5728\u8981\u5199\u56de\u4e86,\u5e76\u4e14\u7531\u4e8e\u5b83\u662f\u7b2c\u4e00\u6761\u6307\u4ee4,\u6240\u4ee5\u5199\u56de\u4e0d\u4f1a\u6709\u4ec0\u4e48<code>WAR</code>\u548c<code>WAW</code>\u5192\u9669.\u89e3\u653e\u4e86\u6574\u6570\u5355\u5143</p> <p></p> <p>\u7b2c\u4e8c\u6761\u6307\u4ee4\u7ec8\u4e8e\u53ef\u4ee5\u53d1\u5c04\u4e86,\u5e76\u4e14\u66f4\u65b0\u4e86\u8ba1\u5206\u677f.</p> <p></p> <p>\u4e58\u6cd5\u5355\u5143\u662f\u7a7a\u95f2\u7684,\u6240\u4ee5\u7b2c\u4e09\u6761\u6307\u4ee4\u53ef\u4ee5\u987a\u5229\u53d1\u5c04,\u800c\u7b2c\u4e8c\u6761\u6307\u4ee4\u5728<code>Read Operands</code>\u9636\u6bb5\u4e5f\u662f\u6ca1\u6709\u4ec0\u4e48\u95ee\u9898\u7684.\u4f46Scoreboard\u68c0\u6d4b\u5230\u7b2c\u4e09\u6761\u6307\u4ee4\u7684<code>Fj</code>\u662f\u548c\u7b2c\u4e8c\u6761\u6307\u4ee4\u7684<code>Fi</code>\u76f8\u540c\u7684,\u6240\u4ee5\u7b2c\u4e8c\u6761\u6307\u4ee4\u7684<code>Rj</code>\u88ab\u8bbe\u4e3a<code>No</code>,\u5b83\u4e0d\u51c6\u8fdb\u5165\u4e0b\u4e00\u73af\u8282.</p> <p></p> <p>\u7b2c\u4e03\u4e2a\u5468\u671f,\u52a0\u6cd5\u5355\u5143\u7a7a\u95f2,\u6240\u4ee5\u53ef\u4ee5\u53d1\u5c04\u7b2c\u56db\u6761\u6307\u4ee4.\u7b2c\u4e09\u6761\u6307\u4ee4\u88ab\u5361\u4f4f,\u7b2c\u4e8c\u6761\u6307\u4ee4\u987a\u5229\u6267\u884c.</p> <p>\u4f46\u53ef\u4ee5\u53d1\u73b0,\u7b2c\u56db\u6761\u6307\u4ee4\u7684<code>Fk</code>\u548c\u7b2c\u4e8c\u6761\u6307\u4ee4\u7684<code>Fi</code>\u662f\u4e00\u6837\u7684,\u6240\u4ee5\u5b83\u4e5f\u88ab\u6807\u8bb0\u4e86,\u5361\u4f4f!</p> <p>\u5468\u671f\u7ed3\u675f\u65f6,\u7b2c\u4e8c\u6761\u6307\u4ee4\u6539\u5199\u8ba1\u5206\u677f,\u6539\u5199 Rk\u4e3a<code>No</code></p> <p></p> <p>\u7b2c\u516b\u4e2a\u5468\u671f\uff0c\u56e0\u4e3a\u9664\u6cd5\u90e8\u4ef6\u7a7a\u95f2\uff0c\u6240\u4ee5\u7b2c\u4e94\u6761\u6307\u4ee4\u53ef\u4ee5\u53d1\u5c04.\u7b2c\u4e09\u3001\u56db\u6761\u6307\u4ee4\u56e0\u4e3a\u6709\u6570\u636e\u4f9d\u8d56,\u88ab\u5361\u4f4f,\u800c\u7b2c\u4e8c\u6761\u6307\u4ee4\u987a\u5229\u5199\u56de.</p> <p>\u7136\u800c,\u7b2c\u4e94\u6761\u6307\u4ee4\u8981\u7528\u5230\u7b2c\u4e09\u6761\u6307\u4ee4\u7684<code>Fi</code>,\u56e0\u6b64\u5b83\u88ab\u6807\u8bb0\u4e86.</p> <p>\u5728\u5468\u671f\u7684\u6700\u540e,LD \u5c06\u6570\u636e\u5199\u56de\u5bc4\u5b58\u5668\u5806,\u66f4\u65b0:</p> <ul> <li> <p>\u5c06\u5bc4\u5b58\u5668\u8868\u4e2d\u7684<code>F2</code>\u8bbe\u4e3ablank</p> </li> <li> <p>\u7b2c\u4e09\u3001\u56db\u6761\u6307\u4ee4\u7684<code>Rj</code>,<code>Rk</code>\u5168\u90e8\u662f<code>Yes</code>\u4e86,\u5b83\u4eec\u5728\u4e0b\u4e00\u4e2a\u5468\u671f\u53ef\u4ee5\u6267\u884c.</p> </li> </ul> <p></p> <p>\u7b2c\u516d\u6761\u6307\u4ee4\u8981\u7528\u5230\u52a0\u6cd5\u5355\u5143,\u4f46\u5b83\u73b0\u5728\u88ab\u7b2c\u56db\u6761\u6307\u4ee4\u5360\u7528,\u6240\u4ee5\u65e0\u6cd5\u53d1\u5c04.\u7b2c\u4e09\u3001\u56db\u6761\u6307\u4ee4\u8fdb\u5165<code>Read Operands</code>\u9636\u6bb5\u5e76\u5b8c\u6210\u3002</p> <p>Mult1 \u540e\u9762\u768410\u548cAdd\u540e\u9762\u76842\u544a\u8bc9\u6211\u4eec\u4ece\u4e0b\u4e00\u5468\u671f\u5f00\u59cb\uff0c\u4e58\u6cd5\u548c\u52a0\u6cd5\u5c06\u8981\u5f00\u59cb\u5404\u81ea\u7684\u8ba1\u7b97\uff0c\u5176\u5206\u522b\u9700\u898110\u4e2a\u5468\u671f\u30012\u4e2a\u5468\u671f\u3002</p> <p></p> <p>\u7b2c\u5341\u4e2a\u5468\u671f\uff0c\u7b2c\u4e94\u6761\u9664\u6cd5\u6307\u4ee4\u8fd8\u5728\u7b49\u5f85\u5bc4\u5b58\u5668\u503c\u3002\u7b2c\u4e09\u3001\u56db\u6761\u6307\u4ee4\u7ee7\u7eed\u6267\u884c</p> <p>\u540e\u9762\u57fa\u672c\u6ca1\u4ec0\u4e48\u95ee\u9898\uff0c\u4e0d\u5199\u4e86\u3002</p>"},{"location":"incourse/CA/Ch2/#tomasulo-algorithm\u6258\u9a6c\u65af\u6d1b\u7b97\u6cd5","title":"Tomasulo Algorithm(\u6258\u9a6c\u65af\u6d1b\u7b97\u6cd5)","text":"<p>\u672c\u5185\u5bb9\u7ee7\u7eed\u53c2\u8003\u77e5\u4e4e\u548c\u524d\u4eba\u7684\u7b14\u8bb0</p> Why we need Tomasulo Algorithm? <p>\u4e3a\u4e86\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u5fc5\u987b\u601d\u8003\uff0cScoreboard\u8c03\u5ea6\u7684\u5c40\u9650\u6027\u662f\u4ec0\u4e48\uff1f</p> <p>\u6700\u4e3b\u8981\u7684\u5c40\u9650\u5c31\u662f\uff0cScoreboard\u4e3a\u4e86\u89e3\u51b3WAR,WAW\u8fd9\u79cd\u5047\u7684\u6570\u636e\u5192\u9669\u65f6\uff0c\u4e5f\u901a\u8fc7\u6682\u505c\u6d41\u6c34\u7ebf\u6765\u907f\u514d\u95ee\u9898\uff0c\u7136\u800c\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3002</p> <p>\u6bd4\u5982</p> <pre><code>ADD R3,R1,R2\n\nADD R3,R5,R6\n\nAND R9,R3,R8\n</code></pre> <p>\u8fd9\u6837\u7684WAW\u5192\u9669\uff0c\u5982\u679c\u6211\u4eec\u7528Scoreboard\u8c03\u5ea6\u7684\u8bdd\uff0c\u5c31\u4f1a\u6682\u505c\u6d41\u6c34\u7ebf\uff0c\u76f4\u5230\u7b2c\u4e00\u4e2aADD\u6307\u4ee4\u5b8c\u6210\u5199\u56de\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u5982\u679c\u6211\u4eec\u628a\u7b2c\u4e8c\u6761\u6307\u4ee4\u4ee5\u53ca\u540e\u9762\u7684\u6307\u4ee4\u4e2d\u7684<code>R3</code>\u91cd\u547d\u540d\u4e3a<code>R7</code>\uff0c\u5c31\u53ef\u4ee5\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\u3002</p> <pre><code>ADD R3,R1,R2\n\nADD R7,R5,R6\n\nAND R9,R7,R8\n</code></pre> <p>Tomasulo\u901a\u8fc7\u5bc4\u5b58\u5668\u91cd\u547d\u540d\u7b49\u65b9\u6cd5\uff0c\u8ba9\u5904\u7406\u5668\u9047\u5230WAW\u4e0eWAR\u65f6\u4e0d\u4f1a\u6682\u505c\u3002</p> Tomasulo Algorithm <p>Tomasulo\u6709\u4e00\u4e9b\u6709\u610f\u601d\u7684\u90e8\u4ef6\uff0c\u4ecb\u7ecd\u5982\u4e0b\u3002</p>"},{"location":"incourse/CA/Ch2/#\u4fdd\u7559\u7ad9-reservation-stations","title":"\u4fdd\u7559\u7ad9 (Reservation Stations)","text":"<p>\u4fdd\u7559\u7ad9\u7684\u7ed3\u6784\u4e5f\u50cf\u4e00\u5f20\u8868\u683c\uff0c\u6bcf\u4e00\u884c\u4ee3\u8868\u4e86\u4e00\u4e2a\u529f\u80fd\u90e8\u4ef6\u4ee5\u53ca\u88ab\u53d1\u5c04\u51fa\u6765\u5230\u8fd9\u4e2a\u529f\u80fd\u90e8\u4ef6\u7684\u6307\u4ee4\u3002</p> \u4fdd\u7559\u7ad9 <p>\u4e0a\u56fe\u7684\u7ed3\u6784\u548cScoreboard\u91cc\u7684<code>Function Unit Status</code>\u8868\u683c\u5f88\u50cf\uff0c\u4f46\u662f\u8fd8\u662f\u6709\u8bb8\u591a\u4e0d\u540c\u7684:</p> <ul> <li> <p>\u5728\u4fdd\u7559\u7ad9\u4e2d\uff0c<code>Vj</code>,<code>Vk</code>\u4e0d\u540c\u4e8e\u8ba1\u5206\u677f\u4e2d\u7684<code>Fj</code>,<code>Fk</code>\uff0c\u5b83\u76f4\u63a5\u5b58\u653e\u4e86\u5bc4\u5b58\u5668\u6216\u662f\u5185\u5b58\u4e2d\u7684\u6570\u636e\uff0c\u800c\u975e\u5355\u7eaf\u7684\u5bc4\u5b58\u5668\u7f16\u53f7\u4e4b\u7c7b\u3002\u5e76\u4e14\uff0cTomasulo\u4e2d\u5b58\u5728\u4e00\u6761\u603b\u7ebf\uff0c\u67d0\u6761\u6307\u4ee4\u8981\u8bfb\u53d6\u7684\u6570\u636e\u5982\u679c\u6ca1\u6709\u51c6\u5907\u597d\uff0c\u5b83\u4e0d\u4f1a\u7b49\u5f85\u53bb\u67d0\u4e2a\u7279\u5b9a\u7684\u5bc4\u5b58\u5668\u5730\u65b9\u8bfb\u53d6\uff0c\u800c\u662f\u5728\u4fdd\u7559\u7ad9\u4e2d\u8bb0\u5f55\u8fd9\u6761\u6570\u636e\u4f1a\u6765\u81ea\u4e8e\u54ea\u4e2a\u5176\u4ed6\u4fdd\u7559\u7ad9\u3002\u5f53\u8fd9\u4e2a\u4fdd\u7559\u7ad9\u505a\u5b8c\u65f6\uff0c\u5b83\u4f1a\u628a\u6570\u636e\u653e\u5728\u603b\u7ebf\u4e0a\u5e7f\u64ad\u3002\u8fd9\u6837\uff0c\u6570\u636e\u8bfb\u53d6\u5c31\u72ec\u7acb\u4e8e\u5bc4\u5b58\u5668\uff0c\u6d88\u9664\u4e86WAR\u5192\u9669\uff0c\u56e0\u4e3a\u8981\u8bfb\u53d6\u7684\u6570\u636e\u5728\u4e00\u5f00\u59cb\u5c31\u8bfb\u53d6\u597d\u4e86\u3002</p> <ul> <li>\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e5f\u662f\u5bc4\u5b58\u5668\u91cd\u547d\u540d\u7684\u4f53\u73b0 -- \u5bc4\u5b58\u5668\u7684\u540d\u5b57\u4e0d\u518d\u662f\u5bc4\u5b58\u5668\u7684\u540d\u5b57\uff0c\u800c\u662f\u4fdd\u7559\u7ad9\u7684\u540d\u5b57\u3002</li> </ul> </li> <li> <p>\u5728\u4e0a\u56fe\u4e2d\uff0c\u4f3c\u4e4e\u6709\u4e09\u4e2a\u52a0\u6cd5\u5355\u5143\uff0c\u4f46\u5b9e\u9645\u4e0a\uff0c\u8fd9\u5176\u5b9e\u4ee3\u8868\u4e86\u4e00\u4e2a\u52a0\u6cd5\u5355\u5143\u4e2d\u7684\u4e09\u6761\u6307\u4ee4\u3002\u5728\u8ba1\u5206\u677f\u4e2d\uff0c\u4e00\u4e2a\u5355\u5143\u53ea\u80fd\u627f\u62c5\u4e00\u6761\u88ab\u53d1\u5c04\u7684\u6307\u4ee4\uff0c\u8fd9\u5f88\u5bb9\u6613\u5bfc\u81f4\u963b\u585e\u3002\u6240\u4ee5\u5728Tomasulo\u4e2d\uff0c\u5c31\u91c7\u53d6\u4e86\u8fd9\u6837\u7684\u8bbe\u8ba1\u3002\u76f8\u5f53\u4e8e\u4fdd\u7559\u7ad9\u4e3a\u6bcf\u4e2a\u5355\u5143\u8bbe\u7f6e\u4e86\u7f13\u51b2\u533a\uff0c\u6307\u4ee4\u53ef\u4ee5\u5728\u5355\u5143\u5fd9\u788c\u7684\u65f6\u5019\u53d1\u5c04\u5230\u4fdd\u7559\u7ad9\u7684\u7f13\u51b2\u533a\u5f85\u547d\u3002</p> </li> <li> <p><code>A</code>:<code>load</code>\u6216<code>store</code>\u7684\u5730\u5740</p> </li> </ul>"},{"location":"incourse/CA/Ch2/#\u5bc4\u5b58\u5668\u72b6\u6001\u8868","title":"\u5bc4\u5b58\u5668\u72b6\u6001\u8868","text":"\u5bc4\u5b58\u5668\u72b6\u6001\u8868 <p>\u8fd9\u4e2a\u548c\u8ba1\u5206\u677f\u5dee\u4e0d\u591a\u3002</p>"},{"location":"incourse/CA/Ch2/#\u516c\u5171\u6570\u636e\u603b\u7ebf-common-data-bus---cdb","title":"\u516c\u5171\u6570\u636e\u603b\u7ebf (Common Data Bus - CDB)","text":"<ul> <li> <p>\u8fde\u63a5\u6240\u6709\u529f\u80fd\u5355\u5143\u7684\u8f93\u51fa\u3001\u4fdd\u7559\u7ad9\u548c\u5bc4\u5b58\u5668\u6587\u4ef6\u3002</p> </li> <li> <p>\u529f\u80fd\u5355\u5143\u5b8c\u6210\u8ba1\u7b97\u540e\uff0c\u5c06\u7ed3\u679c\u8fde\u540c\u4ea7\u751f\u8be5\u7ed3\u679c\u7684\u4fdd\u7559\u7ad9\u7684\u540d\u79f0\uff08\u4f5c\u4e3a\u4e00\u4e2a\u6807\u7b7e\uff09\u4e00\u8d77\u653e\u5230 CDB \u4e0a\u8fdb\u884c\u5e7f\u64ad\u3002</p> </li> <li> <p>CDB \u662f\u4e00\u79cd\u9ad8\u901f\u603b\u7ebf\uff0c\u7406\u8bba\u4e0a\u5728\u4e00\u4e2a\u5468\u671f\u5185\u53ef\u4ee5\u4f20\u8f93\u591a\u4e2a\u7ed3\u679c\uff08\u53d6\u51b3\u4e8e\u5b9e\u73b0\uff09\u3002</p> </li> </ul>"},{"location":"incourse/CA/Ch2/#\u8c03\u5ea6\u8fc7\u7a0b","title":"\u8c03\u5ea6\u8fc7\u7a0b","text":"<p>Tomasulo\u7684\u8c03\u5ea6\u8fc7\u7a0b\u6ca1\u6709<code>Read Operands</code>\u9636\u6bb5,\u800c\u662f\u76f4\u63a5\u5728<code>Issue</code>\u9636\u6bb5\u5c31\u8bfb\u53d6\u4e86\u64cd\u4f5c\u6570.</p> <ol> <li> <p><code>Issue</code>\u9636\u6bb5</p> <ul> <li> <p>\u68c0\u67e5\u5bf9\u5e94\u901a\u8def\u7684\u4fdd\u7559\u7ad9\u8fd8\u6709\u6ca1\u6709\u4f4d\u7f6e,\u5982\u679c\u6709,\u5c31\u53d1\u5c04\u6307\u4ee4\u5230\u4fdd\u7559\u7ad9.</p> </li> <li> <p>\u5468\u671f\u7ed3\u675f\u65f6,\u66f4\u65b0\u4fdd\u7559\u7ad9\u548c\u5bc4\u5b58\u5668\u72b6\u6001\u8868.\u5982\u679c\u6307\u4ee4\u7684\u64cd\u4f5c\u6570\u53ef\u4ee5\u8bfb\u53d6,\u7acb\u523b\u8bfb\u53d6\u5230\u4fdd\u7559\u7ad9\u4e2d.</p> </li> <li> <p>\u5bc4\u5b58\u5668\u7ed3\u679c\u72b6\u6001\u8868\u4e2d\u603b\u662f\u5b58\u6709\u6700\u65b0\u7684\u503c\uff0c\u5373\u5982\u679c\u540e\u5e8f\u6307\u4ee4\u7684\u76ee\u7684\u5bc4\u5b58\u5668\u548c\u524d\u5e8f\u6307\u4ee4\u7684\u76ee\u7684\u5bc4\u5b58\u5668\u91cd\u5408\uff0c\u90a3\u5c31\u53ea\u4fdd\u7559\u540e\u5e8f\u6307\u4ee4\u7684\u5199\u4fe1\u606f\u3002\u8fd9\u6837\u5c31\u89e3\u51b3\u4e86WAW\u5192\u9669.</p> </li> <li> <p><code>fadd.d f6,f0,f8</code> <code>fsd f6,0(x1)</code> <code>fmul.d f6,f10,f8</code>,\u8fd9\u4e09\u6761\u6307\u4ee4\u8fde\u7eed\u8dd1\uff0c\u5bc4\u5b58\u5668<code>f6</code>\u5c31\u53ef\u4ee5\u76f4\u63a5\u8ba4\u4e3a\u5b58<code>fmul.d</code>\u7684\u7ed3\u679c\uff0c\u56e0\u4e3a<code>fsd</code>\u770b\u7684\u5b9e\u9645\u4e0a\u4e0d\u662f\u5bc4\u5b58\u5668<code>f6</code>\uff0c\u800c\u662f\u524d\u9762\u90a3\u4e2a\u4fdd\u7559\u7ad9\u7684\u7ed3\u679c\uff0c\u6240\u4ee5\u5b83\u4e0d\u4f1a\u53bb\u5bc4\u5b58\u5668\u91cc\u9762\u8bfb\u503c\uff0c\u6545\u65e0\u5f71\u54cd\u3002</p> </li> </ul> </li> <li> <p><code>Execution</code>\u9636\u6bb5</p> <ul> <li> <p>\u6307\u4ee4\u4e0d\u65ad\u76d1\u542c\u603b\u7ebf,\u5982\u679c\u83b7\u5f97\u4e86\u81ea\u5df1\u9700\u8981\u7684\u6240\u6709\u6570\u636e,\u5219\u8fdb\u5165\u6267\u884c\u9636\u6bb5.</p> </li> <li> <p>\u5bf9\u4e8e<code>load</code>\u548c<code>store</code>\u6307\u4ee4,\u5b83\u4eec\u591a\u4e86\u4e00\u6b65\u8ba1\u7b97\u5730\u5740\u7684\u64cd\u4f5c,\u5c06\u8ba1\u7b97\u51fa\u7684\u5730\u5740\u653e\u5728\u4e0a\u56fe\u4e2d\u7684<code>load buffer</code>\u548c<code>store buffer</code>\u4e2d.</p> </li> </ul> </li> <li> <p><code>Write Results</code>\u9636\u6bb5</p> <ul> <li> <p>\u5f53\u6307\u4ee4\u5b8c\u6210\u8ba1\u7b97\u540e,\u5c06\u7ed3\u679c\u653e\u5728\u516c\u5171\u6570\u636e\u603b\u7ebf\u4e2d,\u5e76\u4e14\u5e7f\u64ad\u4fdd\u7559\u7ad9\u7684\u540d\u5b57.</p> </li> <li> <p>\u5176\u4ed6\u4fdd\u7559\u7ad9\u4f1a\u76d1\u542c\u5230\u8fd9\u4e2a\u5e7f\u64ad,\u5982\u679c\u5b83\u4eec\u9700\u8981\u8fd9\u4e2a\u7ed3\u679c,\u5c31\u4f1a\u628a\u5b83\u653e\u5728\u81ea\u5df1\u7684<code>Vj</code>\u6216<code>Vk</code>\u4e2d.</p> </li> <li> <p>\u5bc4\u5b58\u5668\u6587\u4ef6\u4e5f\u4f1a\u76d1\u542c\u5230\u8fd9\u4e2a\u5e7f\u64ad,\u5982\u679c\u5b83\u4eec\u9700\u8981\u8fd9\u4e2a\u7ed3\u679c,\u5c31\u4f1a\u628a\u5b83\u653e\u5728\u5bc4\u5b58\u5668\u6587\u4ef6\u4e2d.</p> </li> </ul> </li> </ol> from zhihu Cycle 1Cycle 2Cycle 3Cycle 4Cycle 5Cycle 6 <p></p> <p>\u7b2c\u4e00\u4e2a\u5468\u671f,LD\u6307\u4ee4\u53d1\u5c04\uff01<code>A</code>\u76ee\u524d\u8fd8\u662f\u5730\u5740\u504f\u79fb\u7acb\u5373\u6570</p> <p></p> <p>\u7b2c\u4e00\u6761LD\u6307\u4ee4\u7684A\u5df2\u7ecf\u8ba1\u7b97\u4e3a\\(200+34=234\\),\u5e76\u4e14\u653e\u5728\u4e86\u4fdd\u7559\u7ad9\u4e2d.\u7531\u4e8e\u5b83\u8fd8\u5728\u8ba1\u7b97\u5b58\u50a8\u5730\u5740\uff0c\u6240\u4ee5\u6ca1\u6709\u8fdb\u5165\u4e0b\u4e00\u9636\u6bb5</p> <p>\u7b2c\u4e8c\u6761\u6307\u4ee4\u4e5f\u662fLD\u6307\u4ee4,\u56e0\u4e3a\u4fdd\u7559\u7ad9\u4e00\u5171\u6709\u4e24\u4e2a\u7a7a\u4f4d,\u6240\u4ee5\u5b83\u4e5f\u987a\u5229\u53d1\u5c04\u4e86.</p> <p></p> <p>\u524d\u9762\u90fd\u6b63\u5e38\u8fdb\u884c.</p> <p>\u7b2c\u4e09\u6761\u6307\u4ee4\u8981\u7528\u5230\u7b2c\u4e8c\u6761\u6307\u4ee4<code>load</code>\u51fa\u7684<code>F2</code>,\u6240\u4ee5\u5b83\u5728\u4fdd\u7559\u7ad9\u5185\u6807\u8bb0\u4e86<code>Load2</code>,\u5e76\u4e14\u7b49\u5f85.</p> <p></p> <p>\u7b2c\u56db\u4e2a\u5468\u671f,\u7b2c\u4e00\u6761\u6307\u4ee4\u6765\u5230<code>Write Results</code>\u9636\u6bb5,\u5b83\u7684\u7ed3\u679c\u653e\u5728\u4e86\u516c\u5171\u6570\u636e\u603b\u7ebf\u4e2d,\u5e76\u4e14\u5e7f\u64ad\u4e86\u4fdd\u7559\u7ad9\u7684\u540d\u5b57.</p> <p>\u7b2c\u4e8c\u6761\u6307\u4ee4\u5f00\u59cb\u53d6\u503c</p> <p>\u7b2c\u4e09\u6761\u6307\u4ee4\u4f9d\u7136\u5728\u7b49\u5f85.</p> <p>\u7b2c\u56db\u6761\u6307\u4ee4\u53d1\u5c04,\u4e0d\u591f\u5b83\u4e5f\u8981\u7b49\u5f85\u7b2c\u4e8c\u6761\u6307\u4ee4.</p> <p>\u5468\u671f\u7ed3\u675f\u65f6\uff0c\u7b2c\u4e00\u6761\u6307\u4ee4\u6e05\u9664\u81ea\u5df1\u5728\u4fdd\u7559\u7ad9\u4e2d\u7684\u75d5\u8ff9\uff0cBusy\u4f4d\u7f6e0\uff0c\u8868\u793a\u8fd9\u4e00\u884c\u4e0d\u5b58\u6709\u6307\u4ee4\u4fe1\u606f\uff0c\u5e76\u6d88\u9664\u5bc4\u5b58\u5668\u7ed3\u679c\u72b6\u6001\u8868\u4e2d\u7684\u8bb0\u5f55\uff0c\u8868\u660eF6\u73b0\u5728\u662f\u6700\u65b0\u503c</p> <p></p> <p>\u7b2c\u4e8c\u6761\u6307\u4ee4\u5b8c\u6210\u4e86<code>Write Results</code>,\u5e76\u4e14\u5e7f\u64ad\u4e86\u4fdd\u7559\u7ad9\u7684\u540d\u5b57.</p> <p>\u7b2c\u4e09\u6761\u6307\u4ee4\u901a\u8fc7CDB\u603b\u7ebf\u6293\u53d6\u5230\u4e86\u6e90\u6570\u636e\uff0c\u4e0b\u4e00\u4e2a\u5468\u671f\u5c31\u4f1a\u5f00\u59cb\u6267\u884c\uff0c\u56fe\u4e2dMult1\u524d\u9762\u7684\u6570\u5b5710\u8868\u793a\u8fd9\u6761\u6307\u4ee4\u63a5\u4e0b\u6765\u5c06\u7528\u5341\u4e2a\u5468\u671f\u5b8c\u6210\u6267\u884c</p> <p>\u540c\u7406\u7b2c\u56db\u6761\u6307\u4ee4\u901a\u8fc7CDB\u603b\u7ebf\u6293\u53d6\u5230\u4e86\u6e90\u6570\u636e\uff0c\u4e0b\u4e00\u4e2a\u5468\u671f\u5c31\u4f1a\u5f00\u59cb\u6267\u884c</p> <p>\u7b2c\u4e94\u6761\u6307\u4ee4,\u4fdd\u7559\u7ad9\u6709\u7a7a\u4f4d,\u987a\u5229\u53d1\u5c04,\u4f46\u5b83\u9700\u8981<code>F0</code>\u7684\u6570\u636e,\u4e8e\u662f<code>Qj</code>\u662f<code>Mult1</code>,\u5e76\u4e14\u7b49\u5f85.</p> <p></p> <p>\u7b2c\u516d\u4e2a\u5468\u671f,\u7b2c\u4e09\u6761\u6307\u4ee4\u5f00\u59cb\u6267\u884c.</p> <p>\u7b2c\u56db\u6761\u6307\u4ee4\u4e5f\u5f00\u59cb\u6267\u884c.</p> <p>\u7b2c\u4e94\u6761\u6307\u4ee4\u7b49\u5f85</p> <p>\u7b2c\u516d\u6761\u6307\u4ee4\u53d1\u5c04...</p> <p>\u540e\u9762\u5c31\u4e0d\u8bb2\u4e86(\u56e0\u4e3a\u77e5\u4e4e\u4e0a\u4e5f\u6ca1\u56fe\u4e86)</p> <p>\u91cd\u70b9,\u540c\u6837\u6765\u81ea\u77e5\u4e4e</p> <ul> <li> <p>\u4e00\u6761\u6307\u4ee4\u80fd\u5426\u53d1\u5c04\uff0c\u8981\u770b\u5bf9\u5e94\u914d\u7f6e\u901a\u8def\u7684\u4fdd\u7559\u7ad9\u662f\u5426\u6709\u7a7a\u4f59\uff0c\u53ea\u8981\u6709\u7a7a\u4f59\uff0c\u5c31\u53ef\u4ee5\u53d1\u5c04\u5230\u4fdd\u7559\u7ad9\u4e2d\u7b49\u5f85\u6267\u884c\uff1b\u53d1\u5c04\u7684\u540c\u65f6\u4f1a\u628a\u80fd\u8bfb\u53d6\u7684\u6570\u636e\u76f4\u63a5\u62f7\u8d1d\u5230\u4fdd\u7559\u7ad9\uff0c\u8fd9\u6837\u505a\u5c31\u4e0d\u7528\u8003\u8651WAR\uff0c\u540e\u7eed\u7684\u6307\u4ee4\u53ea\u8981\u5b8c\u6210\u5c31\u53ef\u4ee5\u5199\u56de\uff0c\u4e0d\u7528\u987e\u8651\u662f\u5426\u4f1a\u6709\u524d\u5e8f\u6307\u4ee4\u9700\u8981\u8bfb\u53d6\u5bc4\u5b58\u5668\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u6bcf\u4e00\u6761\u88ab\u53d1\u5c04\u5230\u4fdd\u7559\u7ad9\u4e2d\u7684\u6307\u4ee4\u90fd\u4e0d\u518d\u9700\u8981\u8bfb\u53d6\u5bc4\u5b58\u5668\u5806\u3002</p> </li> <li> <p>\u6307\u4ee4\u5728\u53d1\u5c04\u7684\u65f6\u5019\u4f1a\u66f4\u65b0\u5bc4\u5b58\u5668\u72b6\u6001\u8868\uff0c\u5982\u679c\u540e\u5e8f\u6307\u4ee4\u548c\u524d\u5e8f\u6307\u4ee4\u7684\u76ee\u7684\u5bc4\u5b58\u5668\u91cd\u5408\u4e86\uff0c\u5c31\u7528\u540e\u5e8f\u6307\u4ee4\u7684\u5199\u4fe1\u606f\u6807\u5fd7\u5bc4\u5b58\u5668\uff0c\u8868\u793a\u53ea\u4f1a\u628a\u540e\u5e8f\u6307\u4ee4\u7684\u8ba1\u7b97\u7ed3\u679c\u5199\u8fdb\u5bc4\u5b58\u5668\uff0c\u8fd9\u6837\u53ef\u4ee5\u89e3\u51b3WAW\uff1b</p> </li> <li> <p>\u5982\u679c\u6267\u884c\u5355\u5143\u4e2d\u6709\u6307\u4ee4\u6b63\u5728\u6267\u884c\uff0c\u5176\u4ed6\u6307\u4ee4\u5c31\u5728\u4fdd\u7559\u7ad9\u4e2d\u7b49\u5f85\uff1b\u5982\u679c\u6307\u4ee4\u7f3a\u5c11\u6e90\u6570\u636e\uff0c\u5c31\u7559\u5728\u4fdd\u7559\u7ad9\u4e2d\uff0c\u65f6\u523b\u76d1\u542cCDB\u603b\u7ebf\uff0c\u5982\u679cCDB\u603b\u7ebf\u5e7f\u64ad\u4e86\u9700\u8981\u7684\u6570\u636e\uff0c\u5c31\u7acb\u9a6c\u62f7\u8d1d\u4e0b\u6765\uff0c\u7136\u540e\u51c6\u5907\u6267\u884c\u3002</p> </li> <li> <p>\u4e00\u6761\u6307\u4ee4\u5728\u6e90\u6570\u636e\u5168\u90e8\u51c6\u5907\u597d\u4e4b\u540e\u5c31\u53ef\u4ee5\u6267\u884c\uff0c\u6267\u884c\u53ef\u80fd\u662f\u591a\u5468\u671f\u7684\u3002</p> </li> <li> <p>\u4e00\u6761\u6307\u4ee4\u53ea\u8981\u5b8c\u6210\u8ba1\u7b97\uff0c\u5c31\u53ef\u4ee5\u5199\u56de\uff0c\u5199\u56de\u7684\u6570\u636e\u901a\u8fc7CDB\u603b\u7ebf\u76f4\u901a\u5bc4\u5b58\u5668\u5806\u548c\u5404\u4e2a\u4fdd\u7559\u7ad9\u3002\u4f46\u662f\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662f\u6307\u4ee4\u7684\u7ed3\u679c\u672a\u5fc5\u4f1a\u5199\u8fdb\u5bc4\u5b58\u5668\u5806\uff0c\u56e0\u4e3a\u5bc4\u5b58\u5668\u7ed3\u679c\u72b6\u6001\u8868\u4e2d\u603b\u662f\u5b58\u6709\u6700\u65b0\u7684\u72b6\u6001\uff0c\u5373\u5982\u679c\u53d1\u751fWAW\u5192\u9669\uff0cTomasulo\u7b97\u6cd5\u4f1a\u8bb0\u5f55\u4e0b\u6700\u65b0\u7684\u5199\u6307\u4ee4\uff0c\u800c\u629b\u5f03\u524d\u5e8f\u7684\u5199\u6307\u4ee4\u7ed3\u679c\uff0c\u524d\u5e8f\u5199\u6307\u4ee4\u7684\u7ed3\u679c\u4e0d\u4f1a\u5199\u56de\u5230\u5bc4\u5b58\u5668\u5806\uff0c\u8fd9\u6837\u7684\u505a\u6cd5\u5f88\u7b26\u5408\u6570\u636e\u6d41\u601d\u7ef4\u3002</p> </li> </ul>"},{"location":"incourse/CA/Ch2/#tomasulo-with-robhardware-based-speculation","title":"Tomasulo with ROB(Hardware-Based Speculation)","text":"<p>\u4f20\u7edf\u7684Tomasulo\u4e00\u822c\u662f\u4e71\u5e8f\u5199\u56de\u7684,\u8fd9\u6837\u4f1a\u6709\u4e00\u4e2a\u95ee\u9898.</p> <p>\u56e0\u4e3a\u51af\u8bfa\u4f9d\u66fc\u7ed3\u6784\u5411\u7a0b\u5e8f\u5458\u627f\u8bfa\u4e86\u5904\u7406\u5668\u4f1a\u6309\u7167\u7a0b\u5e8f\u7684\u987a\u5e8f\u6765\u6267\u884c\u6307\u4ee4,</p> <p>\u56e0\u6b64\u7a0b\u5e8f\u5458\u5728\u8c03\u8bd5\u7a0b\u5e8f\u7684\u65f6\u5019\u4f1a\u5e0c\u671b\u5f53\u4ed6\u5728\u67d0\u884c\u4ee3\u7801\u505c\u4e0b\u6765\u7684\u65f6\u5019\uff0c\u4ee3\u7801\u524d\u9762\u7684\u6307\u4ee4\u5168\u90e8\u6267\u884c\u5b8c\uff0c\u800c\u4ee3\u7801\u540e\u9762\u7684\u6307\u4ee4\u4e00\u6761\u90fd\u6ca1\u6709\u6267\u884c</p> <p>\u5f53\u7136,\u6211\u4eec\u4e5f\u53ef\u4ee5\u624b\u52a8\u5f3a\u5236\u4e00\u6761\u6307\u4ee4\u5728\u5199\u56de\u65f6\u505c\u6ede,\u7b49\u5f85\u5b83\u524d\u9762\u7684\u6307\u4ee4\u5b8c\u6210,\u4f46\u8fd9\u6837\u4f1a\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d.</p> <p>\u56e0\u6b64,<code>ROB</code>(Reorder Buffer)\u5c31\u5e94\u8fd0\u800c\u751f\u4e86.</p> Reorder Buffer <p>\u53ef\u4ee5\u53d1\u73b0,\u4e0e\u539f\u59cb\u7684Tomasulo\u76f8\u6bd4,\u4e3b\u8981\u6709\u4ee5\u4e0b\u53d8\u5316:</p> <ol> <li> <p>CDB\u603b\u7ebf\u73b0\u5728\u901a\u5f80<code>ROB</code>,\u800c\u4e0d\u662f\u5bc4\u5b58\u5668\u5806.</p> </li> <li> <p>\u4fdd\u7559\u7ad9\u73b0\u5728\u53ef\u4ee5\u4ece<code>ROB</code>\u4e2d\u8bfb\u53d6\u6570\u636e.</p> </li> <li> <p>ROB\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2aFIFO\u961f\u5217,\u5b83\u7684\u6bcf\u4e00\u884c\u90fd\u53ef\u4ee5\u5b58\u653e\u4e00\u6761\u6307\u4ee4\u7684\u7ed3\u679c,\u5148\u8fdb\u5148\u51fa.</p> </li> </ol> <p>\u90a3\u4e48\u4e3a\u4ec0\u4e48ROB\u662f\u786c\u4ef6\u4e0a\u7684Speculation(\u731c\u6d4b)\u5462?</p> <p>\u56e0\u4e3a\u5b83\u5141\u8bb8\u5728\u4e0d\u77e5\u9053\u6307\u4ee4\u662f\u5426\u771f\u6b63\u4f1a\u6267\u884c\u7684\u60c5\u51b5\u4e0b,\u5148\u8ba9\u6307\u4ee4\u6267\u884c\u5e76\u5b58\u50a8\u7ed3\u679c.</p> <p>\u4e00\u4e2aROB\u9879(entry)\u7684\u5b57\u6bb5\u6709:</p> <ol> <li> <p><code>Insrtuction Type</code>:\u6307\u4ee4\u7c7b\u578b,\u6bd4\u5982<code>load</code>\u6216<code>store</code>\u8fd8\u662f<code>branch</code></p> </li> <li> <p><code>Destionation</code>:\u76ee\u7684\u5bc4\u5b58\u5668,\u5982\u679c\u662f<code>store</code>\u6307\u4ee4,\u5219\u662f\u5b58\u50a8\u5730\u5740.</p> </li> <li> <p><code>Value</code>:\u6307\u4ee4\u7684\u7ed3\u679c,\u6bd4\u5982<code>ALU</code>\u64cd\u4f5c\u7684\u7ed3\u679c,<code>branch</code>\u6307\u4ee4\u7684\u76ee\u6807\u5730\u5740\u7b49.</p> </li> <li> <p><code>Ready</code>:\u6307\u4ee4\u662f\u5426\u5b8c\u6210.</p> </li> </ol> <p>\u5305\u542b\u4e86<code>ROB</code>\u7684Tomasulo\u7b97\u6cd5\u7684\u7531\u5982\u4e0b\u51e0\u4e2a\u9636\u6bb5\u7ec4\u6210:</p> <ol> <li> <p><code>Issue</code>:</p> <ul> <li> <p>\u548c\u539f\u59cb\u7684Tomasulo\u7b97\u6cd5\u4e00\u6837,\u53d1\u5c04\u6307\u4ee4\u5230\u4fdd\u7559\u7ad9\u4e2d,\u5e76\u4e14\u66f4\u65b0\u5bc4\u5b58\u5668\u72b6\u6001\u8868.</p> </li> <li> <p>\u4f46\u6b64\u65f6\u6307\u4ee4\u53ef\u4ee5\u4eceROB\u6216\u8005\u5bc4\u5b58\u5668\u4e2d\u8bfb\u53d6\u6570\u636e.</p> </li> <li> <p>\u540c\u65f6,<code>ROB.push_back(inst)</code>,\u5c06\u6307\u4ee4\u653e\u5165<code>ROB</code>\u4e2d.</p> </li> <li> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f,\u6b64\u65f6\u5bc4\u5b58\u5668\u72b6\u6001\u8868\u4e2d\u7684\u7f16\u53f7\u4e0d\u518d\u662f\u4fdd\u7559\u7ad9\u7684\u7f16\u53f7,\u800c\u662f\u6307\u4ee4\u5728<code>ROB</code>\u4e2d\u7684\u7f16\u53f7.</p> </li> <li> <p>\u540c\u65f6,\u4fdd\u7559\u7ad9\u4e2d\u7684<code>Qj</code>\u548c<code>Qk</code>\u4e5f\u4e0d\u518d\u662f\u5176\u4ed6\u4fdd\u7559\u7ad9\u7684\u7f16\u53f7,\u800c\u662f<code>ROB</code>\u4e2d\u7684\u7f16\u53f7.</p> </li> </ul> </li> <li> <p><code>Execution</code>:</p> <ul> <li>\u548c\u539f\u59cb\u7684Tomasulo\u7b97\u6cd5\u4e00\u6837</li> </ul> </li> <li> <p><code>Write Back</code>:</p> <ul> <li>\u6307\u4ee4\u6267\u884c\u5b8c\u4e4b\u540e\u76f4\u63a5\u5199\u5230<code>ROB</code>\u4e2d,\u540c\u65f6\u6570\u636e\u5728CDB\u4e0a\u5e7f\u64ad.</li> </ul> </li> <li> <p><code>Commit</code>:</p> <ul> <li> <p>\u5f53\u961f\u5217\u5934\u90e8\u7684\u6307\u4ee4<code>Ready</code>\u65f6,\u5c31\u53ef\u4ee5\u63d0\u4ea4\u4e86.</p> </li> <li> <p>\u628a\u6307\u4ee4\u7684\u7ed3\u679c\u5199\u5230\u5bc4\u5b58\u5668\u4e2d</p> </li> <li> <p>\u5982\u679c\u662f<code>branch</code>\u6307\u4ee4,\u8fd9\u68c0\u67e5\u662f\u5426\u9884\u6d4b\u6b63\u786e,\u5982\u679c\u4e0d\u6b63\u786e,\u5219\u6e05\u7a7a<code>ROB</code>\u4e2d\u7684\u6240\u6709\u6307\u4ee4.</p> </li> <li> <p>\u5982\u679c\u662f<code>store</code>\u6307\u4ee4,\u5219\u5c06\u6570\u636e\u5199\u5165\u5185\u5b58\u4e2d</p> </li> <li> <p>\u5f53\u7136,\u5982\u679c\u5934\u90e8\u7684\u6307\u4ee4\u4e00\u76f4\u6ca1\u6709<code>Ready</code>,\u5c31\u4e00\u76f4\u7b49\u5f85.</p> </li> </ul> </li> </ol> <p>\u91cd\u70b9from\u77e5\u4e4e</p> <ul> <li> <p>\u4f7f\u7528ROB\u7684Tomasulo\u4e2d\uff0c\u6307\u4ee4\u80fd\u5426\u53d1\u5c04\u4e3b\u8981\u89c2\u5bdf\u4e24\u70b9\u2014\u2014\u4fdd\u7559\u7ad9\u662f\u5426\u6709\u7a7a\u95f2\u548cROB\u662f\u5426\u6709\u7a7a\u95f2\uff0c\u5982\u679c\u90fd\u6709\u7a7a\u95f2\uff0c\u5c31\u53ef\u4ee5\u53d1\u5c04\uff0c\u53d1\u5c04\u4e4b\u540e\u6307\u4ee4\u4f1a\u5206\u522b\u5360\u636e\u4fdd\u7559\u7ad9\u3001ROB\u4e00\u4e2a\u8868\u9879\uff0c\u5e76\u7528ROB\u7684\u7f16\u53f7\u6807\u8bb0\u5bc4\u5b58\u5668\u7ed3\u679c\u72b6\u6001\u8868\uff1b</p> </li> <li> <p>\u5982\u679c\u6307\u4ee4\u4e0d\u80fd\u4ece\u903b\u8f91\u5bc4\u5b58\u5668\u5806\u8bfb\u53d6\u5230\u6240\u9700\u6570\u636e\uff0c\u5c31\u4f1a\u6839\u636e\u5bc4\u5b58\u5668\u7ed3\u679c\u72b6\u6001\u8868\u7684\u67e5\u8be2\u7ed3\u679c\u67e5\u8be2\u6570\u636e\uff0c\u6b64\u65f6\u4f1a\u6709\u4e09\u4e2a\u60c5\u51b5\uff1a\u4e00\u662f\u6570\u636e\u7531\u6b63\u5728\u6267\u884c\u7684\u6307\u4ee4\u5f97\u51fa\uff0c\u6b64\u65f6\u6307\u4ee4\u9700\u8981\u5728\u4fdd\u7559\u7ad9\u4e2d\u76d1\u542cCDB\uff1b\u4e8c\u662f\u6570\u636e\u6b63\u5728ROB\u4e2d\uff0c\u4f46\u662f\u6ca1\u6709\u63d0\u4ea4\uff0c\u6b64\u65f6\u6307\u4ee4\u4f1a\u4eceROB\u4e2d\u8bfb\u51fa\u6570\u636e\uff1b\u4e09\u662f\u6570\u636e\u6b63\u5728CDB\u603b\u7ebf\u4e0a\u5e7f\u64ad\uff0c\u6b64\u65f6\u6307\u4ee4\u8bfb\u53d6CDB\u7684\u6570\u636e\uff1b</p> </li> <li> <p>\u4e00\u65e6\u6307\u4ee4\u7684\u6570\u636e\u51c6\u5907\u5b8c\u6bd5\uff0c\u5c31\u5f00\u59cb\u6267\u884c\uff0c\u6267\u884c\u53ef\u80fd\u9700\u8981\u5f88\u591a\u4e2a\u5468\u671f\uff0c\u6b64\u65f6\u522b\u7684\u7c7b\u4f3c\u6307\u4ee4\u5c31\u8981\u5728\u4fdd\u7559\u7ad9\u4e2d\u7b49\u5f85\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5728\u4e0a\u9762\u7684\u6848\u4f8b\u4e2d\u6307\u4ee4\u5728\u6267\u884c\u65f6\u5e76\u4e0d\u4f1a\u6e05\u9664\u4fdd\u7559\u7ad9\uff0c\u800c\u5b9e\u9645\u4e0a\u6b64\u65f6\u53ef\u4ee5\u6e05\u9664\u4fdd\u7559\u7ad9\u4e86\uff0c\u8fd9\u6837\u505a\u7684\u4f18\u70b9\u4f1a\u5728\u7b2c\u56db\u8282\u8bf4\u660e\uff1b</p> </li> <li> <p>\u6307\u4ee4\u6267\u884c\u5b8c\u6bd5\u540e\u5c31\u53ef\u4ee5\u5199\u56de\uff0c\u6570\u636e\u4f1a\u88ab\u5199\u56de\u5230ROB\uff0c\u4f46\u662f\u6682\u65f6\u8fd8\u4e0d\u4f1a\u66f4\u65b0\u903b\u8f91\u5bc4\u5b58\u5668\u5806\uff0c\u540c\u65f6\u6570\u636e\u4f1a\u7531CDB\u5e7f\u64ad\u51fa\u53bb\uff1b</p> </li> <li> <p>\u5f53\u4e00\u6761\u6307\u4ee4\u6210\u4e3aROB\u4e2d\u6700\u8001\u7684\u6307\u4ee4\u65f6\uff0c\u5373ROB\u7684\u5934\u6307\u9488\u6307\u5411\u8be5\u6307\u4ee4\u65f6\uff0c\u8be5\u6307\u4ee4\u5c31\u53ef\u4ee5\u63d0\u4ea4\uff0c\u63d0\u4ea4\u5468\u671f\u7ed3\u675f\u65f6\u903b\u8f91\u5bc4\u5b58\u5668\u4f1a\u88ab\u66f4\u65b0\uff0cROB\u7684\u5bf9\u5e94Busy\u4f4d\u4f1a\u88ab\u7f6e\u4e3a\u65e0\u6548\uff0c\u5934\u6307\u9488\u4f1a\u6307\u5411\u4e0b\u4e00\u6761\u6307\u4ee4\u3002</p> </li> </ul>"},{"location":"incourse/CA/Ch3/","title":"Memory Hierarchy","text":"<p> \u7ea6 3653 \u4e2a\u5b57  20 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 19 \u5206\u949f</p> <p>Info</p> <p>\u672c\u7ae0\u5185\u5bb9\u4e0e\u8ba1\u7ec4Cache\u6709\u91cd\u5408</p>"},{"location":"incourse/CA/Ch3/#memory-technology","title":"Memory Technology","text":""},{"location":"incourse/CA/Ch3/#sram","title":"SRAM","text":"<p>SRAM(Static Random Access Memory) \u662f\u4e00\u79cd\u5feb\u901f\u7684\u5185\u5b58\u7c7b\u578b\uff0c\u901a\u5e38\u7528\u4e8e\u7f13\u5b58\u548c\u5bc4\u5b58\u5668\u3002\u5b83\u4f7f\u7528\u591a\u4e2a\u6676\u4f53\u7ba1\u6765\u5b58\u50a8\u6bcf\u4e2a\u6bd4\u7279\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u5b9a\u671f\u5237\u65b0\u3002SRAM \u7684\u901f\u5ea6\u5feb\uff0c\u4f46\u6210\u672c\u9ad8\uff0c\u5bc6\u5ea6\u4f4e\u3002</p> <p>\u5b83\u901a\u5e38\u7528\u4e8e CPU \u7684 L1 \u548c L2 Cache\u3002</p>"},{"location":"incourse/CA/Ch3/#dram","title":"DRAM","text":"<p>DRAM(Dynamic Random Access Memory) \u662f\u4e00\u79cd\u66f4\u5e38\u89c1\u7684\u5185\u5b58\u7c7b\u578b\uff0c\u901a\u5e38\u7528\u4e8e\u4e3b\u5185\u5b58\u3002\u5b83\u4f7f\u7528\u7535\u5bb9\u5668\u6765\u5b58\u50a8\u6bcf\u4e2a\u6bd4\u7279\uff0c\u56e0\u6b64\u9700\u8981\u5b9a\u671f\u5237\u65b0\u4ee5\u4fdd\u6301\u6570\u636e\u3002DRAM \u7684\u901f\u5ea6\u8f83\u6162\uff0c\u4f46\u6210\u672c\u4f4e\uff0c\u5bc6\u5ea6\u9ad8\u3002</p> <p>DRAM \u7684\u901f\u5ea6\u6bd4 SRAM \u6162\uff0c\u4f46\u6210\u672c\u66f4\u4f4e\uff0c\u5bc6\u5ea6\u66f4\u9ad8\u3002\u5b83\u901a\u5e38\u7528\u4e8e\u4e3b\u5185\u5b58\u3002</p> <ul> <li> <p>SDRAM(Synchronous DRAM)\uff1a\u662f\u4e00\u79cd\u540c\u6b65\u52a8\u6001\u968f\u673a\u5b58\u53d6\u5b58\u50a8\u5668\u3002\u5b83\u4e0e CPU \u7684\u65f6\u949f\u4fe1\u53f7\u540c\u6b65\u5de5\u4f5c\uff0c\u4ece\u800c\u63d0\u9ad8\u4e86\u6570\u636e\u4f20\u8f93\u7684\u6548\u7387\u3002</p> </li> <li> <p>DDR(Double Data Rate)\uff1a\u662f\u4e00\u79cd\u53cc\u500d\u6570\u636e\u901f\u7387\u540c\u6b65\u52a8\u6001\u968f\u673a\u5b58\u53d6\u5b58\u50a8\u5668\uff0c\u662f SDRAM \u7684\u5347\u7ea7\u7248\u3002\u5b83\u5728\u65f6\u949f\u4fe1\u53f7\u7684\u4e0a\u5347\u6cbf\u548c\u4e0b\u964d\u6cbf\u90fd\u4f20\u8f93\u6570\u636e\uff0c\u4ece\u800c\u4f7f\u6570\u636e\u4f20\u8f93\u901f\u7387\u7ffb\u500d\u3002</p> <ul> <li> <p>DDR2\uff1aDDR \u7684\u7b2c\u4e8c\u4ee3\uff0c\u5177\u6709\u66f4\u9ad8\u7684\u65f6\u949f\u9891\u7387\u548c\u66f4\u4f4e\u7684\u529f\u8017\u3002</p> </li> <li> <p>DDR3\uff1aDDR \u7684\u7b2c\u4e09\u4ee3\uff0c\u5177\u6709\u66f4\u9ad8\u7684\u65f6\u949f\u9891\u7387\u3001\u66f4\u5927\u7684\u5e26\u5bbd\u548c\u66f4\u4f4e\u7684\u529f\u8017\u3002</p> </li> <li> <p>DDR4\uff1aDDR \u7684\u7b2c\u56db\u4ee3\uff0c\u8fdb\u4e00\u6b65\u63d0\u5347\u4e86\u65f6\u949f\u9891\u7387\u548c\u5e26\u5bbd\uff0c\u5e76\u964d\u4f4e\u4e86\u529f\u8017\uff0c\u662f\u76ee\u524d\u4e3b\u6d41\u7684\u5185\u5b58\u7c7b\u578b\u3002</p> </li> <li> <p>DDR5\uff1a\u6700\u65b0\u7684 DDR \u6280\u672f\uff0c\u5177\u6709\u66f4\u9ad8\u7684\u65f6\u949f\u9891\u7387\u3001\u66f4\u5927\u7684\u5e26\u5bbd\u548c\u66f4\u4f4e\u7684\u529f\u8017\u3002</p> </li> </ul> </li> </ul>"},{"location":"incourse/CA/Ch3/#gdram","title":"GDRAM","text":"<p>GDRAM(Graphics DRAM) \u4e5f\u5c31\u662f\u6211\u4eec\u5e73\u5e38\u8bf4\u7684\u663e\u5b58\uff0c\u4e3b\u8981\u7528\u4e8e\u56fe\u5f62\u5904\u7406\u5668(GPU)\u4e2d\u3002\u5b83\u7684\u8bbe\u8ba1\u76ee\u7684\u662f\u4e3a\u4e86\u6ee1\u8db3\u56fe\u5f62\u5904\u7406\u7684\u9ad8\u5e26\u5bbd\u9700\u6c42\u3002GDRAM \u901a\u5e38\u5177\u6709\u66f4\u9ad8\u7684\u5e26\u5bbd\u548c\u66f4\u4f4e\u7684\u5ef6\u8fdf\uff0c\u4ee5\u652f\u6301\u5feb\u901f\u7684\u6570\u636e\u4f20\u8f93\u548c\u5904\u7406\u3002</p>"},{"location":"incourse/CA/Ch3/#flash-memory","title":"Flash Memory","text":"<ul> <li> <p>EEPROM(Electrically Erasable Programmable Read-Only Memory)\u7684\u4e00\u79cd\uff0c\u5177\u6709\u53ef\u64e6\u9664\u548c\u53ef\u7f16\u7a0b\u7684\u7279\u6027\u3002\u5b83\u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u7535\u6e90\u7684\u60c5\u51b5\u4e0b\u4fdd\u5b58\u6570\u636e\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7\u7535\u4fe1\u53f7\u8fdb\u884c\u64e6\u9664\u548c\u7f16\u7a0b\u3002EEPROM \u7684\u901f\u5ea6\u8f83\u6162\uff0c\u4f46\u53ef\u4ee5\u5728\u65ad\u7535\u540e\u4fdd\u7559\u6570\u636e\u3002</p> </li> <li> <p>Nonvolatile Memory\uff1aflash memory \u662f\u4e00\u79cd\u975e\u6613\u5931\u6027\u5b58\u50a8\u5668\uff0c\u610f\u5473\u7740\u5b83\u5728\u65ad\u7535\u540e\u4ecd\u7136\u53ef\u4ee5\u4fdd\u7559\u6570\u636e\u3002\u5b83\u901a\u5e38\u7528\u4e8e\u5b58\u50a8\u56fa\u4ef6\u3001\u64cd\u4f5c\u7cfb\u7edf\u548c\u7528\u6237\u6570\u636e\u3002</p> </li> </ul>"},{"location":"incourse/CA/Ch3/#memory-dependability","title":"Memory Dependability","text":"<ul> <li> <p>Soft Error/Transient Fault:\u5bf9\u4e8ecell content(\u5b58\u50a8\u5355\u5143\u5185\u5bb9)\u7684\u9519\u8bef\uff0c\u800c\u4e0d\u662f\u5bf9circuitiy\u7684\u9519\u8bef\u3002\u8fd9\u79cd\u9519\u8bef\u901a\u5e38\u662f\u7531\u4e8e\u5916\u90e8\u56e0\u7d20(\u5982\u8f90\u5c04)\u5f15\u8d77\u7684\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5b58\u50a8\u5355\u5143\u4e2d\u7684\u6570\u636e\u53d1\u751f\u53d8\u5316\uff0c\u4f46\u4e0d\u4f1a\u5f71\u54cd\u7535\u8def\u672c\u8eab\u7684\u529f\u80fd\u3002</p> </li> <li> <p>Hard Error/Permanent Fault:\u5bf9\u4e8e\u7535\u8def\u672c\u8eab\u7684\u9519\u8bef\uff0c\u53ef\u80fd\u662f\u7531\u4e8e\u5236\u9020\u7f3a\u9677\u3001\u8001\u5316\u6216\u5176\u4ed6\u56e0\u7d20\u5bfc\u81f4\u7684\u3002\u8fd9\u79cd\u9519\u8bef\u901a\u5e38\u4f1a\u5bfc\u81f4\u5b58\u50a8\u5355\u5143\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\uff0c\u53ef\u80fd\u9700\u8981\u66f4\u6362\u6574\u4e2a\u5b58\u50a8\u5668\u3002 </p> </li> </ul>"},{"location":"incourse/CA/Ch3/#cache","title":"Cache","text":"<p>Cache\u4f7f\u7528SRAM\u6765\u5b58\u50a8\u6570\u636e\uff0c\u4ee5\u63d0\u9ad8\u8bbf\u95ee\u901f\u5ea6\u3002Cache\u901a\u5e38\u5206\u4e3a\u591a\u4e2a\u7ea7\u522b\uff0c\u4f8b\u5982L1\u3001L2\u548cL3 Cache\u3002L1 Cache\u662f\u6700\u5feb\u7684\uff0c\u4f46\u5bb9\u91cf\u6700\u5c0f\uff1bL2 Cache\u7a0d\u6162\uff0c\u4f46\u5bb9\u91cf\u66f4\u5927\uff1bL3 Cache\u662f\u6700\u6162\u7684\uff0c\u4f46\u5bb9\u91cf\u6700\u5927\u3002</p> <p>\u57fa\u7840\u77e5\u8bc6\u90fd\u5728\u8ba1\u7ec4\u7b14\u8bb0\u4e2d\uff0c\u8fd9\u91cc\u4e0d\u8bb2\u4e86\u3002</p>"},{"location":"incourse/CA/Ch3/#cache-performance","title":"Cache Performance","text":"<p>\u6211\u4eec\u5b9a\u4e49:</p> \\[ \\text{Average Memory Access Time} = \\text{Hit Ratio} \\times \\text{Hit Time} + (1 - \\text{Hit Ratio}) \\times \\text{Miss Time} \\] <p>Warning</p> <p>\u6839\u636e\u8ba1\u7ec4\u4e2d\u9a6c\u5fb7\u8001\u5e08\u7ea0\u6b63\u7684\uff0c\u8fd9\u91cc<code>Hit Time</code>\u5e94\u8be5\u76f4\u63a5\u4e581\uff0c\u56e0\u4e3a\u5c31\u7b97<code>Miss</code>\u4e86\uff0c\u4e5f\u662f\u4e5f\u5c1d\u8bd5\u8fdb\u884c\u4e00\u6b21<code>Hit</code>\u4e4b\u540e\u624d\u53d1\u73b0\u7684.</p>"},{"location":"incourse/CA/Ch3/#six-basic-cache-optimizations","title":"Six Basic Cache Optimizations","text":"<p>\u4ece\u4e0a\u9762\u90a3\u4e2a\u516c\u5f0f\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u51fa,\u4f18\u5316<code>Cache</code>\u7684\u65b9\u5411\u5c31\u90a3\u4e48\u51e0\u79cd:</p> <ol> <li> <p>\u63d0\u9ad8<code>Hit Ratio</code>\uff1a\u589e\u52a0<code>Cache</code>\u7684\u5927\u5c0f\uff0c\u589e\u52a0<code>Cache</code>\u7684\u5173\u8054\u5ea6\uff0c\u589e\u52a0<code>Cache</code>\u7684\u884c\u6570\u7b49\u3002</p> </li> <li> <p>\u964d\u4f4e<code>Hit Time</code>\uff1a\u4f7f\u7528\u66f4\u5feb\u7684\u5b58\u50a8\u5668\uff0c\u589e\u52a0<code>Cache</code>\u7684\u884c\u6570\u7b49\u3002</p> </li> </ol> <p>\u6211\u4eec\u63d0\u51fa\u516d\u79cd\u57fa\u7840\u7684<code>Cache</code>\u4f18\u5316\u65b9\u6cd5:</p> <ol> <li> <p>Larger Block Size\uff1a\u589e\u5927\u5757\u5927\u5c0f</p> <ul> <li> <p>\u4f18\u70b9\uff1a\u53ef\u4ee5\u964d\u4f4e <code>Miss Rate</code>\uff08\u4e3b\u8981\u662f\u7a7a\u95f4\u5c40\u90e8\u6027\u5bfc\u81f4\u7684\uff0c\u56e0\u4e3a\u90bb\u8fd1\u6570\u636e\u4f1a\u88ab\u4e00\u6b21\u6027\u52a0\u8f7d\u5230\u7f13\u5b58\u4e2d\uff09\uff0c\u964d\u4f4e<code>compulsory miss</code>\uff08\u56e0\u4e3a\u5757\u5927\u5c0f\u589e\u52a0\u53ef\u4ee5\u5b58\u50a8\u66f4\u591a\u6570\u636e\uff09</p> </li> <li> <p>\u7f3a\u70b9\uff1a\u4f1a\u589e\u52a0 <code>Miss Penalty</code>\uff08\u56e0\u4e3a\u6bcf\u6b21\u7f3a\u5931\u9700\u8981\u4ece\u5185\u5b58\u52a0\u8f7d\u66f4\u591a\u6570\u636e\uff0c\u603b\u4f20\u8f93\u65f6\u95f4\u53d8\u957f\uff09</p> </li> <li> <p>\u7f3a\u70b9\uff1a\u5f53\u5757\u592a\u5927\u65f6\uff0c\u53cd\u800c\u4f1a\u589e\u52a0 <code>capacity miss</code>\uff08\u5bb9\u5757\u53d8\u5927\u5219\u53ef\u5b58\u50a8\u7684\u5757\u6570\u51cf\u5c11\uff0c\u5bfc\u81f4\u66f4\u591a\u6709\u7528\u6570\u636e\u88ab\u9010\u51fa\u7f13\u5b58\uff09</p> </li> <li> <p>\u7f3a\u70b9\uff1a\u53ef\u80fd\u4f1a\u589e\u52a0 <code>conflict miss</code>\uff08\u66f4\u5927\u7684<code>block</code>\u4f1a\u5bfc\u81f4\u66f4\u5c11\u7684<code>block</code>\u6570\u76ee\uff0c\u589e\u52a0\u51b2\u7a81\u6982\u7387\uff09</p> </li> </ul> <p>Miss</p> <ul> <li> <p>Compulsory Miss\uff08\u5f3a\u5236\u7f3a\u5931\uff09\uff1a\u9996\u6b21\u8bbf\u95ee\u6570\u636e\u65f6\u53d1\u751f\uff0c\u5757\u5927\u5c0f\u589e\u52a0\u6709\u52a9\u4e8e\u51cf\u5c11\u8fd9\u7c7b\u7f3a\u5931</p> </li> <li> <p>Capacity Miss\uff08\u5bb9\u91cf\u7f3a\u5931\uff09\uff1a\u7f13\u5b58\u7a7a\u95f4\u4e0d\u8db3\u5bfc\u81f4\u7684\u7f3a\u5931</p> </li> <li> <p>Conflict Miss\uff08\u51b2\u7a81\u7f3a\u5931\uff09\uff1a\u6620\u5c04\u51b2\u7a81\u5bfc\u81f4\u7684\u7f3a\u5931</p> </li> </ul> </li> <li> <p>Bigger Cache\uff1a\u589e\u5927\u7f13\u5b58\u5927\u5c0f</p> <ul> <li> <p>\u4f18\u70b9\uff1a\u53ef\u4ee5\u964d\u4f4e <code>Miss Rate</code>\uff08\u56e0\u4e3a\u53ef\u4ee5\u5b58\u50a8\u66f4\u591a\u6570\u636e\uff09</p> </li> <li> <p>\u7f3a\u70b9\uff1a\u4f1a\u589e\u52a0 <code>Hit Time</code>\uff08\u56e0\u4e3a\u9700\u8981\u66f4\u957f\u7684\u65f6\u95f4\u6765\u8bbf\u95ee\u66f4\u5927\u7684\u7f13\u5b58\uff09</p> </li> </ul> <p>cache rule of thumb</p> <p>A direct-mapped cache of size N has about the same miss rate as a two-way set associative cache of size N/2.</p> </li> <li> <p>Higher Associativity\uff1a\u589e\u52a0\u5173\u8054\u5ea6</p> <ul> <li> <p>\u4f18\u70b9:\u53ef\u4ee5\u964d\u4f4e<code>conflict miss</code></p> </li> <li> <p>\u7f3a\u70b9\uff1a\u4f1a\u589e\u52a0<code>Hit Time</code>\uff08\u56e0\u4e3a\u9700\u8981\u66f4\u591a\u7684\u6bd4\u8f83\u64cd\u4f5c\uff09</p> </li> </ul> </li> <li> <p>Multiple Cache Levels\uff1a\u591a\u7ea7\u7f13\u5b58</p> <ul> <li> <p>\u4f18\u70b9\uff1a\u53ef\u4ee5\u964d\u4f4e <code>Miss penalty</code>\uff08\u56e0\u4e3a\u53ef\u4ee5\u5728\u66f4\u5feb\u7684\u7f13\u5b58\u4e2d\u627e\u5230\u6570\u636e\uff09</p> </li> <li> <p>\u7f3a\u70b9\uff1a\u4f1a\u589e\u52a0 <code>Hit Time</code>\uff08\u56e0\u4e3a\u9700\u8981\u8bbf\u95ee\u591a\u4e2a\u7f13\u5b58\uff09</p> </li> <li> <p>$ \\text{Average Memory Access Time} = \\text{L1 Hit Time} + \\text{L1 Miss Rate} \\times(\\text{L2 Hit Time} + \\text{L2 Miss Rate} \\times \\text{L2 Miss Time}) $</p> </li> <li> <p><code>Inclusion</code>\uff1aL1 Cache \u4e2d\u7684\u6570\u636e\u5fc5\u987b\u5305\u542b\u5728 L2 Cache \u4e2d\u3002</p> </li> <li> <p><code>Exclusion</code>\uff1aL1 Cache \u4e2d\u7684\u6570\u636e\u4e0d\u80fd\u5305\u542b\u5728 L2 Cache \u4e2d\u3002</p> </li> </ul> <p>\u4e0d\u540c\u7684Miss Rate</p> <ul> <li> <p><code>Local Miss Rate</code>:\u8bbf\u95ee\u5931\u6548\u7684\u6570\u76ee\u9664\u4ee5\u8bbf\u95ee\u8be5\u7f13\u5b58\u7684\u6570\u76ee</p> </li> <li> <p><code>Global Miss Rate</code>:\u8bbf\u95ee\u5931\u6548\u7684\u6570\u76ee\u9664\u4ee5\u8bbf\u95ee\u6240\u6709\u7f13\u5b58\u7684\u6570\u76ee</p> </li> <li> <p>\u5bf9\u4e8eL1 Cache\u6765\u8bf4\uff0c<code>Local Miss Rate</code>\u548c<code>Global Miss Rate</code>\u662f\u76f8\u540c\u7684\uff0c\u56e0\u4e3aL1 Cache\u662f\u7b2c\u4e00\u4e2a\u88ab\u8bbf\u95ee\u7684\u7f13\u5b58\uff0c\u4f46\u5bf9\u4e8eL2 Cache\u6765\u8bf4\uff0c<code>Local Miss Rate</code>\u4f1a\u8fdc\u5927\u4e8e<code>Global Miss Rate</code>\u3002</p> </li> </ul> </li> <li> <p>Giving Priority to read miss over write miss\uff1a\u4f18\u5148\u5904\u7406\u8bfb\u7f3a\u5931\u800c\u4e0d\u662f\u5199\u7f3a\u5931</p> <ul> <li> <p>\u4f18\u70b9\uff1a\u53ef\u4ee5\u964d\u4f4e <code>Miss Penalty</code>\uff08\u56e0\u4e3a\u8bfb\u64cd\u4f5c\u901a\u5e38\u6bd4\u5199\u64cd\u4f5c\u5feb\uff09</p> </li> <li> <p>\u9700\u8981<code>Write Buffer</code>\u6765\u5b58\u50a8\u5199\u64cd\u4f5c</p> </li> </ul> </li> <li> <p>Avoiding Address Translation during index of cache\uff1a\u907f\u514d\u5728\u7d22\u5f15\u7f13\u5b58\u65f6\u8fdb\u884c\u5730\u5740\u8f6c\u6362</p> <ul> <li> <p>\u4f18\u70b9\uff1a\u53ef\u4ee5\u964d\u4f4e <code>Hit Time</code>\uff08\u56e0\u4e3a\u4e0d\u9700\u8981\u8fdb\u884c\u5730\u5740\u8f6c\u6362\uff09</p> </li> <li> <p>VIPT\uff1a\u865a\u62df\u7d22\u5f15\u7269\u7406\u6807\u7b7e\u7f13\u5b58\uff0c\u4f7f\u7528\u865a\u62df\u5730\u5740\u8fdb\u884c\u7d22\u5f15\uff0c\u4f7f\u7528\u7269\u7406\u5730\u5740\u8fdb\u884c\u6807\u7b7e\u6bd4\u8f83\u3002</p> </li> <li> <p>VIPT\u5de5\u4f5c\u6d41\u7a0b</p> <ol> <li> <p>CPU \u53d1\u51fa\u865a\u62df\u5730\u5740</p> </li> <li> <p>\u4f7f\u7528\u865a\u62df\u5730\u5740\u7684\u7d22\u5f15\u4f4d\u8bbf\u95ee\u7f13\u5b58</p> </li> <li> <p>\u5728 VIPT \u7f13\u5b58\u4e2d\uff0c\u7d22\u5f15\u4f4d\u6765\u81ea\u865a\u62df\u5730\u5740\u3002\u4e0d\u9700\u8981\u8fdb\u884c\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u8f6c\u6362\u5373\u53ef\u8bbf\u95ee\u7f13\u5b58\u3002</p> </li> <li> <p>\u540c\u65f6\u67e5\u8be2 TLB \u8fdb\u884c\u5730\u5740\u7ffb\u8bd1</p> </li> <li> <p>TLB \u5c06\u865a\u62df\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5730\u5740\u3002</p> </li> <li> <p>\u5c06\u7269\u7406\u5730\u5740\u6807\u7b7e\u4e0e\u7f13\u5b58\u4e2d\u7684\u6807\u7b7e\u8fdb\u884c\u6bd4\u5bf9\uff0c\u5224\u65ad\u662f\u5426\u547d\u4e2d\u3002</p> </li> </ol> </li> </ul> </li> </ol>"},{"location":"incourse/CA/Ch3/#ten-advanced-cache-optimizations","title":"Ten Advanced Cache Optimizations","text":"<ol> <li> <p>Small and Simple First Level Cache\uff1a\u5c0f\u800c\u7b80\u5355\u7684\u4e00\u7ea7\u7f13\u5b58</p> <ul> <li> <p>Small:\u66f4\u5c0f\u7684\u4e00\u7ea7\u7f13\u5b58\u53ef\u4ee5\u964d\u4f4e<code>Hit Time</code></p> </li> <li> <p>Simple:\u964d\u4f4e\u7ec4\u5173\u8054\u5ea6\uff0c\u540c\u6837\u53ef\u4ee5\u964d\u4f4e<code>Hit Time</code></p> </li> </ul> </li> <li> <p>Way Prediction\uff1a\u7ec4\u9884\u6d4b</p> <ul> <li> <p>\u9884\u6d4b\u8bbf\u95ee\u7684\u7ec4\uff0c\u5728\u6bd4\u8f83tag\u65f6\u5e76\u884c\u5730\u6267\u884c\u8bfb\u53d6\u6570\u636e\uff0c\u6570\u636e\u6765\u6e90\u4e8e<code>desired block</code></p> </li> <li> <p>\u9700\u8981\u4e3a\u6bcf\u4e2ablock\u52a0\u4e0a<code>block predict bits</code></p> </li> <li> <p>\u9884\u6d4b\u9519\u8bef\u65f6\uff0c\u9700\u8981check\u5176\u4ed6blocks</p> </li> </ul> </li> <li> <p>Pipelined Access and Multibanked cache\uff1a\u6d41\u6c34\u7ebf\u8bbf\u95ee\u548c\u591a\u4f53\u7f13\u5b58   </p> <ul> <li> <p>\u6d41\u6c34\u7ebf\u8bbf\u95ee(Pipelined Access)\uff1a</p> <ul> <li>\u5141\u8bb8\u65b0\u7684\u7f13\u5b58\u8bbf\u95ee\u5728\u524d\u4e00\u6b21\u8bbf\u95ee\u5b8c\u6210\u524d\u5f00\u59cb</li> <li>\u589e\u52a0\u7f13\u5b58\u5e26\u5bbd(throughput)\uff0c\u800c\u4e0d\u964d\u4f4e\u5ef6\u8fdf(latency)</li> <li>\u7c7b\u4f3c\u4e8eCPU\u6d41\u6c34\u7ebf\uff0c\u53ef\u4ee5\u5728\u6bcf\u4e2a\u65f6\u949f\u5468\u671f\u542f\u52a8\u4e00\u6b21\u65b0\u7684\u7f13\u5b58\u8bbf\u95ee</li> </ul> </li> <li> <p>\u591a\u4f53\u7f13\u5b58(Multibanked Cache)\uff1a</p> <ul> <li>\u5c06\u7f13\u5b58\u5206\u5272\u6210\u591a\u4e2a\u72ec\u7acb\u7684\u4f53(banks)\uff0c\u6bcf\u4e2a\u4f53\u53ef\u4ee5\u5e76\u884c\u8bbf\u95ee</li> <li>\u4f8b\u5982\uff1a4\u4f53\u7f13\u5b58\u53ef\u4ee5\u540c\u65f6\u5904\u74064\u4e2a\u72ec\u7acb\u7684\u8bbf\u95ee\u8bf7\u6c42</li> <li>\u589e\u52a0\u7f13\u5b58\u5e26\u5bbd\uff0c\u5141\u8bb8\u591a\u4e2a\u72ec\u7acb\u7684\u5185\u5b58\u8bbf\u95ee\u5e76\u884c\u6267\u884c</li> </ul> </li> </ul> </li> <li> <p>Nonblocking Cache\uff1a\u975e\u963b\u585e\u7f13\u5b58</p> <ul> <li> <p>\u5141\u8bb8\u5728\u7f13\u5b58\u7f3a\u5931\u65f6\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u64cd\u4f5c\uff0c\u800c\u4e0d\u662f\u7b49\u5f85\u7f3a\u5931\u5904\u7406\u5b8c\u6210</p> </li> <li> <p>\u4f8b\u5982\uff1a\u53ef\u4ee5\u5728\u7f3a\u5931\u5904\u7406\u671f\u95f4\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u6307\u4ee4\uff0c\u51cf\u5c11CPU\u7a7a\u95f2\u65f6\u95f4</p> </li> <li> <p><code>A Hit under a Miss</code>:\u8868\u793a\u5728\u4e00\u6b21Miss\u53d1\u751f\u65f6,\u5141\u8bb8A\u6b21Hit\u53d1\u751f,\u800c\u4e0d\u9700\u8981\u7b49\u5f85Miss\u5904\u7406\u5b8c\u6210</p> </li> </ul> </li> <li> <p>Critical Word First and Early Start\uff1a\u4f18\u5148\u5904\u7406\u5173\u952e\u5b57\u4e0e\u63d0\u524d\u542f\u52a8</p> <ul> <li> <p>\u5728\u7f13\u5b58\u7f3a\u5931\u65f6\uff0c\u4f18\u5148\u52a0\u8f7d\u6240\u9700\u7684\u5173\u952e\u5b57\uff0c\u800c\u4e0d\u662f\u6574\u4e2a\u5757</p> </li> <li> <p>\u4f8b\u5982\uff1a\u5982\u679c\u9700\u8981\u8bbf\u95ee\u5757\u4e2d\u7684\u7b2c\u4e09\u4e2a\u5b57\uff0c\u5219\u4f18\u5148\u52a0\u8f7d\u7b2c\u4e09\u4e2a\u5b57\uff0c\u800c\u4e0d\u662f\u6574\u4e2a\u5757</p> </li> </ul> </li> <li> <p>Mergeing Write Buffers\uff1a\u5408\u5e76\u5199\u7f13\u51b2\u533a</p> <ul> <li> <p>\u5c06\u591a\u4e2a\u5199\u64cd\u4f5c\u5408\u5e76\u4e3a\u4e00\u4e2a\u64cd\u4f5c\uff0c\u4ee5\u51cf\u5c11\u5199\u64cd\u4f5c\u7684\u6570\u91cf</p> </li> <li> <p>\u4f8b\u5982\uff1a\u5982\u679c\u6709\u591a\u4e2a\u5199\u64cd\u4f5c\u5230\u8fde\u7eed\u7684\u5730\u5740\u4e0a\uff0c\u5219\u53ef\u4ee5\u5c06\u5b83\u4eec\u5408\u5e76\u4e3a\u4e00\u4e2a\u64cd\u4f5c</p> </li> </ul> </li> <li> <p>Compiler Optimization\uff1a\u7f16\u8bd1\u5668\u4f18\u5316</p> <ul> <li> <p>\u4f7f\u7528\u7f16\u8bd1\u5668\u4f18\u5316\u6765\u51cf\u5c11\u7f13\u5b58\u7f3a\u5931\uff0c\u4f8b\u5982\u5faa\u73af\u5c55\u5f00\u548c\u6570\u636e\u9884\u53d6</p> </li> <li> <p>\u4f8b\u5982\uff1a\u5faa\u73af\u5c55\u5f00\u53ef\u4ee5\u51cf\u5c11\u5faa\u73af\u4e2d\u7684\u7f13\u5b58\u7f3a\u5931\uff0c\u56e0\u4e3a\u53ef\u4ee5\u5728\u4e00\u4e2a\u5faa\u73af\u4e2d\u5904\u7406\u66f4\u591a\u7684\u6570\u636e</p> </li> <li> <p>\u4e24\u6bb5\u5faa\u73af\u6bd4\u8f83</p> BeforeAfter <pre><code>for(j=0;j&lt;1000;j++){\n    for(i=0;i&lt;1000;i++){\n        a[i][j] = b[i][j] + c[i][j];\n    }\n}\n</code></pre> <pre><code>for(i=0;i&lt;1000;i++){\n    for(j=0;j&lt;1000;j++){\n        a[i][j] = b[i][j] + c[i][j];\n    }\n}\n</code></pre> <p>\u663e\u7136,\u540e\u9762\u4e00\u4e2a\u5faa\u73af\u66f4\u597d,\u56e0\u4e3a\u5b83\u66f4\u597d\u5730\u5229\u7528\u4e86\u7a7a\u95f4\u5c40\u90e8\u6027,\u53ef\u4ee5\u88ab\u7f16\u8bd1\u5668\u4f18\u5316\u4e3a\u66f4\u597d\u7684\u7f13\u5b58\u8bbf\u95ee\u6a21\u5f0f.</p> </li> <li> <p>\u53e6\u4e00\u79cd\u4f18\u5316\u7684\u65b9\u6cd5\u662f\u5206\u5757\u77e9\u9635\u4e58\u6cd5(blocking)</p> <p>\u4f8b\u5b50</p> <ol> <li> <p>\u6ca1\u6709Blocking\u7684\u666e\u901a\u77e9\u9635\u4e58\u6cd5</p> <p>\u5047\u8bbe\u6709\u4e24\u4e2a\u77e9\u9635 \\( A \\) \u548c \\( B \\)\uff0c\u5b83\u4eec\u5206\u522b\u662f \\( 4 \\times 4 \\) \u7684\u77e9\u9635\u3002\u6211\u4eec\u8981\u8ba1\u7b97 \\( C = A \\times B \\)\u3002</p> <p>\u77e9\u9635 \\( A \\) \u548c \\( B \\) \u5982\u4e0b\uff1a</p> \\[ A = \\begin{pmatrix} 1 &amp; 2 &amp; 3 &amp; 4 \\\\ 5 &amp; 6 &amp; 7 &amp; 8 \\\\ 9 &amp; 10 &amp; 11 &amp; 12 \\\\ 13 &amp; 14 &amp; 15 &amp; 16 \\end{pmatrix} \\] \\[ B = \\begin{pmatrix} 1 &amp; 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 1 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{pmatrix} \\] <p>\u77e9\u9635\u4e58\u6cd5\u89c4\u5219\uff1a</p> \\[ C_{ij} = \\sum_{k=1}^{n} A_{ik} B_{kj} \\] <p>\u7531\u4e8e\u77e9\u9635 \\( B \\) \u662f\u5355\u4f4d\u77e9\u9635\uff0c\u6700\u7ec8\u7684\u7ed3\u679c \\( C \\) \u548c \\( A \\) \u76f8\u540c\uff1a</p> \\[ C = \\begin{pmatrix} 1 &amp; 2 &amp; 3 &amp; 4 \\\\ 5 &amp; 6 &amp; 7 &amp; 8 \\\\ 9 &amp; 10 &amp; 11 &amp; 12 \\\\ 13 &amp; 14 &amp; 15 &amp; 16 \\end{pmatrix} \\] <p>\u95ee\u9898\uff1a</p> <ul> <li>\u6bcf\u6b21\u8ba1\u7b97 \\( C_{ij} \\) \u65f6\uff0c\u90fd\u9700\u8981\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6 \\( A \\) \u548c \\( B \\) \u7684\u5143\u7d20\uff0c\u5e76\u8fdb\u884c\u8fd0\u7b97\u3002\u82e5\u77e9\u9635\u89c4\u6a21\u5f88\u5927\uff0c\u9891\u7e41\u8bbf\u95ee\u5185\u5b58\u4f1a\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3002</li> </ul> </li> <li> <p>\u4f7f\u7528Blocking\u4f18\u5316\u540e\u7684\u77e9\u9635\u4e58\u6cd5</p> <p>\u6211\u4eec\u5c06\u77e9\u9635\u5206\u6210\u66f4\u5c0f\u7684\u5757\u8fdb\u884c\u8ba1\u7b97\uff0c\u5047\u8bbe block\u5927\u5c0f\u4e3a \\( 2 \\times 2 \\)\u3002\u8fd9\u6837\uff0c\u77e9\u9635 \\( A \\) \u548c \\( B \\) \u4f1a\u88ab\u5206\u6210 4 \u4e2a \\( 2 \\times 2 \\) \u7684\u5c0f\u5757\u3002</p> <p>\u5206\u5757\u77e9\u9635 \\( A \\) \u548c \\( B \\)\uff1a</p> \\[ A = \\begin{pmatrix} A_{11} &amp; A_{12} \\\\ A_{21} &amp; A_{22} \\end{pmatrix} \\] <p>\u5176\u4e2d\uff1a</p> \\[ A_{11} = \\begin{pmatrix} 1 &amp; 2 \\\\ 5 &amp; 6 \\end{pmatrix}, A_{12} = \\begin{pmatrix} 3 &amp; 4 \\\\ 7 &amp; 8 \\end{pmatrix}, A_{21} = \\begin{pmatrix} 9 &amp; 10 \\\\ 13 &amp; 14 \\end{pmatrix}, A_{22} = \\begin{pmatrix} 11 &amp; 12 \\\\ 15 &amp; 16 \\end{pmatrix} \\] \\[ B = \\begin{pmatrix} B_{11} &amp; B_{12} \\\\ B_{21} &amp; B_{22} \\end{pmatrix} \\] <p>\u5176\u4e2d\uff1a</p> \\[ B_{11} = \\begin{pmatrix} 1 &amp; 0 \\\\ 0 &amp; 1 \\end{pmatrix}, B_{12} = \\begin{pmatrix} 0 &amp; 0 \\\\ 0 &amp; 0 \\end{pmatrix}, B_{21} = \\begin{pmatrix} 0 &amp; 0 \\\\ 0 &amp; 0 \\end{pmatrix}, B_{22} = \\begin{pmatrix} 0 &amp; 0 \\\\ 0 &amp; 0 \\end{pmatrix} \\] </li> <li> <p>\u8ba1\u7b97\u5206\u5757\u540e\u7684\u7ed3\u679c</p> <p>\u6bcf\u4e2a\u5c0f\u5757 \\( A_{ij} \\) \u548c \\( B_{ij} \\) \u90fd\u4f1a\u5355\u72ec\u8ba1\u7b97\uff0c\u7136\u540e\u5c06\u7ed3\u679c\u6c47\u603b\u5230\u77e9\u9635 \\( C \\)\u3002</p> <p>\u8ba1\u7b97\u5c0f\u5757\u4e58\u79ef\uff1a</p> <ol> <li> <p>\u8ba1\u7b97 \\( C_{11} \\) \u7684\u5757\uff1a\\( A_{11} \\times B_{11} \\)</p> \\[ A_{11} \\times B_{11} = \\begin{pmatrix} 1 &amp; 2 \\\\ 5 &amp; 6 \\end{pmatrix} \\times \\begin{pmatrix} 1 &amp; 0 \\\\ 0 &amp; 1 \\end{pmatrix} = \\begin{pmatrix} 1 &amp; 2 \\\\ 5 &amp; 6 \\end{pmatrix} \\] </li> <li> <p>\u8ba1\u7b97 \\( C_{12} \\) \u7684\u5757\uff1a\\( A_{11} \\times B_{12} \\)</p> \\[ A_{11} \\times B_{12} = \\begin{pmatrix} 1 &amp; 2 \\\\ 5 &amp; 6 \\end{pmatrix} \\times \\begin{pmatrix} 0 &amp; 0 \\\\ 0 &amp; 0 \\end{pmatrix} = \\begin{pmatrix} 0 &amp; 0 \\\\ 0 &amp; 0 \\end{pmatrix} \\] </li> <li> <p>\u8ba1\u7b97 \\( C_{21} \\) \u7684\u5757\uff1a\\( A_{21} \\times B_{11} \\)</p> \\[ A_{21} \\times B_{11} = \\begin{pmatrix} 9 &amp; 10 \\\\ 13 &amp; 14 \\end{pmatrix} \\times \\begin{pmatrix} 1 &amp; 0 \\\\ 0 &amp; 1 \\end{pmatrix} = \\begin{pmatrix} 9 &amp; 10 \\\\ 13 &amp; 14 \\end{pmatrix} \\] </li> <li> <p>\u8ba1\u7b97 \\( C_{22} \\) \u7684\u5757\uff1a\\( A_{21} \\times B_{12} \\)</p> \\[ A_{21} \\times B_{12} = \\begin{pmatrix} 9 &amp; 10 \\\\ 13 &amp; 14 \\end{pmatrix} \\times \\begin{pmatrix} 0 &amp; 0 \\\\ 0 &amp; 0 \\end{pmatrix} = \\begin{pmatrix} 0 &amp; 0 \\\\ 0 &amp; 0 \\end{pmatrix} \\] </li> </ol> </li> <li> <p>\u6c47\u603b\u7ed3\u679c</p> <p>\u5c06\u6240\u6709\u5c0f\u5757\u76f8\u52a0\uff0c\u5f97\u5230\u6700\u7ec8\u7ed3\u679c\u77e9\u9635 \\( C \\)\uff1a</p> \\[ C = \\begin{pmatrix} 1 + 0 &amp; 2 + 0 \\\\ 5 + 0 &amp; 6 + 0 \\\\ 9 + 0 &amp; 10 + 0 \\\\ 13 + 0 &amp; 14 + 0 \\end{pmatrix} = \\begin{pmatrix} 1 &amp; 2 &amp; 3 &amp; 4 \\\\ 5 &amp; 6 &amp; 7 &amp; 8 \\\\ 9 &amp; 10 &amp; 11 &amp; 12 \\\\ 13 &amp; 14 &amp; 15 &amp; 16 \\end{pmatrix} \\] </li> </ol> <p>\u8fd9\u4e2a\u6280\u672f\u7684\u5173\u952e\u4e4b\u4e00\u5c31\u662f\u9009\u53d6\u5408\u9002\u7684\u5757\u5927\u5c0f\u3002\u5757\u5927\u5c0f\u8fc7\u5c0f\u4f1a\u5bfc\u81f4\u9891\u7e41\u7684\u7f13\u5b58\u7f3a\u5931\uff0c\u800c\u5757\u5927\u5c0f\u8fc7\u5927\u5219\u4f1a\u5bfc\u81f4\u7f13\u5b58\u7a7a\u95f4\u6d6a\u8d39\u3002</p> </li> </ul> </li> <li> <p>Hardware Prefetching\uff1a\u786c\u4ef6\u9884\u53d6</p> <ul> <li> <p>\u901a\u8fc7\u786c\u4ef6\u9884\u53d6\u6765\u51cf\u5c11\u7f13\u5b58\u7f3a\u5931\uff0c\u4f8b\u5982\u4f7f\u7528\u9884\u53d6\u5668\u6765\u9884\u6d4b\u5c06\u8981\u8bbf\u95ee\u7684\u6570\u636e\u5e76\u63d0\u524d\u52a0\u8f7d\u5230\u7f13\u5b58\u4e2d</p> </li> <li> <p>\u4f8b\u5982\uff1a\u5982\u679c\u8bbf\u95ee\u6a21\u5f0f\u662f\u7ebf\u6027\u7684\uff0c\u5219\u53ef\u4ee5\u9884\u6d4b\u4e0b\u4e00\u4e2a\u8981\u8bbf\u95ee\u7684\u6570\u636e\u5e76\u63d0\u524d\u52a0\u8f7d\u5230\u7f13\u5b58\u4e2d</p> </li> </ul> </li> <li> <p>Compiler Prefetching\uff1a\u7f16\u8bd1\u5668\u9884\u53d6</p> <ul> <li> <p>\u7f16\u8bd1\u5668\u5728\u7f16\u8bd1\u4ee3\u7801\u65f6\u63d2\u5165\u9884\u53d6\u6307\u4ee4\uff08prefetch instructions\uff09\uff0c\u63d0\u524d\u5c06\u6570\u636e\u4ece\u5185\u5b58\u52a0\u8f7d\u5230\u7f13\u5b58\u4e2d</p> </li> <li> <p>\u4e0e\u786c\u4ef6\u9884\u53d6\u76f8\u6bd4\u7684\u4f18\u52bf\uff1a</p> <ul> <li>\u7f16\u8bd1\u5668\u53ef\u4ee5\u5229\u7528\u7a0b\u5e8f\u7684\u8bed\u4e49\u4fe1\u606f\uff0c\u66f4\u51c6\u786e\u5730\u9884\u6d4b\u8bbf\u95ee\u6a21\u5f0f</li> <li>\u53ef\u4ee5\u9488\u5bf9\u7279\u5b9a\u7b97\u6cd5\u548c\u6570\u636e\u7ed3\u6784\u8fdb\u884c\u4f18\u5316</li> <li>\u4e0d\u9700\u8981\u590d\u6742\u7684\u786c\u4ef6\u9884\u6d4b\u673a\u5236</li> </ul> </li> <li> <p>\u5b9e\u73b0\u65b9\u6cd5\uff1a</p> <ul> <li>\u5728\u8bbf\u95ee\u6570\u636e\u524d\u51e0\u4e2a\u5faa\u73af\u8fed\u4ee3\u63d2\u5165\u9884\u53d6\u6307\u4ee4</li> <li>\u9488\u5bf9\u6570\u7ec4\u3001\u94fe\u8868\u7b49\u6570\u636e\u7ed3\u6784\u7684\u7279\u5b9a\u8bbf\u95ee\u6a21\u5f0f\u4f18\u5316</li> </ul> </li> <li> <p>\u4f8b\u5982\uff1a     <pre><code>// \u539f\u59cb\u4ee3\u7801\nfor (i = 0; i &lt; 1000; i++) {\n    sum += a[i];\n}\n\n// \u4f7f\u7528\u9884\u53d6\u7684\u4f18\u5316\u4ee3\u7801\nfor (i = 0; i &lt; 1000; i++) {\n    prefetch(&amp;a[i+20]);  // \u63d0\u524d\u9884\u53d620\u4e2a\u5143\u7d20\u4e4b\u540e\u7684\u6570\u636e\n    sum += a[i];\n}\n</code></pre></p> </li> <li> <p>\u7f3a\u70b9\uff1a</p> <ul> <li>\u589e\u52a0\u4e86\u4ee3\u7801\u5927\u5c0f</li> <li>\u5982\u679c\u9884\u6d4b\u9519\u8bef\uff0c\u53ef\u80fd\u4f1a\u6d6a\u8d39\u5e26\u5bbd</li> <li>\u9700\u8981\u7f16\u8bd1\u5668\u548c\u786c\u4ef6\u652f\u6301\u7279\u5b9a\u7684\u9884\u53d6\u6307\u4ee4</li> </ul> </li> </ul> </li> <li> <p>HBM\uff1a\u9ad8\u5e26\u5bbd\u5185\u5b58</p> <ul> <li> <p>HBM\u662f\u4e00\u79cd\u65b0\u578b\u7684\u5185\u5b58\u6280\u672f\uff0c\u5177\u6709\u66f4\u9ad8\u7684\u5e26\u5bbd\u548c\u66f4\u4f4e\u7684\u5ef6\u8fdf\uff0c\u9002\u7528\u4e8e\u9ad8\u6027\u80fd\u8ba1\u7b97\u548c\u56fe\u5f62\u5904\u7406\u7b49\u5e94\u7528\u3002</p> </li> <li> <p>HBM\u901a\u8fc7\u5c06\u591a\u4e2a\u5185\u5b58\u82af\u7247\u5806\u53e0\u5728\u4e00\u8d77\uff0c\u5e76\u901a\u8fc7\u9ad8\u901f\u63a5\u53e3\u8fde\u63a5\u5230\u5904\u7406\u5668\uff0c\u4ece\u800c\u5b9e\u73b0\u66f4\u9ad8\u7684\u5e26\u5bbd\u548c\u66f4\u4f4e\u7684\u529f\u8017\u3002</p> </li> </ul> </li> </ol>"},{"location":"incourse/CA/Ch3/#virtual-memory","title":"Virtual Memory","text":"<p>\u5728\u8ba1\u7ec4\u4e2d\u4e5f\u6709\u6d89\u53ca</p> <p>\u53ef\u4ee5\u8ba4\u4e3a\uff0cTLB\u662fL1 Cache,Main Memory\u662fL2 Cache,Disk\u662fL3 Cache</p>"},{"location":"incourse/CA/Ch3/#does-page-size-matter","title":"Does Page Size Matter?","text":"<ul> <li> <p>\u66f4\u5927\u7684Page Size\u6709\u5f88\u591a\u4f18\u70b9</p> <ul> <li> <p>\u66f4\u5c11\u7684Page Table Entries(\u9875\u8868\u9879)\uff0c\u51cf\u5c11\u4e86\u5185\u5b58\u5360\u7528</p> </li> <li> <p>\u56e0\u4e3a\u9875\u8868\u9879\u5c11\u4e86\uff0c\u6240\u4ee5\u66f4\u5feb\u67e5\u627e\u5230\u9875\u8868\u9879</p> </li> <li> <p>\u4e00\u6b21\u4f20\u8f93\u66f4\u591a\u6570\u636e\uff0c\u66f4\u9ad8\u6548</p> </li> <li> <p>\u6620\u5c04\u5230\u66f4\u591a\u7684\u5185\u5b58\u5757\uff0c\u51cf\u5c11\u4e86<code>TLB miss</code></p> </li> </ul> </li> <li> <p>\u5c0f\u7684Page Size\u4e5f\u6709\u4f18\u70b9</p> <ul> <li> <p>Conserve storage:\u8282\u7701\u5b58\u50a8\u7a7a\u95f4.When a contiguous region of virtual memory is not equal to a contiguous region of physical memory, smaller page sizes can help conserve storage space due to internal fragmentation.</p> </li> <li> <p>\u4f8b\u5982\uff1a\u5982\u679c\u8fdb\u7a0b\u53ea\u9700\u898110KB\u5185\u5b58\uff0c\u4f46\u9875\u5927\u5c0f\u662f8KB\uff0c\u90a3\u4e48\u4f7f\u75282\u9875\uff0816KB\uff09\u4f1a\u9020\u62106KB\u7684\u5185\u90e8\u788e\u7247\u6d6a\u8d39\u3002\u82e5\u9875\u5927\u5c0f\u662f4KB\uff0c\u5219\u53ea\u97003\u9875\uff0812KB\uff09\uff0c\u5185\u90e8\u788e\u7247\u4ec5\u4e3a2KB\u3002\u8f83\u5c0f\u7684\u9875\u9762\u80fd\u66f4\u7cbe\u786e\u5730\u5206\u914d\u5185\u5b58\uff0c\u51cf\u5c11\u6d6a\u8d39\u3002</p> </li> </ul> </li> <li> <p>\u5b9e\u9645\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u591a\u6837\u7684Page Size\u6765\u5e73\u8861\u8fd9\u4e9b\u4f18\u7f3a\u70b9\u3002</p> <ul> <li> <p>\u4f8b\u5982\uff1aLinux\u4f7f\u75284KB\u548c2MB\u7684Page Size\uff0cWindows\u4f7f\u75284KB\u548c2MB/1GB\u7684Page Size\u3002</p> </li> <li> <p>\u73b0\u4ee3CPU\u652f\u6301\u591a\u79cdPage Size\uff0c\u5141\u8bb8\u64cd\u4f5c\u7cfb\u7edf\u6839\u636e\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684Page Size\u3002</p> </li> </ul> </li> </ul>"},{"location":"incourse/CA/Ch4/","title":"\u6570\u636e\u7ea7\u5e76\u884c","text":"<p> \u7ea6 87 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p>"},{"location":"incourse/CA/Ch4/#vector-architecture","title":"Vector Architecture","text":"<p>Grab sets of data elements scattered about memory:\u6293\u53d6\u5206\u6563\u5728\u5185\u5b58\u4e2d\u7684\u4e00\u7ec4\u6570\u636e\u5143\u7d20</p> <p>Place them in large sequential reg files</p> <p>Operate on data in those data files</p> <p>Disperse the results back to memory:\u5c06\u7ed3\u679c\u91cd\u65b0\u5206\u6563\u56de\u5185\u5b58</p> <p>\u4e5f\u5c31\u662f\u8bf4,\u5411\u91cf\u67b6\u6784\u7684\u6838\u5fc3\u601d\u60f3\u5c31\u662f\u96c6\u4e2d\u8bfb\u53d6,\u7edf\u4e00\u5904\u7406,\u6279\u91cf\u5199\u56de.</p>"},{"location":"incourse/Comcompose/","title":"\u6765\u8fa3","text":"<p> \u7ea6 39 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>          \u5355\u4e2a\u82af\u7247\u4e0a\u53ef\u5bb9\u7eb3\u7684\u5143\u5668\u4ef6\u7684\u6570\u76ee\uff0c\u7ea6\u6bcf\u969418-24\u4e2a\u6708\u4fbf\u4f1a\u589e\u52a0\u4e00\u500d\uff0c\u6027\u80fd\u4e5f\u5c06\u63d0\u5347\u4e00\u500d \u3002\u2014\u2014Moore      </p>"},{"location":"incourse/Comcompose/Ch2/","title":"Chapter 2:Instructions: Language of the Machine","text":""},{"location":"incourse/Comcompose/Ch2/#instructions-language-of-the-machine","title":"Instructions: Language of the Machine","text":"<p> \u7ea6 2472 \u4e2a\u5b57  80 \u884c\u4ee3\u7801  31 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p> <p>\u53c2\u8003</p> <p>https://xuan-insr.github.io/computer_organization/2_instructions/</p>"},{"location":"incourse/Comcompose/Ch2/#\u7f16\u8bd1\u8fc7\u7a0b","title":"\u7f16\u8bd1\u8fc7\u7a0b","text":""},{"location":"incourse/Comcompose/Ch2/#\u673a\u5668\u7801","title":"\u673a\u5668\u7801","text":"<p>\u4f7f\u7528<code>gcc -c xxx.c</code>\u547d\u4ee4\u83b7\u5f97</p>"},{"location":"incourse/Comcompose/Ch2/#\u6c47\u7f16\u8bed\u8a00","title":"\u6c47\u7f16\u8bed\u8a00","text":"<p>\u4f7f\u7528<code>gcc -S xxx.c</code>\u547d\u4ee4\u83b7\u5f97 add.s<pre><code>.file   \"add.c\"\n        .text\n        .globl  add\n        .type   add, @function\nadd:\n.LFB0:\n        .cfi_startproc\n        endbr64\n        pushq   %rbp\n        .cfi_def_cfa_offset 16\n        .cfi_offset 6, -16\n        movq    %rsp, %rbp\n        .cfi_def_cfa_register 6\n        movl    %edi, -4(%rbp)\n        movl    %esi, -8(%rbp)\n        movl    -4(%rbp), %edx\n        movl    -8(%rbp), %eax\n        addl    %edx, %eax\n        popq    %rbp\n        .cfi_def_cfa 7, 8\n        ret\n        .cfi_endproc\n.LFE0:\n        .size   add, .-add\n        .ident  \"GCC: (Ubuntu 13.2.0-23ubuntu4) 13.2.0\"\n        .section        .note.GNU-stack,\"\",@progbits\n        .section        .note.gnu.property,\"a\"\n        .align 8\n        .long   1f - 0f\n</code></pre></p>"},{"location":"incourse/Comcompose/Ch2/#\u9ad8\u7ea7\u7f16\u7a0b\u8bed\u8a00","title":"\u9ad8\u7ea7\u7f16\u7a0b\u8bed\u8a00","text":"<p>\u5e73\u65f6\u5199\u7684C\u8bed\u8a00\u4e4b\u7c7b\u3002 add.c<pre><code>int add(int a,int b){\n    return a+b;\n}\n</code></pre></p>"},{"location":"incourse/Comcompose/Ch2/#\u6307\u4ee4\u96c6\u64cd\u4f5c","title":"\u6307\u4ee4\u96c6\u64cd\u4f5c","text":""},{"location":"incourse/Comcompose/Ch2/#\u7b97\u672f\u64cd\u4f5c","title":"\u7b97\u672f\u64cd\u4f5c","text":"<p>\u5728RISC-V\u4e2d\uff0c\u6bcf\u4e2a\u6307\u4ee4\u53ea\u80fd\u6709\u4e00\u4e2a\u64cd\u4f5c\u3002 \u5bf9\u4e8ef=(g+h)-(i+j)</p> <p>RISC-V Code: <pre><code>add t0,g,h\nadd t1,i,j\nsub f,t0,t1\n</code></pre></p> <p>\u5bc4\u5b58\u5668\u8868</p> <p>\u7136\u800c\u5728\u6307\u4ee4\u96c6\u4e2d\uff0c\u5176\u5b9e\u6ca1\u6709\u6211\u4eec\u6240\u5199\u7684\u53d8\u91cf\u540d\uff0c\u800c\u662f\u901a\u8fc7\u4e00\u4e2a\u4e2a\u5bc4\u5b58\u5668\u6765\u5b58\u50a8\u6570\u636e\u96c6\u3002\u4e5f\u5c31\u662f\uff1a</p> <ul> <li> <p>Load values from memory into registers  </p> </li> <li> <p>Store result from register to memory </p> </li> </ul> <p>RISC-V\u662f\u5c0f\u7aef\u7684\uff0c\u628a\u4f4e\u4f4d\u6570\u636e\u653e\u5728\u4f4e\u4f4d\u5730\u5740\u91cc.</p>"},{"location":"incourse/Comcompose/Ch2/#r-format-\u6307\u4ee4","title":"R-Format \u6307\u4ee4","text":"<p>\u5982\u56fe</p> <p></p> \u89e3\u6790 <p> \u79bbopcode\u8fd1\u7684\u662frs1.\u56fe\u4e2d\u6307\u4ee4\u7684\u542b\u4e49\u662fadd x9,x20.x21\uff0c\u5373\u5c06x20,x21\u5bc4\u5b58\u5668\u5185\u7684\u503c\u76f8\u52a0\u8d4b\u4e88x9\u5bc4\u5b58\u5668</p>"},{"location":"incourse/Comcompose/Ch2/#i-format-\u6307\u4ee4","title":"I-Format \u6307\u4ee4","text":"<p>\u5982\u56fe</p> <p></p> \u89e3\u6790 <p></p> <p>\u4f8b\u5b50</p> <p>ld x9,64(x22):</p> <ul> <li>ld \u8868\u793a\u52a0\u8f7d\u53cc\u5b57\uff08load doubleword\uff09\uff0c\u5373\u4ece\u5185\u5b58\u4e2d\u52a0\u8f7d\u4e00\u4e2a64\u4f4d\u7684\u6570\u636e\u3002</li> <li>x9 \u662f\u76ee\u6807\u5bc4\u5b58\u5668\uff0c\u8868\u793a\u52a0\u8f7d\u7684\u6570\u636e\u5c06\u88ab\u5b58\u50a8\u5230\u5bc4\u5b58\u5668 x9 \u4e2d\u3002</li> <li>64(x22) \u8868\u793a\u4ece\u5bc4\u5b58\u5668 x22 \u7684\u503c\u52a0\u4e0a\u504f\u79fb\u91cf 64 \u6240\u6307\u5411\u7684\u5185\u5b58\u5730\u5740\u4e2d\u8bfb\u53d6\u6570\u636e\u3002</li> </ul>"},{"location":"incourse/Comcompose/Ch2/#s-format-\u6307\u4ee4\u64cd\u4f5c","title":"S-Format \u6307\u4ee4\u64cd\u4f5c","text":"<p>\u5982\u56fe</p> <p></p> \u89e3\u6790 <p></p> <p>\u4f8b\u5b50</p> <p>sd x9, 64(x22):</p> <ul> <li>sd \u8868\u793a\u5b58\u50a8\u53cc\u5b57\uff08store doubleword\uff09\uff0c\u5373\u5c06\u4e00\u4e2a64\u4f4d\u7684\u6570\u636e\u4ece\u5bc4\u5b58\u5668\u5b58\u50a8\u5230\u5185\u5b58\u4e2d\u3002</li> <li>x9 \u662f\u6e90\u5bc4\u5b58\u5668\uff0c\u8868\u793a\u8981\u5b58\u50a8\u7684\u6570\u636e\u6765\u81ea\u5bc4\u5b58\u5668 x9\u3002</li> <li>64(x22) \u8868\u793a\u76ee\u6807\u5185\u5b58\u5730\u5740\uff0c\u7531\u5bc4\u5b58\u5668 x22 \u7684\u503c\u52a0\u4e0a\u504f\u79fb\u91cf 64 \u8ba1\u7b97\u5f97\u5230\u3002</li> </ul>"},{"location":"incourse/Comcompose/Ch2/#\u6c47\u603b\u53ca\u7ec3\u4e60","title":"\u6c47\u603b\u53ca\u7ec3\u4e60","text":"<p>\u6c47\u603b</p> \u521d\u59cb\u7248\u8be6\u7ec6\u7248 <p></p> <p> </p> <p>\u63d0\u95ee\uff1alh,lw,lb\u8fd9\u4e9b\u4ece\u5185\u5b58\u4e2d\u52a0\u8f7d\u4e0d\u8db38\u5b57\u8282\u7684\u6570\u636e\u523064\u4f4d\u5bc4\u5b58\u5668\u4e2d\uff0c\u7a7a\u4f59\u7684\u4f4d\u6570\u600e\u4e48\u529e\u5462\uff1f</p> \u89e3 <p></p> \u4f8b\u5b50 <p></p> <p>\u601d\u8003\uff1a\u8fd9\u56db\u6761\u6307\u4ee4\u7684RISC-V\u6307\u4ee4\u662f\u4ec0\u4e48\uff1f</p> \u7b54\u6848 ldaddaddisd <p></p> <p></p> <p></p> <p></p>"},{"location":"incourse/Comcompose/Ch2/#\u5176\u4ed6\u6307\u4ee4","title":"\u5176\u4ed6\u6307\u4ee4","text":""},{"location":"incourse/Comcompose/Ch2/#bne-\u548c-beq-\u6307\u4ee4","title":"bne \u548c beq \u6307\u4ee4","text":"<p>\u5728 RISC-V \u6307\u4ee4\u96c6\u4e2d\uff0c<code>bne</code> \u548c <code>beq</code> \u662f\u4e24\u6761\u5e38\u7528\u7684\u8df3\u8f6c\u6307\u4ee4\uff0c\u7528\u4e8e\u6761\u4ef6\u8df3\u8f6c\u3002</p> <ul> <li> <p><code>bne</code> (Branch if Not Equal): \u5f53\u4e24\u4e2a\u5bc4\u5b58\u5668\u7684\u503c\u4e0d\u76f8\u7b49\u65f6\u8df3\u8f6c\u5230\u6307\u5b9a\u7684\u6807\u7b7e\u4f4d\u7f6e\u3002     <pre><code>bne x1, x2, label\n</code></pre>     \u5982\u679c\u5bc4\u5b58\u5668 <code>x1</code> \u548c <code>x2</code> \u7684\u503c\u4e0d\u76f8\u7b49\uff0c\u5219\u8df3\u8f6c\u5230 <code>label</code> \u4f4d\u7f6e\u7ee7\u7eed\u6267\u884c\u3002</p> </li> <li> <p><code>beq</code> (Branch if Equal): \u5f53\u4e24\u4e2a\u5bc4\u5b58\u5668\u7684\u503c\u76f8\u7b49\u65f6\u8df3\u8f6c\u5230\u6307\u5b9a\u7684\u6807\u7b7e\u4f4d\u7f6e\u3002     <pre><code>beq x1, x2, label\n</code></pre>     \u5982\u679c\u5bc4\u5b58\u5668 <code>x1</code> \u548c <code>x2</code> \u7684\u503c\u76f8\u7b49\uff0c\u5219\u8df3\u8f6c\u5230 <code>label</code> \u4f4d\u7f6e\u7ee7\u7eed\u6267\u884c\u3002</p> </li> </ul> <p>\u8fd9\u4e9b\u6307\u4ee4\u5728\u5b9e\u73b0\u6761\u4ef6\u5224\u65ad\u548c\u5faa\u73af\u63a7\u5236\u65f6\u975e\u5e38\u6709\u7528\u3002</p> <p>\u5faa\u73af\u5b9e\u73b0</p> LoopWhile <p></p> \u7b2c\u4e00\u4e2a\u6307\u4ee4\u7684\u5de6\u79fb\u4e09\u4f4d\u662f\u4ec0\u4e48\u610f\u601d\u5462\uff1f <p>\u56fe\u4e2d\u6ce8\u91ca\u6709\u8bef\uff0cA\u5e94\u8be5\u662f\u4e00\u4e2a\u5305\u542b100\u4e2adouble words\u7684\u6570\u7ec4\uff0c\u4e00\u4e2adouble words\u542b\u516b\u4e2a\u5b57\u8282\uff0c\u6240\u4ee5\u53f3\u79fb8\u4f4d\u624d\u80fd \u8bfb\u51fa\u6570\u7ec4\u539f\u6765\u7b2ci\u4f4d\u7684\u5185\u5bb9</p> <p></p>"},{"location":"incourse/Comcompose/Ch2/#\u6bd4\u8f83\u5927\u5c0f\u6307\u4ee4","title":"\u6bd4\u8f83\u5927\u5c0f\u6307\u4ee4","text":"<p>RISC-V\u63d0\u4f9b\u4e86\u51e0\u79cd\u7528\u4e8e\u6bd4\u8f83\u503c\u7684\u6307\u4ee4\uff1a</p> <ul> <li> <p><code>BEQ</code>\uff08\u76f8\u7b49\u65f6\u8df3\u8f6c\uff09\uff1a\u6bd4\u8f83\u4e24\u4e2a\u5bc4\u5b58\u5668\uff0c\u5982\u679c\u5b83\u4eec\u76f8\u7b49\u5219\u8df3\u8f6c\u3002</p> </li> <li> <p><code>BNE</code>\uff08\u4e0d\u76f8\u7b49\u65f6\u8df3\u8f6c\uff09\uff1a\u6bd4\u8f83\u4e24\u4e2a\u5bc4\u5b58\u5668\uff0c\u5982\u679c\u5b83\u4eec\u4e0d\u76f8\u7b49\u5219\u8df3\u8f6c\u3002</p> </li> <li> <p><code>BLT</code>\uff08\u5c0f\u4e8e\u65f6\u8df3\u8f6c\uff09\uff1a\u6bd4\u8f83\u4e24\u4e2a\u5bc4\u5b58\u5668\uff0c\u5982\u679c\u7b2c\u4e00\u4e2a\u5c0f\u4e8e\u7b2c\u4e8c\u4e2a\u5219\u8df3\u8f6c\u3002</p> </li> <li> <p><code>BGE</code>\uff08\u5927\u4e8e\u6216\u7b49\u4e8e\u65f6\u8df3\u8f6c\uff09\uff1a\u6bd4\u8f83\u4e24\u4e2a\u5bc4\u5b58\u5668\uff0c\u5982\u679c\u7b2c\u4e00\u4e2a\u5927\u4e8e\u6216\u7b49\u4e8e\u7b2c\u4e8c\u4e2a\u5219\u8df3\u8f6c\u3002</p> </li> <li> <p><code>BLTU</code>\uff08\u65e0\u7b26\u53f7\u5c0f\u4e8e\u65f6\u8df3\u8f6c\uff09\uff1a\u5c06\u4e24\u4e2a\u5bc4\u5b58\u5668\u4f5c\u4e3a\u65e0\u7b26\u53f7\u6574\u6570\u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u7b2c\u4e00\u4e2a\u5c0f\u4e8e\u7b2c\u4e8c\u4e2a\u5219\u8df3\u8f6c\u3002</p> </li> <li> <p><code>BGEU</code>\uff08\u65e0\u7b26\u53f7\u5927\u4e8e\u6216\u7b49\u4e8e\u65f6\u8df3\u8f6c\uff09\uff1a\u5c06\u4e24\u4e2a\u5bc4\u5b58\u5668\u4f5c\u4e3a\u65e0\u7b26\u53f7\u6574\u6570\u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u7b2c\u4e00\u4e2a\u5927\u4e8e\u6216\u7b49\u4e8e\u7b2c\u4e8c\u4e2a\u5219\u8df3\u8f6c\u3002</p> </li> </ul> <p>\u8fd9\u4e9b\u6307\u4ee4\u7528\u4e8e\u6839\u636e\u5bc4\u5b58\u5668\u503c\u7684\u6bd4\u8f83\u6765\u63a7\u5236\u6267\u884c\u6d41\u7a0b\u3002</p>"},{"location":"incourse/Comcompose/Ch2/#jalr\u6307\u4ee4","title":"jalr\u6307\u4ee4","text":"<p>JALR\uff08Jump And Link Register\uff09\u662f\u4e00\u79cd\u8df3\u8f6c\u6307\u4ee4\uff0c\u7528\u4e8e\u8df3\u8f6c\u5230\u7531\u5bc4\u5b58\u5668\u6307\u5b9a\u7684\u5730\u5740\uff0c\u5e76\u5c06\u8fd4\u56de\u5730\u5740\u5b58\u50a8\u5728\u53e6\u4e00\u4e2a\u5bc4\u5b58\u5668\u4e2d\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5b83\u7684\u64cd\u4f5c\u5982\u4e0b\uff1a</p> <p>1.\u8ba1\u7b97\u76ee\u6807\u5730\u5740\uff1a\u76ee\u6807\u5730\u5740\u662f\u57fa\u5730\u5740\u5bc4\u5b58\u5668\u7684\u503c\u52a0\u4e0a\u4e00\u4e2a\u7acb\u5373\u6570\u504f\u79fb\u91cf\u3002</p> <p>2.\u5c06\u8fd4\u56de\u5730\u5740\uff08\u5373\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\uff09\u5b58\u50a8\u5728\u76ee\u6807\u5bc4\u5b58\u5668\u4e2d\u3002</p> <p>3.\u8df3\u8f6c\u5230\u8ba1\u7b97\u51fa\u7684\u76ee\u6807\u5730\u5740\u3002</p> <p>\u4f8b\u5b50</p> <pre><code>jalr x1, (4)x2\n</code></pre> <p>\u8fd9\u6761\u6307\u4ee4\u5c06\u8df3\u8f6c\u5230x2\u5bc4\u5b58\u5668\u7684\u503c\u52a0\u4e0a4\u7684\u5730\u5740\uff0c\u5e76\u5c06\u8fd4\u56de\u5730\u5740\u5b58\u50a8\u5728x1\u5bc4\u5b58\u5668\u4e2d\u3002</p>"},{"location":"incourse/Comcompose/Ch2/#\u5229\u7528jalr\u6307\u4ee4\u5b9e\u73b0switch\u51fd\u6570","title":"\u5229\u7528jalr\u6307\u4ee4\u5b9e\u73b0switch\u51fd\u6570","text":"<p>\u89e3\u6790</p> \u6307\u4ee4\u56fe\u89e3\u8be6\u89e3 <p></p> <p></p> <p></p>"},{"location":"incourse/Comcompose/Ch2/#\u51fd\u6570\u8bbe\u8ba1","title":"\u51fd\u6570\u8bbe\u8ba1","text":"<p>\u4e00\u4e2a\u51fd\u6570\u8bbe\u8ba1\u5e94\u5f53\u6709\u4e0b\u9762\u516d\u6b65\u7ec4\u6210\uff1a</p> <ol> <li> <p>Place Parameters in a place where the procedure can access them  (where? function arguments (a0-a7))</p> </li> <li> <p>Transfer control to the procedure:jump to  </p> </li> <li> <p>Acquire the storage resources needed for the procedure  </p> </li> <li> <p>Perform the desired task  </p> </li> <li> <p>Place the result value in a place where the calling program can  access it (where?returned values (a0-a1) )  </p> </li> <li> <p>Return control to the point of origin (how to find this? (ra))</p> </li> </ol>"},{"location":"incourse/Comcompose/Ch2/#step1\u53c2\u6570\u5b58\u50a8","title":"Step1,\u53c2\u6570\u5b58\u50a8","text":"<p>\u5728RISC-V\u4e2d\uff0c\u53c2\u6570\u5b58\u50a8\u4e3b\u8981\u6d89\u53ca\u5230\u516b\u4e2a\u7528\u4e8e\u4f20\u9012\u53c2\u6570\u548c\u8fd4\u56de\u503c\u7684\u5bc4\u5b58\u5668\u4ee5\u53ca\u5806\u6808\u3002</p>"},{"location":"incourse/Comcompose/Ch2/#\u516b\u4e2a\u53c2\u6570\u5bc4\u5b58\u5668","title":"\u516b\u4e2a\u53c2\u6570\u5bc4\u5b58\u5668","text":"<p>RISC-V\u67b6\u6784\u4e2d\u6709\u516b\u4e2a\u4e13\u95e8\u7528\u4e8e\u4f20\u9012\u51fd\u6570\u53c2\u6570\u548c\u8fd4\u56de\u503c\u7684\u5bc4\u5b58\u5668\uff0c\u5206\u522b\u662f<code>a0</code>\u5230<code>a7</code>\u3002\u8fd9\u4e9b\u5bc4\u5b58\u5668\u7684\u4f7f\u7528\u89c4\u5219\u5982\u4e0b\uff1a</p> <ul> <li><code>a0</code>\u5230<code>a7</code>(<code>x10</code>\u5230<code>x17</code>)\uff1a\u7528\u4e8e\u4f20\u9012\u51fd\u6570\u53c2\u6570\u3002\u5982\u679c\u53c2\u6570\u8d85\u8fc7\u516b\u4e2a\uff0c\u591a\u4f59\u7684\u53c2\u6570\u9700\u8981\u901a\u8fc7\u5806\u6808\u4f20\u9012\u3002</li> </ul> <p>\u4f8b\u5982\uff0c\u5047\u8bbe\u6709\u4e00\u4e2a\u51fd\u6570<code>foo</code>\uff0c\u5b83\u6709\u4e09\u4e2a\u53c2\u6570\u5e76\u8fd4\u56de\u4e00\u4e2a\u503c\uff1a</p> <pre><code>int foo(int x, int y, int z);\n</code></pre> <p>\u5728\u8c03\u7528<code>foo</code>\u51fd\u6570\u65f6\uff0c\u53c2\u6570<code>x</code>\u3001<code>y</code>\u548c<code>z</code>\u4f1a\u5206\u522b\u5b58\u50a8\u5728\u5bc4\u5b58\u5668<code>a0</code>\u3001<code>a1</code>\u548c<code>a2</code>\u4e2d\u3002</p>"},{"location":"incourse/Comcompose/Ch2/#\u5806\u6808","title":"\u5806\u6808","text":"<p>\u5f53\u51fd\u6570\u53c2\u6570\u8d85\u8fc7\u516b\u4e2a\u65f6\uff0c\u6216\u8005\u9700\u8981\u4fdd\u5b58\u4e34\u65f6\u6570\u636e\u65f6\uff0c\u5806\u6808\u4f1a\u88ab\u7528\u6765\u5b58\u50a8\u8fd9\u4e9b\u989d\u5916\u7684\u4fe1\u606f\u3002\u5806\u6808\u662f\u4e00\u4e2a\u540e\u8fdb\u5148\u51fa\uff08LIFO\uff09\u7684\u6570\u636e\u7ed3\u6784\uff0c\u901a\u5e38\u7531\u5bc4\u5b58\u5668<code>sp</code>\uff08\u5806\u6808\u6307\u9488\uff09\u7ba1\u7406\u3002</p> <p>\u5728\u51fd\u6570\u8c03\u7528\u8fc7\u7a0b\u4e2d\uff0c\u5806\u6808\u7684\u4f7f\u7528\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li>\u4fdd\u5b58\u8c03\u7528\u8005\u7684\u4e0a\u4e0b\u6587\uff1a\u5728\u8c03\u7528\u51fd\u6570\u4e4b\u524d\uff0c\u8c03\u7528\u8005\u9700\u8981\u5c06\u4e00\u4e9b\u5bc4\u5b58\u5668\u7684\u503c\u4fdd\u5b58\u5230\u5806\u6808\u4e2d\uff0c\u4ee5\u4fbf\u5728\u51fd\u6570\u8fd4\u56de\u540e\u6062\u590d\u8fd9\u4e9b\u503c\u3002</li> <li>\u4f20\u9012\u989d\u5916\u7684\u53c2\u6570\uff1a\u5982\u679c\u51fd\u6570\u53c2\u6570\u8d85\u8fc7\u516b\u4e2a\uff0c\u591a\u4f59\u7684\u53c2\u6570\u4f1a\u88ab\u538b\u5165\u5806\u6808\u3002</li> <li>\u4fdd\u5b58\u88ab\u8c03\u7528\u8005\u7684\u4e0a\u4e0b\u6587\uff1a\u88ab\u8c03\u7528\u7684\u51fd\u6570\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u4e00\u4e9b\u5bc4\u5b58\u5668\uff0c\u8fd9\u4e9b\u5bc4\u5b58\u5668\u7684\u539f\u59cb\u503c\u9700\u8981\u4fdd\u5b58\u5230\u5806\u6808\u4e2d\u3002</li> <li>\u51fd\u6570\u8fd4\u56de\uff1a\u51fd\u6570\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u4ece\u5806\u6808\u4e2d\u6062\u590d\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u5e76\u8fd4\u56de\u5230\u8c03\u7528\u8005\u3002</li> </ol> <p>\u56fe\u89e3</p> <p></p> sp\u5230\u5e95\u6307\u5411\u54ea\u91cc <p>\u7ecf\u8fc7\u8bfe\u4e0a\u6fc0\u70c8\u7684\u8ba8\u8bba\uff0csp\u5e94\u8be5\u6307\u5411\u6808\u9876\u6570\u636e\u7684\u5f00\u5934\uff0c\u6240\u4ee5\u56fe\u4e2dsd ...,8(sp)\u5e94\u8be5\u4e3asd ...,0(sp)</p> <p>\u4f8b\u5982\uff0c\u5047\u8bbe\u6709\u4e00\u4e2a\u51fd\u6570<code>bar</code>\uff0c\u5b83\u6709\u5341\u4e2a\u53c2\u6570\uff1a</p> <pre><code>void bar(int a, int b, int c, int d, int e, int f, int g, int h, int i, int j);\n</code></pre> <p>\u5728\u8c03\u7528<code>bar</code>\u51fd\u6570\u65f6\uff0c\u524d\u516b\u4e2a\u53c2\u6570<code>a</code>\u5230<code>h</code>\u4f1a\u5b58\u50a8\u5728\u5bc4\u5b58\u5668<code>a0</code>\u5230<code>a7</code>\u4e2d\uff0c\u800c\u53c2\u6570<code>i</code>\u548c<code>j</code>\u4f1a\u88ab\u538b\u5165\u5806\u6808\u3002</p>"},{"location":"incourse/Comcompose/Ch2/#\u4f18\u5316","title":"\u4f18\u5316","text":"<p>\u5728RISC-V\u4e2d\uff0c\u5bc4\u5b58\u5668\u7684\u4f7f\u7528\u5206\u4e3a\u4e34\u65f6\u5bc4\u5b58\u5668\u548c\u4fdd\u5b58\u5bc4\u5b58\u5668\u4e24\u7c7b\uff1a</p> <ul> <li><code>t0</code> \u5230 <code>t6</code>\uff1a7\u4e2a\u4e34\u65f6\u5bc4\u5b58\u5668\uff0c\u7531\u88ab\u8c03\u7528\u8005\uff08callee\uff09\u4e0d\u9700\u8981\u4fdd\u5b58\u3002\u5982\u679c\u51fd\u6570\u4f7f\u7528\u4e86\u8fd9\u4e9b\u5bc4\u5b58\u5668\uff0c\u4e0d\u9700\u8981\u5728\u51fd\u6570\u8fd4\u56de\u524d\u6062\u590d\u5b83\u4eec\u7684\u503c\u3002</li> <li><code>s0</code> \u5230 <code>s11</code>\uff1a12\u4e2a\u4fdd\u5b58\u5bc4\u5b58\u5668\uff0c\u5fc5\u987b\u7531\u88ab\u8c03\u7528\u8005\u4fdd\u5b58\u3002\u5982\u679c\u51fd\u6570\u4f7f\u7528\u4e86\u8fd9\u4e9b\u5bc4\u5b58\u5668\uff0c\u5fc5\u987b\u5728\u51fd\u6570\u8fd4\u56de\u524d\u6062\u590d\u5b83\u4eec\u7684\u503c\u3002</li> </ul> <p>32\u4e2a\u5bc4\u5b58\u5668</p> <p></p>"},{"location":"incourse/Comcompose/Ch2/#step2\u8c03\u7528\u51fd\u6570","title":"Step2\uff0c\u8c03\u7528\u51fd\u6570","text":"<p>\u4f7f\u7528\u6307\u4ee4 <pre><code>jal x1, ProcedureAddress\n</code></pre></p>"},{"location":"incourse/Comcompose/Ch2/#step6\u51fd\u6570\u8fd4\u56de","title":"Step6,\u51fd\u6570\u8fd4\u56de","text":"<p>\u4f7f\u7528\u6307\u4ee4 <pre><code>jalr x0, 0(x1)\n</code></pre></p> <p>x0</p> <p>Use x0 as rd (x0 cannot be changed)</p>"},{"location":"incourse/Comcompose/Ch2/#\u91cd\u70b9\u8be6\u89e3\u4e4b\u9012\u5f52\u6307\u4ee4","title":"\u91cd\u70b9\u8be6\u89e3\u4e4b\u9012\u5f52\u6307\u4ee4","text":"<p>\u9636\u4e58\u4e3a\u4f8b</p> C\u8bed\u8a00RISC-V\u7801 <p></p> <p></p> <p>\u63a5\u4e0b\u6765\u662f\u5bf9\u4e8e\u8fd9\u6bb5RISC-V\u7801\u7684\u5177\u4f53\u89e3\u6790\uff0c\u7531\u4e8e\u9012\u5f52\u7406\u89e3\u8d77\u6765\u6bd4\u8f83\u96be\uff0c\u6211\u5c06\u4ee5fact(3)\u7684\u8ba1\u7b97\u4e3a\u4f8b\uff0c\u8fdb\u884c\u89e3\u91ca\u3002</p> \u89e3\u6790 Step1Step2Step3Step4Step5Step6Step7Step8 <p>\u8c03\u7528fact(3)</p> <p>\u53c2\u6570 n = 3 \u5b58\u50a8\u5728\u5bc4\u5b58\u5668 <code>a0\uff08x10\uff09</code>\u3002</p> <p>\u8c03\u6574\u6808\u7a7a\u95f4\uff1a</p> <pre><code>addi sp, sp, -16  # \u5206\u914d16\u5b57\u8282\u7684\u6808\u7a7a\u95f4\n\nsd ra, 8(sp)      # \u4fdd\u5b58\u8fd4\u56de\u5730\u5740 ra\n\nsd a0, 0(sp)      # \u4fdd\u5b58\u53c2\u6570 n (\u5373 a0 = 3)\n</code></pre> <p>\u8fd9\u4e00\u6b65\u662f\uff1a</p> <ul> <li> <p>\u5c06\u6808\u6307\u9488 <code>sp</code> \u4e0b\u79fb 16 \u5b57\u8282\uff08\u7a7a\u51fa\u4f4d\u7f6e\u5b58\u653e\u5c40\u90e8\u53d8\u91cf\uff09\u3002</p> </li> <li> <p>\u4fdd\u5b58\u8fd4\u56de\u5730\u5740 <code>ra\uff08x1\uff09</code>\u5230\u6808\u4e2d\uff08<code>sp+8</code>\uff09\u3002</p> </li> <li> <p>\u5c06\u53c2\u6570 <code>n = 3</code>\u4fdd\u5b58\u5230\u6808\u4e2d\u7684 <code>sp+0</code> \u4f4d\u7f6e\u3002</p> </li> </ul> <p>\u5224\u65ad n \u662f\u5426\u5927\u4e8e\u7b49\u4e8e 1</p> <pre><code>addi t0, a0, -1   # t0 = n - 1 = 3 - 1 = 2\n\nbge t0, zero, L1  # \u5982\u679c n &gt;= 1\uff0c\u8df3\u5230 L1 \u7ee7\u7eed\u6267\u884c\n</code></pre> <p>\u8fd9\u4e00\u6b65\u662f\uff1a</p> <ul> <li> <p>\u5c06 <code>n - 1</code>\u7684\u7ed3\u679c\uff082\uff09\u5b58\u5165\u5bc4\u5b58\u5668 <code>t0</code>\u3002</p> </li> <li> <p>\u5224\u65ad <code>t0 &gt;= 0</code>\uff0c\u56e0\u4e3a <code>2 &gt;= 0</code>\uff0c\u6240\u4ee5\u8df3\u8f6c\u5230\u6807\u7b7e<code>L1</code>\u3002</p> </li> </ul> <p>\u9012\u5f52\u8c03\u7528 <code>fact(2)</code></p> <pre><code>L1: addi a0, a0, -1  # a0 = n - 1 = 3 - 1 = 2\n    jal ra, fact     # \u8c03\u7528 fact(2)\n</code></pre> <p>\u8fd9\u4e00\u6b65\u662f\uff1a</p> <ul> <li> <p>\u5c06 <code>a0</code> \u8bbe\u4e3a <code>n - 1 = 2</code>\uff0c\u8fd9\u76f8\u5f53\u4e8e\u51c6\u5907\u9012\u5f52\u8c03\u7528 <code>fact(2)</code>\u3002</p> </li> <li> <p>\u4f7f\u7528 <code>jal</code> \u6307\u4ee4\uff0c\u8df3\u8f6c\u5230 <code>fact</code> \u7684\u5f00\u59cb\uff0c\u5e76\u5c06\u5f53\u524d\u7684\u8fd4\u56de\u5730\u5740\uff08\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u4f4d\u7f6e\uff09\u5b58\u5165 <code>ra</code>\uff0c\u8fd9\u6837\u9012\u5f52\u8c03\u7528\u7ed3\u675f\u540e\u53ef\u4ee5\u8fd4\u56de\u8fd9\u91cc\u3002</p> </li> </ul> <p>\u8fdb\u884cfact(2)</p> <p>OK,\u6211\u4eec\u73b0\u5728\u53c8\u56de\u5230\u4e86<code>fact</code>,\u4f46\u6b64\u65f6<code>a0</code>\u4e2d\u5b58\u7684\u4e0d\u518d\u662f3\uff0c\u800c\u662f2\u4e86\u3002\u4eff\u71673\u7684\u683c\u5f0f\u8fdb\u884c<code>fact(2)</code>,\u76f4\u5230\u8fdb\u5165<code>fact(0)</code></p> <p>\u8fdb\u884cfact(0)</p> <p>\u5e38\u89c4\u7684\u8c03\u6574\u6808\u7a7a\u95f4\u540e\uff0c\u5728bge\u6307\u4ee4\u5904\u6211\u4eec\u53d1\u73b0\uff0c\\(t_0\\)\u7684\u7ed3\u679c\u5c0f\u4e8e0\u4e86\uff0c\u4e8e\u662f\u4e0d\u4f1a\u8df3\u8f6c\u5230L1\uff0c\u800c\u662f\u7ee7\u7eed\u8fdb\u884c\u4e0b\u9762\u7684\u6307\u4ee4\u3002</p> <p><pre><code>addi a0, zero, 1  # a0 = 1\naddi sp, sp, 16   # \u6062\u590d\u6808\u6307\u9488\njalr zero, 0(ra)  # \u8fd4\u56de\uff0cfact(0) = 1\n</code></pre> \u6211\u4eec\u7ed3\u675f\u4e86\u9012\u5f52\uff0c\u8fd9\u65f6\u4f20\u56de\u53bb\u7684<code>a0</code>\u4e3a1\uff0c\u56e0\u4e3a\\(0!=1\\)</p> <p>\u8ba1\u7b97fact(1)</p> <p>\u6211\u4eec\u4e0d\u59a8\u601d\u8003\uff0c<code>ra</code>\u7684\u5730\u5740\u5b58\u7684\u662f\u54ea\u91cc\u7684\u5730\u5740\u5462\uff1f\u5c31\u662f\u521a\u521a\u5728L1\u4e2d\u4f7f\u7528\u7684<code>jal ra,fact</code>\u547d\u4ee4</p> <p>\u4e8e\u662f\u6211\u4eec\u56de\u5230\u8fd9\u91cc\uff0c\u7ee7\u7eed\u6267\u884c\u4e0b\u9762\u7684\u6307\u4ee4\u3002</p> <pre><code>add t1, a0, zero  # t1 = 1 (\u4fdd\u5b58 fact(0) \u7684\u7ed3\u679c)\nld a0, 0(sp)      # \u6062\u590d\u53c2\u6570 n = 1\nld ra, 8(sp)      # \u6062\u590d\u8fd4\u56de\u5730\u5740\nadd sp, sp, 16    # \u6062\u590d\u6808\u6307\u9488\nmul a0, a0, t1    # a0 = 1 * 1 = 1 (\u8ba1\u7b97 1 * fact(0))\njalr zero, 0(ra)  # \u8fd4\u56de\uff0cfact(1) = 1\n</code></pre> <p>\u9012\u5f52\u8ba1\u7b97</p> <p>\u6211\u4eec\u4e0d\u96be\u53d1\u73b0\uff0c\u9664\u7b2c\u4e00\u4e2a\u5916\u6240\u6709\u7684<code>ra</code>\uff08\u7b2c\u4e00\u4e2a<code>ra</code>\u5c31\u662f\u51fd\u6570\u7684\u8fd4\u56de\u5730\u5740\uff09\u90fd\u662f\u5728<code>jal ra,fact</code>\u6307\u4ee4\u540e\u8df3\u8f6c\u5230fact,\u518d\u5728<code>sd ra,8(sp)</code>\u6307\u4ee4\u4e2d\u50a8\u5b58\u7684\u3002 \u6240\u4ee5<code>jalr zero,0(ra)</code>\u8df3\u8f6c\u5230\u7684\u662f\u6bd4\u73b0\u5728\u7684n\u59271\u7684L1\u5904\u3002\u6bd4\u5982\u8bf4\uff0c\u6211\u4eec\u63a5\u7eed\u521a\u521a\u8fd4\u56de<code>fact(1)=1</code>\u7684\u6307\u4ee4</p> <p><pre><code>add t1, a0, zero  # t1 = 1 (\u4fdd\u5b58 fact(1) \u7684\u7ed3\u679c)\nld a0, 0(sp)      # \u6062\u590d\u53c2\u6570 n = 2\nld ra, 8(sp)      # \u6062\u590d\u8fd4\u56de\u5730\u5740\nadd sp, sp, 16    # \u6062\u590d\u6808\u6307\u9488\nmul a0, a0, t1    # a0 = 2 * 1 = 2 (\u8ba1\u7b97 2 * fact(1))\njalr zero, 0(ra)  # \u8fd4\u56de\uff0cfact(2) = 2\n</code></pre> \u8fd9\u6837\u5c31\u8ba1\u7b97\u597d\u4e86<code>fact(2)</code></p> <p>\u4ee5\u6b64\u7c7b\u63a8\uff0c<code>fact(3)</code>\u4e5f\u8ba1\u7b97\u51fa\u6765\u4e86:</p> <p><pre><code>add t1, a0, zero  # t1 = 2 (\u4fdd\u5b58 fact(2) \u7684\u7ed3\u679c)\nld a0, 0(sp)      # \u6062\u590d\u53c2\u6570 n = 3\nld ra, 8(sp)      # \u6062\u590d\u8fd4\u56de\u5730\u5740\nadd sp, sp, 16    # \u6062\u590d\u6808\u6307\u9488\nmul a0, a0, t1    # a0 = 3 * 2 = 6 (\u8ba1\u7b97 3 * fact(2))\njalr zero, 0(ra)  # \u8fd4\u56de\uff0cfact(3) = 6\n</code></pre> \u4e8e\u662f\u5c31\u8fd4\u56de\u4e866. \u81f3\u6b64\uff0c\u76f8\u4fe1\u80fd\u7406\u89e3<code>fact(n)</code>\u662f\u5982\u4f55\u8ba1\u7b97\u7684\u4e86\u3002</p>"},{"location":"incourse/Comcompose/Ch2/#\u5b9e\u4f8b\u5b57\u7b26\u4e32\u590d\u5236","title":"\u5b9e\u4f8b\uff1a\u5b57\u7b26\u4e32\u590d\u5236","text":"<p>\u5b9e\u4f8b</p> C codeRISC-V <p></p> <p> </p> \u4f18\u5316 <p>\u8fd9\u91cc\u7684i\u53ef\u4ee5\u5b58\u653e\u5728\u4e34\u65f6\u5bc4\u5b58\u5668\u4e2d\uff0c\u8fd9\u6837\u5c31\u4e0d\u7528\u5728\u6808\u4e2d\u5b58\u50a8\u3002</p>"},{"location":"incourse/Comcompose/Ch2/#risc-v-addressing-for-32-bit-immediate-and-addresses","title":"RISC V Addressing for 32-Bit Immediate  and Addresses","text":""},{"location":"incourse/Comcompose/Ch2/#32-bit-constant","title":"32-bit constant","text":"<p>\u4f7f\u7528lui\u4e0eaddi\u6307\u4ee4\u5b9e\u73b0\u52a0\u8f7d32\u4f4d\u7acb\u5373\u6570\u3002</p> <pre><code>lui x5, 0x12346 //0x12345+1,\u52a01\u662f\u4e3a\u4e86\u62b5\u6d88\u7531\u4e8e\u4f4e\u5341\u4e8c\u4f4d\u6570\u4e0e\u9ad8\u4e8c\u5341\u4f4d\u6570\u4f5c\u52a0\u6cd5\u5f15\u8d77\u7684\u62d3\u5c55\u4f4d\u6570\u5e26\u6765\u7684\u8bef\u5dee\u3002\naddi x5, x5, 0x678\n</code></pre>"},{"location":"incourse/Comcompose/Ch2/#branch-addressing","title":"Branch Addressing","text":""},{"location":"incourse/Comcompose/Ch2/#jump-addressing","title":"Jump Addressing","text":""},{"location":"incourse/Comcompose/Ch3/","title":"Chapter 3:Arithmetic for Computer","text":""},{"location":"incourse/Comcompose/Ch3/#arithmetic-for-computer","title":"Arithmetic for Computer","text":"<p> \u7ea6 993 \u4e2a\u5b57  23 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p> <p>\u53c2\u8003</p> <p>https://xuan-insr.github.io/computer_organization/3_arithmetic/</p>"},{"location":"incourse/Comcompose/Ch3/#arithmetic","title":"Arithmetic","text":""},{"location":"incourse/Comcompose/Ch3/#\u52a0\u6cd5","title":"\u52a0\u6cd5","text":"<p>\u4e0d\u7ba1\u4ec0\u4e48\u8868\u793a\uff0c\u76f4\u63a5\u52a0\u5c31\u662f\u5bf9\u7684\uff08\u5305\u62ec\u8d1f\u6570\u7684\u8865\u7801\u8868\u793a\uff09\u3002</p> <p>\u52a0\u6cd5</p> <p></p>"},{"location":"incourse/Comcompose/Ch3/#\u51cf\u6cd5","title":"\u51cf\u6cd5","text":"<p>\u51cf\u53bb\u4e00\u4e2a\u6570\u7b49\u4e8e\u52a0\u4e0a\u8fd9\u4e2a\u6570\u7684\u8865\u7801\u3002</p> <p>\u51cf\u6cd5</p> \u51cf\u53bb\u4e00\u4e2a\u6570\u7b49\u4e8e\u52a0\u4e0a\u5b83\u7684\u8865\u7801 <p></p> <p></p>"},{"location":"incourse/Comcompose/Ch3/#overflow","title":"Overflow","text":"<p>\u5b9a\u4e49\u6b21\u9ad8\u4f4d\u5411\u6700\u9ad8\u4f4d\u7684\u8fdb\u4f4d\u4e3a\\(c_i\\),\u6700\u9ad8\u4f4d\u7684\u8fdb\u4f4d\u4e3a\\(c_{i+1}\\),\u5219\u6ea2\u51fa\u68c0\u9a8c\u53ef\u5b9a\u4e49\u4e3a\\(c_i \\oplus c_{i+1}\\),\u82e5\u7ed3\u679c\u4e3a1\u5219\u53d1\u751f\u6ea2\u51fa\u3002</p> <p>\u6ea2\u51fa\u60c5\u51b5</p> <p></p>"},{"location":"incourse/Comcompose/Ch3/#alu","title":"ALU","text":"<p>\u5728\u6570\u5b57\u903b\u8f91\u4e2d\u5df2\u7ecf\u8bbe\u8ba1\u8fc7</p> <p>ALU</p> \u5355\u4e2aALU\u7ec4\u5408\u621032\u4f4d\u529f\u80fd\u56fe <p></p> <p></p> <p></p> \u8bf4\u660e <ul> <li>slt:\u6bd4\u8f83\u5927\u5c0f</li> <li>srl:\u79fb\u4f4d</li> <li>\u76ee\u524d\u8fd8\u4e0d\u652f\u6301\u975e\u6216</li> </ul>"},{"location":"incourse/Comcompose/Ch3/#\u4e58\u6cd5","title":"\u4e58\u6cd5","text":""},{"location":"incourse/Comcompose/Ch3/#\u6734\u7d20\u7684\u601d\u8def","title":"\u6734\u7d20\u7684\u601d\u8def","text":"<p> \u4f46\u662f\u8fd9\u6837\u4f1a\u5f88\u6162\uff0c\u56e0\u6b64\u6709\u4e00\u79cd\u4f18\u5316\u7684\u601d\u8def\uff0c\u53ef\u4ee5\u5c06ALU\u7684\u4f4d\u6570\u964d\u4e0b\u6765\u3002</p>"},{"location":"incourse/Comcompose/Ch3/#\u6539\u8fdbv2","title":"\u6539\u8fdbV2","text":"<p>V2</p> \u6d41\u7a0b\u56feExample <p></p> <p></p> <p>\u8fd9\u65f6\u6211\u4eec\u53c8\u60f3\u5230\uff0c\u4e58\u6cd5\u8fd0\u7b97\u7684\u7ed3\u679c\u548c\u4e58\u6570\u6bcf\u6b21\u90fd\u8981\u53f3\u79fb\u4e00\u4f4d\uff0c\u7ed3\u679c\u662f\u4e58\u6570\u4e22\u5f03\u4e00\u4f4d\uff0cproduct\u8981\u589e\u52a0\u4e00\u4f4d\u3002\u90a3\u6211\u4eec\u80fd\u4e0d\u80fd\u8ba9\u589e\u52a0\u7684\u8fd9\u4e00\u4f4d\u5229\u7528\u4e22\u5f03\u5bfc\u81f4\u7a7a\u51fa\u6765\u7684\u4f4d\u7f6e\u5462\uff1f</p>"},{"location":"incourse/Comcompose/Ch3/#\u6539\u8fdbv3","title":"\u6539\u8fdbV3","text":"<p>V3</p> \u6d41\u7a0b\u56feExample <p></p> <p></p>"},{"location":"incourse/Comcompose/Ch3/#booth","title":"Booth","text":"<p>\u7136\u540e\u53c8\u6709\u4e00\u4e2a\u795e\u4eba\u60f3\u51fa\u4e86\u4e00\u4e2a\u795e\u5947\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u4e58\u6570\u542b\u5927\u91cf1\u7684\u60c5\u51b5\u4e0b\u5927\u5927\u52a0\u5feb\u901f\u5ea6\uff0c\u601d\u60f3\u7c7b\u4f3c\u4e8e\u4e58\u6cd5\u5206\u914d\u5f8b\u3002</p> <p>Booth</p> ideaexample\u603b\u7ed3 <p></p> <p></p> <p></p>"},{"location":"incourse/Comcompose/Ch3/#\u9664\u6cd5","title":"\u9664\u6cd5","text":""},{"location":"incourse/Comcompose/Ch3/#\u601d\u8def","title":"\u601d\u8def","text":"<p>\u548c\u5c0f\u5b66\u5b66\u9664\u6cd5\u4e00\u6837\uff0c\u7528\u4e00\u4e2a\u7ad6\u5f0f\u6765\u8ba1\u7b97\u3002</p> <p>\u7ad6\u5f0f\u8fd0\u7b97</p> <p></p>"},{"location":"incourse/Comcompose/Ch3/#v1","title":"V1","text":"<p>\u89e3\u6790</p> <p></p> <ol> <li> <p>\u628a\u9664\u6570(divisor)\u653e\u5728\u5de6\u534a\u90e8\u5206\uff0c\u88ab\u9664\u6570(dividend)\u653e\u5728\u53f3\u534a\u8fb9\uff0c\u7f6e\u4e8e\u5bc4\u5b58\u5668\u4e2d\u3002</p> </li> <li> <p>\u628a\u88ab\u9664\u6570\u51cf\u53bb\u9664\u6570\uff0c\u5f97\u5230\u7ed3\u679c\uff1a</p> <ul> <li> <p>\u82e5\u7ed3\u679c\u5927\u4e8e0\uff0c\u5546(Quotient)\u5de6\u79fb\u4e00\u4f4d\uff0c\u6700\u4f4e\u4f4d\u7f6e\u4e3a1</p> </li> <li> <p>\u82e5\u7ed3\u679c\u5c0f\u4e8e0\uff0c\u628a\u7ed3\u679c\u52a0\u4e0a\u9664\u6570\u6062\u590d\u539f\u6765\u7684\u88ab\u9664\u6570\uff0c\u5546\u5de6\u79fb\u4e00\u4f4d\uff0c\u6700\u4f4e\u4e3a\u7f6e\u4e3a0</p> </li> </ul> </li> <li> <p>\u9664\u6570\u53f3\u79fb\u4e00\u4f4d</p> </li> </ol> \u4f8b\u5b50 <p></p>"},{"location":"incourse/Comcompose/Ch3/#\u4fee\u6539\u7248\u672c","title":"\u4fee\u6539\u7248\u672c","text":"<p>\u4e0a\u9762\u7684ALU\u662f128\u4f4d\u7684\uff0c\u592a\u8fc7\u4e8e\u6d6a\u8d39\u7a7a\u95f4\uff0c\u6709\u6ca1\u6709\u4f18\u5316\u5462\uff1f \u6211\u4eec\u8003\u8651\u4e00\u4e2areminder\uff0c\u4e00\u5f00\u59cb\u88ab\u9664\u6570\u653e\u5728\u6700\u53f3\u8fb9\uff0c\u8fd9\u6837\u5c31\u5206\u6210\u4e86\u5de6\u8fb964\u4f4d\u4e0e\u53f3\u8fb964\u4f4d\u3002\u5de6\u8fb964\u4f4d\u4e0e\u9664\u6570\u4f5c\u51cf\u6cd5\u8fd0\u7b97\u3002\u6bcf\u6b21\u88ab\u9664\u6570\u5de6\u79fb\u4e00\u4f4d\uff0c\u8ba1\u7b97\u51cf\u6cd5\u7ed3\u679c\uff0c\u6839\u636e\u662f\u5426\u5927\u4e8e0\u5728\u5de6\u79fb\u7a7a\u51fa\u6765\u7684\u6700\u4f4e\u4f4d\u7f6e1\u62160.</p> <p>\u56fe\u4f8b</p> \u786c\u4ef6\u56fe\u4f8b\u5b50 <p></p> \u8fd9\u91cc\u7684shift right\u6709\u4ec0\u4e48\u7528\u5462 <p>\u8003\u8651\u4e58\u6cd5\u7684\u786c\u4ef6\u56fe\uff0c\u52a0\u4e0a\u53f3\u79fb\u529f\u80fd\u53ef\u4ee5\u4f7f\u8fd9\u4e2a\u7ed3\u6784\u53ef\u4ee5\u540c\u65f6\u5904\u7406\u4e58\u6cd5\u4e0e\u9664\u6cd5</p> <p></p>"},{"location":"incourse/Comcompose/Ch3/#\u6d6e\u70b9\u6570\u4e0e\u8fd0\u7b97","title":"\u6d6e\u70b9\u6570\u4e0e\u8fd0\u7b97","text":"<p>\u60f3\u8c61\u4e8c\u8fdb\u5236\u7684\u79d1\u5b66\u8ba1\u6570\u6cd5\uff0c\u6d6e\u70b9\u6570\u5f62\u5982\\(1.xxxxx \\times 2^{yyyyy}\\) \u5728\u8868\u793a\u65f6\uff0c<code>1</code>\u53ef\u4ee5\u76f4\u63a5\u7701\u53bb\uff0c\u56e0\u4e3a\u80af\u5b9a\u662f1</p>"},{"location":"incourse/Comcompose/Ch3/#\u7cbe\u5ea6precision","title":"\u7cbe\u5ea6(precision)","text":"<p>\u6709\u5355\u7cbe\u5ea6(Single precision)\u4e0e\u53cc\u7cbe\u5ea6(Double precision)\u4e24\u79cd</p> <p>\u7ec4\u6210</p> Summary\u5355\u7cbe\u5ea6\u53cc\u7cbe\u5ea6 <p>result=\\(-1^{\\text{sign}} \\times (1+significand) \\times 2^{exponent - bias}\\)</p> <p>1\u4f4d\u7b26\u53f7\u4f4d\uff0c8\u4f4d\u6307\u6570\u4f4d\uff0c23\u4f4d\u5c0f\u6570\u4f4d\u7ec4\u6210\u3002\u6307\u6570bias=127</p> <p>\u793a\u4f8b\uff1a-0.75</p> <p></p> \u89e3\u6790 <p>-0.75\u5728\u4e8c\u8fdb\u5236\u4e0b\u4e3a\\(-1.1 \\times 2^{-1}\\)</p> <p>\u56e0\u6b64\u7b26\u53f7\u4f4d\u662f1\uff0c\u6307\u6570\u4f4d\u662f\\(-1+127=126\\),\u5c0f\u6570\u4f4d\u662f1....0</p> <p>\u5728\u5355\u7cbe\u5ea6\u7684\u57fa\u7840\u4e0a\u591a\u4e86\u4e00\u4e2a\u5b57\u7684\u5927\u5c0f\u5b58\u5c0f\u6570\uff0c\u56e0\u6b64\u53eb\u53cc\u7cbe\u5ea6\u3002bias=1023</p> <p>\u793a\u4f8b\uff1a-0.75</p> <p></p> \u89e3\u6790 <p>-0.75\u5728\u4e8c\u8fdb\u5236\u4e0b\u4e3a\\(-1.1 \\times 2^{-1}\\)</p> <p>\u56e0\u6b64\u7b26\u53f7\u4f4d\u662f1\uff0c\u6307\u6570\u4f4d\u662f\\(-1+1023=1022\\),\u5c0f\u6570\u4f4d\u662f1....0</p>"},{"location":"incourse/Comcompose/Ch3/#\u52a0\u6cd5_1","title":"\u52a0\u6cd5","text":"<p>\u52a0\u6cd5\u7684\u6b65\u9aa4\u4e3a</p> <ol> <li> <p>\u6307\u6570\u5bf9\u9f50\uff0c\u4e00\u822c\u662f\u5c0f\u7684\u6307\u6570\u5f80\u5927\u7684\u6307\u6570\u5bf9\u9f50\u3002</p> </li> <li> <p>\u505a\u8fd0\u7b97</p> </li> <li> <p>\u5f52\u4e00\u5316</p> </li> <li> <p>\u68c0\u67e5\u6ea2\u51fa</p> </li> <li> <p>round</p> </li> <li> <p>\u9009\u62e9\u6027\u5f52\u4e00\u5316</p> </li> </ol> <p>\u4f8b\u5b50</p> <p></p>"},{"location":"incourse/Comcompose/Ch3/#\u4e58\u6cd5_1","title":"\u4e58\u6cd5","text":"<p>\u5c0f\u6570\u76f8\u4e58\uff0c\u6307\u6570\u76f8\u52a0\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u6307\u6570\u76f8\u52a0\u7684\u7ed3\u679c\u9700\u8981\u51cf\u53bb\u4e00\u4e2abias\uff0c\u4e0d\u7136bias\u4f1a\u52a0\u4e24\u6b21\u3002</p>"},{"location":"incourse/Comcompose/Ch3/#\u7cbe\u786e\u8ba1\u7b97","title":"\u7cbe\u786e\u8ba1\u7b97","text":"<p>IEEE Std 754\u5efa\u8bae\u4e86\u4e00\u4e9b\u989d\u5916\u7684\u4f4d\u6570\uff0c\u7528\u6765\u589e\u52a0\u8ba1\u7b97\u7684\u7cbe\u5ea6\u3002</p> <ul> <li> <p>Guard: The first of two extra bits.</p> </li> <li> <p>Round: method to make the immediate floatingpoint result fit the floating-point format.</p> </li> <li> <p>Units in the last place(ulp):The number of bits in  error in the least significant bits of the significant  between the actual number and the number that  can be represented.</p> </li> </ul> <p>\u8fd9\u91cc\u6211\u653e\u4e00\u7bc7\u6bd4\u8f83\u7b80\u77ed\u800c\u7cbe\u786e\u7684\u6587\u7ae0:https://blog.csdn.net/qianniuwei321/article/details/113499393</p>"},{"location":"incourse/Comcompose/Ch4/","title":"\u5904\u7406\u5668","text":"<p> \u7ea6 3932 \u4e2a\u5b57  88 \u884c\u4ee3\u7801  32 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 21 \u5206\u949f</p>"},{"location":"incourse/Comcompose/Ch4/#\u7b80\u4ecb","title":"\u7b80\u4ecb","text":"<p>\u5f71\u54cdCPU\u6027\u80fd\u7684\u56e0\u7d20\uff1a</p> <ul> <li> <p>Instruction count,Determined by ISA and compiler</p> </li> <li> <p>CPI and Cycle time,Determined by CPU hardware</p> </li> </ul> <p>An overview of Implementation</p> \u603b\u89c8Datapath <p> \u4f46\u5728\u5b9e\u9645\u8bbe\u8ba1\u4e2d\uff0c\u5982\u6b64\u591a\u7684\u7ebf\u4e0d\u80fd\u4ea4\u53c9\u5728\u4e00\u8d77\uff0c\u4e8e\u662f\u9700\u8981\u7528\u5230\u591a\u8def\u9009\u62e9\u5668\u3002</p> <p></p>"},{"location":"incourse/Comcompose/Ch4/#\u6307\u4ee4\u5904\u7406\u7684\u6b65\u9aa4","title":"\u6307\u4ee4\u5904\u7406\u7684\u6b65\u9aa4","text":"<ol> <li> <p>\u63d0\u53d6\uff1a</p> <ul> <li> <p>\u4ece\u6307\u4ee4\u5b58\u50a8\u5668\u4e2d\u83b7\u53d6\u6307\u4ee4\u3002</p> <ul> <li>\u89e3\u91ca\uff1a\u4ece\u5b58\u50a8\u6307\u4ee4\u7684\u5185\u5b58\u4e2d\u8bfb\u53d6\u5f53\u524d\u9700\u8981\u6267\u884c\u7684\u6307\u4ee4\u3002</li> </ul> </li> <li> <p>\u4fee\u6539\u7a0b\u5e8f\u8ba1\u6570\u5668\uff08PC\uff09\u4ee5\u6307\u5411\u4e0b\u4e00\u6761\u6307\u4ee4\u3002</p> </li> </ul> </li> <li> <p>\u6307\u4ee4\u89e3\u7801\u4e0e\u8bfb\u53d6\u64cd\u4f5c\u6570\uff1a</p> <ul> <li>\u5c06\u6307\u4ee4\u8f6c\u5316\u4e3a\u673a\u5668\u63a7\u5236\u547d\u4ee4\u3002</li> <li>\u8bfb\u53d6\u5bc4\u5b58\u5668\u4e2d\u7684\u64cd\u4f5c\u6570\uff0c\u65e0\u8bba\u662f\u5426\u4f7f\u7528\u3002</li> </ul> </li> <li> <p>\u6267\u884c\u63a7\u5236\uff1a</p> <ul> <li>\u63a7\u5236\u5bf9\u5e94\u7b97\u672f\u903b\u8f91\u5355\u5143\uff08ALU\uff09\u64cd\u4f5c\u7684\u5b9e\u73b0\u3002</li> </ul> </li> <li> <p>\u5185\u5b58\u8bbf\u95ee\uff1a</p> <ul> <li>\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u6216\u5199\u5165\u6570\u636e\u3002<ul> <li>\u89e3\u91ca\uff1a\u6267\u884c\u6570\u636e\u7684\u52a0\u8f7d\uff08load\uff09\u6216\u5b58\u50a8\uff08store\uff09\u64cd\u4f5c\u3002</li> </ul> </li> <li>\u4ec5\u9650\u4e8e\u52a0\u8f7d/\u5b58\u50a8\u6307\u4ee4\uff08ld/sd\uff09\u3002</li> </ul> </li> <li> <p>\u5c06\u7ed3\u679c\u5199\u5165\u5bc4\u5b58\u5668\uff1a</p> <ul> <li>\u5982\u679c\u662f R \u578b\u6307\u4ee4\uff0cALU \u7684\u7ed3\u679c\u5199\u5165 rd\u3002<ul> <li>\u89e3\u91ca\uff1a\u5bf9\u4e8e R \u578b\u6307\u4ee4\uff0c\u6267\u884c ALU \u64cd\u4f5c\u540e\u5c06\u7ed3\u679c\u5b58\u50a8\u5230\u76ee\u6807\u5bc4\u5b58\u5668 rd \u4e2d\u3002</li> </ul> </li> <li>\u5982\u679c\u662f I \u578b\u6307\u4ee4\uff0c\u5185\u5b58\u6570\u636e\u5199\u5165 rd\u3002<ul> <li>\u89e3\u91ca\uff1a\u5bf9\u4e8e I \u578b\u6307\u4ee4\uff0c\u5c06\u4ece\u5185\u5b58\u8bfb\u53d6\u7684\u6570\u636e\u5b58\u50a8\u5230\u76ee\u6807\u5bc4\u5b58\u5668 rd \u4e2d\u3002</li> </ul> </li> </ul> </li> <li> <p>\u5206\u652f\u6307\u4ee4\u4fee\u6539 PC\uff1a</p> <ul> <li>\u89e3\u91ca\uff1a\u5bf9\u4e8e\u5206\u652f\u6307\u4ee4\uff0c\u6839\u636e\u6761\u4ef6\u5224\u65ad\u7ed3\u679c\u4fee\u6539\u7a0b\u5e8f\u8ba1\u6570\u5668\uff0c\u4ee5\u8df3\u8f6c\u5230\u6307\u5b9a\u6307\u4ee4\u5730\u5740\u3002</li> </ul> </li> </ol>"},{"location":"incourse/Comcompose/Ch4/#\u5355\u5468\u671fcpu","title":"\u5355\u5468\u671fCPU","text":""},{"location":"incourse/Comcompose/Ch4/#datapath-\u4e0e-cpu_ctrl","title":"Datapath \u4e0e Cpu_ctrl","text":"<p>\u4e0d\u591a\u8bf4\uff0c\u76f4\u63a5\u4e0a\u56fe\uff1a</p> <p> </p> <p>\u4e0b\u9762\u5bf9\u56fe\u4e2d\u7684\u4e00\u4e9b\u90e8\u5206\u4f5c\u8bf4\u660e:</p> <ul> <li> <p>PC:\u57fa\u5730\u5740</p> </li> <li> <p>Instruction Memory:\u5b58\u653e\u4e86\u8bb8\u591a\u6307\u4ee4\uff0c\u6839\u636ePC\u7684\u5730\u5740\u8bfb\u53d6\u76f8\u5e94\u6307\u4ee4</p> </li> <li> <p>Registers:\u5bc4\u5b58\u5668\u5904\u7406\u7684\u4e2d\u5fc3\uff0c\u8d1f\u8d23\u8bfb\u53d6\u5bc4\u5b58\u5668\u4e0e\u5411\u5bc4\u5b58\u5668\u5199\u5165\u5185\u5bb9\u7684\u529f\u80fd</p> </li> <li> <p>ImmGen: \u8d1f\u8d23\u5c06\u7acb\u5373\u6570\u586b\u5145\u4e3a64\u4f4d</p> </li> <li> <p>ALU:\u627f\u62c5\u4e86\u6240\u6709\u7684\u8fd0\u7b97\u64cd\u4f5c\uff0c\u4f8b\u5982\u5730\u5740\u52a0\u51cf\uff0c<code>beq</code>\u91cc\u9762\u5224\u65ad\u662f\u5426\u7b49\u4e8e0\uff0c\u5bc4\u5b58\u5668\u7684\u503c\u52a0\u51cf\u7b49\u3002</p> </li> <li> <p>Data Memory:\u5185\u5b58\uff0c\u4e0e<code>ld</code>,<code>sd</code>\u7b49\u6307\u4ee4\u5bc6\u5207\u76f8\u5173\u3002</p> </li> </ul> <p>\u53e6\u5916\uff0c\u63a7\u5236\u4fe1\u53f7\u7684\u8bf4\u660e\u5982\u4e0b\uff1a</p> <ol> <li> <p>RegWrite:\u63a7\u5236\u662f\u5426\u5411Write Register\u5199\u5165\u6570\u636e</p> </li> <li> <p>ALUSrc :\u63a7\u5236\u9009\u62e9Read data2\u8fd8\u662f\u7acb\u5373\u6570</p> </li> <li> <p>ALU operation: \u63a7\u5236ALU\u8fdb\u884c\u52a0\u6cd5\uff0c\u51cf\u6cd5\u8fd8\u662fset less than\u4ec0\u4e48\u7684</p> </li> <li> <p>Branch\uff1a\u63a7\u5236\u8fd9\u4e2aMux\u7684\u4fe1\u53f7\uff0c\u68c0\u6d4b\u5230\u6307\u4ee4\u662f\u8df3\u8f6c\u7684\u65f6\u5019\u63a7\u5236\u9009\u62e9\u5668\u9009\u62e9\u7acb\u5373\u6570+PC\u57fa\u5740\u3002</p> </li> <li> <p>jump\uff1ajal\u6307\u4ee4\u7684\u4fe1\u53f7\uff0c\u6548\u679c\u540c\u4e0a</p> </li> <li> <p>MemRead\uff1a \u63a7\u5236Data Memory\u662f\u5426\u8981\u4eceAddress\u5730\u65b9\u8bfb\u53d6\u51fa\u6570\u636e</p> </li> <li> <p>MemWrite: \u987e\u540d\u601d\u4e49\uff0c\u540c\u4e0a\u3002</p> </li> <li> <p>MemtoReg: \u662f\u4e00\u4e2a\u4e24\u4f4d\u7684\u4fe1\u53f7\uff0c\u89e3\u91ca\u5728\u5982\u4e0b:</p> </li> </ol> <p> </p> <p>\u4e0b\u9762\u5c55\u5f00\u5177\u4f53\u5206\u6790</p>"},{"location":"incourse/Comcompose/Ch4/#datapath","title":"Datapath","text":""},{"location":"incourse/Comcompose/Ch4/#r\u578b\u6307\u4ee4","title":"R\u578b\u6307\u4ee4","text":"<p>\ud83c\udf30</p> <p></p> \u89e3\u6790 <p>\u5148\u770bRegisters\u3002\u4ece\\(ins_{15-19}\\)\u8bfb\u53d6rs1\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u4ece\\(ins_{20-24}\\)\u8bfb\u53d6rs2\u7684\u503c \uff0c\u76ee\u6807\u5bc4\u5b58\u5668\u4e3ard.\u63a7\u5236mux\u9009\u62e9Read data2,ALU\u4f5c\u76f8\u5e94\u8fd0\u7b97\uff08\u6bd4\u5982add\uff09\u540e\u76f4\u63a5\u7ed5\u8fc7\u5185\u5b58\uff0cMux\u9009\u62e9\u6765\u81eaALU\u7684\u6570\u636e\uff0c\u5199\u5165rd\u4e2d\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#i\u578b\u6307\u4ee4","title":"I\u578b\u6307\u4ee4","text":"<p>\ud83c\udf30</p> <p></p> \u89e3\u6790 <p>\u56fe\u4e2d\u4ee5ld\u4e3a\u4f8b\u3002ld\u9700\u8981\u4ece\u5185\u5b58\u8bfb\u53d6\u4e00\u4e2a\u503c\uff0c\u5b58\u5230\u76ee\u6807\u5bc4\u5b58\u5668\u4e2d\u3002 \u91cd\u590d\u7684\u8bdd\u4e0d\u591a\u8bf4\uff0c\u6211\u4eec\u62ff\u4e86\u4e00\u4e2ars1\uff0c\u4e00\u4e2ard\uff0c\u4e00\u4e2aimm\uff0c\u6548\u679c\u5c31\u662fld rd,imm(rs1).\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e00\u6548\u679c\uff0c\u6211\u4eec\u63a7\u5236\u7b2c\u4e00\u4e2aMux \u9009\u62e9\u6269\u5c55\u540e\u7684\u7acb\u5373\u6570\uff0c\u4e0eRead data1\u4f5c\u52a0\u6cd5\u540e\u4f5c\u4e3a\u5185\u5b58\u8bfb\u53d6\u7684address,\u8bfb\u51fa\u6765\u7684Read data\u901a\u8fc7\u591a\u8def\u9009\u62e9\u5668\u5b58\u56derd\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#s\u578b\u6307\u4ee4","title":"S\u578b\u6307\u4ee4","text":"<p>\ud83c\udf30</p> <p></p> \u89e3\u6790 <p>\u56fe\u4e2d\u4ee5sd\u4e3a\u4f8b\u3002\u4ece\\(ins_{15-19}\\)\u8bfb\u53d6rs1\u5185\u5bb9\uff0c\u4ece\\(ins_{20-24}\\)\u8bfb\u53d6rs2\u7684\u503c\uff0c\u518d\u6765\u4e00\u4e2a\u7acb\u5373\u6570imm\uff0c \u6700\u7ec8\u7684\u6548\u679c\u5c31\u662fsd rs2,imm(rs1). \u5176\u4ed6\u90e8\u5206\u90fd\u548cld\u5dee\u4e0d\u591a\uff0c\u9664\u4e86\u73b0\u5728\u4ece\u5185\u5b58\u8bfb\u6570\u636e\u53d8\u6210\u5411\u5185\u5b58\u5b58\u6570\u636e\u4e86\uff0c\u4e5f\u4e0d\u9700\u8981\u518d\u5199\u56de\u5bc4\u5b58\u5668\u4e86\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#sb\u578b\u6307\u4ee4","title":"SB\u578b\u6307\u4ee4","text":"<p>\ud83c\udf30</p> <p></p> \u89e3\u6790 <p>beq\u6211\u4eec\u4e5f\u5f88\u719f\u6089\uff0c\u5c31\u662fbranch if equal\ud83d\udc0e\uff0c\u90a3\u4e48\u8df3\u8f6c\u5230\u54ea\u91cc\u5462\uff1f\u5728RISC-V\u4e2d\u662f\u4e00\u4e2a\u7acb\u5373\u6570\uff0c\u5b9e\u9645\u4e0a\u53bb\u7684\u662fPC\u57fa\u5740\u52a0\u4e0a\u7acb\u5373\u6570\u7684\u5730\u65b9\u3002\u77e5\u9053\u4e86\u8fd9\u4e2a \uff0c\u6211\u4eec\u518d\u6765\u770b\u56fe\u3002\u5148\u53d6\u4e24\u4e2a\u5bc4\u5b58\u5668\u4f5c\u6bd4\u8f83\uff0c\u5982\u679c\u6ee1\u8db3\u6761\u4ef6\uff0c\u90a3\u4e48ALU\u7684zero\u4f20\u7ed9\u4e0a\u9762\u7684MUX\u4e00\u4e2a\u4fe1\u53f7\uff1a\u8fd9MUX\u80fd\u53d6PC\u57fa\u5740\u52a0\u62d3\u5c55\u7acb\u5373\u6570\u5417\u6211\u8bf7\u95ee\u4e86\u3002 \u5982\u679c\u4e0d\u884c\u90a3\u5c31\u9009\u62e9PC+4\uff0c\u4e5f\u5c31\u662f\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u3002\u4e0d\u7ba1\u600e\u6837\uff0cPC\u6765\u5230\u4e86\u4e00\u4e2a\u65b0\u7684\u5730\u5740\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#j-jal","title":"J-Jal","text":"<p>\ud83c\udf30</p> <p></p> \u89e3\u6790 <p>Jal\u5176\u5b9e\u503c\u5f97\u5173\u6ce8\u7684\u4e5f\u5c31\u662f\u4e00\u6761\u4ecePC\uff0c\u5230ADD(PC,4)\uff0c\u518d\u7ecf\u8fc7MUX\u5230Registers\u7684\u5730\u65b9\u3002\u8fd9\u662f\u4ec0\u4e48\u5462\uff1f\ud83d\ude32\uff01\u8fd9\u4e0d\u5c31\u662fjal x1,100\u91cc\u9762\u628a\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740 \u653e\u5230x1\u5730\u65b9\u5417\uff1f\u81f3\u4e8e\u5176\u4ed6,\u57fa\u672c\u4e0a\u548cSB\u578b\u6307\u4ee4\u4e00\u6837\u4e86\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#cpu_ctrl","title":"Cpu_ctrl","text":"<p>\u8fd9\u4fbf\u662f\u5404\u79cd\u60c5\u51b5\u4e0b\u6bcf\u4e2a\u63a7\u5236\u4fe1\u53f7\u7684\u60c5\u51b5\u3002\u53ef\u4ee5\u53d1\u73b0\uff0c\u9664\u4e86ALU\uff0c\u5176\u4ed6\u6240\u6709\u4fe1\u53f7\u5728\u6307\u4ee4\u7c7b\u578b\uff08\u53ef\u4ee5\u901a\u8fc7opcode\u5224\u65ad\uff09\u786e\u5b9a\u65f6\u5c31\u786e\u5b9a\u4e86\u3002ALU\u7531\u4e8e\u5728R\u578b\u6307\u4ee4\u65f6\u53ef\u80fd \u6267\u884c\u591a\u79cd\u64cd\u4f5c\uff0c\u6240\u4ee5\u4e0d\u786e\u5b9a\u3002\u8fd9\u4e2a\u65f6\u5019\u524d\u4eba\u8bbe\u8ba1\u51fa\u4e86\u4e8c\u7ea7\u8bd1\u7801\u5668\u3002</p> <p> </p>"},{"location":"incourse/Comcompose/Ch4/#main-decoder","title":"Main Decoder","text":"<p>Main Decoder\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u6839\u636eopcode\u628a\u80fd\u8d4b\u503c\u7684\u5148\u8d4b\u503c\u4e86\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#alu-decoder","title":"ALU Decoder","text":"<p>\u6839\u636e\u6807\u7ea2\u7684\u90a3\u51e0\u4f4d\u5c31\u53ef\u4ee5\u5224\u65ad\u51faALU\u8fd0\u7b97\u7684\u79cd\u7c7b\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#code","title":"Code","text":"cpu_ctrl<pre><code>module SCPU_ctrl(\n    input [4:0]OPcode, //Opcode------inst[6:2]\n    input [2:0]Fun3, //Function-----inst[14:12]\n    input Fun7, //Function-----inst[30]\n    input MIO_ready, //CPU Wait\n    output reg [1:0]ImmSel, \n    output reg ALUSrc_B, \n    output reg [1:0]MemtoReg, \n    output reg Jump, \n    output reg Branch, \n    output reg RegWrite, \n    output reg MemRW,\n    output reg [2:0]ALU_Control,\n    output reg CPU_MIO\n    ); \n\n    wire [3:0] Fun;\n    reg [1:0] ALUop;\n\n    always@(*) begin\n        case(OPcode)\n            5'b01100: begin ALUop = 2'b10; Branch = 0; Jump = 0; ImmSel = 2'b00; ALUSrc_B = 0; MemRW = 0; RegWrite = 1; MemtoReg = 2'b00; end //ALU\n            5'b00000: begin ALUop = 2'b00; Branch = 0; Jump = 0; ImmSel = 2'b00; ALUSrc_B = 1; MemRW = 0; RegWrite = 1; MemtoReg = 2'b01; end //load\n            5'b01000: begin ALUop = 2'b00; Branch = 0; Jump = 0; ImmSel = 2'b01; ALUSrc_B = 1; MemRW = 1; RegWrite = 0; MemtoReg = 2'b00; end //store\n            5'b11000: begin ALUop = 2'b01; Branch = 1; Jump = 0; ImmSel = 2'b10; ALUSrc_B = 0; MemRW = 0; RegWrite = 0; MemtoReg = 2'b00; end //beq\n            5'b11011: begin ALUop = 2'b00; Branch = 0; Jump = 1; ImmSel = 2'b11; ALUSrc_B = 1; MemRW = 0; RegWrite = 1; MemtoReg = 2'b10; end //jump\n            5'b00100: begin ALUop = 2'b11; Branch = 0; Jump = 0; ImmSel = 2'b00; ALUSrc_B = 1; MemRW = 0; RegWrite = 1; MemtoReg = 2'b00; end //ALUi\n            default: begin ALUop = 2'b00; Branch = 0; Jump = 0; ImmSel = 2'b00; ALUSrc_B = 0; MemRW = 0; RegWrite = 0; MemtoReg = 2'b00; end\n        endcase\n    end\n\n    assign Fun = {Fun3,Fun7};\n    always @* begin\n        case(ALUop)\n        2'b00: ALU_Control = 3'b010 ; //add load store\n        2'b01: ALU_Control = 3'b110 ; //sub beq\n        2'b10: \n            case(Fun)\n                4'b0000: ALU_Control = 3'b010 ; //add\n                4'b0001: ALU_Control = 3'b110 ; //sub\n                4'b1110: ALU_Control = 3'b000 ; //and\n                4'b1100: ALU_Control = 3'b001 ; //or\n                4'b0100: ALU_Control = 3'b111 ; //slt\n                4'b1010: ALU_Control = 3'b101 ; //srl\n                4'b1000: ALU_Control = 3'b011 ; //xor\n                default: ALU_Control=3'bx;\n            endcase\n        2'b11: \n            case(Fun3)\n                3'b000: ALU_Control = 3'b010; //addi\n                3'b010: ALU_Control = 3'b111; //slti\n                3'b100: ALU_Control = 3'b011; //xori\n                3'b110: ALU_Control = 3'b001; //ori\n                3'b111: ALU_Control = 3'b000; //andi\n                3'b101: ALU_Control = 3'b101; //srli\n                default: ALU_Control=3'bx;\n            endcase\n        endcase\n    end\n\nendmodule\n</code></pre>"},{"location":"incourse/Comcompose/Ch4/#\u6d41\u6c34\u7ebfcpu","title":"\u6d41\u6c34\u7ebfCPU","text":"<p>\u91c7\u7528\u6d41\u6c34\u7ebf\u7684\u601d\u60f3\uff0c\u5c3d\u53ef\u80fd\u5e76\u884c\u8fdb\u884c\u4efb\u52a1\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#\u9636\u6bb5","title":"\u9636\u6bb5","text":"<ol> <li> <p>IF:Instruction fetch from memory</p> </li> <li> <p>ID:Instruction decode and register read</p> </li> <li> <p>EX:Execute operation or calculate address</p> </li> <li> <p>MEM:Access memory operand</p> </li> <li> <p>WB:Write result back to register</p> </li> </ol>"},{"location":"incourse/Comcompose/Ch4/#\u7ed3\u6784\u6570\u636e\u901a\u8def\u4e0e\u63a7\u5236","title":"\u7ed3\u6784\uff1a\u6570\u636e\u901a\u8def\u4e0e\u63a7\u5236","text":"<p>\u6c47\u603b\u56fe</p> <p></p> <p>\u4e2d\u95f4\u7684\u957f\u6761\u72b6\u662f\u5bc4\u5b58\u5668\uff0c\u5b58\u4e86\u4e0a\u4e00\u4e2a\u6307\u4ee4\u7684\u5404\u79cd\u4fe1\u606f\u3002\u4e0b\u9762\u6765\u4f5c\u5177\u4f53\u89e3\u91ca:</p> <ol> <li> <p>IF/ID:\u8fd9\u4e00\u90e8\u5206\u7684\u5bc4\u5b58\u5668\u4e2d\u5b58\u50a8\u7684\u662f\u6307\u4ee4\u672c\u8eab\u4e0e\u6307\u4ee4\u7684\u5730\u5740\uff0c\u56e0\u4e3a\u5728ID\u4e2d\u9700\u8981\u8fdb\u884c\u6307\u4ee4\u7684\u89e3\u7801\uff0c\u4f46\u662fIF\u9a6c\u4e0a\u53c8\u8981\u8bfb\u4e0b\u4e00\u6761\u6307\u4ee4\u4e86\uff0c\u56e0\u6b64\u9700\u8981\u4fdd\u5b58\u3002</p> </li> <li> <p>ID/EX:\u8fd9\u4e00\u90e8\u5206\u7684\u5bc4\u5b58\u5668\u4e2d\u9996\u5148\u9700\u8981\u7ee7\u627fIF/ID\u4e2d\u7684\u6307\u4ee4\u4e0e\u6307\u4ee4\u5730\u5740\uff0c\u7136\u540e\u9700\u8981\u5b58\u50a8\u7684\u662f\u6307\u4ee4\u7684\u8bd1\u7801\u7ed3\u679c(opcode,Imm,rd\u7f16\u53f7)\u4e0e\u5bc4\u5b58\u5668\u7684\u8bfb\u53d6\u7ed3\u679c(rs1,rs2\u7684\u503c)\u7b49\u3002</p> </li> <li> <p>EX/MEM:\u8fd9\u4e00\u90e8\u5206\u7684\u5bc4\u5b58\u5668\u4e2d\u5b58\u50a8\u7684\u662fALU\u7684\u8fd0\u7b97\u7ed3\u679c(\u5305\u62ec\u7b97\u672fALU\u4e0e\u5730\u5740\u8ba1\u7b97\u7684ALU)\uff0c\u4ee5\u53card\u7f16\u53f7,Branch,Jal\u7b49</p> </li> <li> <p>MEM/WB:\u8fd9\u4e00\u90e8\u5206\u7684\u5bc4\u5b58\u5668\u4e2d\u5b58\u50a8\u7684\u662f\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u7684\u6570\u636e\uff0cALU\u8ba1\u7b97\u7684\u7ed3\u679c\uff0cMemToReg\u4fe1\u53f7,rd\u7f16\u53f7\u7b49\u3002</p> </li> </ol>"},{"location":"incourse/Comcompose/Ch4/#\u6d41\u6c34\u7ebf\u4e2d\u7684\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848","title":"\u6d41\u6c34\u7ebf\u4e2d\u7684\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848","text":"<p>https://zhuanlan.zhihu.com/p/447682231</p>"},{"location":"incourse/Comcompose/Ch4/#\u6570\u636e\u5192\u9669data-hazards","title":"\u6570\u636e\u5192\u9669\uff08Data Hazards\uff09","text":"<p>\u5728RISC-V\u67b6\u6784\u7684\u6d41\u6c34\u7ebfCPU\u4e2d\uff0c\u6570\u636e\u5192\u9669\u901a\u5e38\u7531\u6307\u4ee4\u95f4\u7684\u6570\u636e\u4f9d\u8d56\u5f15\u8d77\u3002\u4f8b\u5982\uff0c\u5f53\u4e00\u6761\u6307\u4ee4\u9700\u8981\u4f7f\u7528\u524d\u4e00\u6761\u6307\u4ee4\u7684\u8ba1\u7b97\u7ed3\u679c\u4f5c\u4e3a\u64cd\u4f5c\u6570\u65f6\uff0c\u5c31\u4f1a\u53d1\u751f\u6570\u636e\u5192\u9669\u3002\u4e3a\u4e86\u89e3\u51b3\u6570\u636e\u5192\u9669\uff0cRISC-V\u6d41\u6c34\u7ebf\u5e38\u91c7\u7528\u4ee5\u4e0b\u65b9\u6cd5\uff1a</p> <ul> <li> <p>\u8f6c\u53d1\uff08Forwarding\uff09\uff1a\u5c06\u6267\u884c\u9636\u6bb5\u6216\u5185\u5b58\u8bbf\u95ee\u9636\u6bb5\u7684\u7ed3\u679c\u76f4\u63a5\u4f20\u9012\u7ed9\u9700\u8981\u8be5\u6570\u636e\u7684\u6307\u4ee4\uff0c\u51cf\u5c11\u6d41\u6c34\u7ebf\u6682\u505c\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>ADD x1, x2, x3    # \u7b2c1\u6761\u6307\u4ee4\nSUB x4, x1, x5    # \u7b2c2\u6761\u6307\u4ee4\u4f9d\u8d56\u4e8ex1\u7684\u503c\n</code></pre> \u5728\u6ca1\u6709\u8f6c\u53d1\u7684\u60c5\u51b5\u4e0b\uff0c\u7b2c2\u6761\u6307\u4ee4\u5fc5\u987b\u7b49\u5f85\u7b2c1\u6761\u6307\u4ee4\u5b8c\u6210\u5199\u56de\u540e\u624d\u80fd\u6267\u884c\u3002\u800c\u901a\u8fc7\u8f6c\u53d1\uff0c\u7b2c1\u6761\u6307\u4ee4\u7684\u7ed3\u679c\u53ef\u4ee5\u76f4\u63a5\u4ece\u6267\u884c\u9636\u6bb5\u4f20\u9012\u7ed9\u7b2c2\u6761\u6307\u4ee4\uff0c\u907f\u514d\u4e86\u6682\u505c\u3002</p> <p> </p> </li> <li> <p>\u6d41\u6c34\u7ebf\u6682\u505c\uff08Pipeline Stalls\uff09\uff1a\u5f53\u6570\u636e\u4f9d\u8d56\u65e0\u6cd5\u901a\u8fc7\u8f6c\u53d1\u89e3\u51b3\u65f6\uff0c\u901a\u8fc7\u63d2\u5165\u6c14\u6ce1\uff08NOP\u6307\u4ee4\uff09\u6765\u6682\u65f6\u505c\u6b62\u6d41\u6c34\u7ebf\uff0c\u4ee5\u7b49\u5f85\u6570\u636e\u51c6\u5907\u5c31\u7eea\u3002     \u793a\u4f8b\uff1a <pre><code>LOAD x1, 0(x2)    # \u7b2c1\u6761\u6307\u4ee4\nADD x3, x1, x4     # \u7b2c2\u6761\u6307\u4ee4\u4f9d\u8d56\u4e8ex1\u7684\u503c\uff0c\u9700\u8981\u63d2\u5165NOP\nNOP                # \u63d2\u5165\u7684\u6c14\u6ce1\nSUB x5, x3, x6     # \u7b2c3\u6761\u6307\u4ee4\n</code></pre></p> </li> <li>\u6307\u4ee4\u8c03\u5ea6\uff1a\u91cd\u65b0\u5b89\u6392\u6307\u4ee4\u7684\u6267\u884c\u987a\u5e8f\uff0c\u5c3d\u91cf\u51cf\u5c11\u6570\u636e\u4f9d\u8d56\u5e26\u6765\u7684\u5f71\u54cd\u3002     \u793a\u4f8b\uff1a <pre><code>LOAD x1, 0(x2)    # \u7b2c1\u6761\u6307\u4ee4\nNOP                # \u4e3a\u6570\u636e\u51c6\u5907\u65f6\u95f4\u63d2\u5165\nADD x3, x1, x4     # \u7b2c2\u6761\u6307\u4ee4\nSUB x5, x3, x6     # \u7b2c3\u6761\u6307\u4ee4\n</code></pre> </li> </ul>"},{"location":"incourse/Comcompose/Ch4/#\u63a7\u5236\u5192\u9669control-hazards","title":"\u63a7\u5236\u5192\u9669\uff08Control Hazards\uff09","text":"<p>\u63a7\u5236\u5192\u9669\u4e3b\u8981\u53d1\u751f\u5728\u5206\u652f\u6307\u4ee4\u6267\u884c\u65f6\uff0c\u9884\u6d4b\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u6210\u4e3a\u95ee\u9898\u3002RISC-V\u6d41\u6c34\u7ebf\u901a\u5e38\u91c7\u7528\u4ee5\u4e0b\u7b56\u7565\u6765\u5e94\u5bf9\u63a7\u5236\u5192\u9669\uff1a</p> <ul> <li>\u5206\u652f\u9884\u6d4b\uff08Branch Prediction\uff09\uff1a\u901a\u8fc7\u9884\u6d4b\u5206\u652f\u7684\u8d70\u5411\uff08\u5982\u9759\u6001\u9884\u6d4b\u6216\u52a8\u6001\u9884\u6d4b\uff09\u6765\u63d0\u524d\u52a0\u8f7d\u6307\u4ee4\uff0c\u51cf\u5c11\u56e0\u5206\u652f\u6307\u4ee4\u5e26\u6765\u7684\u6d41\u6c34\u7ebf\u505c\u987f\u3002     \u793a\u4f8b <pre><code>BEQ x1, x2, label  # \u5206\u652f\u6307\u4ee4\nADD x3, x4, x5      # \u9884\u6d4b\u6267\u884c\u7684\u6307\u4ee4\nlabel:\nSUB x6, x7, x8      # \u5206\u652f\u8df3\u8f6c\u76ee\u6807\n</code></pre></li> <li>\u5206\u652f\u5ef6\u8fdf\u69fd\uff08Branch Delay Slot\uff09\uff1a\u5728\u5206\u652f\u6307\u4ee4\u4e4b\u540e\u5b89\u6392\u4e00\u6761\u4e0e\u5206\u652f\u7ed3\u679c\u65e0\u5173\u7684\u6307\u4ee4\u6267\u884c\uff0c\u4ee5\u5229\u7528\u8fd9\u4e00\u4e2a\u5468\u671f\uff0c\u51cf\u5c11\u6027\u80fd\u635f\u5931\u3002</li> <li>\u5ef6\u8fdf\u5206\u652f\uff08Delayed Branch\uff09\uff1a\u7c7b\u4f3c\u4e8e\u5206\u652f\u5ef6\u8fdf\u69fd\uff0c\u901a\u8fc7\u8c03\u6574\u6307\u4ee4\u8c03\u5ea6\u6765\u4f18\u5316\u5206\u652f\u6307\u4ee4\u7684\u6267\u884c\u3002</li> </ul>"},{"location":"incourse/Comcompose/Ch4/#\u7ed3\u6784\u5192\u9669structural-hazards","title":"\u7ed3\u6784\u5192\u9669\uff08Structural Hazards\uff09","text":"<p>\u7ed3\u6784\u5192\u9669\u662f\u7531\u4e8e\u6d41\u6c34\u7ebf\u4e2d\u786c\u4ef6\u8d44\u6e90\u7684\u7ade\u4e89\u5f15\u8d77\u7684\u51b2\u7a81\u3002\u4f8b\u5982\uff0c\u5f53\u591a\u4e2a\u6307\u4ee4\u540c\u65f6\u9700\u8981\u8bbf\u95ee\u540c\u4e00\u4e2a\u5185\u5b58\u8d44\u6e90\u65f6\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7ed3\u6784\u5192\u9669\u3002</p> \u4f8b\u5b50<pre><code>load x1, 0(x2)    # \u7b2c1\u6761\u6307\u4ee4\u8bbf\u95ee\u5185\u5b58\nstore x3, 4(x4)    # \u7b2c2\u6761\u6307\u4ee4\u540c\u65f6\u8bbf\u95ee\u5185\u5b58\uff0c\u82e5\u53ea\u6709\u4e00\u4e2a\u5185\u5b58\u7aef\u53e3\uff0c\u5c06\u4ea7\u751f\u7ed3\u6784\u5192\u9669\n</code></pre> <p>RISC-V\u6d41\u6c34\u7ebf\u901a\u8fc7\u4ee5\u4e0b\u65b9\u6cd5\u7f13\u89e3\u7ed3\u6784\u5192\u9669\uff1a</p> <ul> <li>\u8d44\u6e90\u591a\u8def\u590d\u7528\uff1a\u589e\u52a0\u786c\u4ef6\u8d44\u6e90\u7684\u5b9e\u4f8b\uff0c\u6bd4\u5982\u591a\u4e2a\u5bc4\u5b58\u5668\u6587\u4ef6\u7aef\u53e3\u6216\u72ec\u7acb\u7684\u7f13\u5b58\u8bbf\u95ee\u8def\u5f84\uff0c\u4ee5\u652f\u6301\u540c\u65f6\u7684\u8d44\u6e90\u8bbf\u95ee\u9700\u6c42\u3002</li> <li>\u6d41\u6c34\u7ebf\u5206\u6bb5\uff1a\u5c06\u786c\u4ef6\u8d44\u6e90\u5212\u5206\u4e3a\u591a\u4e2a\u72ec\u7acb\u7684\u5b50\u5355\u5143\uff0c\u6bcf\u4e2a\u5b50\u5355\u5143\u8d1f\u8d23\u4e0d\u540c\u7684\u6d41\u6c34\u7ebf\u9636\u6bb5\uff0c\u51cf\u5c11\u8d44\u6e90\u7ade\u4e89\u3002</li> <li>\u52a8\u6001\u8c03\u5ea6\uff1a\u6839\u636e\u6307\u4ee4\u7684\u8d44\u6e90\u9700\u6c42\u52a8\u6001\u5206\u914d\u786c\u4ef6\u8d44\u6e90\uff0c\u4f18\u5316\u8d44\u6e90\u5229\u7528\u7387\uff0c\u964d\u4f4e\u7ed3\u6784\u5192\u9669\u53d1\u751f\u7684\u6982\u7387\u3002</li> </ul> <p>\u5176\u5b9e\uff0c\u7ed3\u6784\u5192\u9669\u5728CPU\u786c\u4ef6\u8bbe\u8ba1\u65f6\u5c31\u5df2\u7ecf\u89e3\u51b3\u4e86\uff0c\u6240\u4ee5\u5728\u4f7f\u7528\u65f6\u4e0d\u9700\u8981\u62c5\u5fc3\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#\u5192\u9669","title":"\u5192\u9669","text":""},{"location":"incourse/Comcompose/Ch4/#\u5192\u9669\u7684\u68c0\u6d4b","title":"\u5192\u9669\u7684\u68c0\u6d4b","text":""},{"location":"incourse/Comcompose/Ch4/#data-hazards\u4e0estructural-hazards","title":"Data Hazards\u4e0eStructural Hazards","text":"<p>\u6570\u636e\u5192\u9669\u53d1\u751f\u5728\u4e24\u4e2a\u6307\u4ee4\u7684\u5bc4\u5b58\u5668\u51fa\u73b0\u76f8\u540c\uff0c\u4e5f\u5c31\u662f\u4e0a\u4e00\u6761\u6307\u4ee4\u7684rd\u662f\u4e0b\u4e00\u6761\u6307\u4ee4\u7684rs1\u6216rs2\uff0c\u540c\u65f6\u8fd8\u8981\u5173\u6ce8Regwrite\u4fe1\u53f7</p> <p>\u68c0\u6d4b</p> \u60c5\u51b5\u5224\u65ad\u7279\u6b8a\u60c5\u51b51\u7279\u6b8a\u60c5\u51b52 <p></p> <p></p> <p>\u53ea\u6709\u6211\u4eec\u9700\u8981\u5411rd\u5199\u5165\u6570\u636e\u7684\u65f6\u5019\u53ef\u80fd\u53d1\u751f\u5192\u9669</p> <p></p> <p>x0\u4e0d\u9700\u8981\u8003\u8651\uff0c\u56e0\u4e3a\u4e0d\u80fd\u5199</p> <p>\u5177\u4f53\u7528\u903b\u8f91\u6765\u5199\uff0c\u5c31\u662f\u8fd9\u6837</p> <p>Tip</p> \u903b\u8f91\u5199\u6cd5forward\u4fe1\u53f7\u8bf4\u660e <p></p> <p></p> \u8fd9\u6837\u5c31\u597d\u4e86\u5417? <p>\u601d\u8003\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff1a</p> <p></p> <p>\u90a3\u6211x1\u4e0d\u662f\u5e94\u8be5\u4ece\u6700\u8fd1\u7684\u4e00\u6761\u6307\u4ee4\u628a\u6570\u636e\u65c1\u8def\u8fc7\u6765\u5417\uff1f</p> <p>\u6240\u4ee5MEM Hazard\u5e94\u8be5\u662f\u8fd9\u6837</p> <p></p> <p>Question</p> <p>\u8fd9\u6837\u597d\u4e86\u5417\ud83e\udd14\uff1f</p> <p>\u6211\u4eec\u6765\u770bload\u6307\u4ee4:</p> <p><pre><code>load x2,10(x1)\n\nand x4,x2,x5\n</code></pre> \u8fd9\u6837\u7684\u51b2\u7a81\u662f\u7b26\u5408EX Hazard\u7684\u6240\u6709\u6761\u4ef6\u7684\uff0c\u4f46load\u6307\u4ee4\u4e0d\u80fd\u5728\u8fd9\u4e2a\u5730\u65b9\u65c1\u8def\u8fc7\u6765\uff0c\u56e0\u4e3a\u5728EX/MEM\u8fd9\u4e2a\u9636\u6bb5load\u6307\u4ee4\u8fd8\u6ca1\u6709\u52a0\u8f7d\u5230\u6570\u636e\uff0c\u6240\u4ee5\u9700\u8981\u7b49\u5230MEM/WB\u9636\u6bb5\u3002</p> <p>Danger</p> <p>\u56fe\u4e2d\u5b58\u5728\u9519\u8bef\u3002IF/ID\u5e94\u4e3aID/EX\uff0cID/EX\u5e94\u4e3aEX/MEM\u3002</p> <p>\u603b\u7ed3:</p>"},{"location":"incourse/Comcompose/Ch4/#control-hazards","title":"Control Hazards","text":"<p>\u4e3a\u89e3\u51b3\u63a7\u5236\u5192\u9669\uff0c\u6211\u4eec\u53ef\u4ee5\u63d0\u524d\u8ba1\u7b97\u6765\u5224\u65ad\u662f\u5426\u8981\u8df3\u8f6c\u3002</p> <p>\u4f46\u662f\u5373\u4fbf\u8fd9\u6837\uff0c\u6211\u4eec\u4e5f\u4f1a\u6d6a\u8d39\u4e00\u4e2a\u65f6\u949f\u3002\u56e0\u4e3a\u52a0\u5165\u8df3\u8f6c\u6210\u7acb\uff0c\u90a3\u672c\u6765\u53d6\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\u5c31\u4e0d\u5bf9\u4e86\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u8003\u8651\u91c7\u7528Branch Prediction\u7684\u65b9\u6cd5\u3002</p> <p>\u8fd9\u53c8\u53ef\u4ee5\u5206\u4e3a\u4e24\u79cd:</p> <ol> <li> <p>Static Prediction: \u9759\u6001\u9884\u6d4b\uff0c\u6bd4\u5982\u603b\u662f\u9884\u6d4b\u8df3\u8f6c\u6210\u7acb\uff0c\u6216\u8005\u603b\u662f\u9884\u6d4b\u8df3\u8f6c\u4e0d\u6210\u7acb\u3002</p> </li> <li> <p>Dynamic Prediction: \u52a8\u6001\u9884\u6d4b\uff0c\u901a\u8fc7\u5386\u53f2\u8bb0\u5f55\u6765\u9884\u6d4b\u3002</p> </li> </ol> <p>\u5176\u5b9e\u8fd8\u6709\u4e00\u79cd\u505a\u6cd5\uff0c\u4e5f\u5c31\u662f\u6307\u4ee4\u7684\u91cd\u6392\u3002\u6211\u4eec\u5c06\u80af\u5b9a\u4f1a\u6267\u884c\u7684\u6307\u4ee4\u653e\u5728\u8df3\u8f6c\u6307\u4ee4\u7684\u540e\u9762\uff0c\u8fd9\u6837\u5373\u4f7f\u9884\u6d4b\u9519\u8bef\uff0c\u4e5f\u4e0d\u4f1a\u6d6a\u8d39\u65f6\u949f\u5468\u671f\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#risc-v-with-static-dual-issue\u5e76\u884c\u5904\u7406\u4e24\u6761\u6307\u4ee4","title":"RISC-V with Static Dual Issue(\u5e76\u884c\u5904\u7406\u4e24\u6761\u6307\u4ee4)","text":"<p>\u901a\u8fc7\u589e\u52a0\u5bc4\u5b58\u5668\uff0cALU\u4e0eImmGen\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0\u5e76\u884c\u5904\u7406\u4e24\u6761\u6307\u4ee4\uff1aload/store\u548cALU/branch\u6307\u4ee4\u3002</p> <p>CPU\u6539\u9020</p> <p></p> <p>\u7136\u800c\uff0c\u5e76\u884c\u5904\u7406\u8fd9\u4e24\u6761\u6307\u4ee4\u5e76\u4e0d\u603b\u662f\u53ef\u884c\u7684\u3002 \u4f8b\u5982</p> <p><pre><code>load x2,10(x1)\nadd x4,x2,x5\n</code></pre> \u5728\u8fd9\u6837\u4e24\u6761\u6307\u4ee4\u4e2d\uff0c\u7b2c\u4e8c\u6761\u6307\u4ee4\u9700\u8981\u7b49\u5f85\u7b2c\u4e00\u6761\u6307\u4ee4\u7684load\u6307\u4ee4\u6267\u884c\u5b8c\u6bd5\u624d\u80fd\u6267\u884c\uff0c\u56e0\u6b64\u65e0\u6cd5\u5e76\u884c\u5904\u7406\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#loop-unrolling","title":"Loop Unrolling","text":"<p>\u6b63\u662f\u56e0\u4e3a\u6709\u4e0a\u9762\u90a3\u4e9b\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5faa\u73af\u5c55\u5f00\u7684\u601d\u60f3\uff0c\u5c06\u4e00\u6761\u6307\u4ee4\u62c6\u5206\u6210\u591a\u6761\u6307\u4ee4\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5e76\u884c\u5904\u7406\u4e86\u3002</p> <pre><code>Loop: ld x31,0(x20) // x31=array element  \nadd x31,x31,x21 // add scalar in x21  \nsd x31,0(x20) // store result  \naddi x20,x20,-8 // decrement pointer  \nblt x22,x20,Loop // branch if x22 &lt; x20\n</code></pre> <p>\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\u5982\u679c\u8981\u5e76\u884c\u5904\u7406\u7684\u8bdd\uff0c\u4e3a\u4e86\u907f\u514d\u5192\u9669\uff0c\u7ed3\u679c\u662f\u8fd9\u6837\u7684:</p> <p>\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u5c06\u5faa\u73af\u5c55\u5f00\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5e76\u884c\u5904\u7406\u4e86\u3002\u4e5f\u5c31\u662f\u628a\u539f\u6765\u591a\u4e2a\u5faa\u73af\u91cd\u590d\u6267\u884c\u7684\u6307\u4ee4\u653e\u5728\u4e00\u8d77\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u5faa\u73af\u3002</p> <p>\u601d\u60f3\u76f8\u5f53\u4e8e\u8fd9\u6837:</p>"},{"location":"incourse/Comcompose/Ch4/#dynamic-scheduling","title":"Dynamic Scheduling","text":"<p>\u52a8\u6001\u8c03\u5ea6\u662f\u6307\u5728\u8fd0\u884c\u65f6\u6839\u636e\u6307\u4ee4\u7684\u8d44\u6e90\u9700\u6c42\u52a8\u6001\u5206\u914d\u786c\u4ef6\u8d44\u6e90\uff0c\u4ee5\u4f18\u5316\u8d44\u6e90\u5229\u7528\u7387\uff0c\u964d\u4f4e\u7ed3\u6784\u5192\u9669\u53d1\u751f\u7684\u6982\u7387\u3002</p> <ul> <li> <p>CPU\u53ef\u4ee5\u4e71\u5e8f\u6267\u884c\u6307\u4ee4</p> </li> <li> <p>\u4e71\u5e8f\u6267\u884c\u7684\u6307\u4ee4\u9700\u8981\u6309\u7167\u539f\u6709\u7684\u987a\u5e8f\u5199\u5165\u5bc4\u5b58\u5668</p> </li> </ul>"},{"location":"incourse/Comcompose/Ch4/#register-renaming","title":"Register Renaming","text":"<p>\u5bc4\u5b58\u5668\u91cd\u547d\u540d\u662f\u6307\u5c06\u6307\u4ee4\u4e2d\u7684\u903b\u8f91\u5bc4\u5b58\u5668\u91cd\u547d\u540d\u4e3a\u7269\u7406\u5bc4\u5b58\u5668\uff0c\u4ee5\u907f\u514d\u6570\u636e\u5192\u9669\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#speculation","title":"Speculation","text":"<p>\u5728\u4e71\u5e8f\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u731c\u6d4b\u4e00\u4e9b\u6307\u4ee4\u7684\u6267\u884c\u7ed3\u679c\uff0c\u5982\u679c\u731c\u6d4b\u6b63\u786e\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\uff0c\u5426\u5219\u5c31\u56de\u6eda\u3002</p> <ol> <li> <p>Branch Prediction: \u9884\u6d4b\u5206\u652f\u6307\u4ee4\u7684\u8d70\u5411\uff0c\u63d0\u524d\u52a0\u8f7d\u6307\u4ee4\uff0c\u51cf\u5c11\u5206\u652f\u5e26\u6765\u7684\u6027\u80fd\u635f\u5931\u3002</p> </li> <li> <p>load Speculation: \u9884\u6d4bload\u6307\u4ee4\u7684\u52a0\u8f7d\u5730\u5740\u4e0e\u52a0\u8f7d\u6570\u636e\uff0c\u63d0\u524d\u52a0\u8f7d\u6570\u636e\uff0c\u51cf\u5c11load\u6307\u4ee4\u5e26\u6765\u7684\u6027\u80fd\u635f\u5931\u3002</p> </li> </ol>"},{"location":"incourse/Comcompose/Ch4/#\u6307\u4ee4\u4e2d\u65ad","title":"\u6307\u4ee4\u4e2d\u65ad","text":"<p>\u5728CPU\u6267\u884c\u65f6\uff0c\u6709\u4e24\u4e2a\u539f\u56e0\u4f1a\u5bfc\u81f4CPU work flow\u7684\u6539\u53d8</p> <ol> <li> <p>Control Flow Change: \u5206\u652f\u6307\u4ee4\uff0c\u8df3\u8f6c\u6307\u4ee4\u7b49</p> </li> <li> <p>Exception and Interrupts:\u4e0d\u53ef\u9884\u6d4b\u7684\u4e8b\u4ef6\uff0c\u6bd4\u5982\u9664\u96f6\uff0c\u5185\u5b58\u8bbf\u95ee\u9519\u8bef\u7b49</p> </li> </ol>"},{"location":"incourse/Comcompose/Ch4/#exception","title":"Exception","text":"<p>\u5904\u7406\u5668\u5185\u90e8\u7684\u5f02\u5e38\uff0c\u6bd4\u5982overflow\uff0cundefined instruction\u7b49\u3002</p> <p>\u4e0a\u8ff0\u8bf4\u6cd5\u662f\u72ed\u4e49\u7684\u5f02\u5e38\uff0c\u5e7f\u4e49\u7684\u5f02\u5e38\u8fd8\u5305\u62ec\u4e2d\u65ad\u3002</p> <p>\u4e2d\u65ad\u662f\u6307\u5904\u7406\u5668\u5916\u90e8\u7684\u5f02\u5e38\uff0c\u6bd4\u5982\u65f6\u949f\u4e2d\u65ad\uff0cIO\u4e2d\u65ad\u7b49\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#\u5904\u7406exception","title":"\u5904\u7406Exception","text":"<p>\u9996\u5148\uff0cCPU\u8981\u77e5\u9053:</p> <ol> <li> <p>\u5f02\u5e38\u53d1\u751f\u7684\u539f\u56e0</p> </li> <li> <p>\u54ea\u6761\u6307\u4ee4\u5bfc\u81f4\u4e86\u5f02\u5e38</p> </li> </ol> <p>\u56e0\u6b64\uff0c\u5728\u53d1\u751f\u5f02\u5e38\u65f6\uff0cCPU\u4f1a\u5c06\u5f02\u5e38\u539f\u56e0\u548c\u5bfc\u81f4\u5f02\u5e38\u7684\u6307\u4ee4\u7684\u5730\u5740\u5b58\u50a8\u5728\u4e00\u4e9b\u7279\u6b8a\u7684\u5bc4\u5b58\u5668(\u6bd4\u5982<code>cause</code>\u548c<code>epc</code>)\u4e2d\u3002\u5176\u4e2d\uff0c<code>cause</code>\u5bc4\u5b58\u5668\u5b58\u50a8\u5f02\u5e38\u539f\u56e0\uff0c<code>epc</code>\u5bc4\u5b58\u5668\u5b58\u50a8\u5bfc\u81f4\u5f02\u5e38\u7684\u6307\u4ee4\u7684\u5730\u5740\u3002</p> <p>\u63a5\u7740\uff0cCPU\u4f1a\u8df3\u8f6c\u5230\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u7684\u5730\u5740\uff0c\u5f00\u59cb\u5904\u7406\u5f02\u5e38\u3002</p> <p>\u90a3\u4e48\u600e\u4e48\u6839\u636e\u5f02\u5e38\u539f\u56e0\u8df3\u8f6c\u5230\u5bf9\u5e94\u7684\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u5462\uff1f</p>"},{"location":"incourse/Comcompose/Ch4/#\u56fa\u5b9a\u5730\u5740","title":"\u56fa\u5b9a\u5730\u5740","text":"<p>CPU\u5148\u8df3\u5230\u4e00\u4e2a\u56fa\u5b9a\u5730\u5740\uff0c\u8fd9\u4e2a\u5730\u5740\u5b58\u50a8\u4e86\u6240\u6709\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u7684\u5165\u53e3\u5730\u5740\uff0c\u7136\u540e\u6839\u636e\u5f02\u5e38\u539f\u56e0\u9009\u62e9\u5bf9\u5e94\u7684\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#\u4e2d\u65ad\u5411\u91cf\u8868","title":"\u4e2d\u65ad\u5411\u91cf\u8868","text":"<p>\u6839\u636e<code>cause</code>\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u9009\u62e9\u5bf9\u5e94\u7684\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u7684\u5730\u5740\u3002\u4f46\u662f\u5730\u5740\u4e2d\u5b58\u653e\u7684\u662f<code>Jal</code>\u6307\u4ee4\uff0c\u4e24\u7ea7\u8df3\u8f6c\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#\u8fdb\u5165\u5f02\u5e38","title":"\u8fdb\u5165\u5f02\u5e38","text":"<p>\u5f53\u68c0\u6d4b\u5230\u5f02\u5e38\u65f6:</p> <ol> <li> <p>\u505c\u6b62\u6267\u884c\u5f53\u524d\u7684\u7a0b\u5e8f\u6d41,\u8f6c\u800c\u4eceCSR\u5bc4\u5b58\u5668mtvec\u5b9a\u4e49\u7684PC\u5730\u5740\u5f00\u59cb\u6267\u884c;</p> </li> <li> <p>\u66f4\u65b0\u673a\u5668\u6a21\u5f0f\u5f02\u5e38\u539f\u56e0\u5bc4\u5b58\u5668:mcause;</p> </li> <li> <p>\u66f4\u65b0\u673a\u5668\u6a21\u5f0f\u4e2d\u65ad\u4f7f\u80fd\u5bc4\u5b58\u5668:mie</p> </li> <li> <p>\u66f4\u65b0\u673a\u5668\u6a21\u5f0f\u5f02\u5e38PC\u5bc4\u5b58\u5668:mepc;</p> </li> <li> <p>\u66f4\u65b0\u673a\u5668\u6a21\u5f0f\u72b6\u6001\u5bc4\u5b58\u5668: mstatus;</p> </li> <li> <p>\u66f4\u65b0\u673a\u5668\u6a21\u5f0f\u5f02\u5e38\u503c\u5bc4\u5b58\u5668: mtval;</p> </li> </ol> <p>\u5f53\u7136\uff0c\u4e5f\u53ef\u80fd\u53d1\u751f\u591a\u4e2a\u5f02\u5e38\u540c\u65f6\u53d1\u751f\u7684\u60c5\u51b5\uff0c\u8fd9\u65f6\u5019\u9700\u8981\u6839\u636e\u4f18\u5148\u7ea7\u6765\u5904\u7406\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5f02\u5e38\u7684\u4f18\u5148\u7ea7\u662f\u56fa\u5b9a\u7684\uff0c\u6bd4\u5982\u4e2d\u65ad\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u5f02\u5e38\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#\u9000\u51fa\u5f02\u5e38","title":"\u9000\u51fa\u5f02\u5e38","text":"<p>\u5f53\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u6267\u884c\u5b8c\u6bd5\u65f6,\u5728\u673a\u5668\u6a21\u5f0f\u4e0b\u4f7f\u7528mert\u6307\u4ee4\u8fd4\u56de\u5230\u4e4b\u524d\u7684\u7a0b\u5e8f\u6d41\u7a0b\u3002</p>"},{"location":"incourse/Comcompose/Ch4/#\u6d41\u6c34\u7ebf\u4e0b\u7684\u5f02\u5e38","title":"\u6d41\u6c34\u7ebf\u4e0b\u7684\u5f02\u5e38","text":"<p>\u6d41\u6c34\u7ebf\u4e0b\u51fa\u73b0\u5f02\u5e38\u53ef\u4ee5\u770b\u4f5c\u662f\u63a7\u5236\u5192\u9669\u7684\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\uff0c\u5b83\u7684\u5904\u7406\u4e0e\u5206\u652f\u9884\u6d4b\u9519\u8bef\u7684\u5904\u7406\u7c7b\u4f3c\u3002</p> <ol> <li> <p>\u628a\u5728\u8fd9\u6761\u6307\u4ee4\u4e4b\u524d\u7684\u6307\u4ee4\u6267\u884c\u5b8c\u6bd5</p> </li> <li> <p>\u628a\u8fd9\u6761\u6307\u4ee4\u53ca\u4e4b\u540e\u7684\u6307\u4ee4\u6e05\u7a7a</p> </li> <li> <p>\u8df3\u8f6c\u5230\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f</p> </li> </ol> <p>\u5982\u56fe\u6240\u793a\uff0c\u589e\u52a0\u4e86'SCAUSE'\u548c'SEPC'\u5bc4\u5b58\u5668\uff0c\u5e76\u5728\u6d41\u6c34\u7ebf\u5185\u7684\u5bc4\u5b58\u5668\u589e\u52a0\u4e86flush\u4fe1\u53f7\u3002</p> <p>\u5728\u6d41\u6c34\u7ebf\u4e2d\uff0c\u4e5f\u53ef\u80fd\u51fa\u73b0\u591a\u4e2a\u5f02\u5e38\u540c\u65f6\u53d1\u751f\u7684\u60c5\u51b5\u3002</p> <p>\u4ece\u7b80\u5355\u7684\u65b9\u6cd5\u6765\u8bf4\uff0c\u4f18\u5148\u5904\u7406\u6700\u65e9\u7684\u5f02\u5e38\uff0c\u56e0\u4e3a\u5728\u5f02\u5e38\u4e4b\u540e\u7684\u6307\u4ee4\u53ef\u4ee5\u770b\u4f5c\u662f\u5206\u652f\u9884\u6d4b\u9519\u8bef\u7684\uff0c\u672c\u4e0d\u5e94\u6267\u884c\u3002</p> <p>\u4f46\u662f\uff0c\u5b9e\u9645\u60c5\u51b5\u8fdc\u6bd4\u6b64\u590d\u6742\u3002\u4f8b\u5982\uff0c\u6d41\u6c34\u7ebf\u6267\u884c\u6307\u4ee4\u53ef\u80fd\u662f\u4e71\u5e8f\u7684\uff0c\u5b9a\u4f4d\u5230\u7cbe\u786e\u7684\u5f02\u5e38\u539f\u56e0\u662f\u5f88\u56f0\u96be\u7684\u3002</p>"},{"location":"incourse/Comcompose/Ch5/","title":"Cache","text":"<p> \u7ea6 3314 \u4e2a\u5b57  12 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 17 \u5206\u949f</p>"},{"location":"incourse/Comcompose/Ch5/#memory-hierarchy-introduction","title":"Memory Hierarchy Introduction","text":"<p>\u5185\u5b58\u8bbf\u95ee\u6709\u5982\u4e0b\u4e24\u4e2a\u7279\u70b9\uff1a</p> <ul> <li> <p>\u65f6\u95f4\u5c40\u90e8\u6027\uff08Temporal Locality\uff09\uff1a\u5982\u679c\u4e00\u4e2a\u6570\u636e\u88ab\u8bbf\u95ee\uff0c\u90a3\u4e48\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u5b83\u53ef\u80fd\u518d\u6b21\u88ab\u8bbf\u95ee\u3002\u4f8b\u5982\uff0c\u5faa\u73af\u7ed3\u6784\u4e2d\u7684\u6570\u636e\u3002</p> </li> <li> <p>\u7a7a\u95f4\u5c40\u90e8\u6027\uff08Spatial Locality\uff09\uff1a\u5982\u679c\u4e00\u4e2a\u6570\u636e\u88ab\u8bbf\u95ee\uff0c\u90a3\u4e48\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u4e0e\u5b83\u76f8\u90bb\u7684\u6570\u636e\u53ef\u80fd\u4e5f\u4f1a\u88ab\u8bbf\u95ee\u3002\u4f8b\u5982\uff0c\u6570\u7ec4\u4e2d\u7684\u6570\u636e\u3002</p> </li> </ul> <p>\u6839\u636e\u8fd9\u6837\u7684\u7279\u70b9\uff0c\u53ef\u4ee5\u4f5c\u5982\u4e0b\u8bbe\u8ba1:</p> <ul> <li> <p>Copy recently accessed (and nearby) items  from disk to smaller DRAM memory</p> </li> <li> <p>Copy more recently accessed (and nearby) items from DRAM to even smaller SRAM memory</p> </li> <li> <p>Copy most recently accessed (and nearby) items from SRAM to even smaller CPU registers</p> </li> </ul> <p>\u4e00\u56fe\u4ee5\u853d\u4e4b\uff1a</p> <p>\u5728\u8bbf\u95ee\u6570\u636e\u65f6\uff0c\u6211\u4eec\u8bbf\u95ee\u7684\u5b9e\u9645\u4e0a\u662f\u5185\u5b58\u5355\u5143\uff0c\u79f0\u4f5c\u5757\uff08block aka line\uff09\u3002\u5757\u7684\u5927\u5c0f\u662f\u56fa\u5b9a\u7684\uff0c\u901a\u5e38\u662f\u5b57\u76842\u7684\u82e5\u5e72\u6b21\u65b9\u500d\u3002</p> <p>Definition</p> <ol> <li> <p>Hit:\u5f53CPU\u8bbf\u95ee\u6570\u636e\u65f6\uff0c\u5b83\u9996\u5148\u8bfb\u53d6Cache\u4e2d\u7684\u5185\u5bb9\uff0c\u5982\u679cCache\u4e2d\u6709\u8fd9\u4e2a\u6570\u636e\uff0c\u90a3\u4e48\u5c31\u76f4\u63a5\u8bfb\u51fa\u6765\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e3aHit\u3002</p> </li> <li> <p>Hit Ratio:Hit Ratio\u662f\u6307Cache\u4e2d\u6709\u6570\u636e\u7684\u6982\u7387\uff0c\u5b83\u7b49\u4e8eHit\u6b21\u6570\u9664\u4ee5\u603b\u7684\u8bbf\u95ee\u6b21\u6570(Hit Ratio = Hits / Accesses)\u3002</p> </li> <li> <p>Miss:\u5982\u679cCache\u4e2d\u6ca1\u6709\u8fd9\u4e2a\u6570\u636e\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e3aMiss\u3002\u5728\u5b9e\u9645\u64cd\u4f5c\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u5148\u5c06\u6570\u636e\u7684\u5757\u4ece\u4e0b\u7ea7\u7684\u5b58\u50a8\u5668\u590d\u5236\u5230Cache\u4e2d\uff0c\u7136\u540e\u518d\u4eceCache\u4e2d\u8bfb\u53d6\u6570\u636e\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u82b1\u8d39\u7684\u65f6\u95f4\u79f0\u4e3aMiss Penalty\u3002</p> </li> <li> <p>Miss Ratio:Miss Rate\u662f\u6307Cache\u4e2d\u6ca1\u6709\u6570\u636e\u7684\u6982\u7387\uff0c\u5b83\u7b49\u4e8eMiss\u6b21\u6570\u9664\u4ee5\u603b\u7684\u8bbf\u95ee\u6b21\u6570(Miss Ratio = Misses / Accesses)\u3002</p> </li> </ol>"},{"location":"incourse/Comcompose/Ch5/#the-basics-of-cache","title":"The Basics of Cache","text":"<p>\u6211\u4eec\u8981\u5982\u4f55\u786e\u8ba4\u4e00\u4e2ablock\u5728\u4e0d\u5728Cache\u4e2d\u5462?\u5982\u679c\u5728\uff0c\u6211\u4eec\u5982\u4f55\u627e\u5230\u5b83\u5462?</p>"},{"location":"incourse/Comcompose/Ch5/#direct-mapped-cache","title":"Direct Mapped Cache","text":"<p>Memory\u4e2d\u670932\u4e2ablock\uff0cCache\u4e2d\u67098\u4e2ablock\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5c06Memory\u4e2d\u7684block\u6620\u5c04\u5230Cache\u4e2d\u7684block\u3002\u7531\u4e8eCache\u4e2d\u7684\u5757\u7684\u6570\u76ee\u662f\\(2^n\\)\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u53d6memory block address\u7684\u4f4en\u4f4d\u4f5c\u4e3aCache block address\u3002</p> <p>\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5185\u5b58\u6709 32 \u4e2a block\uff0c\u5176\u7f16\u53f7 (block address) \u5206\u522b\u4e3a 00000 \u5230 11111\uff1bcache \u6709 8 \u4e2a block\u3002\u6211\u4eec\u76f4\u63a5\u6309 block address \u7684\u540e 3 \u4f4d\u786e\u5b9a\u5b83\u5e94\u8be5\u653e\u5728 cache \u7684\u54ea\u4e2a block \u91cc\u3002</p> <p>\u5373\uff0c\u56fe\u4e0a\u7070\u8272\u7684 block \u7684\u7f16\u53f7\u672b 3 \u4f4d\u90fd\u662f 001\uff0c\u6240\u4ee5\u5c31\u5e94\u8be5\u653e\u5728 cache \u4e2d\u7f16\u53f7\u4e3a 001 \u7684\u7070\u8272 block \u91cc\uff1b\u6a59\u8272\u540c\u7406\u3002</p> <p>\u4f46\u662f\uff0c\u7531\u4e8e\u5185\u5b58\u4e2d\u7684block\u5757\u6570\u662f\u591a\u4e8eCache\u4e2d\u7684block\u5757\u6570\u7684\uff0c\u6240\u4ee5\u4f1a\u51fa\u73b0\u591a\u4e2a\u5185\u5b58\u5757\u6620\u5c04\u5230\u540c\u4e00\u4e2aCache\u5757\u7684\u60c5\u51b5\uff0c\u4f8b\u5982\u4e0a\u56fe\u4e2d\u7684block 00001\u548cblock 01001\u90fd\u6620\u5c04\u5230\u4e86Cache\u5757001\u4e2d\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u5f15\u5165\u4e86tag\u7684\u6982\u5ff5\u3002tag\u662f\u7528\u6765\u6807\u8bc6\u4e00\u4e2ablock\u7684\uff0c\u5b83\u662fblock address\u7684\u9ad8\u4f4d\u3002\u5728\u4e0a\u56fe\u4e2d\uff0cblock 00001\u548cblock 01001\u90fd\u6620\u5c04\u5230\u4e86Cache\u5757001\u4e2d\uff0c\u4f46\u662f\u5b83\u4eec\u7684tag\u662f\u4e0d\u540c\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7tag\u6765\u533a\u5206\u5b83\u4eec\u3002\u4f8b\u5982\uff0cblock 00000\u7684tag\u662f00\uff0cblock 01000\u7684tag\u662f01\u3002</p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u4e00\u4e2avalid\u4f4d\u6765\u8868\u793a\u8fd9\u4e2aCache\u5757\u662f\u5426\u6709\u6548\u3002\u5176\u5b9e\u4e0d\u7ba1\u5199\u5165\u4e0e\u5426\uff0cCache\u4e2d\u7684\u6bcf\u4e00\u4e2ablock\u90fd\u662f\u6709\u503c\u7684\uff0c\u4f46\u4e0d\u4e00\u5b9a\u662f\u5408\u6cd5\u7684\u3002\u5f53\u4e00\u4e2aCache\u5757\u88ab\u521d\u59cb\u5316\u65f6\uff0cvalid\u4f4d\u88ab\u7f6e\u4e3a0\uff0c\u5f53\u8fd9\u4e2aCache\u5757\u88ab\u66ff\u6362\u65f6\uff0cvalid\u4f4d\u88ab\u7f6e\u4e3a1\u3002</p> <p>\u5728\u5730\u5740\u4e2d\uff0c\u8fd8\u6709\u4e00\u4e2aByte Offset\u7684\u6982\u5ff5\u3002\u5982\u679c\u8bf4\u524d\u9762\u7684block address\u662f\u7528\u6765\u786e\u5b9a\u6211\u4eec\u60f3\u8981\u7684\u662fCache\u4e2d\u7684\u54ea\u4e2ablock\uff0c\u90a3\u4e48Byte Offset\u662f\u7528\u6765\u786e\u5b9a\u6211\u4eec\u60f3\u8981\u7684\u662f\u8fd9\u4e2ablock\u4e2d\u7684\u54ea\u4e2a\u5b57\u8282\u3002</p> <p>Cache\u7684\u5927\u5c0f</p> <p></p> <p>\u4f8b\u98981</p> <p>How many total bits are required for a direct-mapped cache 16KB of data and 4-word blocks, assuming a 32-bit address?</p> General <p>\u9996\u5148\uff0c\u6761\u4ef6\u662f\u4e00\u4e2aCache\u670916KB,\u4e5f\u5c31\u662f4K\u4e2a\u5b57\u8282\u3002\u6bcf\u4e2ablock\u67094\u4e2a\u5b57\uff0c\u6240\u4ee5\u67091K(\u8fd9\u91cc\u7684K\u662f1024!)\u4e2ablock\u3002\u6240\u4ee5\u6211\u4eec\u9700\u898110\u4f4d\u6765\u8868\u793aindex\u3002\u7136\u540e\uff0c\u4e00\u4e2aBlock\u67094*4=16\u4e2a\u5b57\u8282\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u89814\u4f4d\u6765\u8868\u793aoffset.\u56e0\u6b64,tag\u7684\u4f4d\u6570\u662f32-10-4=18\u4f4d\u3002</p> <p>\u56e0\u6b64\uff0cCache\u7684\u5927\u5c0f\u662f</p> <p>\\(2^{10}\\)(\u4e00\u5171\u8fd9\u4e48\u591a\u4e2aBlock) \\(* (128 + 18 + 1)\\)(\u6bcf\u4e2aBlock\u6709128\u4e2abit\u5b58\u6570\u636e\uff0c18\u4f4dtag\uff0c1\u4f4dvalid\u4f4d) </p> <p>\\(= 2^{10} * 147 = 147Kbits\\)</p> <p>\u4f8b\u98982</p> <p>Consider a cache with 64 blocks and a block size of 16 bytes.What block number does byte address 1200 map to?</p> General <p>\u7531\u4e8eblock size\u662f16\u5b57\u8282\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\uff0cblock 0\u7684\u5730\u5740\u662f0-15\uff0cblock 1\u7684\u5730\u5740\u662f16-31\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\u6240\u4ee5\uff0cbyte address 1200\u5c5e\u4e8eblock 75\u3002(\u5176\u5b9e\u5c31\u662f1200/16\u5411\u4e0b\u53d6\u6574)</p> <p>\u7136\u800c\uff0c\u6700\u591a\u53ea\u670964\u4e2ablock\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u53d6\u6a21\u3002\u6240\u4ee5\uff0cbyte address 1200\u6620\u5c04\u5230\u4e86block 75 mod 64 = 11\u3002</p>"},{"location":"incourse/Comcompose/Ch5/#handling-cache-writes-hit-and-misses","title":"Handling Cache Writes hit and Misses","text":""},{"location":"incourse/Comcompose/Ch5/#read","title":"Read","text":"<ul> <li> <p>Read Hit: \u4eceCache\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u76f4\u63a5\u8fd4\u56de\u3002</p> </li> <li> <p>Read Miss: \u6709\u4e24\u79cd\u60c5\u51b5:instruction cache miss \u4e0edata cache miss</p> <ul> <li> <p>Instruction Cache Miss: \u6682\u505c CPU \u8fd0\u884c\uff0c\u4ece memory \u91cc\u628a\u5bf9\u5e94\u7684 block \u62ff\u5230 cache\uff0c\u4ece\u7b2c\u4e00\u4e2a step \u5f00\u59cb\u91cd\u65b0\u8fd0\u884c\u5f53\u524d\u8fd9\u6761\u6307\u4ee4\u3002</p> </li> <li> <p>Data Cache Miss: \u4ece memory \u91cc\u628a\u5bf9\u5e94\u7684 block \u62ff\u5230 cache\uff0c\u7136\u540e\u8bfb\u53d6\u5bf9\u5e94\u7684\u5185\u5bb9\u3002</p> </li> </ul> </li> </ul>"},{"location":"incourse/Comcompose/Ch5/#write","title":"Write","text":"<ul> <li> <p>Write Hit: \u6709\u4e24\u79cd\u60c5\u51b5:write through \u4e0e write back</p> <ul> <li> <p>Write Through: \u5199\u5165 cache \u540c\u65f6\u5199\u5165 memory.\u597d\u5904\u662f cache \u548c main memory \u603b\u662f\u4e00\u81f4\u7684\uff0c\u4f46\u662f\u8fd9\u6837\u5f88\u6162,\u56e0\u4e3a\u8981\u7b49\u5f85\u6bd4\u8f83\u6162\u7684 memory\u5199\u5165\uff0c\u65e0\u6cd5\u53d1\u6325 cache \u7684\u901f\u5ea6\u4f18\u52bf\u3002</p> </li> <li> <p>Write Back: \u5199\u5165 cache\uff0c\u7b49\u5230\u8fd9\u4e2a block \u88ab\u66ff\u6362\u65f6\uff0c\u518d\u5199\u5165 memory.\u8fd9\u79cd\u60c5\u51b5\u9700\u8981\u4e00\u4e2a\u989d\u5916\u7684 dirty bit \u6765\u8bb0\u5f55\u8fd9\u4e2a cache block \u662f\u5426\u88ab\u66f4\u6539\u8fc7\uff0c\u4ece\u800c\u76f4\u5230\u88ab\u8986\u76d6\u524d\u662f\u5426\u9700\u8981\u88ab\u5199\u56de\u5185\u5b58\u3002\u5982\u679cdirty bit\u4e3a1\uff0c\u8bf4\u660e\u8fd9\u4e2ablock\u88ab\u4fee\u6539\u8fc7\uff0c\u9700\u8981\u5199\u56de\u5185\u5b58\u3002</p> </li> </ul> </li> <li> <p>Write Miss: \u6709\u4e24\u79cd\u60c5\u51b5:write allocate \u4e0e no-write allocate</p> <ul> <li> <p>Write Allocate: \u4ece memory \u91cc\u628a\u5bf9\u5e94\u7684 block \u62ff\u5230 cache\uff0c\u7136\u540e\u5199\u5165 cache\uff0c\u518d\u5199\u5165 memory.</p> </li> <li> <p>No-Write Allocate: \u76f4\u63a5\u5199\u5165 memory.</p> </li> </ul> </li> </ul>"},{"location":"incourse/Comcompose/Ch5/#deep-concepts","title":"Deep concepts","text":""},{"location":"incourse/Comcompose/Ch5/#block-placement","title":"Block Placement","text":"<p>Question</p> <p>Block\u53ef\u4ee5\u88ab\u653e\u5230Cache\u4e2d\u7684\u54ea\u4e9b\u4f4d\u7f6e?</p>"},{"location":"incourse/Comcompose/Ch5/#direct-mapped-cache_1","title":"Direct Mapped Cache","text":"<p>\u4e0a\u9762\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\uff0c\u4e00\u4e2ablock\u53ea\u80fd\u653e\u5728Cache\u4e2d\u7684\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u8fd9\u4e2a\u4f4d\u7f6e\u662f\u7531block address\u7684\u4f4en\u4f4d\u51b3\u5b9a\u7684\u3002</p>"},{"location":"incourse/Comcompose/Ch5/#fully-associative-cache","title":"Fully Associative Cache","text":"<p>\u4e00\u4e2ablock\u53ef\u4ee5\u653e\u5728Cache\u4e2d\u7684\u4efb\u4f55\u4f4d\u3002</p>"},{"location":"incourse/Comcompose/Ch5/#set-associative-cache","title":"Set Associative Cache","text":"<p>\u4e00\u4e2ablock\u53ef\u4ee5\u653e\u5728Cache\u4e2d\u7684\u4e00\u7ec4\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u5047\u8bbecache\u4e2d\u67098\u4e2ablock\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8fd98\u4e2ablock\u5206\u62104\u7ec4\uff0c\u6bcf\u7ec4\u67092\u4e2ablock\u3002\u90a3\u4e48\u5185\u5b58\u4e2d\u7684block 12\u53ef\u4ee5\u653e\u5728set0\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u4f4d\u7f6e(12 mod 4 = 0)\uff0c\u5185\u5b58\u4e2d\u7684block 13\u53ef\u4ee5\u653e\u5728set1\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u4f4d\u7f6e(13 mod 4 = 1)\u3002</p> <p>\u4e00\u7ec4(set)\u662fcache\u4e2d\u7684\u4e00\u4e9bblock\u7684\u96c6\u5408\u3002\u5982\u679c\u4e00\u4e2aset\u4e2d\u6709n\u4e2ablock\uff0c\u90a3\u4e48\u8fd9\u4e2acache\u5c31\u662fn-way set associative cache\u3002</p> <p>\u4e0b\u56fe\u5c31\u662f\u56db\u8def\u7ec4\u76f8\u8054(4-way set associative)\u7684Cache:</p> <p>Direct Mapped Cache\u53ef\u4ee5\u770b\u62101-way set associative cache\u7684\u7279\u4f8b\u3002</p>"},{"location":"incourse/Comcompose/Ch5/#block-identification","title":"Block Identification","text":"<p>Question</p> <p>\u5982\u4f55\u786e\u5b9a\u4e00\u4e2ablock\u662f\u5426\u5728Cache\u4e2d?</p> <p>\u6b63\u5982\u4e0a\u9762\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\uff0c\u4f7f\u7528tag\u4e0evaild\u6765\u786e\u5b9a\u4e00\u4e2ablock\u662f\u5426\u5728Cache\u4e2d\u3002</p> <p>\u5728set associative cache\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528index\u6765\u786e\u5b9a\u4e00\u4e2ablock\u5728\u54ea\u4e2aset\u4e2d\u3002\u8fd9\u65f6\uff0cindex\u7684\u4f4d\u6570\u662f\\(\\log_2\\text{(set\u7684\u4e2a\u6570)}\\)\u3002\u800c\u5728Fully Associative Cache\u4e2d\uff0cindex\u7684\u4f4d\u6570\u662f0\u3002\u56e0\u4e3a\u8fd9\u65f6\u7684set\u7684\u4e2a\u6570\u662f1\uff0c\u6240\u4ee5\u4e00\u4e2ablock\u53ef\u4ee5\u653e\u5728\u4efb\u4f55\u4f4d\u7f6e\u3002</p>"},{"location":"incourse/Comcompose/Ch5/#block-replacement","title":"Block Replacement","text":"<p>Question</p> <p>\u5f53Cache\u6ee1\u4e86\uff0c\u6211\u4eec\u9700\u8981\u66ff\u6362\u4e00\u4e2ablock\u3002\u90a3\u4e48\u6211\u4eec\u5982\u4f55\u9009\u62e9\u8981\u66ff\u6362\u7684block\u5462?</p> <ul> <li> <p>\u5bf9\u4e8eDirect Mapped Cache\uff0c\u53ea\u6709\u4e00\u4e2ablock\u53ef\u4ee5\u88ab\u66ff\u6362\uff0c\u6240\u4ee5\u53ea\u6709\u4e00\u4e2a\u9009\u62e9\u3002</p> </li> <li> <p>\u5bf9\u4e8eFully Associative Cache\u4e0eset-associative\uff0c\u6709\u591a\u4e2ablock\u53ef\u4ee5\u9009\u62e9\u3002\u5e38\u89c1\u7684\u66ff\u6362\u7b56\u7565\u6709\uff1a</p> <ol> <li> <p>Random Replacement: \u968f\u673a\u9009\u62e9\u4e00\u4e2ablock\u66ff\u6362\u3002</p> </li> <li> <p>Least Recently Used (LRU): \u9009\u62e9\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684block\u66ff\u6362\u3002</p> </li> <li> <p>First-In-First-Out (FIFO): \u9009\u62e9\u6700\u5148\u8fdb\u5165\u7684block\u66ff\u6362\u3002</p> </li> <li> <p>Not Recently Used (NRU): \u9009\u62e9\u6700\u8fd1\u6ca1\u6709\u88ab\u4f7f\u7528\u7684block\u66ff\u6362\u3002</p> </li> <li> <p>Least Frequently Used (LFU): \u9009\u62e9\u6700\u5c11\u88ab\u4f7f\u7528\u7684block\u66ff\u6362\u3002</p> </li> </ol> </li> </ul>"},{"location":"incourse/Comcompose/Ch5/#write-strategy","title":"Write Strategy","text":"<p>Question</p> <p>\u5f53\u6570\u636e\u88ab\u5199\u5165cache\u65f6\uff0c\u6211\u4eec\u8981\u4e0d\u8981\u628a\u6570\u636e\u4e5f\u5199\u5165memory\u5462?</p> <p>\u6839\u636e\u662f\u5426\u5199\u5165memory\uff0c\u6211\u4eec\u53ef\u4ee5\u5206\u4e3a\u4e24\u79cd\u7b56\u7565\uff1a</p> <ul> <li> <p>Write Through: \u5199\u5165cache\u7684\u540c\u65f6\u5199\u5165memory\u3002\u8fd9\u6837cache\u548cmemory\u603b\u662f\u4e00\u81f4\u7684\uff0c\u4f46\u662f\u5199\u5165\u901f\u5ea6\u6162\u3002</p> </li> <li> <p>Write Back: \u5199\u5165cache\uff0c\u7b49\u5230\u8fd9\u4e2ablock\u88ab\u66ff\u6362\u65f6\uff0c\u518d\u5199\u5165memory\u3002\u8fd9\u6837\u5199\u5165\u901f\u5ea6\u5feb\uff0c\u4f46\u662fcache\u548cmemory\u53ef\u80fd\u4e0d\u4e00\u81f4\u3002\u53e6\u5916\uff0c\u8fd9\u79cd\u7b56\u7565\u9700\u8981\u4e00\u4e2aDirty Bit\u6765\u8bb0\u5f55\u8fd9\u4e2ablock\u662f\u5426\u88ab\u4fee\u6539\u8fc7,\u82e5dirty bit\u4e3a1\uff0c\u8bf4\u660e\u8fd9\u4e2ablock\u88ab\u4fee\u6539\u8fc7\uff0c\u5f53\u8fd9\u4e2ablock\u88ab\u66ff\u6362(\u4e0d\u662f\u5199!!!)\u65f6\uff0c\u9700\u8981\u5199\u56de\u5185\u5b58\u3002</p> </li> </ul> <p>\u5728Write Through\u4e2d\uff0c\u7531\u4e8e\u5185\u5b58\u7684\u5199\u5165\u901f\u5ea6\u6bd4cache\u6162\uff0c\u6240\u4ee5\u4f1a\u51fa\u73b0Write Stall\u7684\u60c5\u51b5\u3002Write Stall\u662f\u6307\u5f53CPU\u5199\u5165\u6570\u636e\u65f6\uff0c\u7531\u4e8ecache\u548cmemory\u4e0d\u4e00\u81f4\uff0c\u6240\u4ee5CPU\u9700\u8981\u7b49\u5f85memory\u5199\u5165\u5b8c\u6210\u540e\u624d\u80fd\u7ee7\u7eed\u6267\u884c\u3002\u8fd9\u6837\u4f1a\u5bfc\u81f4CPU\u7684\u6548\u7387\u964d\u4f4e\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u5f15\u5165\u4e86Write Buffer\u3002Write Buffer\u662f\u4e00\u4e2a\u7f13\u51b2\u533a\uff0c\u5f53CPU\u5199\u5165\u6570\u636e\u65f6\uff0c\u6570\u636e\u9996\u5148\u88ab\u5199\u5165Write Buffer\uff0c\u7136\u540eCPU\u7ee7\u7eed\u6267\u884c\u3002\u7531Write Buffer\u5411\u5185\u5b58\u4e2d\u5199\u5165\u6570\u636e\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f,Write Buffer\u5e76\u4e0d\u80fd\u6d88\u9664Write Stall\uff0c\u56e0\u4e3aBuffer\u7684\u5927\u5c0f\u4e5f\u662f\u6709\u9650\u7684\u3002</p> <p>Question</p> <p>\u53d1\u751f\u4e86Write Miss\u600e\u4e48\u529e?</p> <ul> <li> <p>Write Allocate: \u4ecememory\u4e2d\u8bfb\u53d6block\u5230cache\uff0c\u7136\u540e\u5199\u5165cache\u3002</p> </li> <li> <p>No-Write Allocate(Write Around): \u76f4\u63a5\u5199\u5165memory\u3002</p> </li> </ul> <p>Write Back\u4e00\u822c\u4f7f\u7528Write Allocate\uff0cWrite Through\u4e00\u822c\u4f7f\u7528No-Write Allocate\u3002</p> <p>Miss \u6c47\u603b</p> <p></p>"},{"location":"incourse/Comcompose/Ch5/#measuring-and-improving-cache-performance","title":"Measuring and improving cache performance","text":""},{"location":"incourse/Comcompose/Ch5/#cache-performance-metrics","title":"Cache Performance Metrics","text":"<p>\u6211\u4eec\u4f7f\u7528Chapter 1\u4e2d\u5b66\u7684CPU Time\u6765\u8861\u91cfCache\u7684\u6027\u80fd\u3002\u4f46\u8981\u7565\u4f5c\u4fee\u6539</p> <p>Definition</p> <p>CPU time=  (CPU execution clock cycles + Memory-stall clock cycles) \u00d7Clock cycle time</p> <p>Memory Stall\u6307\u7684\u662fCPU\u7b49\u5f85memory\u7684\u65f6\u95f4\uff0c\u5b83\u7b49\u4e8eRead Stall + Write Stall\u3002</p> <ul> <li> <p>Read Stall: \u8bfb\u53d6\u6570\u636e\u65f6\uff0c\u7531\u4e8e\u6570\u636e\u4e0d\u5728cache\u4e2d\uff0c\u6240\u4ee5\u9700\u8981\u7b49\u5f85memory\u8bfb\u53d6\u6570\u636e\u3002</p> <p>Read Stall Cycles = \\(\\frac{Read}{Program} \\times  Read Miss Rate \\times Read Miss Penalty\\)</p> </li> <li> <p>Write Stall(\u5bf9\u4e8eWrite Through With Buffer): \u5199\u5165\u6570\u636e\u65f6\uff0c\u7531\u4e8ecache\u4e0ememory\u4e0d\u4e00\u81f4\uff0c\u6240\u4ee5\u9700\u8981\u7b49\u5f85memory\u5199\u5165\u6570\u636e\u3002</p> <p>Write Stall Cycles = \\(\\frac{Write}{Program} \\times  Write Miss Rate \\times Write Miss Penalty + Write Buffer Stalls\\)</p> </li> </ul> <p>\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0cRead Miss Penalty = Write Miss Penalty\u3002\u5982\u679c\u5ffd\u7565Buffer Stall,\u90a3\u4e48Memory Stall Cycles = \\(\\frac{Memory}{Program} \\times Miss Rate \\times Miss Penalty\\)</p> <p>\u7ec3\u4e60</p> <p></p> Answer <p></p>"},{"location":"incourse/Comcompose/Ch5/#improving-cache-performance","title":"Improving Cache Performance","text":"<p>\u9996\u5148\uff0c\u8981\u51cf\u5c11Direct Mapped Cache\u7684\u4f7f\u7528\u3002\u56e0\u4e3a\u5b83\u7684Miss Rate\u5f88\u9ad8\uff0c\u800c\u4e14Miss Penalty\u4e5f\u5f88\u9ad8\u3002</p>"},{"location":"incourse/Comcompose/Ch5/#virtual-memory","title":"Virtual Memory","text":""},{"location":"incourse/Comcompose/Ch5/#\u4ecb\u7ecd","title":"\u4ecb\u7ecd","text":"<p>\u5728PPT\u4e2d\uff0c\u865a\u62df\u5185\u5b58\u88ab\u5b9a\u4e49\u4e3a\uff1a\u628a\u90a3\u4e9b\u5185\u5b58\u4e2d\u653e\u4e0d\u4e0b\u4e14\u4e0d\u7ecf\u5e38\u4f7f\u7528\u7684\u6570\u636e\u653e\u5230\u78c1\u76d8\u4e0a\uff0c\u4ece\u800c\u91ca\u653e\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u865a\u62df\u5185\u5b58\u8ba9\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u4ea7\u751f\u5e7b\u89c9:\u5b83\u6709\u4e00\u4e2a\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5206\u6563\u7684\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u6b63\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u8fdb\u7a0b\u5b9e\u9645\u4f7f\u7528\u7684\u5185\u5b58\u5730\u5740\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u7269\u7406\u5730\u5740(Physical Address)\u3002\u800c\u8fdb\u7a0b\u8ba4\u4e3a\u81ea\u5df1\u4f7f\u7528\u7684\u5185\u5b58\u5730\u5740\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u865a\u62df\u5730\u5740(Virtual Address)\u3002\u865a\u62df\u5730\u5740\u662f\u8fde\u7eed\u7684\uff0c\u800c\u7269\u7406\u5730\u5740\u662f\u5206\u6563\u7684\u3002\u800c\u865a\u62df\u5730\u5740\u7a7a\u95f4\u88ab\u5206\u4e3a\u591a\u4e2a\u9875(Page)\uff0c\u7269\u7406\u5730\u5740\u7a7a\u95f4\u88ab\u5206\u4e3a\u591a\u4e2a\u5e27(Frame)\u3002\u5728\u5b9e\u9645\u64cd\u4f5c\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u5c06\u865a\u62df\u5730\u5740\u6620\u5c04\u5230\u7269\u7406\u5730\u5740\u3002</p> <p>Warning</p> <p>\u5728PPT\u4e2d\uff0c\u5c06\u7269\u7406\u5730\u5740\u7a7a\u95f4\u5206\u4e3a\u4e86Physical Page.\u4f46\u662f\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u5c06\u7269\u7406\u5730\u5740\u7a7a\u95f4\u5206\u4e3a\u4e86Frame\u3002\u8fd9\u4e24\u8005\u662f\u7b49\u4ef7\u7684\u3002</p>"},{"location":"incourse/Comcompose/Ch5/#page-tables\u9875\u8868","title":"Page Tables\uff08\u9875\u8868\uff09","text":"<p>\u5728\u4e0a\u9762\u63d0\u5230\uff0c\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u8f6c\u6362\u662f\u4e00\u4e2a\u6620\u5c04\u7684\u8fc7\u7a0b\u3002\u8fd9\u4e2a\u6620\u5c04\u5173\u7cfb\u88ab\u5b58\u50a8\u5728\u9875\u8868(Page Table)\u4e2d\u3002\u9875\u8868\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u6570\u7ec4\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u662f\u4e00\u4e2a\u9875\u8868\u9879(Page Table Entry)\u3002\u9875\u8868\u9879\u5305\u542b\u4e86\u865a\u62df\u5730\u5740\u5230\u7269\u7406\u5730\u5740\u7684\u6620\u5c04\u5173\u7cfb\u3002</p> <p>\u865a\u62df\u5185\u5b58\u4e0e\u7269\u7406\u5185\u5b58\u7684\u5730\u5740\u4e0ecache\u7684\u5730\u5740\u7c7b\u4f3c\uff0c\u7531\u4e8e\u865a\u62df\u5185\u5b58\u662f\u7c7b\u4f3c\u4e8eFully Associative Cache\u7684\uff0c\u6240\u4ee5\u5176index\u7684\u4f4d\u6570\u662f0\u3002\u800ctag\u7684\u4f4d\u6570\u662f\\(\\log_2\\text{(Page\u7684\u4e2a\u6570)}\\)\uff0coffset\u7684\u4f4d\u6570\u662f\\(\\log_2\\text{(Page Size)}\\)\u3002</p> <p>PPT\u7684\u89e3\u91ca\u56fe\u5982\u4e0b\uff1a</p> <p>How large is the page table?</p> <p></p>"},{"location":"incourse/Comcompose/Ch5/#page-faults","title":"Page Faults","text":"<p>\u5728\u4ecb\u7ecd\u4e2d\u7684\u56fe\u7247\u53ef\u4ee5\u770b\u51fa\uff0c\u5b9e\u9645\u7684\u5168\u90e8Virtual Page\u53ef\u80fd\u5927\u4e8e\u5185\u5b58\u7684\u5bb9\u91cf\uff0c\u56e0\u6b64\u6709\u90e8\u5206\u9875\u4f1a\u653e\u5728\u786c\u76d8\u4e2d\u3002\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u8bbf\u95ee\u4e00\u4e2a\u4e0d\u5728\u5185\u5b58\u4e2d\u7684\u9875\u65f6\uff0c\u4f1a\u53d1\u751fPage Fault\u3002Page Fault\u662f\u4e00\u4e2a\u5f02\u5e38\uff0c\u4f1a\u6682\u505c\u8fdb\u7a0b\u7684\u6267\u884c\u3002\u5f53\u53d1\u751fPage Fault\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5c06\u8fd9\u4e2a\u9875\u4ece\u78c1\u76d8\u4e2d\u8bfb\u53d6\u5230\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u91cd\u65b0\u6267\u884c\u8fd9\u4e2a\u6307\u4ee4\u3002</p>"},{"location":"incourse/Comcompose/Ch5/#tlbtranslation-lookaside-buffer","title":"TLB(Translation Lookaside Buffer)","text":"<p>\u8ba9\u6211\u4eec\u6765\u601d\u8003\u4e00\u4e2a\u95ee\u9898\uff1a\u5f53\u6211\u4eec\u8981\u8bbf\u95ee\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u65f6\uff0c\u6211\u4eec\u9700\u8981\u73b0\u6839\u636e\u865a\u62df\u5730\u5740\u627e\u5230\u9875\u8868\u4e2dentry\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u518d\u6839\u636eentry\u4e2d\u7684\u7269\u7406\u5730\u5740\u627e\u5230\u7269\u7406\u5730\u5740\u3002\u7531\u4e8e\u9875\u8868\u662f\u5b58\u653e\u5728\u5185\u5b58\u4e2d\u7684\uff0c\u6240\u4ee5\u5728\u627eentry\u65f6\uff0c\u6211\u4eec\u5df2\u7ecf\u8bbf\u95ee\u4e86\u4e00\u6b21\u5185\u5b58\uff0c\u7136\u540e\u5728\u8bbf\u95ee\u771f\u6b63\u7684\u7269\u7406\u5730\u5740\u65f6\uff0c\u6211\u4eec\u53c8\u8bbf\u95ee\u4e86\u4e00\u6b21\u5185\u5b58\u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u6211\u4eec\u8fdb\u884c\u4e00\u6b21\u6620\u5c04\u9700\u8981\u8bbf\u95ee\u4e24\u6b21\u5185\u5b58\uff0c\u8fd9\u6837\u7684\u6548\u7387\u662f\u5f88\u4f4e\u7684\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u5f15\u5165\u4e86TLB\u3002TLB\u662f\u4e00\u4e2acache\uff0c\u5b58\u653e\u4e86\u9875\u8868\u4e2d\u7684\u4e00\u90e8\u5206entry\u3002\u5f53\u6211\u4eec\u8981\u8bbf\u95ee\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u65f6\uff0c\u6211\u4eec\u9996\u5148\u5728TLB\u4e2d\u67e5\u627e\uff0c\u5982\u679c\u627e\u5230\u4e86\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u7269\u7406\u5730\u5740\u3002\u5982\u679c\u6ca1\u6709\u627e\u5230\uff0c\u90a3\u4e48\u6211\u4eec\u518d\u53bb\u8bbf\u95ee\u5185\u5b58\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u65f6\uff0cTLB\u7684Block Replacement\u7b56\u7565\u662f\u662f\u81ea\u5b9a\u4e49\u7684\uff0c\u5e76\u4e14\u5b83\u6709\u4e00\u4e2avalid bit\u6765\u8868\u793a\u8fd9\u4e2aentry\u662f\u5426\u6709\u6548\uff0c\u8fd8\u6709\u4e00\u4e2adirty bit\u6765\u8868\u793a\u8fd9\u4e2aentry\u662f\u5426\u88ab\u4fee\u6539\u8fc7\uff0c\u4f7f\u7528Write Back\u7b56\u7565\u3002</p> <p>Miss \u603b\u7ed3</p> <p></p>"},{"location":"incourse/Comcompose/Ch6/","title":"Storage, Networks and Other Peripherals","text":"<p> \u7ea6 1346 \u4e2a\u5b57  11 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p> <p>\u4e0a\u9762\u7684\u8bbe\u5907\u7edf\u79f0\u4e3aI/O\u8bbe\u5907\uff0c\u5305\u62ec\u5b58\u50a8\u8bbe\u5907\u3001\u7f51\u7edc\u8bbe\u5907\u548c\u5176\u4ed6\u5916\u8bbe\u3002</p> <p>Three characters of I/O:</p> <ul> <li> <p>Behavior:Input (read once), output (write only, cannot  read) ,or storage (can be reread and usually rewritten)</p> </li> <li> <p>Partner:Either a human or a machine is at the other end of the I/O  device, either feeding data on input or reading data on  output.</p> </li> <li> <p>Data Rate:The peak rate at which data can be transferred between  the I/O device and the main memory or processor.</p> </li> </ul>"},{"location":"incourse/Comcompose/Ch6/#disk","title":"Disk","text":"<p>Disk\u7531platters(\u76d8\u7247), tracks(\u78c1\u9053), sectors(\u6247\u533a)\u7ec4\u6210\u3002\u6bcf\u4e2a\u6247\u533a\u7684\u5927\u5c0f\u901a\u5e38\u4e3a512\u5b57\u8282\u3002</p> <p>Info</p> platterstrackssectors <p></p> <p></p> <p></p> <p>Disk\u8bbf\u95ee\u7684\u65f6\u5305\u62ec:</p> <ul> <li> <p>Seek Time:\u78c1\u5934\u79fb\u52a8\u5230\u6307\u5b9a\u78c1\u9053\u7684\u65f6\u95f4</p> </li> <li> <p>Rotational Latency:\u7b49\u5f85\u6240\u9700\u6247\u533a\u65cb\u8f6c\u5230\u78c1\u5934\u4e0b\u7684\u65f6\u95f4</p> </li> <li> <p>Transfer Time:\u8bfb\u53d6\u6216\u5199\u5165\u6570\u636e\u7684\u65f6\u95f4</p> </li> <li> <p>Controller Time:\u63a7\u5236\u5668\u5904\u7406\u6570\u636e\u7684\u65f6\u95f4</p> </li> </ul>"},{"location":"incourse/Comcompose/Ch6/#measure","title":"Measure","text":"<ul> <li> <p>MTTF:Mean Time To Failure,\u5e73\u5747\u65e0\u6545\u969c\u65f6\u95f4</p> </li> <li> <p>MTTR:Mean Time To Repair,\u5e73\u5747\u4fee\u590d\u65f6\u95f4</p> </li> <li> <p>MTBF:Mean Time Between Failure = MTTF + MTTR,\u5e73\u5747\u6545\u969c\u95f4\u9694\u65f6\u95f4</p> </li> </ul> <p>\u6839\u636e\u4ee5\u4e0a\u91cf\uff0c\u6211\u4eec\u5b9a\u4e49Availability\u4e3a:</p> \\[ Availability = \\frac{MTTF}{MTTF + MTTR} \\] <p>\u6709\u4e09\u79cd\u65b9\u5f0f\u63d0\u9ad8MTTF:</p> <ol> <li> <p>Fault Avoidance:\u907f\u514d\u6545\u969c</p> </li> <li> <p>Fault Tolerance:\u5bb9\u9519,\u589e\u52a0\u5197\u4f59\u3002Using redundancy to allow the service to comply with the service specification despite faults occurring, which applies primarily to hardware faults\u3002</p> </li> <li> <p>Fault Forecasting:\u9884\u6d4b\u6545\u969c\uff0c\u9002\u7528\u4e8e\u786c\u4ef6\u4e0e\u8f6f\u4ef6\u6545\u969c</p> </li> </ol>"},{"location":"incourse/Comcompose/Ch6/#raid","title":"RAID","text":"<p>RAID(Redundant Array of Independent Disks)\u662f\u4e00\u79cd\u78c1\u76d8\u9635\u5217\u6280\u672f\uff0c\u901a\u8fc7\u5c06\u6570\u636e\u5206\u5e03\u5728\u591a\u4e2a\u78c1\u76d8\u4e0a\uff0c\u63d0\u9ad8\u6570\u636e\u7684\u53ef\u9760\u6027\u548c\u6027\u80fd\u3002</p> <p>\u5176\u53ef\u6982\u62ec\u5982\u4e0b:</p>"},{"location":"incourse/Comcompose/Ch6/#raid-0","title":"RAID 0","text":"<p>RAID 0\u662f\u6761\u5e26\u5316\u6280\u672f\uff0c\u5c06\u6570\u636e\u5757\u5206\u5e03\u5728\u591a\u4e2a\u78c1\u76d8\u4e0a\uff0c\u63d0\u9ad8\u8bfb\u5199\u6027\u80fd\u3002</p> <p>\u4f46\u662f\u5b83\u6ca1\u6709Redundancy\uff0c\u4e00\u65e6\u4e00\u4e2a\u78c1\u76d8\u635f\u574f\uff0c\u6240\u6709\u6570\u636e\u90fd\u4e22\u5931\u3002</p>"},{"location":"incourse/Comcompose/Ch6/#raid-1","title":"RAID 1","text":"<p>RAID 1\u662f\u955c\u50cf\u6280\u672f\uff0c\u6bcf\u4e00\u4e2a\u78c1\u76d8\u90fd\u6709\u5b83\u7684\u955c\u50cf\uff0c\u63d0\u9ad8\u4e86\u6570\u636e\u7684\u53ef\u9760\u6027\u3002</p> <p>\u4f46\u662f\u5b58\u50a8\u7a7a\u95f4\u6d6a\u8d39\u6bd4\u8f83\u4e25\u91cd\uff0c\u5e76\u4e14\u5199\u5165\u6027\u80fd\u8f83\u5dee\uff0c\u56e0\u4e3a\u9700\u8981\u540c\u65f6\u5199\u5165\u4e24\u4e2a\u78c1\u76d8\u3002</p>"},{"location":"incourse/Comcompose/Ch6/#raid-3","title":"RAID 3","text":"<p>RAID 3\u662f\u901a\u8fc7\u5947\u5076\u6821\u9a8c\u4f4d\u6765\u5b9e\u73b0\u5197\u4f59.\u5b83\u9700\u8981\u4e00\u4e2a\u989d\u5916\u7684\u76d8\u6765\u5b58\u50a8\u5947\u5076\u6821\u9a8c\u7684\u7ed3\u679c\u3002\u5f53\u4e00\u4e2a\u786c\u76d8\u635f\u574f\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u5947\u5076\u6821\u9a8c\u4f4d\u6765\u6062\u590d\u6570\u636e\u3002</p> <p>\u56fe\u4e2d\u7684P(Parity)\u662f\u5947\u5076\u6821\u9a8c\u76d8\u3002</p> <p>Question</p> <p>\u4e0a\u8bfe\u65f6\u6709\u4e00\u4e2a\u7591\u60d1:\u8fd9\u6837\u901a\u8fc7\u5947\u5076\u6821\u9a8c\u7684\u786c\u76d8\u600e\u4e48\u77e5\u9053\u54ea\u4e2a\u76d8\u574f\u4e86\u5462?\u56e0\u4e3a\u5947\u5076\u6821\u9a8c\u5bf9\u4e0d\u4e0a\u53ef\u80fd\u662f\u4efb\u4f55\u4e00\u4e2a\u76d8\u51fa\u73b0\u4e86\u95ee\u9898\u3002</p>"},{"location":"incourse/Comcompose/Ch6/#raid-4","title":"RAID 4","text":"<p>RAID 3\u5728Small Read(\u53ea\u8bfb\u4e00\u4e2a\u76d8)\u4e0a\u6027\u80fd\u8f83\u5dee\uff0c\u56e0\u4e3a\u6bcf\u6b21\u8bfb\u53d6\u90fd\u9700\u8981\u8bfb\u53d6\u5947\u5076\u6821\u9a8c\u76d8\u3002\u800c\u5728RAID 4\u4e2d\uff0c\u6bcf\u4e2aSector\u90fd\u6709\u81ea\u5df1\u7684Error Detection,\u8fd9\u6837\u5c31\u53ef\u4ee5\u540c\u65f6\u8bfb\u591a\u4e2a\u786c\u76d8\u3002</p> <p>RAID\u5199\u5165\u7684\u8fc7\u7a0b\u5982\u4e0b:</p> <p>\u4f46\u662f\uff0cRAID 4\u8fd8\u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff0c\u4f8b\u5982\u5728\u540c\u65f6\u5199\u5165\u4e0a\u9762\u7684D0\u548cD5\u65f6\uff0c\u7531\u4e8e\u5b83\u4eec\u90fd\u540c\u65f6\u8981\u5199\u5165P\u76d8\uff0c\u8fd9\u6837\u5c31\u4f1a\u9020\u6210P\u76d8\u7684\u5199\u5165\u51b2\u7a81\u3002</p>"},{"location":"incourse/Comcompose/Ch6/#raid-5","title":"RAID 5","text":"<p>RAID\u7684\u6539\u8fdb\u5728\u4e8e\u5b83\u5c06\u5947\u5076\u6821\u9a8c\u76d8\u4ea4\u9519\u653e\u7f6e\uff0c\u8fd9\u6837\u5c31\u907f\u514d\u4e86RAID 4\u7684\u5199\u5165\u51b2\u7a81\u3002</p>"},{"location":"incourse/Comcompose/Ch6/#raid-6","title":"RAID 6","text":"<p>When a single failure correction is not  sufficient, Parity can be generalized to  have a second calculation over data and  anther check disk of information.</p>"},{"location":"incourse/Comcompose/Ch6/#bus","title":"Bus","text":"<p>\u4e00\u4e2a\u603b\u7ebf\u901a\u5e38\u7531\u4e24\u90e8\u5206\u7ec4\u6210:</p> <ul> <li> <p>Control Lines:signal requests and acknowledgments,  and to indicate what types of information is on the data  lines</p> </li> <li> <p>Data Lines:carry information (e.g., data, addresses, and  complex commands) between the source and the destination.</p> </li> </ul> <p>\u603b\u7ebf\u7684\u4f20\u8f93\u6709\u4e24\u90e8\u5206:\u4f20\u8f93\u5730\u5740\uff0c\u9001/\u6536\u6570\u636e</p> <p>Definition</p> <p>input :inputting data from the device to memory</p> <p>output :outputting data to a device from memory</p> <p>\u5f02\u6b65\u65f6\u949f\u7684\u603b\u7ebf\u901a\u8fc7\u63e1\u624b\u534f\u8bae\u6765\u8fdb\u884c\u6570\u636e\u4f20\u8f93\u3002</p>"},{"location":"incourse/Comcompose/Ch6/#bus-arbitration","title":"Bus Arbitration","text":"<p>\u603b\u7ebf\u4ef2\u88c1\u662f\u6307\u591a\u4e2a\u8bbe\u5907\u540c\u65f6\u8bf7\u6c42\u603b\u7ebf\u65f6\uff0c\u5982\u4f55\u51b3\u5b9a\u54ea\u4e2a\u8bbe\u5907\u53ef\u4ee5\u4f7f\u7528\u603b\u7ebf\u3002</p> <ul> <li> <p>Centralized Arbitration:\u7531\u4e00\u4e2a\u4e2d\u5fc3\u8bbe\u5907\u6765\u51b3\u5b9a\u54ea\u4e2a\u8bbe\u5907\u53ef\u4ee5\u4f7f\u7528\u603b\u7ebf</p> </li> <li> <p>Self Selection:\u8bbe\u5907\u81ea\u5df1\u51b3\u5b9a\u662f\u5426\u53ef\u4ee5\u4f7f\u7528\u603b\u7ebf</p> </li> <li> <p>Daisy Chain:\u8bbe\u5907\u6309\u7167\u987a\u5e8f\u6765\u51b3\u5b9a\u662f\u5426\u53ef\u4ee5\u4f7f\u7528\u603b\u7ebf</p> </li> <li> <p>Collision Detection:\u8bbe\u5907\u68c0\u6d4b\u5230\u51b2\u7a81\u540e\uff0c\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u518d\u6b21\u8bf7\u6c42\u603b\u7ebf</p> </li> </ul> <p>\u4ef2\u88c1\u9700\u8981\u8003\u8651\u4f18\u5148\u7ea7\u4e0e\u516c\u5e73\u6027\u3002</p>"},{"location":"incourse/Comcompose/Ch6/#io\u4e0e\u5176\u4ed6\u8bbe\u5907\u4ea4\u4e92","title":"I/O\u4e0e\u5176\u4ed6\u8bbe\u5907\u4ea4\u4e92","text":"<p>I/O\u6709\u4e09\u79cd\u4ea4\u6d41\u662f\u5fc5\u5907\u7684:</p> <ol> <li> <p>\u64cd\u4f5c\u7cfb\u7edf\u5fc5\u987b\u80fd\u7ed9I/O\u8bbe\u5907\u53d1\u9001\u547d\u4ee4</p> </li> <li> <p>\u8bbe\u5907\u5fc5\u987b\u80fd\u591f\u5728 I/O \u8bbe\u5907\u5b8c\u6210\u64cd\u4f5c\u6216\u9047\u5230\u9519\u8bef\u65f6\u901a\u77e5\u64cd\u4f5c\u7cfb\u7edf</p> </li> <li> <p>\u6570\u636e\u5fc5\u987b\u80fd\u5728\u5185\u5b58\u4e0eI/O\u4e4b\u95f4\u4f20\u8f93</p> </li> </ol>"},{"location":"incourse/Comcompose/Ch6/#io\u4e0e\u5904\u7406\u5668\u4ea4\u4e92","title":"I/O\u4e0e\u5904\u7406\u5668\u4ea4\u4e92","text":"<p>\u6709\u4e09\u79cd\u65b9\u5f0f:</p> <ol> <li> <p>Polling:\u5904\u7406\u5668\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u8be2\u95eeI/O\u8bbe\u5907\u662f\u5426\u5b8c\u6210\u64cd\u4f5c(\u68c0\u67e5status bit)\uff0c\u80fd\u5426\u8fdb\u884c\u4e0b\u4e00\u4e2aI/O\u64cd\u4f5c</p> </li> <li> <p>Interrupts:I/O\u8bbe\u5907\u5b8c\u6210\u64cd\u4f5c\u540e\uff0c\u5411\u5904\u7406\u5668\u53d1\u9001\u4e2d\u65ad\u4fe1\u53f7\uff0c\u5904\u7406\u5668\u6682\u505c\u5f53\u524d\u64cd\u4f5c\uff0c\u5904\u7406\u4e2d\u65ad</p> </li> <li> <p>DMA:Direct Memory Access,\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee\uff0cI/O\u8bbe\u5907\u76f4\u63a5\u8bbf\u95ee\u5185\u5b58\uff0c\u4e0d\u9700\u8981\u5904\u7406\u5668\u53c2\u4e0e</p> </li> </ol>"},{"location":"incourse/Comcompose/Ch6/#polling","title":"Polling","text":"<p>\u7f3a\u70b9\u662f\u5904\u7406\u5668\u9700\u8981\u4e0d\u65ad\u8be2\u95eeI/O\u8bbe\u5907\u662f\u5426\u5b8c\u6210\u64cd\u4f5c\uff0c\u6d6a\u8d39CPU\u65f6\u95f4\u3002</p>"},{"location":"incourse/Comcompose/Ch6/#interrupts","title":"Interrupts","text":"<p>\u5982\u56fe:</p>"},{"location":"incourse/Comcompose/Ch6/#dma","title":"DMA","text":"<p>DMA\u7684\u8fc7\u7a0b\u5982\u4e0b:</p> <p>\u8fd9\u91cc\uff0cCPU\u53ea\u8d1f\u8d23\u544a\u8bc9DMA\u4ec0\u4e48\u65f6\u5019\u8981\u8bfb\u5199\uff0cDMA\u8d1f\u8d23\u5b9e\u9645\u7684\u8bfb\u5199\u64cd\u4f5c\u3002\u7528\u6587\u5b57\u63cf\u8ff0\u7684\u8bdd\uff0c\u662f\u4ee5\u4e0b\u4e09\u6b65:</p> <ol> <li> <p>\u5904\u7406\u5668\u901a\u8fc7\u63d0\u4f9b\u8bbe\u5907\u6807\u8bc6\u3001\u64cd\u4f5c\u7c7b\u578b\u3001\u4f5c\u4e3a\u6570\u636e\u4f20\u8f93\u6e90\u6216\u76ee\u6807\u7684\u5185\u5b58\u5730\u5740\u4ee5\u53ca\u4f20\u8f93\u5b57\u8282\u6570\u7b49\u4fe1\u606f\u6765\u914d\u7f6eDMA\u3002</p> </li> <li> <p>DMA\u63a7\u5236\u5668\u901a\u8fc7\u603b\u7ebf\u8bf7\u6c42\u603b\u7ebf\u63a7\u5236\u6743\uff0c\u7136\u540e\u5c06\u6570\u636e\u4ece\u8bbe\u5907\u4f20\u8f93\u5230\u5185\u5b58\u6216\u4ece\u5185\u5b58\u4f20\u8f93\u5230\u8bbe\u5907\u3002</p> </li> <li> <p>\u4f20\u8f93\u5b8c\u6210\u540e\uff0cDMA\u63a7\u5236\u5668\u901a\u8fc7\u4e2d\u65ad\u901a\u77e5\u5904\u7406\u5668\uff0c\u5904\u7406\u5668\u68c0\u67e5\u4e2d\u65ad\uff0c\u5224\u65ad\u662f\u6210\u529f\u8fd8\u662f\u51fa\u73b0error\u3002</p> </li> </ol>"},{"location":"incourse/db/","title":"\u6765\u8fa3","text":"<p> \u7ea6 11 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>          \u6211\u80fd\u8d76\u5b8c\u8fd9\u4e2addl\u5417\uff1f      </p>"},{"location":"incourse/db/ch1/","title":"Chapter 1: Introduction","text":"<p> \u7ea6 2361 \u4e2a\u5b57  12 \u884c\u4ee3\u7801  4 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p>"},{"location":"incourse/db/ch1/#\u5f15\u8a00","title":"\u5f15\u8a00","text":"<p>\u5728\u65e9\u671f,\u6570\u636e\u5e93\u5e94\u7528\u662f\u5efa\u7acb\u5728\u6587\u4ef6\u7cfb\u7edf\u4e4b\u4e0a\u7684\u3002\u8fd9\u6837\u6709\u4ee5\u4e0b\u95ee\u9898:</p> <ul> <li> <p>\u6570\u636e\u5197\u4f59(Data Redundancy)\u4e0e\u4e0d\u4e00\u81f4\u6027(Inconsistency):</p> <ul> <li> <p>\u6570\u636e\u5197\u4f59\u662f\u6307\u6570\u636e\u5728\u591a\u4e2a\u5730\u65b9\u5b58\u50a8,\u9020\u6210\u6570\u636e\u5197\u4f59\u3002\u4f8b\u5982,\u5982\u679c\u4e00\u4e2a\u5b66\u751f\u7684\u4e13\u4e1a\u662f\u6570\u5b66\u4e0e\u97f3\u4e50,\u90a3\u4e48\u8fd9\u4e2a\u5b66\u751f\u7684\u4fe1\u606f\u5c31\u4f1a\u5728\u4e24\u4e2a\u5730\u65b9\u5b58\u50a8\u3002</p> </li> <li> <p>\u8fd9\u6837\u7684\u5b58\u50a8\u65b9\u5f0f\u8fd8\u4f1a\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4.\u56e0\u4e3a\u5728\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b,\u4fee\u6539\u4e00\u4e2a\u6570\u636e\u9700\u8981\u5728\u6240\u6709\u6587\u4ef6\u5185\u4fee\u6539,\u5982\u679c\u51fa\u73b0\u9057\u6f0f,\u90a3\u4e48\u6570\u636e\u5c31\u4f1a\u4e0d\u4e00\u81f4\u3002</p> </li> </ul> </li> <li> <p>\u6570\u636e\u9694\u79bb(Data Isolation):</p> <ul> <li>\u6570\u636e\u9694\u79bb\u662f\u6307\u7531\u4e8e\u6587\u4ef6\u79cd\u7c7b\u4e0e\u6570\u76ee\u7e41\u591a,\u6570\u636e\u5206\u6563,\u5bfc\u81f4\u6570\u636e\u96be\u4ee5\u8bbf\u95ee\u3002</li> <li>\u8fd9\u540c\u65f6\u4e5f\u5bfc\u81f4\u4e86\u5b58\u53d6\u6570\u636e\u56f0\u96be(Data Access Difficulty)\u3002</li> </ul> </li> <li> <p>\u5b8c\u6574\u6027\u95ee\u9898(Integrity Problems):</p> <ul> <li>\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u5b8c\u6574\u6027\u662f\u6307\u6570\u636e\u7684\u6b63\u786e\u6027\u4e0e\u4e00\u81f4\u6027\u3002\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d,\u7531\u4e8e\u6570\u636e\u5206\u6563,\u6570\u636e\u7684\u5b8c\u6574\u6027\u96be\u4ee5\u4fdd\u8bc1\u3002</li> <li>\u5f53\u5b8c\u6574\u6027\u7ea6\u675f(\u5982\u201cbalance &gt;= 1\u201d)\u53ea\u5b58\u5728\u4e8e\u7a0b\u5e8f\u4ee3\u7801\u800c\u975e\u5728\u6570\u636e\u5e93\u4e2d\u663e\u5f0f\u58f0\u660e\u65f6,\u65b0\u589e\u6216\u4fee\u6539\u8fd9\u4e9b\u7ea6\u675f\u9700\u8981\u4fee\u6539\u591a\u5904\u4ee3\u7801,\u7ef4\u62a4\u96be\u5ea6\u5927\u4e14\u6613\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002</li> </ul> </li> <li> <p>\u539f\u5b50\u6027\u95ee\u9898(Atomicity Problems):</p> <ul> <li>\u539f\u5b50\u6027\u95ee\u9898\u5176\u5b9e\u548c\u5b8c\u6574\u6027\u95ee\u9898\u5f88\u7c7b\u4f3c\u3002\u539f\u5b50\u6027\u95ee\u9898\u662f\u6307\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d,\u7531\u4e8e\u6570\u636e\u5206\u6563,\u6570\u636e\u7684\u539f\u5b50\u6027\u96be\u4ee5\u4fdd\u8bc1\u3002\u4f8b\u5982,\u5728\u4e00\u6b21\u8f6c\u8d26\u4e2d,A\u8f6c\u51fa\u94b1\u4e0eB\u6536\u5230\u94b1\u5fc5\u987b\u540c\u65f6\u53d1\u751f\u6216\u540c\u65f6\u53d6\u6d88,\u5426\u5219\u4f1a\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002</li> </ul> </li> <li> <p>\u5e76\u53d1\u8bbf\u95ee\u5f02\u5e38(Concurrent Access Anomalies):</p> <ul> <li>\u5e76\u53d1\u95ee\u9898\u662f\u6307\u5728\u591a\u4e2a\u7528\u6237\u540c\u65f6\u8bbf\u95ee\u6570\u636e\u5e93\u65f6,\u7531\u4e8e\u6570\u636e\u5206\u6563,\u6570\u636e\u7684\u5e76\u53d1\u8bbf\u95ee\u96be\u4ee5\u4fdd\u8bc1\u3002\u4f8b\u5982,\u5728\u591a\u4e2a\u7528\u6237\u540c\u65f6\u8bbf\u95ee\u6570\u636e\u5e93\u65f6,\u5982\u679c\u4e0d\u52a0\u63a7\u5236,\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002    </li> </ul> </li> <li> <p>\u5b89\u5168\u6027\u95ee\u9898(Security Problems):</p> <ul> <li>\u4e0d\u540c\u7684\u7528\u6237\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u6743\u9650,\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d,\u7531\u4e8e\u6570\u636e\u5206\u6563,\u6570\u636e\u7684\u5b89\u5168\u6027\u96be\u4ee5\u4fdd\u8bc1\u3002</li> </ul> </li> </ul> <p>\u5728\u8fd9\u6837\u7684\u60c5\u5f62\u4e0b,\u6570\u636e\u5e93\u7cfb\u7edf\u5e94\u8fd0\u800c\u751f.</p>"},{"location":"incourse/db/ch1/#views-of-data","title":"Views of Data","text":""},{"location":"incourse/db/ch1/#\u6570\u636e\u62bd\u8c61","title":"\u6570\u636e\u62bd\u8c61","text":"<p>\u4e3a\u4e86\u4f7f\u5f97\u7528\u6237\u80fd\u4fbf\u6377\u5730\u4f7f\u7528\u6570\u636e\u5e93,\u540c\u65f6\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u7ef4\u62a4\u4e0e\u66f4\u65b0\u6570\u636e\u5e93,\u6211\u4eec\u5c06\u6570\u636e\u5e93\u62bd\u8c61\u4e3a\u4e09\u4e2a\u5c42\u6b21:</p> <ol> <li> <p>Physical Level(\u7269\u7406\u5c42): \u6570\u636e\u5e93\u7684\u6700\u4f4e\u5c42\u6b21,\u63cf\u8ff0\u4e86\u6570\u636e\u5728\u78c1\u76d8\u4e0a\u7684\u5b58\u50a8\u65b9\u5f0f\u3002</p> </li> <li> <p>Logical Level(\u903b\u8f91\u5c42): \u6570\u636e\u5e93\u7684\u4e2d\u95f4\u5c42\u6b21,\u63cf\u8ff0\u4e86\u6570\u636e\u7684\u903b\u8f91\u7ed3\u6784,\u5373\u6570\u636e\u5e93\u4e2d\u5b58\u5728\u4ec0\u4e48\u6570\u636e,\u4ee5\u53ca\u6570\u636e\u4e4b\u95f4\u7684\u8054\u7cfb\u3002</p> </li> <li> <p>View Level(\u89c6\u56fe\u5c42): \u6570\u636e\u5e93\u7684\u6700\u9ad8\u5c42\u6b21,\u63cf\u8ff0\u4e86\u7528\u6237\u6240\u89c1\u5230\u7684\u6570\u636e\u3002\u4e00\u4e2a\u6570\u636e\u5e93\u7cfb\u7edf\u5b58\u5728\u591a\u4e2a\u89c6\u56fe,\u6bcf\u4e2a\u7528\u6237\u53ef\u4ee5\u770b\u5230\u4e0d\u540c\u7684\u89c6\u56fe\u3002</p> </li> </ol> <p>\u8fd9\u4e09\u4e2a\u5c42\u6b21\u5173\u7cfb\u5982\u4e0b\u56fe:</p>"},{"location":"incourse/db/ch1/#\u6570\u636e\u6a21\u5f0f\u4e0e\u5b9e\u4f8bschema-and-instance","title":"\u6570\u636e\u6a21\u5f0f\u4e0e\u5b9e\u4f8b(Schema and Instance)","text":"<p>Schema\u4e0eInstance\u7684\u5173\u7cfb\u7c7b\u4f3c\u4e8etype\u4e0evariable\u7684\u5173\u7cfb\u3002</p> <ul> <li> <p>Schema(\u6a21\u5f0f): \u63cf\u8ff0\u4e86\u6570\u636e\u5e93\u7684\u903b\u8f91\u7ed3\u6784,\u5373\u6570\u636e\u5e93\u4e2d\u5b58\u5728\u4ec0\u4e48\u6570\u636e,\u4ee5\u53ca\u6570\u636e\u4e4b\u95f4\u7684\u8054\u7cfb\u3002</p> </li> <li> <p>Instance(\u5b9e\u4f8b): \u63cf\u8ff0\u4e86\u6570\u636e\u5e93\u4e2d\u7684\u5177\u4f53\u6570\u636e\u3002</p> </li> </ul> <p>\u4f8b\u5982,\u4e0b\u56fe\u662f\u4e00\u4e2a\u5b66\u751f\u6570\u636e\u5e93\u7684Schema:</p> <pre><code>Student(sid: string, name: string, login: string, age: integer, gpa: real)\n</code></pre> <p>\u4e0b\u8868\u5c55\u793a\u4e86\u5b66\u751f\u6570\u636e\u5e93\u7684Instance\uff1a</p> sid name login age gpa 53688 Smith smith 18 3.2 53689 Jones jones 19 3.4 53690 Smith smith 18 3.2"},{"location":"incourse/db/ch1/#data-independence\u6570\u636e\u72ec\u7acb\u6027","title":"Data Independence(\u6570\u636e\u72ec\u7acb\u6027)","text":"<p>\u6570\u636e\u72ec\u7acb\u6027\u662f\u6307\u6570\u636e\u5e93\u7684\u4e09\u4e2a\u5c42\u6b21\u4e4b\u95f4\u7684\u72ec\u7acb\u6027\u3002</p> <ul> <li> <p>Physical Data Independence(\u7269\u7406\u6570\u636e\u72ec\u7acb\u6027): \u662f\u6307\u6570\u636e\u5e93\u7684\u7269\u7406\u5c42\u4e0e\u903b\u8f91\u5c42\u4e4b\u95f4\u7684\u72ec\u7acb\u6027\u3002\u5373,\u6570\u636e\u5e93\u7684\u903b\u8f91\u5c42\u4e0d\u4f9d\u8d56\u4e8e\u6570\u636e\u5e93\u7684\u7269\u7406\u5c42\u3002\u5f53\u4fee\u6539\u7269\u7406\u5c42\u65f6,\u65e0\u9700\u4fee\u6539\u903b\u8f91\u5c42\u4f7f\u4e4b\u9002\u914d.</p> </li> <li> <p>Logical Data Independence(\u903b\u8f91\u6570\u636e\u72ec\u7acb\u6027): \u662f\u6307\u6570\u636e\u5e93\u7684\u903b\u8f91\u5c42\u4e0e\u89c6\u56fe\u5c42\u4e4b\u95f4\u7684\u72ec\u7acb\u6027\u3002\u5373,\u6570\u636e\u5e93\u7684\u89c6\u56fe\u5c42\u4e0d\u4f9d\u8d56\u4e8e\u6570\u636e\u5e93\u7684\u903b\u8f91\u5c42\u3002\u5f53\u4fee\u6539\u903b\u8f91\u5c42\u65f6,\u65e0\u9700\u4fee\u6539\u89c6\u56fe\u5c42\u4f7f\u4e4b\u9002\u914d\u3002</p> </li> </ul>"},{"location":"incourse/db/ch1/#data-models\u6570\u636e\u6a21\u578b","title":"Data Models(\u6570\u636e\u6a21\u578b)","text":"<p>\u6570\u636e\u6a21\u578b\u7528\u4e8e\u63cf\u8ff0\u6570\u636e\u3001\u6570\u636e\u4e4b\u95f4\u7684\u8054\u7cfb\u3001\u6570\u636e\u8bed\u4e49\u4ee5\u53ca\u4e00\u81f4\u6027\u7ea6\u675f\u7684\u6982\u5ff5\u5de5\u5177\u3002\u5e38\u89c1\u7684\u6570\u636e\u6a21\u578b\u5305\u62ec\uff1a</p> <ol> <li> <p>\u5173\u7cfb\u6a21\u578b(Relational Model): </p> <ul> <li>\u5b9a\u4e49: \u4ee5\u4e8c\u7ef4\u8868\u7684\u5f62\u5f0f\u7ec4\u7ec7\u6570\u636e\uff0c\u6bcf\u4e2a\u8868\u7531\u884c(\u8bb0\u5f55)\u548c\u5217(\u5c5e\u6027)\u7ec4\u6210\u3002\u5f53\u7136,\u5b83\u4eec\u4e5f\u6709\u4e00\u4e2a\u9ad8\u7ea7\u7684\u540d\u79f0:\u5217\u662f\u5c5e\u6027(Attribute),\u884c\u662f\u5143\u7ec4(Tuple)\u3002\u5982\u4e0b\u56fe\u6240\u793a:      </li> <li>\u7279\u70b9: <ul> <li>\u6570\u636e\u7ed3\u6784\u5316\u7ba1\u7406</li> <li>\u4f7f\u7528 SQL \u8bed\u8a00\u8fdb\u884c\u6570\u636e\u67e5\u8be2\u4e0e\u64cd\u4f5c</li> <li>\u5f3a\u8c03\u6570\u636e\u5b8c\u6574\u6027\u4e0e\u4e8b\u52a1\u5904\u7406  </li> </ul> </li> <li>\u793a\u4f8b: <pre><code>Student(sid: string, name: string, login: string, age: integer, gpa: real)\n</code></pre></li> </ul> </li> <li> <p>\u5b9e\u4f53-\u5173\u7cfb\u6a21\u578b(Entity-Relationship Model): </p> <ul> <li>\u5b9a\u4e49: \u5229\u7528\u5b9e\u4f53\u3001\u5c5e\u6027\u548c\u5b9e\u4f53\u95f4\u7684\u5173\u7cfb\u6765\u63cf\u8ff0\u73b0\u5b9e\u4e16\u754c\u4e2d\u7684\u6570\u636e\u3002  </li> <li>\u7279\u70b9: <ul> <li>\u66f4\u8d34\u8fd1\u4e1a\u52a1\u6982\u5ff5</li> <li>\u5e38\u7528\u4e8e\u9700\u6c42\u5206\u6790\u548c\u6570\u636e\u5e93\u6982\u5ff5\u5efa\u6a21  </li> </ul> </li> <li>\u793a\u4f8b: <ul> <li>\u5b9e\u4f53\uff1a\u5b66\u751f(Student)</li> <li>\u5c5e\u6027\uff1asid\u3001name\u3001age \u7b49</li> <li>\u5173\u7cfb\uff1a\u5b66\u751f\u4e0e\u8bfe\u7a0b\u4e4b\u95f4\u7684\u9009\u4fee\u5173\u7cfb  </li> </ul> </li> </ul> </li> <li> <p>\u57fa\u4e8e\u5bf9\u8c61\u7684\u6570\u636e\u6a21\u578b(Object-Based Data Model):     \u7ed3\u5408\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u601d\u60f3\uff0c\u628a\u5bf9\u8c61\u3001\u7c7b\u3001\u65b9\u6cd5\u7b49\u5f15\u5165\u6570\u636e\u7ba1\u7406\u4e2d\uff0c\u4e3b\u8981\u5206\u4e3a\u4e24\u79cd\u5f62\u5f0f\uff1a  </p> <ul> <li> <p>\u9762\u5411\u5bf9\u8c61\u6570\u636e\u6a21\u578b(Object-Oriented Data Model): </p> <ul> <li>\u5b9a\u4e49: \u5c06\u6570\u636e\u89c6\u4e3a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u5305\u542b\u72b6\u6001\u548c\u884c\u4e3a\u3002  </li> <li>\u7279\u70b9: <ul> <li>\u652f\u6301\u590d\u6742\u6570\u636e\u7c7b\u578b</li> <li>\u7ee7\u627f\u3001\u591a\u6001\u3001\u5c01\u88c5\u7b49\u9762\u5411\u5bf9\u8c61\u7279\u6027  </li> </ul> </li> </ul> </li> <li> <p>\u9762\u5411\u5bf9\u8c61-\u5173\u7cfb\u6570\u636e\u6a21\u578b(Object-Relational Data Model): </p> <ul> <li>\u5b9a\u4e49: \u5728\u5173\u7cfb\u6a21\u578b\u7684\u57fa\u7840\u4e0a\u5f15\u5165\u9762\u5411\u5bf9\u8c61\u7684\u6269\u5c55\uff0c\u5982\u7528\u6237\u81ea\u5b9a\u4e49\u6570\u636e\u7c7b\u578b\u548c\u65b9\u6cd5\u3002  </li> <li>\u7279\u70b9: <ul> <li>\u517c\u5177\u5173\u7cfb\u6570\u636e\u5e93\u7684\u7b80\u6d01\u6027\u4e0e\u9762\u5411\u5bf9\u8c61\u6570\u636e\u5e93\u7684\u7075\u6d3b\u6027  </li> </ul> </li> </ul> </li> </ul> </li> <li> <p>\u534a\u7ed3\u6784\u5316\u6570\u636e\u6a21\u578b(Semi-Structured Data Model): </p> <ul> <li>\u5b9a\u4e49: \u4e3b\u8981\u7528\u4e8e\u63cf\u8ff0\u90e8\u5206\u6709\u7ec4\u7ec7\u4f46\u4e0d\u4e25\u683c\u4f9d\u8d56\u56fa\u5b9a\u6a21\u5f0f\u7684\u6570\u636e\uff0c\u5e38\u89c1\u683c\u5f0f\u5305\u62ec XML \u4e0e JSON\u3002  </li> <li>\u7279\u70b9: <ul> <li>\u7075\u6d3b\u6027\u9ad8\uff0c\u4e0d\u5f3a\u5236\u8981\u6c42\u56fa\u5b9a\u7ed3\u6784  </li> <li>\u540c\u65f6\u517c\u987e\u6570\u636e\u81ea\u63cf\u8ff0\u548c\u6570\u636e\u4ea4\u6362\u7684\u9700\u6c42  </li> </ul> </li> </ul> </li> </ol>"},{"location":"incourse/db/ch1/#\u6570\u636e\u5e93\u8bed\u8a00","title":"\u6570\u636e\u5e93\u8bed\u8a00","text":"<p>\u6570\u636e\u5e93\u8bed\u8a00\u5206\u4e3aData Definition Language (DDL)\u4e0eData Manipulation Language (DML) \u4e24\u79cd\u5b9e\u9645\u4e0a,\u8fd9\u4e24\u79cd\u8bed\u8a00\u662f\u76f8\u4e92\u8054\u7cfb\u7684,\u5b83\u4eec\u5171\u540c\u6784\u6210\u4e86\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u8bed\u8a00\u7cfb\u7edf(\u4f8b\u5982SQL)\u3002</p>"},{"location":"incourse/db/ch1/#data-definition-language-ddl","title":"Data Definition Language (DDL)","text":"<p>DDL\u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u5e93\u7684\u903b\u8f91\u7ed3\u6784,\u5305\u62ec\u8868\u7684\u521b\u5efa\u3001\u5220\u9664\u3001\u4fee\u6539\u7b49\u3002 \u4f8b\u5982:</p> <pre><code>```sql\nCREATE TABLE Student(\n    sid CHAR(20),\n    name CHAR(20),\n    login CHAR(10),\n    age INTEGER,\n    gpa REAL\n)\n```\n</code></pre> \u5728\u5b9e\u9645\u5e94\u7528\u4e2d,\u5b9e\u9645\u7684\u6570\u636e,\u6bd4\u5982\u5b66\u751f\u7684\u59d3\u540d\u5f53\u7136\u662f\u6570\u636e,\u90a3\u8fd9\u4e9b\u5b9a\u4e49\u6570\u636e\u7684\u8bed\u53e5\u662f\u4ec0\u4e48\u5462 <p>\u8fd9\u4e9b\u6570\u636e\u88ab\u79f0\u4e3aMetadata(\u5143\u6570\u636e),\u5b83\u4eec\u662f\u7528\u6765\u63cf\u8ff0\u6570\u636e\u7684\u6570\u636e(Data about data)\u3002\u5b83\u4eec\u88ab\u5b58\u50a8\u5728data dictionary(\u6570\u636e\u5b57\u5178)\u4e2d\u3002</p> <p>Metadata\u5305\u62ec:</p> <ul> <li> <p>Database Schema(\u6570\u636e\u5e93\u6a21\u5f0f): \u63cf\u8ff0\u4e86\u6570\u636e\u5e93\u7684\u903b\u8f91\u7ed3\u6784\u3002</p> </li> <li> <p>Integrity Constraints(\u5b8c\u6574\u6027\u7ea6\u675f): \u5b9a\u4e49\u6570\u636e\u5fc5\u987b\u9075\u5b88\u7684\u89c4\u5219\u548c\u6761\u4ef6.</p> </li> <li> <p>Authorization (\u6743\u9650): \u5b9a\u4e49\u4e86\u7528\u6237\u5bf9\u6570\u636e\u5e93\u7684\u8bbf\u95ee\u6743\u9650\u3002</p> </li> <li> <p>Primary Key(\u4e3b\u952e): \u7528\u4e8e\u552f\u4e00\u6807\u8bc6\u8868\u4e2d\u7684\u6bcf\u4e00\u884c\u6570\u636e\u3002</p> </li> <li> <p>Referential Integrity(\u53c2\u7167\u5b8c\u6574\u6027): \u7528\u4e8e\u4fdd\u8bc1\u8868\u4e4b\u95f4\u7684\u6570\u636e\u4e00\u81f4\u6027\u3002</p> </li> </ul>"},{"location":"incourse/db/ch1/#data-manipulation-language-dml","title":"Data Manipulation Language (DML)","text":"<p>DML\u7528\u4e8e\u67e5\u8be2\u3001\u63d2\u5165\u3001\u5220\u9664\u3001\u4fee\u6539\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u3002\u4f8b\u5982:</p> <pre><code>SELECT name\nFROM Student\nWHERE age &gt; 18\n</code></pre> <p>\u4e0a\u9762\u7684\u8bed\u53e5\u7528\u4e8e\u67e5\u8be2\u5e74\u9f84\u5927\u4e8e18\u5c81\u7684\u5b66\u751f\u7684\u59d3\u540d\u3002</p> <p>\u6709\u4e24\u79cd\u4e3b\u8981\u7684DML\u8bed\u8a00:</p> <ol> <li> <p>\u8fc7\u7a0b\u5f0f\u8bed\u8a00(Procedural Language): </p> <ul> <li>\u901a\u8fc7\u7f16\u5199\u7a0b\u5e8f\u6765\u63cf\u8ff0\u6570\u636e\u7684\u64cd\u4f5c\u8fc7\u7a0b\u3002  </li> <li>\u4f8b\u5982,SQL\u4e2d\u7684PL/SQL\u3001T-SQL\u7b49\u3002</li> </ul> </li> <li> <p>\u975e\u8fc7\u7a0b\u5f0f\u8bed\u8a00(Declarative Language):</p> <ul> <li>\u901a\u8fc7\u63cf\u8ff0\u6570\u636e\u7684\u7ed3\u679c\u6765\u5b9e\u73b0\u6570\u636e\u7684\u64cd\u4f5c\u3002  </li> <li>\u4f8b\u5982,SQL\u4e2d\u7684SELECT\u8bed\u53e5\u3002</li> </ul> </li> </ol>"},{"location":"incourse/db/ch1/#database-access-from-application-program","title":"Database Access from Application Program","text":"<p>\u6570\u636e\u5e93\u7cfb\u7edf\u63d0\u4f9b\u4e86API(Application Programming Interface)\u6765\u8ba9\u5e94\u7528\u7a0b\u5e8f\u8bbf\u95ee\u6570\u636e\u5e93\u3002\u5e38\u89c1\u7684API\u6709:</p> <ol> <li> <p>Embedded SQL: </p> <ul> <li>\u5c06SQL\u8bed\u53e5\u5d4c\u5165\u5230\u5e94\u7528\u7a0b\u5e8f\u4e2d\u3002  </li> <li>\u4f8b\u5982,\u5728C\u8bed\u8a00\u4e2d\u4f7f\u7528<code>EXEC SQL</code>\u8bed\u53e5\u3002</li> </ul> </li> <li> <p>ODBC(Open Database Connectivity):</p> </li> <li> <p>JDBC(Java Database Connectivity):</p> <ul> <li>\u7528\u4e8eJava\u7a0b\u5e8f\u8bbf\u95ee\u6570\u636e\u5e93\u3002</li> <li>\u4f8b\u5982,\u5728Java\u4e2d\u4f7f\u7528<code>java.sql</code>\u5305\u3002</li> </ul> </li> </ol>"},{"location":"incourse/db/ch1/#\u6570\u636e\u5e93\u8bbe\u8ba1","title":"\u6570\u636e\u5e93\u8bbe\u8ba1","text":"<p>\u6570\u636e\u5e93\u8bbe\u8ba1\u662f\u6307\u8bbe\u8ba1\u6570\u636e\u5e93\u7684\u903b\u8f91\u7ed3\u6784\u4e0e\u7269\u7406\u7ed3\u6784\u3002</p> <p>\u5176\u4e2d\u7684\u91cd\u70b9\u662f\u6982\u5ff5\u8bbe\u8ba1(Conceptual Design)\u4e0e\u903b\u8f91\u8bbe\u8ba1(Logical Design)\u3002</p> <ul> <li> <p>\u6982\u5ff5\u8bbe\u8ba1: \u662f\u6307\u8bbe\u8ba1\u6570\u636e\u5e93\u7684\u903b\u8f91\u7ed3\u6784,\u5305\u62ec\u6570\u636e\u6a21\u578b\u7684\u9009\u62e9\u3001\u6570\u636e\u6a21\u5f0f\u7684\u8bbe\u8ba1\u7b49\u3002</p> </li> <li> <p>\u903b\u8f91\u8bbe\u8ba1: \u662f\u6307\u8bbe\u8ba1\u6570\u636e\u5e93\u7684\u7269\u7406\u7ed3\u6784,\u5305\u62ec\u8868\u7684\u8bbe\u8ba1\u3001\u7d22\u5f15\u7684\u8bbe\u8ba1\u7b49\u3002</p> </li> </ul> <p>\u5728\u6982\u5ff5\u8bbe\u8ba1\u4e2d,\u6211\u4eec\u9700\u8981\u51b3\u5b9a\u5982\u6b64\u591a\u7684\u6570\u636e\u5c5e\u6027\u5982\u4f55\u7ec4\u7ec7\u5230\u4e00\u8d77,\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u529e\u6cd5\u4e3b\u8981\u6709\u4e24\u79cd:</p> <ol> <li> <p>Entity-Relationship Model: </p> <ul> <li>\u901a\u8fc7\u5b9e\u4f53\u3001\u5c5e\u6027\u548c\u5b9e\u4f53\u95f4\u7684\u5173\u7cfb\u6765\u63cf\u8ff0\u6570\u636e\u3002     </li> </ul> </li> <li> <p>Normalization: </p> <ul> <li>\u901a\u8fc7\u6d88\u9664\u6570\u636e\u5197\u4f59\u6765\u8bbe\u8ba1\u6570\u636e\u5e93\u3002</li> </ul> </li> </ol>"},{"location":"incourse/db/ch1/#\u6570\u636e\u5e93\u5f15\u64ce","title":"\u6570\u636e\u5e93\u5f15\u64ce","text":"<p>\u6570\u636e\u5e93\u5f15\u64ce\u662f\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u6838\u5fc3\u7ec4\u4ef6,\u8d1f\u8d23\u7ba1\u7406\u6570\u636e\u5e93\u7684\u5b58\u50a8\u3001\u68c0\u7d22\u3001\u66f4\u65b0\u7b49\u64cd\u4f5c\u3002</p> <p>\u6570\u636e\u5e93\u7684\u4e3b\u8981\u90e8\u4ef6\u5305\u62ec:</p> <ol> <li> <p>\u67e5\u8be2\u5904\u7406\u5668(Query Processor): </p> <ul> <li>\u8d1f\u8d23\u89e3\u6790SQL\u8bed\u53e5,\u751f\u6210\u67e5\u8be2\u8ba1\u5212,\u6267\u884c\u67e5\u8be2\u8ba1\u5212,\u8fd4\u56de\u67e5\u8be2\u7ed3\u679c\u3002      </li> </ul> </li> <li> <p>\u4e8b\u52a1\u7ba1\u7406\u5668(Transaction Manager):</p> <ul> <li>\u8d1f\u8d23\u7ba1\u7406\u4e8b\u52a1,\u4fdd\u8bc1\u4e8b\u52a1\u7684ACID\u7279\u6027\u3002</li> <li>ACID\u7279\u6027\u662f\u6307\u4e8b\u52a1\u7684\u56db\u4e2a\u7279\u6027:\u539f\u5b50\u6027(Atomicity)\u3001\u4e00\u81f4\u6027(Consistency)\u3001\u9694\u79bb\u6027(Isolation)\u3001\u6301\u4e45\u6027(Durability)\u3002</li> <li>\u4f8b\u5982,\u5728\u4e00\u6b21\u8f6c\u8d26\u4e2d,A\u8f6c\u51fa\u94b1\u4e0eB\u6536\u5230\u94b1\u5fc5\u987b\u540c\u65f6\u53d1\u751f\u6216\u540c\u65f6\u53d6\u6d88,\u5426\u5219\u4f1a\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002</li> <li>\u4e8b\u52a1\u7ba1\u7406\u5668\u5305\u62ec\u6062\u590d\u7ba1\u7406\u5668(Recovery Manager)\u4e0e\u5e76\u53d1\u63a7\u5236\u5668(Concurrency Controller)\u3002</li> </ul> </li> <li> <p>\u5b58\u50a8\u7ba1\u7406\u5668(Storage Manager):</p> <ul> <li>\u8d1f\u8d23\u7ba1\u7406\u6570\u636e\u5e93\u7684\u5b58\u50a8,\u5305\u62ec\u6570\u636e\u7684\u5b58\u50a8\u3001\u68c0\u7d22\u3001\u66f4\u65b0\u7b49\u64cd\u4f5c\u3002</li> <li>\u6570\u636e\u5e93\u7684\u5b58\u50a8\u7ed3\u6784\u5305\u62ec\u8868\u3001\u7d22\u5f15\u3001\u89c6\u56fe\u7b49\u3002</li> </ul> </li> </ol>"},{"location":"incourse/db/ch12/","title":"\u6570\u636e\u5b58\u50a8","text":"<p> \u7ea6 1160 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p> <p>Info</p> <p>\u548c\u8ba1\u7ec4\u7b2c\u516d\u7ae0\u5f88\u50cf</p>"},{"location":"incourse/db/ch12/#classification-of-physical-storage-media","title":"Classification of Physical Storage Media","text":"<p>\u4f3c\u66fe\u76f8\u8bc6</p> <p>\u5b58\u50a8\u7684\u5a92\u4ecb\uff0c\u53ef\u4ee5\u5206\u4e3a\u4e24\u5927\u7c7b\uff1a</p> <ul> <li> <p>volatile storage(\u6613\u5931\u5b58\u50a8): \u5728\u65ad\u7535\u540e\u6570\u636e\u4f1a\u4e22\u5931</p> <ul> <li> <p>RAM</p> </li> <li> <p>Cache</p> </li> </ul> </li> <li> <p>non-volatile storage(\u975e\u6613\u5931\u5b58\u50a8): \u5728\u65ad\u7535\u540e\u6570\u636e\u4e0d\u4f1a\u4e22\u5931</p> <ul> <li> <p>Hard disk</p> </li> <li> <p>Flash memory</p> </li> <li> <p>CD/DVD</p> </li> <li> <p>Tape</p> </li> <li> <p>etc.</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch12/#\u786c\u76d8\u7ed3\u6784","title":"\u786c\u76d8\u7ed3\u6784","text":""},{"location":"incourse/db/ch12/#\u8bfb\u5199\u5934-read-write-head","title":"\u8bfb\u5199\u5934 (Read-write head)","text":"<ul> <li> <p>\u4f4d\u7f6e\u975e\u5e38\u63a5\u8fd1\u78c1\u76d8\u8868\u9762\uff08\u51e0\u4e4e\u63a5\u89e6\uff09</p> </li> <li> <p>\u8bfb\u53d6\u6216\u5199\u5165\u78c1\u7f16\u7801\u4fe1\u606f</p> </li> </ul>"},{"location":"incourse/db/ch12/#magnetic-disks","title":"Magnetic Disks","text":"<ul> <li> <p> \u78c1\u9053(Tracks)</p> <ul> <li> <p>\u78c1\u76d8\u8868\u9762\u88ab\u5212\u5206\u4e3a\u5706\u5f62\u8f68\u9053</p> </li> <li> <p>\u5178\u578b\u786c\u76d8\u6bcf\u4e2a\u76d8\u7247\u6709\u8d85\u8fc750K-100K\u4e2a\u78c1\u9053</p> </li> </ul> </li> <li> <p> \u6247\u533a(Sectors)</p> <ul> <li> <p>\u6bcf\u4e2a\u78c1\u9053\u88ab\u5212\u5206\u4e3a\u6247\u533a</p> </li> <li> <p>\u6247\u533a\u662f\u53ef\u8bfb\u5199\u7684\u6700\u5c0f\u6570\u636e\u5355\u4f4d</p> </li> <li> <p>\u6807\u51c6\u5927\u5c0f\u4e3a512\u5b57\u8282</p> </li> <li> <p>\u4e0d\u540c\u4f4d\u7f6e\u6247\u533a\u6570\u91cf\uff1a</p> <ul> <li>\u5185\u4fa7\u78c1\u9053\uff1a500-1000\u4e2a</li> <li>\u5916\u4fa7\u78c1\u9053\uff1a1000-2000\u4e2a</li> </ul> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch12/#\u8bfb\u5199\u8fc7\u7a0b","title":"\u8bfb/\u5199\u8fc7\u7a0b","text":"<ol> <li> <p>\u5b9a\u4f4d\uff1a\u78c1\u76d8\u81c2\u6446\u52a8\u5c06\u8bfb\u5199\u5934\u5b9a\u4f4d\u5230\u6b63\u786e\u7684\u78c1\u9053</p> </li> <li> <p>\u4f20\u8f93\uff1a\u76d8\u7247\u6301\u7eed\u65cb\u8f6c\uff0c\u5f53\u76ee\u6807\u6247\u533a\u7ecf\u8fc7\u8bfb\u5199\u5934\u65f6\u8fdb\u884c\u6570\u636e\u8bfb\u53d6/\u5199\u5165</p> </li> </ol>"},{"location":"incourse/db/ch12/#\u78c1\u5934-\u78c1\u76d8\u7ec4\u4ef6","title":"\u78c1\u5934-\u78c1\u76d8\u7ec4\u4ef6","text":"<ul> <li>\u5355\u4e00\u4e3b\u8f74\u4e0a\u5b89\u88c5\u591a\u4e2a\u78c1\u76d8\u76d8\u7247\uff08\u901a\u5e381\u52305\u4e2a\uff09</li> <li>\u6bcf\u4e2a\u76d8\u7247\u914d\u5907\u4e00\u4e2a\u78c1\u5934\uff0c\u6240\u6709\u78c1\u5934\u5b89\u88c5\u5728\u5171\u540c\u7684\u78c1\u81c2\u4e0a</li> <li>\u67f1\u9762(Cylinder)\uff1a\u7531\u6240\u6709\u76d8\u7247\u4e0a\u76f8\u540c\u4f4d\u7f6e\u7684\u78c1\u9053\u7ec4\u6210 (1)</li> </ul> <ol> <li>\u4f8b\u5982\uff0c\u67f1\u9762i\u7531\u6240\u6709\u76d8\u7247\u7684\u7b2ci\u4e2a\u78c1\u9053\u7ec4\u6210</li> </ol>"},{"location":"incourse/db/ch12/#\u78c1\u76d8\u63a7\u5236\u5668disk-controller","title":"\u78c1\u76d8\u63a7\u5236\u5668(Disk controller)","text":"<p>\u78c1\u76d8\u63a7\u5236\u5668\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u548c\u78c1\u76d8\u786c\u4ef6\u4e4b\u95f4\u7684\u6865\u6881</p> <p>\u4e3b\u8981\u529f\u80fd\uff1a</p> <ul> <li> <p>\u63a5\u6536\u5e76\u5904\u7406\u8bfb\u5199\u6247\u533a\u7684\u9ad8\u7ea7\u547d\u4ee4</p> </li> <li> <p>\u63a7\u5236\u78c1\u76d8\u81c2\u79fb\u52a8\u548c\u6570\u636e\u8bfb\u5199\u7684\u5b9e\u9645\u64cd\u4f5c</p> </li> <li> <p>\u901a\u8fc7\u6821\u9a8c\u548c\u673a\u5236\u4fdd\u8bc1\u6570\u636e\u5b8c\u6574\u6027\uff1a</p> <ul> <li> <p>\u4e3a\u6bcf\u4e2a\u6247\u533a\u8ba1\u7b97\u5e76\u9644\u52a0\u6821\u9a8c\u548c</p> </li> <li> <p>\u8bfb\u53d6\u65f6\u91cd\u65b0\u8ba1\u7b97\u6821\u9a8c\u548c\u5e76\u4e0e\u5b58\u50a8\u503c\u6bd4\u5bf9</p> </li> <li> <p>\u5982\u6570\u636e\u635f\u574f\uff0c\u4e24\u4e2a\u6821\u9a8c\u548c\u503c\u51e0\u4e4e\u5fc5\u7136\u4e0d\u5339\u914d</p> </li> </ul> </li> <li> <p>\u6267\u884c\u5199\u5165\u9a8c\u8bc1\uff1a\u5199\u5165\u540e\u81ea\u52a8\u8bfb\u56de\u6247\u533a\u4ee5\u786e\u4fdd\u5199\u5165\u6210\u529f</p> </li> <li> <p>\u7ba1\u7406\u574f\u6247\u533a\uff1a\u81ea\u52a8\u6267\u884c\u574f\u6247\u533a\u7684\u91cd\u65b0\u6620\u5c04</p> </li> </ul>"},{"location":"incourse/db/ch12/#performance-measures","title":"Performance Measures","text":""},{"location":"incourse/db/ch12/#\u8bbf\u95ee\u65f6\u95f4-access-time","title":"\u8bbf\u95ee\u65f6\u95f4 (Access Time)","text":"<p>\u4ece\u53d1\u51fa\u8bfb\u5199\u8bf7\u6c42\u5230\u5f00\u59cb\u6570\u636e\u4f20\u8f93\u6240\u9700\u7684\u65f6\u95f4\u3002\u5305\u542b\u4ee5\u4e0b\u7ec4\u6210\u90e8\u5206\uff1a</p> <ul> <li> <p>\u5bfb\u9053\u65f6\u95f4 (Seek Time)</p> <ul> <li>\u78c1\u76d8\u81c2\u5b9a\u4f4d\u5230\u6b63\u786e\u78c1\u9053\u6240\u9700\u7684\u65f6\u95f4</li> <li>\u5e73\u5747\u5bfb\u9053\u65f6\u95f4\u4e3a\u6700\u5dee\u60c5\u51b5\u76841/2</li> <li>\u5178\u578b\u786c\u76d8\u7ea6\u4e3a4-10\u6beb\u79d2</li> </ul> </li> <li> <p>\u65cb\u8f6c\u5ef6\u8fdf (Rotational Latency)</p> <ul> <li>\u7b49\u5f85\u76ee\u6807\u6247\u533a\u65cb\u8f6c\u5230\u8bfb\u5199\u5934\u4e0b\u65b9\u6240\u9700\u7684\u65f6\u95f4</li> <li>\u5e73\u5747\u5ef6\u8fdf\u4e3a\u6700\u5dee\u60c5\u51b5\u76841/2</li> <li>\u5178\u578b\u786c\u76d8\u7ea6\u4e3a4-11\u6beb\u79d2\uff08\u8f6c\u901f5400\u81f315000 RPM\uff09</li> </ul> </li> </ul>"},{"location":"incourse/db/ch12/#\u6570\u636e\u4f20\u8f93\u7387-data-transfer-rate","title":"\u6570\u636e\u4f20\u8f93\u7387 (Data Transfer Rate)","text":"<ul> <li>\u4ece\u78c1\u76d8\u8bfb\u53d6\u6216\u5199\u5165\u6570\u636e\u7684\u901f\u7387</li> <li>\u6700\u5927\u7ea6\u4e3a25-100 MB/\u79d2\uff08\u5185\u4fa7\u78c1\u9053\u8f83\u4f4e\uff09</li> <li>\u5e38\u89c1\u63a5\u53e3\u901f\u7387\uff1a<ul> <li>SATA: 150 MB/\u79d2</li> <li>SATA-II: 300 MB/\u79d2</li> <li>Ultra 320 SCSI: 320 MB/\u79d2</li> <li>SAS: 3-6 Gb/\u79d2</li> <li>\u5149\u7ea4\u901a\u9053: 256-512 MB/\u79d2</li> </ul> </li> </ul>"},{"location":"incourse/db/ch12/#\u6570\u636e\u8bbf\u95ee\u6a21\u5f0f","title":"\u6570\u636e\u8bbf\u95ee\u6a21\u5f0f","text":"<ol> <li> <p>\u987a\u5e8f\u8bbf\u95ee\u6a21\u5f0f (Sequential Access Pattern)</p> <ul> <li>\u8fde\u7eed\u8bf7\u6c42\u4f4d\u4e8e\u8fde\u7eed\u7684\u78c1\u76d8\u5757</li> <li>\u53ea\u6709\u7b2c\u4e00\u4e2a\u5757\u9700\u8981\u78c1\u76d8\u5bfb\u9053</li> <li>\u6548\u7387\u9ad8\uff0c\u4f20\u8f93\u901f\u5ea6\u63a5\u8fd1\u6700\u5927\u503c</li> </ul> </li> <li> <p>\u968f\u673a\u8bbf\u95ee\u6a21\u5f0f (Random Access Pattern)</p> <ul> <li>\u8fde\u7eed\u8bf7\u6c42\u7684\u5757\u53ef\u80fd\u5206\u5e03\u5728\u78c1\u76d8\u4efb\u4f55\u4f4d\u7f6e</li> <li>\u6bcf\u6b21\u8bbf\u95ee\u90fd\u9700\u8981\u5bfb\u9053</li> <li>\u6548\u7387\u4f4e\uff0c\u5927\u91cf\u65f6\u95f4\u6d6a\u8d39\u5728\u5bfb\u9053\u4e0a</li> </ul> </li> </ol>"},{"location":"incourse/db/ch12/#\u78c1\u76d8\u6027\u80fd\u6307\u6807","title":"\u78c1\u76d8\u6027\u80fd\u6307\u6807","text":""},{"location":"incourse/db/ch12/#\u6bcf\u79d2io\u64cd\u4f5c\u6570-iops","title":"\u6bcf\u79d2I/O\u64cd\u4f5c\u6570 (IOPS)","text":"<ul> <li> <p>\u78c1\u76d8\u6bcf\u79d2\u80fd\u652f\u6301\u7684\u968f\u673a\u5757\u8bfb\u53d6\u6570\u91cf</p> </li> <li> <p>\u4f20\u7edf\u78c1\u76d8\u901a\u5e38\u4e3a50-200 IOPS</p> </li> </ul>"},{"location":"incourse/db/ch12/#\u5e73\u5747\u6545\u969c\u65f6\u95f4-mttf","title":"\u5e73\u5747\u6545\u969c\u65f6\u95f4 (MTTF)","text":"<ul> <li> <p>\u78c1\u76d8\u9884\u671f\u65e0\u6545\u969c\u8fde\u7eed\u8fd0\u884c\u7684\u5e73\u5747\u65f6\u95f4</p> </li> <li> <p>\u5178\u578b\u503c\u4e3a3-5\u5e74</p> </li> <li> <p>\u65b0\u78c1\u76d8\u7406\u8bbaMTTF\u7ea6\u4e3a500,000\u81f31,200,000\u5c0f\u65f6</p> </li> <li> <p>1,200,000\u5c0f\u65f6\u7684MTTF\u610f\u5473\u77401000\u4e2a\u76f8\u5bf9\u8f83\u65b0\u7684\u78c1\u76d8\u4e2d\uff0c\u5e73\u5747\u6bcf1200\u5c0f\u65f6(50\u5929)\u4f1a\u6709\u4e00\u4e2a\u53d1\u751f\u6545\u969c</p> <ul> <li>\\(\\frac{1,200,000}{1000} = 1200\\)\u5c0f\u65f6/\u53f0\u78c1\u76d8</li> </ul> </li> <li> <p>\u968f\u7740\u78c1\u76d8\u8001\u5316\uff0cMTTF\u4f1a\u964d\u4f4e</p> </li> </ul>"},{"location":"incourse/db/ch12/#\u78c1\u76d8\u5757blocks","title":"\u78c1\u76d8\u5757(Blocks)","text":"<ul> <li> <p>\u5b58\u50a8\u5206\u914d\u4e0e\u68c0\u7d22\u7684\u903b\u8f91\u5355\u5143</p> </li> <li> <p>\u901a\u5e38\u4e3a4-16 KB</p> </li> <li> <p>\u5c0f\u5757\uff1a\u66f4\u591a\u78c1\u76d8\u4f20\u8f93</p> </li> <li> <p>\u5927\u5757\uff1a\u66f4\u591a\u7a7a\u95f4\u56e0\u90e8\u5206\u586b\u5145\u800c\u6d6a\u8d39</p> </li> </ul>"},{"location":"incourse/db/ch12/#optimization-of-disk-block-access","title":"Optimization of Disk Block Access","text":""},{"location":"incourse/db/ch12/#nonvolatile-write-buffers-\u975e\u6613\u5931\u6027\u5199\u7f13\u5b58","title":"Nonvolatile write buffers \uff08\u975e\u6613\u5931\u6027\u5199\u7f13\u5b58\uff09","text":"<ul> <li> <p>\u5148\u5c06\u6570\u636e\u5199\u5230\u4e00\u4e2a\u975e\u6613\u5931\u6027\u5b58\u50a8\u5668\u4e2d\uff08\u5982RAM\uff09</p> </li> <li> <p>\u5f53\u786c\u76d8\u6ca1\u6709\u5904\u7406\u5176\u4ed6\u8bf7\u6c42\u65f6\uff0c\u624d\u5c06\u6570\u636e\u5199\u5165\u786c\u76d8</p> </li> </ul>"},{"location":"incourse/db/ch12/#\u6587\u4ef6\u7ec4\u7ec7-file-organization","title":"\u6587\u4ef6\u7ec4\u7ec7 (File Organization)","text":"<ul> <li> <p>\u5c3d\u53ef\u80fd\u8fde\u7eed\u5730\u5206\u914d\u6587\u4ef6\u7684\u5757\uff0c\u51cf\u5c11\u78c1\u76d8\u788e\u7247</p> </li> <li> <p>\u4ee5\u76d8\u533a(extents)\u4e3a\u5355\u4f4d\u8fdb\u884c\u5206\u914d</p> </li> <li> <p>\u6587\u4ef6\u53ef\u80fd\u4f1a\u53d1\u751f\u788e\u7247\u5316</p> <ul> <li> <p>\u4f8b\u5982\uff0c\u5f53\u78c1\u76d8\u4e0a\u7684\u7a7a\u95f2\u5757\u5206\u6563\u65f6\uff0c\u65b0\u521b\u5efa\u7684\u6587\u4ef6\u7684\u5757\u4e5f\u4f1a\u5206\u6563\u5728\u6574\u4e2a\u78c1\u76d8\u4e0a</p> </li> <li> <p>\u987a\u5e8f\u8bbf\u95ee\u788e\u7247\u5316\u7684\u6587\u4ef6\u4f1a\u5bfc\u81f4\u78c1\u76d8\u81c2\u79fb\u52a8\u589e\u52a0\uff0c\u964d\u4f4e\u6027\u80fd</p> </li> </ul> </li> <li> <p>\u67d0\u4e9b\u7cfb\u7edf\u63d0\u4f9b\u78c1\u76d8\u788e\u7247\u6574\u7406\u5de5\u5177\uff0c\u7528\u4e8e\u91cd\u65b0\u7ec4\u7ec7\u6587\u4ef6\u7cfb\u7edf\u4ee5\u52a0\u5feb\u6587\u4ef6\u8bbf\u95ee\u901f\u5ea6</p> </li> </ul>"},{"location":"incourse/db/ch13/","title":"\u6570\u636e\u5b58\u50a8\u7ed3\u6784","text":"<p> \u7ea6 2158 \u4e2a\u5b57  6 \u884c\u4ee3\u7801  13 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p>"},{"location":"incourse/db/ch13/#file-organization","title":"File Organization","text":"<p>\u6570\u636e\u5e93\u662f\u4ee5\u4e00\u7cfb\u5217\u6587\u4ef6\u7684\u5f62\u5f0f\u5b58\u50a8\u7684 \u6bcf\u4e2a\u6587\u4ef6\u90fd\u662f\u6709\u4e00\u7cfb\u5217\u8bb0\u5f55\u7ec4\u6210\u7684 \u6bcf\u4e2a\u8bb0\u5f55\u90fd\u662f\u7531\u4e00\u7cfb\u5217\u5b57\u6bb5\u7ec4\u6210\u7684</p> <p>\u6211\u4eec\u5206\u4e3a\u4e24\u90e8\u5206\u5185\u5bb9\u8ba8\u8bba:\u8bb0\u5f55\u662f\u5b9a\u957f//\u4e0d\u5b9a\u957f</p>"},{"location":"incourse/db/ch13/#fixed-length-records","title":"Fixed-Length Records","text":"<p>\u7b2ci\u4e2a\u8bb0\u5f55\u4ece\u7b2c\\(n*(i-1)\\)\u4e2a\u5b57\u8282\u5f00\u59cb,\u957f\u5ea6\u4e3an\u4e2a\u5b57\u8282</p> <p>\u7531\u4e8e\u8bb0\u5f55\u7684\u957f\u5ea6\u6bd4\u5757\u5c0f,\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e00\u4e2a\u8bb0\u5f55\u8de8\u8d8a\u4e86\u4e24\u4e2a\u5757\u7684\u60c5\u51b5.\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5,\u6211\u4eec\u8bbe\u5b9a\u4e0d\u5141\u8bb8\u4e00\u4e2a\u8bb0\u5f55\u8de8\u8d8a\u4e24\u4e2a\u5757.</p> <p>\u5bf9\u4e8e\u5b9a\u957f\u8bb0\u5f55\u7684\u5220\u9664,\u6709\u5982\u4e0b\u4e09\u79cd\u505a\u6cd5.</p> <p>\u8bb0\u5f55\u5220\u9664</p> \u4f9d\u6b21\u524d\u79fb\u6700\u540e\u4e00\u4e2a\u8bb0\u5f55\u8986\u76d6Steam\u5220\u9664\u6cd5 <p>\u5220\u9664\u7b2ci\u4e2a\u8bb0\u5f55,\u5c06\u7b2ci+1\u5230\u6700\u540e\u7684\u8bb0\u5f55\u4f9d\u6b21\u524d\u79fb\u4e00\u4f4d,\u5e76\u5728\u6700\u540e\u4e00\u4e2a\u8bb0\u5f55\u4e2d\u586b\u5165\u7a7a\u767d. </p> <p>\u5220\u9664\u7b2ci\u4e2a\u8bb0\u5f55,\u5c06\u6700\u540e\u4e00\u4e2a\u8bb0\u5f55\u8986\u76d6\u7b2ci\u4e2a\u8bb0\u5f55. </p> <p>\u4e0d\u79fb\u9664\u8bb0\u5f55,\u628a\u6240\u6709\u7a7a\u7684\u8bb0\u5f55\u94fe\u63a5\u8d77\u6765,\u5f62\u6210\u4e00\u4e2a\u7a7a\u8bb0\u5f55\u94fe\u8868. </p>"},{"location":"incourse/db/ch13/#variable-length-records","title":"Variable-Length Records","text":"<p>\u53d8\u957f\u8bb0\u5f55\u5728\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u51fa\u73b0\u7684\u51e0\u79cd\u60c5\u51b5\uff1a</p> <ol> <li> <p>\u5b58\u50a8\u591a\u79cd\u8bb0\u5f55\u7c7b\u578b\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d</p> <ul> <li>\u4e0d\u540c\u8bb0\u5f55\u7c7b\u578b\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u5b57\u6bb5\u548c\u957f\u5ea6</li> </ul> </li> <li> <p>\u8bb0\u5f55\u7c7b\u578b\u5141\u8bb8\u4e00\u4e2a\u6216\u591a\u4e2a\u5b57\u6bb5\u5177\u6709\u53ef\u53d8\u957f\u5ea6</p> <ul> <li>\u4f8b\u5982\u5b57\u7b26\u4e32\u7c7b\u578b(varchar)</li> <li>\u4e0d\u540c\u8bb0\u5f55\u4e2d\u540c\u4e00\u5b57\u6bb5\u53ef\u80fd\u5360\u7528\u4e0d\u540c\u7a7a\u95f4</li> </ul> </li> <li> <p>\u8bb0\u5f55\u7c7b\u578b\u5141\u8bb8\u91cd\u590d\u5b57\u6bb5</p> <ul> <li>\u5728\u4e00\u4e9b\u8f83\u65e9\u7684\u6570\u636e\u6a21\u578b\u4e2d\u4f7f\u7528</li> <li>\u4e00\u4e2a\u5b57\u6bb5\u53ef\u80fd\u51fa\u73b0\u591a\u6b21\uff0c\u5bfc\u81f4\u8bb0\u5f55\u957f\u5ea6\u4e0d\u56fa\u5b9a</li> </ul> </li> </ol> <p>\u5bf9\u4e8e\u53d8\u957f\u8bb0\u5f55\u7684\u5c5e\u6027,\u4ee5(offset, length)\u7684\u5f62\u5f0f\u5b58\u50a8\u5728\u8bb0\u5f55\u4e2d.</p> <ul> <li> <p>offset: \u8be5\u5c5e\u6027\u7684\u503c\u5728\u5757\u4e2d\u7684\u8d77\u59cb\u4f4d\u7f6e</p> </li> <li> <p>length: \u503c\u7684\u957f\u5ea6</p> </li> </ul> <p>salary\u662f\u5b9a\u957f\u7684\uff0c\u6240\u4ee5\u76f4\u63a5\u5b58\u503c</p> <p>\u4f4d\u7f6e 20 \u653e\u7684 0000, \u8868\u793a\u524d\u9762\u56db\u4e2a\u5c5e\u6027\u5747\u662f\u975e\u7a7a\u7684, 1 \u8868\u793a\u7a7a\u3002</p>"},{"location":"incourse/db/ch13/#slotted-page-structure\u5206\u69fd\u9875","title":"Slotted Page Structure\uff08\u5206\u69fd\u9875\uff09","text":"<p>\u5206\u69fd\u9875</p> <p>\u5206\u69fd\u9875\u662f\u4e00\u79cd\u7528\u4e8e\u5b58\u50a8\u53d8\u957f\u8bb0\u5f55\u7684\u9875\u9762\u7ec4\u7ec7\u65b9\u5f0f\uff0c\u5b83\u5141\u8bb8\u8bb0\u5f55\u5728\u7269\u7406\u4f4d\u7f6e\u4e0a\u79fb\u52a8\u800c\u4e0d\u6539\u53d8\u5176\u6807\u8bc6\u3002</p> <p>\u57fa\u672c\u7ed3\u6784\uff1a</p> <ul> <li> <p>\u9875\u5934(Header)\uff1a\u5305\u542b:</p> <ul> <li> <p>Record Entries\u7684\u6570\u76ee</p> </li> <li> <p>End of free space in block:\u6307\u5411\u7a7a\u95f2\u7a7a\u95f4\u7684\u6307\u9488</p> </li> <li> <p>\u6bcf\u4e2a\u8bb0\u5f55\u7684\u4f4d\u7f6e\u548c\u957f\u5ea6</p> </li> </ul> </li> <li> <p>\u69fd\u76ee\u5f55(Slot Directory)\uff1a\u4ece\u9875\u9762\u5934\u90e8\u5f00\u59cb\uff0c\u5305\u542b\u6307\u5411\u5404\u8bb0\u5f55\u7684\u6307\u9488.\u6307\u9488\u4e0d\u5e94\u8be5\u76f4\u63a5\u6307\u5411\u8bb0\u5f55,\u800c\u662f\u6307\u5411\u69fd\u76ee\u5f55\u4e2d\u7684\u69fd\u53f7.</p> <ul> <li> <p>\u69fd\u53f7\uff1a\u69fd\u76ee\u5f55\u4e2d\u6bcf\u4e2a\u8bb0\u5f55\u7684\u7f16\u53f7</p> </li> <li> <p>\u69fd\u76ee\u5f55\u7684\u5927\u5c0f\uff1a\u69fd\u76ee\u5f55\u7684\u5927\u5c0f\u662f\u56fa\u5b9a\u7684\uff0c\u901a\u5e38\u4e3a4\u5b57\u8282</p> </li> <li> <p>\u69fd\u76ee\u5f55\u7684\u8d77\u59cb\u4f4d\u7f6e\uff1a\u69fd\u76ee\u5f55\u5728\u9875\u9762\u4e2d\u7684\u8d77\u59cb\u4f4d\u7f6e</p> </li> </ul> </li> <li> <p>\u8bb0\u5f55\u533a\u57df\uff1a\u4ece\u9875\u9762\u5e95\u90e8\u5411\u4e0a\u589e\u957f\uff0c\u5b58\u653e\u5b9e\u9645\u7684\u6570\u636e\u8bb0\u5f55</p> </li> <li> <p>\u81ea\u7531\u7a7a\u95f4\uff1a\u4f4d\u4e8e\u69fd\u76ee\u5f55\u548c\u8bb0\u5f55\u533a\u57df\u4e4b\u95f4\u7684\u53ef\u7528\u7a7a\u95f4</p> </li> </ul> <p>\u5de5\u4f5c\u539f\u7406\uff1a</p> <ol> <li> <p>\u6bcf\u4e2a\u8bb0\u5f55\u901a\u8fc7\u69fd\u53f7(slot number)\u6765\u5f15\u7528</p> </li> <li> <p>\u69fd\u76ee\u5f55\u4fdd\u5b58\u6bcf\u6761\u8bb0\u5f55\u5728\u9875\u9762\u4e2d\u7684\u8d77\u59cb\u4f4d\u7f6e</p> </li> <li> <p>\u65b0\u8bb0\u5f55\u6dfb\u52a0\u5230\u7a7a\u95f2\u7a7a\u95f4\u4e2d</p> </li> <li> <p>\u5220\u9664\u8bb0\u5f55\u65f6\u53ef\u4ee5\u901a\u8fc7\u91cd\u7ec4\u9875\u9762\u6765\u56de\u6536\u7a7a\u95f4</p> </li> </ol> <p></p>"},{"location":"incourse/db/ch13/#organization-of-records-in-files","title":"Organization of Records in Files","text":"<p>\u8bb0\u5f55\u5728\u6587\u4ef6\u4e2d\u6709\u5f88\u591a\u7ec4\u7ec7\u65b9\u5f0f,\u6bd4\u5982\u6211\u4eec\u5728FDS\u548cADS\u4e2d\u5b66\u8fc7\u7684\u6570\u636e\u7ed3\u6784</p> <ol> <li> <p>Heap:\u8bb0\u5f55\u53ef\u4ee5\u4ee5\u4efb\u610f\u987a\u5e8f\u5b58\u50a8\u5728\u6587\u4ef6\u4e2d,\u6ca1\u6709\u7279\u5b9a\u7684\u987a\u5e8f.\u8fd9\u79cd\u65b9\u5f0f\u9002\u5408\u4e8e\u5c0f\u578b\u6587\u4ef6,\u6216\u8005\u662f\u7ecf\u5e38\u8fdb\u884c\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u7684\u6587\u4ef6.</p> </li> <li> <p>Sequential:\u8bb0\u5f55\u6309\u7167\u67d0\u4e2a\u987a\u5e8f\u5b58\u50a8\u5728\u6587\u4ef6\u4e2d,\u6bd4\u5982\u6309\u7167\u4e3b\u952e\u7684\u987a\u5e8f.\u8fd9\u79cd\u65b9\u5f0f\u9002\u5408\u4e8e\u7ecf\u5e38\u8fdb\u884c\u67e5\u8be2\u64cd\u4f5c\u7684\u6587\u4ef6.</p> </li> <li> <p>B+-tree file organization:\u8bb0\u5f55\u6309\u7167B+-tree\u7684\u65b9\u5f0f\u5b58\u50a8\u5728\u6587\u4ef6\u4e2d,\u8fd9\u79cd\u65b9\u5f0f\u9002\u5408\u4e8e\u7ecf\u5e38\u8fdb\u884c\u8303\u56f4\u67e5\u8be2\u64cd\u4f5c\u7684\u6587\u4ef6.</p> </li> <li> <p>Hash file organization:\u7528\u4e00\u4e2a\u54c8\u5e0c\u51fd\u6570\u628a\u8bb0\u5f55\u7684Search Key\u6620\u5c04\u5230\u4e00\u4e2a\u5730\u5740\u4e0a,\u6307\u793a\u8fd9\u6761\u8bb0\u5f55\u5e94\u8be5\u653e\u5728\u6587\u4ef6\u91cc\u7684\u54ea\u4e2a\u5757\u4e2d.\u8fd9\u79cd\u65b9\u5f0f\u9002\u5408\u4e8e\u7ecf\u5e38\u8fdb\u884c\u7b49\u503c\u67e5\u8be2\u64cd\u4f5c\u7684\u6587\u4ef6.</p> </li> <li> <p>Clustered file organization:\u628a\u591a\u4e2a\u6587\u4ef6\u6309\u7167\u67d0\u79cd\u65b9\u5f0f\u7ec4\u7ec7\u5728\u4e00\u8d77,\u6bd4\u5982\u628a\u591a\u4e2a\u6587\u4ef6\u6309\u7167\u4e3b\u952e\u7684\u987a\u5e8f\u7ec4\u7ec7\u5728\u4e00\u8d77.\u8fd9\u79cd\u65b9\u5f0f\u9002\u5408\u4e8e\u7ecf\u5e38\u8fdb\u884c\u8303\u56f4\u67e5\u8be2\u64cd\u4f5c\u7684\u6587\u4ef6.</p> </li> </ol>"},{"location":"incourse/db/ch13/#heap-file-organization","title":"Heap File Organization","text":"<p>\u6587\u4ef6\u88ab\u5141\u8bb8\u653e\u5728\u4efb\u4f55\u7a7a\u4f59\u7684\u4f4d\u7f6e.\u56e0\u6b64,\u5bf9\u4e8e\u8fd9\u79cd\u5b58\u50a8\u65b9\u5f0f,\u5feb\u901f\u627e\u5230\u7a7a\u95f2\u7684\u7a7a\u95f4\u5341\u5206\u91cd\u8981.</p> <p>\u6211\u4eec\u4f7f\u7528Free-Space Map\u6765\u5feb\u901f\u67e5\u627e\u7a7a\u95f2\u7a7a\u95f4.</p> <p>Free-Space Map</p> <p>Free-Space Map\u662f\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u8ddf\u8e2a\u6587\u4ef6\u4e2d\u7a7a\u95f2\u7a7a\u95f4\u7684\u5206\u5e03\u60c5\u51b5\u3002\u5b83\u53ef\u4ee5\u5e2e\u52a9\u6570\u636e\u5e93\u7cfb\u7edf\u5feb\u901f\u627e\u5230\u53ef\u7528\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u4ee5\u4fbf\u63d2\u5165\u65b0\u7684\u8bb0\u5f55\u3002</p> <p>\u57fa\u672c\u7ed3\u6784\uff1a</p> <ul> <li> <p>Free-Space Map\u662f\u4e00\u4e2a\u4f4d\u56fe\uff0c\u6bcf\u4e2a\u4f4d\u8868\u793a\u6587\u4ef6\u4e2d\u7684\u4e00\u4e2a\u5757</p> </li> <li> <p>\u4e00\u4e2a\u5757\u662fn-bit\uff0c\u4f8b\u5982\uff0c\u4e0b\u56fe\u4e2d\u6bcf\u4e2a\u5757\u662f3Bit\uff0c\u53ef\u4ee5\u8868\u793a0-7\u7684\u6570\uff0c\u9664\u4ee58\u5c31\u662f\u5757\u7684\u7a7a\u95f2\u7a7a\u95f4\u5360\u6bd4\uff0c</p> </li> <li> <p>\u901a\u8fc7\u626b\u63cfFree-Space Map\uff0c\u53ef\u4ee5\u5feb\u901f\u627e\u5230\u7a7a\u95f2\u5757\u7684\u4f4d\u7f6e</p> </li> </ul> <p></p>"},{"location":"incourse/db/ch13/#sequential-file-organization","title":"Sequential File Organization","text":"<ul> <li> <p>\u5220\u9664</p> <ul> <li>\u4f7f\u7528\u6307\u9488\u94fe</li> </ul> </li> <li> <p>\u63d2\u5165</p> <ul> <li> <p>\u5148\u627e\u5230\u63d2\u5165\u7684\u4f4d\u7f6e</p> </li> <li> <p>\u5982\u679c\u6709\u7a7a\u4f59\u7684\u7a7a\u95f4\uff0c\u76f4\u63a5\u63d2\u5165</p> </li> <li> <p>\u4e0d\u7136\uff0c\u63d2\u5165\u5230\u4e00\u4e2aoverflow block\u4e2d</p> </li> <li> <p>\u4e0d\u7ba1\u600e\u4e48\u6837\uff0c\u90fd\u8981\u66f4\u65b0\u6307\u9488\u94fe</p> </li> </ul> </li> <li> <p>\u9700\u8981\u5b9a\u65f6\u91cd\u65b0\u6574\u7406\u987a\u5e8f</p> </li> </ul>"},{"location":"incourse/db/ch13/#multitable-clustering-file-organizatio","title":"Multitable Clustering File Organizatio","text":"<p>\u5bf9\u4e8e\u7ecf\u5e38\u8981\u8fde\u63a5\u5728\u4e00\u8d77\u7684\u4e24\u4e2a\u8868\uff0c\u53ef\u4ee5\u653e\u5728\u4e00\u8d77\u3002</p>"},{"location":"incourse/db/ch13/#table-partitioning","title":"Table Partitioning","text":"<p>Records in a relation can be partitioned into smaller relations that are stored separately</p> <p>E.g., transaction relation may be partitioned into transaction_2018, transaction_2019, etc.</p> <p>\u5728\u67e5\u627e\u65f6\u9700\u8981\u627e\u904d\u6240\u6709\u7684\u5206\u533a\u3002</p>"},{"location":"incourse/db/ch13/#data-dictionary-storage","title":"Data-Dictionary Storage","text":"<p>The Data dictionary (also called system catalog) stores metadata; that is, data about the data</p> <p>\u5143\u6570\u636e\u5305\u62ec:</p> <ol> <li> <p>\u5173\u7cfb\uff08Relations\uff09\u4fe1\u606f\ud83d\udcd8</p> <ul> <li>\u5173\u7cfb\u7684\u540d\u79f0  </li> <li>\u6bcf\u4e2a\u5173\u7cfb\u7684\u5c5e\u6027\u540d\u79f0\u3001\u6570\u636e\u7c7b\u578b\u53ca\u957f\u5ea6  </li> <li>\u89c6\u56fe\uff08View\uff09\u7684\u540d\u79f0\u4e0e\u5b9a\u4e49  </li> <li>\u5b8c\u6574\u6027\u7ea6\u675f\uff08Integrity Constraints\uff09</li> </ul> </li> <li> <p>\u7528\u6237\u4e0e\u8d26\u6237\u4fe1\u606f\ud83d\udc64</p> <ul> <li>\u7528\u6237\u8eab\u4efd\u4e0e\u6743\u9650\u4fe1\u606f  </li> <li>\u5bc6\u7801\u53ca\u8ba4\u8bc1\u4fe1\u606f</li> </ul> </li> <li> <p>\u7edf\u8ba1\u4e0e\u63cf\u8ff0\u6027\u6570\u636e\ud83d\udcca </p> <ul> <li>\u6bcf\u4e2a\u5173\u7cfb\u4e2d\u7684\u5143\u7ec4\uff08\u8bb0\u5f55\uff09\u6570\u91cf  </li> <li>\u5c5e\u6027\u53d6\u503c\u7684\u5206\u5e03\u60c5\u51b5\uff08\u53ef\u9009\uff09</li> </ul> </li> <li> <p>\u7269\u7406\u6587\u4ef6\u7ec4\u7ec7\u4fe1\u606f\ud83d\udcbe </p> <ul> <li>\u5173\u7cfb\u7684\u5b58\u50a8\u65b9\u5f0f\uff08\u5982\uff1a\u987a\u5e8f\u5b58\u50a8\u3001\u54c8\u5e0c\u5b58\u50a8\u7b49\uff09  </li> <li>\u5173\u7cfb\u7684\u7269\u7406\u4f4d\u7f6e\uff08\u4f8b\u5982\u6240\u5728\u6587\u4ef6\u3001\u9875\u53f7\u7b49\uff09  </li> <li>\u7d22\u5f15\u7ed3\u6784\u4e0e\u4f4d\u7f6e\u7684\u4fe1\u606f</li> </ul> </li> </ol>"},{"location":"incourse/db/ch13/#buffer-management","title":"Buffer Management","text":"<p>Blocks are units of both storage allocation and data transfer.</p> <p>Buffer \u2013 portion of main memory available to store copies of disk blocks.</p> <p>Buffer manager \u2013 subsystem responsible for allocating buffer space in main memory.</p>"},{"location":"incourse/db/ch13/#buffer-manager\u8981\u505a\u4ec0\u4e48","title":"Buffer Manager\u8981\u505a\u4ec0\u4e48","text":"<p>\u5f53\u7a0b\u5e8f\u9700\u8981\u8bbf\u95ee\u78c1\u76d8\u4e0a\u7684\u6570\u636e\u5757\u65f6\uff0c\u4f1a\u8c03\u7528Buffer Manager\uff1a</p> <ol> <li> <p>\u5982\u679c\u8bf7\u6c42\u7684\u5757\u5df2\u5728Buffer\u4e2d</p> <ul> <li>Buffer Manager\u76f4\u63a5\u8fd4\u56de\u8be5\u5757\u5728\u5185\u5b58\u4e2d\u7684\u5730\u5740</li> </ul> </li> <li> <p>\u5982\u679c\u8bf7\u6c42\u7684\u5757\u4e0d\u5728Buffer\u4e2d</p> <ul> <li>Buffer Manager\u5728Buffer\u4e2d\u5206\u914d\u7a7a\u95f4</li> <li>\u5982\u9700\u8981\u817e\u51fa\u7a7a\u95f4\uff0c\u5219\u66ff\u6362\uff08\u79fb\u9664\uff09\u67d0\u4e2a\u5176\u4ed6\u5757</li> <li>\u88ab\u66ff\u6362\u7684\u5757\u4ec5\u5728\u81ea\u4e0a\u6b21\u5199\u5165/\u4ece\u78c1\u76d8\u8bfb\u53d6\u540e\u88ab\u4fee\u6539\u65f6\u624d\u5199\u56de\u78c1\u76d8</li> <li>\u4ece\u78c1\u76d8\u8bfb\u53d6\u65b0\u5757\u5230Buffer\uff0c\u5e76\u5411\u8bf7\u6c42\u8005\u8fd4\u56de\u8be5\u5757\u5728\u5185\u5b58\u4e2d\u7684\u5730\u5740</li> </ul> </li> </ol>"},{"location":"incourse/db/ch13/#buffer-manager\u7684\u7b56\u7565","title":"Buffer Manager\u7684\u7b56\u7565","text":"<p>Buffer Manager\u5728\u9700\u8981\u4e3a\u65b0\u6570\u636e\u5757\u817e\u51fa\u7a7a\u95f4\u65f6\uff0c\u9700\u8981\u9075\u5faa\u4e00\u5b9a\u7684\u7b56\u7565\uff1a</p>"},{"location":"incourse/db/ch13/#\u56fa\u5b9a\u5757pinned-block\u673a\u5236","title":"\u56fa\u5b9a\u5757(Pinned Block)\u673a\u5236","text":"<ul> <li> <p>\u56fa\u5b9a\u5757\uff1a\u4e0d\u5141\u8bb8\u88ab\u5199\u56de\u78c1\u76d8\u7684\u5185\u5b58\u5757</p> </li> <li> <p>\u56fa\u5b9a\u8fc7\u7a0b\uff1a</p> <ul> <li> <p>\u5728\u8bfb/\u5199\u6570\u636e\u5757\u524d\u8fdb\u884c\u56fa\u5b9a(Pin)\u64cd\u4f5c</p> </li> <li> <p>\u8bfb/\u5199\u5b8c\u6210\u540e\u8fdb\u884c\u89e3\u9664\u56fa\u5b9a(Unpin)\u64cd\u4f5c</p> </li> <li> <p>\u652f\u6301\u591a\u4e2a\u5e76\u53d1\u7684\u56fa\u5b9a/\u89e3\u9664\u56fa\u5b9a\u64cd\u4f5c</p> </li> </ul> </li> <li> <p>\u56fa\u5b9a\u8ba1\u6570\u5668\uff1a</p> <ul> <li> <p>\u7ef4\u62a4\u6bcf\u4e2a\u7f13\u51b2\u5757\u7684\u56fa\u5b9a\u8ba1\u6570</p> </li> <li> <p>\u53ea\u6709\u5f53\u56fa\u5b9a\u8ba1\u6570\u4e3a0\u65f6\uff0c\u7f13\u51b2\u5757\u624d\u80fd\u88ab\u66ff\u6362\u51fa\u53bb</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch13/#\u7f13\u51b2\u533a\u9501\u5b9a","title":"\u7f13\u51b2\u533a\u9501\u5b9a","text":"<p>\u7f13\u51b2\u533a\u9700\u8981\u5171\u4eab\u9501\u548c\u6392\u4ed6\u9501\u6765\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\uff1a</p> <ul> <li> <p>\u5171\u4eab\u9501(Shared Lock)\uff1a\u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u540c\u65f6\u8bfb\u53d6</p> </li> <li> <p>\u6392\u4ed6\u9501(Exclusive Lock)\uff1a\u4ec5\u5141\u8bb8\u4e00\u4e2a\u8fdb\u7a0b\u72ec\u5360\u8bbf\u95ee</p> </li> </ul>"},{"location":"incourse/db/ch13/#\u9501\u5b9a\u89c4\u5219","title":"\u9501\u5b9a\u89c4\u5219","text":"<ol> <li> <p>\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u6709\u4e00\u4e2a\u8fdb\u7a0b\u83b7\u5f97\u6392\u4ed6\u9501</p> </li> <li> <p>\u6392\u4ed6\u9501\u4e0e\u5171\u4eab\u9501\u4e0d\u80fd\u540c\u65f6\u5b58\u5728</p> </li> <li> <p>\u591a\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u540c\u65f6\u83b7\u5f97\u5171\u4eab\u9501</p> </li> </ol> <p>\u5e94\u7528\u573a\u666f\uff1a\u9501\u673a\u5236\u9632\u6b62\u5728\u9875\u9762\u5185\u5bb9\u79fb\u52a8/\u91cd\u7ec4\u65f6\u88ab\u5e76\u53d1\u64cd\u4f5c\u8bfb\u53d6\uff0c\u5e76\u786e\u4fdd\u540c\u4e00\u65f6\u95f4\u53ea\u8fdb\u884c\u4e00\u6b21\u79fb\u52a8/\u91cd\u7ec4\u64cd\u4f5c\u3002\u8bfb\u53d6\u64cd\u4f5c\u83b7\u53d6\u5171\u4eab\u9501\uff0c\u66f4\u65b0\u64cd\u4f5c\u9700\u8981\u6392\u4ed6\u9501\u3002</p>"},{"location":"incourse/db/ch13/#buffer-replacement-policies","title":"Buffer-Replacement Policies","text":"<p>\u6b63\u5982\u5728\u8ba1\u7ec4\u4e2d\u5b66\u8fc7\u7684\uff0c\u5bf9\u4e8e\u4e00\u4e2abuffer\uff0c\u6211\u4eec\u9700\u8981\u8003\u8651\u66ff\u6362\u7b56\u7565\u3002</p> LRU <p></p> <p>LRU strategy - replace the block least recently used</p> <p>\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u7684\u7b56\u7565\uff1a</p> <ol> <li> <p>Toss-immediate strategy:\u5f53\u4e00\u4e2ablock\u6700\u540e\u4e00\u4e2atuple\u88ab\u5904\u7406\u5b8c\u65f6\uff0c\u5c31\u628a\u8fd9\u4e2ablock\u66ff\u6362\u6389</p> </li> <li> <p>MRU Strategy:\u66ff\u6362\u6389\u6700\u8fd1\u4f7f\u7528\u7684block</p> </li> <li> <p>Buffer managers also support forced output of blocks for the purpose of recovery </p> </li> </ol>"},{"location":"incourse/db/ch13/#clock-an-approximation-of-lru","title":"Clock: An approximation of LRU","text":"<p>Arrange block into a cycle, store one reference_bit per block</p> <p>When pin_count reduces to 0, set  reference _bit =1</p> <p>reference _bit as the 2nd chance bit</p> <pre><code>do for each block in cycle {\n    if (reference_bit ==1)\n        set reference_bit=0;\n    else if (reference_bit ==0)\n        choose this block for replacement;\n    } until a page is chosen;\n</code></pre> <p><code>reference_bit</code>\u4e3a1\u8868\u793a\u8fd9\u4e2ablock\u6700\u8fd1\u88ab\u4f7f\u7528\u8fc7.</p>"},{"location":"incourse/db/ch14/","title":"\u7d22\u5f15","text":"<p> \u7ea6 1936 \u4e2a\u5b57  4 \u884c\u4ee3\u7801  25 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 10 \u5206\u949f</p>"},{"location":"incourse/db/ch14/#basic-concepts","title":"Basic Concepts","text":"<ul> <li> <p>\u7d22\u5f15\u662f\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u52a0\u901f\u5bf9\u6570\u636e\u5e93\u8868\u4e2d\u6570\u636e\u7684\u8bbf\u95ee\u3002</p> </li> <li> <p>Search Key: \u7d22\u5f15\u7684\u5173\u952e\u5b57\uff0c\u7528\u4e8e\u67e5\u627e\u6570\u636e\u3002</p> </li> <li> <p>\u4e00\u4e2aIndex File\u5305\u542b\u591a\u4e2aIndex Entry\uff0c\u6bcf\u4e2aIndex Entry\u5305\u542b\u4e00\u4e2aSearch Key\u548c\u4e00\u4e2a\u6307\u5411\u6570\u636e\u8bb0\u5f55\u7684\u6307\u9488\u3002</p> Search Key Record Pointer </li> <li> <p>\u6709\u4e24\u79cd\u7d22\u5f15\u7c7b\u578b:</p> <ul> <li> <p>Ordered Index: \u7d22\u5f15\u6761\u76ee\u6309\u987a\u5e8f\u6392\u5217\uff0c\u9002\u7528\u4e8e\u8303\u56f4\u67e5\u8be2\u3002</p> </li> <li> <p>Hash Index: \u7d22\u5f15\u6761\u76ee\u65e0\u5e8f\u6392\u5217\uff0c\u9002\u7528\u4e8e\u7b49\u503c\u67e5\u8be2\u3002</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch14/#index-evaluation-metrics","title":"Index Evaluation Metrics","text":"<p>\u7d22\u5f15\u7684\u8bc4\u4f30\u6307\u6807</p> <ul> <li> <p>Access types supported efficiently.  E.g., </p> <ul> <li> <p>Point query: records with a specified value in the attribute,\u70b9\u67e5\u8be2</p> </li> <li> <p>Range query: or records with an attribute value falling in a specified range of values,\u8303\u56f4\u67e5\u8be2</p> </li> </ul> </li> <li> <p>Access time</p> </li> <li> <p>Insertion time</p> </li> <li> <p>Deletion time</p> </li> <li> <p>Space overhead</p> </li> </ul>"},{"location":"incourse/db/ch14/#ordered-indices","title":"Ordered Indices","text":"<p>Indexes that are ordered by the search key.</p> <p>\u6709\u5982\u4e0b\u7684\u6982\u5ff5:</p> <ul> <li> <p>Primary Index(\u4e3b\u7d22\u5f15): \u4e5f\u79f0\u4e3aclustering index\uff08\u805a\u96c6\u7d22\u5f15\uff09.\u51b3\u5b9a\u4e86\u6392\u5217\u987a\u5e8f\u7684\u7d22\u5f15,\u5176Search Key\u901a\u5e38,\u4f46\u5e76\u4e0d\u4e00\u5b9a,\u662f\u4e3b\u952e.\u4e3b\u7d22\u5f15\u7684\u8bb0\u5f55\u5728\u6587\u4ef6\u4e2d\u662f\u6709\u5e8f\u7684.      </p> </li> <li> <p>Secondary Index(\u6b21\u7d22\u5f15): \u4e5f\u79f0\u4e3anon-clustering index\uff08\u975e\u805a\u96c6\u7d22\u5f15\uff09.\u5b83\u51b3\u5b9a\u7684\u987a\u5e8f\u4e0e\u6587\u4ef6\u5b9e\u9645\u6392\u5217\u7684\u987a\u5e8f\u4e0d\u4e00\u6837.      </p> </li> <li> <p>Index-sequential file\uff08\u7d22\u5f15\u987a\u5e8f\u6587\u4ef6\uff09: ordered sequential file with a primary index.</p> </li> <li> <p>Dense Index Files(\u7a20\u5bc6\u7d22\u5f15\u6587\u4ef6): \u6240\u6709\u7684Search Key\u90fd\u6709\u4e00\u4e2a\u7d22\u5f15\u6761\u76ee.\u6bcf\u4e2a\u7d22\u5f15\u6761\u76ee\u90fd\u6307\u5411\u4e00\u4e2a\u6570\u636e\u8bb0\u5f55.      <p>\u7a20\u5bc6\u7d22\u5f15</p> <p>\u7a00\u758f\u7d22\u5f15</p> </p> </li> </ul> <ul> <li> <p>Sparse Index Files(\u7a00\u758f\u7d22\u5f15\u6587\u4ef6): \u53ea\u6709\u4e00\u90e8\u5206Search Key\u6709\u7d22\u5f15\u6761\u76ee.\u6bcf\u4e2a\u7d22\u5f15\u6761\u76ee\u90fd\u6307\u5411\u4e00\u4e2a\u6570\u636e\u5757.      </p> <ul> <li> <p>Good tradeoff: sparse index with an index entry for every block in file, corresponding to least search-key value in the block.</p> </li> <li> <p>\u548cB+\u6811\u6709\u70b9\u50cf.</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch14/#multilevel-index-\u591a\u7ea7\u7d22\u5f15","title":"Multilevel Index (\u591a\u7ea7\u7d22\u5f15)","text":"<ul> <li> <p>Treat primary index kept on disk as a sequential file and construct a sparse index on it.</p> <ul> <li> <p>outer index \u2013 a sparse index of primary index</p> </li> <li> <p>inner index \u2013 the primary index file</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch14/#b-tree-index","title":"B+-Tree Index","text":"<p>\u548cADS\u4e00\u6837</p> <p>\u4e00\u4e2aB+\u6811\u8282\u70b9\u5178\u578b\u7684\u7ed3\u6784\u5982\u4e0b:</p> <ul> <li> <p>\\(K_i\\)\u662f\u641c\u7d22\u952e\u7684\u503c.\u901a\u5e38\\(K_1&lt;K_2&lt;...&lt;K_{n-1}\\)</p> </li> <li> <p>\\(P_i\\)\u662f\u6307\u5411\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u6307\u9488.\u5982\u679c\u662f\u53f6\u5b50\u8282\u70b9,\u90a3\u4e48\\(P_i\\)\u6307\u5411\u6570\u636e\u8bb0\u5f55.\u5982\u679c\u662f\u975e\u53f6\u5b50\u8282\u70b9,\u90a3\u4e48\\(P_i\\)\u6307\u5411\u4e0b\u4e00\u4e2a\u8282\u70b9.</p> </li> <li> <p>\u5bf9\u4e8e\u53f6\u5b50\u8282\u70b9,\\(P_n\\)\u6307\u5411\u4e0b\u4e00\u4e2a\u53f6\u5b50\u8282\u70b9,\u4e5f\u5c31\u662f\u4e0b\u4e00\u4e2a\u6570\u636e\u8bb0\u5f55.</p> </li> </ul>"},{"location":"incourse/db/ch14/#examples","title":"Examples","text":"<p>\u7531\u4e8eADS\u4e2d\u5df2\u7ecf\u5b66\u8fc7\u76f8\u5173\u64cd\u4f5c,\u6240\u4ee5\u8fd9\u91cc\u5c31\u653e\u4e00\u4e9bB+\u6811\u7684\u4f8b\u5b50.</p>"},{"location":"incourse/db/ch14/#b-tree","title":"B+ Tree","text":"<p>\u5bf9\u4e8e\u4e0b\u56fe\u7684B+\u6811:</p> <p> </p> <ol> <li> <p>\u5176\u9636\u6570n=6</p> </li> <li> <p>\u53f6\u5b50\u8282\u70b9\u7684\u952e\u503c\u6570\u76ee\u8303\u56f4\u662f[3,5] \u8fd9\u91cc\u548cADS\u4e0d\u4e00\u6837,\u662f[(n-1)/2,n-1]</p> </li> <li> <p>\u975e\u53f6\u5b50\u8282\u70b9\u7684\u5b69\u5b50\u6570\u76ee\u8303\u56f4\u662f[3,6] </p> </li> <li> <p>\u6839\u8282\u70b9\u8981\u4e48\u662f\u53f6\u5b50,\u8981\u4e48\u81f3\u5c11\u6709\u4e24\u4e2a\u5b69\u5b50</p> </li> </ol> <p>\u9ad8\u5ea6\u7ed3\u8bba</p> <p>\u5982\u679c\u4e00\u4e2aB+\u6811\u4e2d\u5b58\u50a8\u4e86\\(K\\)\u4e2a\u7d22\u5f15,\u5219\u5176\u9ad8\u5ea6\u7684\u8303\u56f4\u662f:</p> \\[ max{\\lceil \\log_{n/2} {K/2} \\rceil +1 ,\\lceil \\log_{n/2} K \\rceil }\\geq h \\geq \\lceil \\log_{n} K \\rceil \\]"},{"location":"incourse/db/ch14/#\u63d2\u5165\u4e0e\u5220\u9664","title":"\u63d2\u5165\u4e0e\u5220\u9664","text":"\u6240\u6709\u7684\u4f8b\u5b50 \u63d2\u51651\u63d2\u51652\u63d2\u51653\u63d2\u51654\u5220\u96641\u5220\u96642\u5220\u96643\u5220\u96644\u5220\u96645 <p>Average node occupancy depends on insertion order</p> <p>\\(\\frac{2}{3}\\)  with random, \\(\\frac{1}{2}\\)with insertion in sorted order</p>"},{"location":"incourse/db/ch14/#b--tree--height-and-size-estimation","title":"B+- tree : height and size estimation","text":"<p>\u5bf9\u4e8e\u5982\u4e0b\u7684\u6570\u636e\u5b9a\u4e49:</p> <pre><code>person( pid char(18)  primary key\uff0c\n        name char(8),   \n        age smallint,                             \n        address char(40) ); \n</code></pre> <p>\u4e0e1000000\u4e2a\u4eba\u76f8\u5173\u7684\u8bb0\u5f55.</p> <p>\u4e00\u4e2ablock\u5927\u5c0f4KB,\u4e00\u4e2a\u6307\u9488\u5927\u5c0f4B,\u4e00\u4e2achar(18)\u5927\u5c0f18B,\u4e00\u4e2achar(8)\u5927\u5c0f8B,\u4e00\u4e2asmallint\u5927\u5c0f2B,\u4e00\u4e2achar(40)\u5927\u5c0f40B.</p> <p>\u56e0\u6b64\u4e00\u4e2ablock\u53ef\u4ee5\u5b58\u50a8\u7684\u8bb0\u5f55\u6570\u4e3a:</p> \\[ \\frac{4096}{8+18+2+40}=\\frac{4096}{68}\\approx 60 \\] <p>B+\u6811\u7684\u9636\u6570\u4e3a:</p> \\[ \\frac{4096-4}{18+4}+1=\\frac{4092}{22}+1\\approx 187 \\] <p>\u5982\u679c\u662f\u4e24\u5c42\u7684B+\u6811,\u90a3\u4e48\u6700\u591a\u53ef\u4ee5\u5b58\u50a8\u7684\u8bb0\u5f55\u6570\u4e3a:</p> \\[ 187*186\\approx 34782 \\] <p>\u5982\u679c\u662f\u4e09\u5c42\u7684B+\u6811,\u90a3\u4e48\u6700\u591a\u53ef\u4ee5\u5b58\u50a8\u7684\u8bb0\u5f55\u6570\u4e3a:</p> \\[ 187*187*186\\approx 6504234 \\] <p>\u56e0\u6b64\u6211\u4eec\u4f7f\u7528\u4e09\u5c42\u7684B+\u6811,\u53ef\u4ee5\u5b58\u50a8\u4e0b\u4e0a\u9762\u8fd9\u4e00\u767e\u4e07\u6761\u8bb0\u5f55.</p> <p>\u4e00\u4e2a\u53f6\u5b50\u53ef\u4ee5\u5b58\u50a8[93,186]\u6761\u8bb0\u5f55,\u4e00\u4e2a\u975e\u53f6\u5b50\u8282\u70b9\u53ef\u4ee5\u6709[94,187]\u4e2a\u5b69\u5b50</p> <ol> <li> <p>\u534a\u6ee1\u53f6\u8282\u70b9\u60c5\u51b5</p> \u8282\u70b9\u5c42\u7ea7 \u8ba1\u7b97\u503c \u5411\u4e0a\u53d6\u6574 \u5355\u4f4d \u53f6\u8282\u70b9\u6570 10752.69 10752 nodes \u7b2c\u4e8c\u5c42\u8282\u70b9\u6570 114 114 nodes \u6839\u8282\u70b9 1 1 node \u603b\u8282\u70b9\u6570(\u6700\u591a) 10867 10867 nodes </li> <li> <p>\u6ee1\u53f6\u8282\u70b9\u60c5\u51b5</p> \u8282\u70b9\u5c42\u7ea7 \u8ba1\u7b97\u503c \u5411\u4e0a\u53d6\u6574 \u5355\u4f4d \u53f6\u8282\u70b9\u6570 5376.344 5377 nodes \u7b2c\u4e8c\u5c42\u8282\u70b9\u6570 29 29 nodes \u6839\u8282\u70b9 1 1 node \u603b\u8282\u70b9\u6570(\u6700\u5c0f) 5407 5407 nodes </li> </ol>"},{"location":"incourse/db/ch14/#b-tree-file-organization","title":"B+ Tree File Organization","text":"<ul> <li> <p>B+-Tree File Organization:</p> <ul> <li> <p>Leaf nodes in a B+-tree file organization store records, instead of pointers.\u5b58\u50a8\u8bb0\u5f55\u800c\u4e0d\u662f\u6307\u9488</p> </li> <li> <p>Helps keep data records clustered even when there are insertions/deletions/updates</p> </li> </ul> </li> <li> <p>Leaf nodes are still required to be half full</p> <ul> <li>Since records are larger than pointers, the maximum number of records that can be stored in a leaf node is less than the number of pointers in a nonleaf node.</li> </ul> </li> </ul>"},{"location":"incourse/db/ch14/#other-issues-in-indexing","title":"Other Issues in Indexing","text":"<ul> <li> <p>Record relocation and secondary indices</p> <ul> <li> <p>If a record is relocated, all secondary indices on the record must be updated.</p> </li> <li> <p>\u8fd9\u4f1a\u5bfc\u81f4\u8282\u70b9\u7684\u5206\u88c2\u5f00\u9500\u5341\u5206\u5927</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6cd5\u662f:\u5728\u4e8c\u7ea7\u7d22\u5f15\u4e2d\u4e0d\u8981\u76f4\u63a5\u5b58\u50a8\u8bb0\u5f55\u5730\u5740\uff0c\u800c\u662f\u5b58\u50a8\u8be5\u8bb0\u5f55\u7684\u201c\u4e3b\u952e\u201d\u503c\uff0c\u518d\u901a\u8fc7\u4e3b\u7d22\u5f15\u5b9a\u4f4d\u8bb0\u5f55\u3002</p> </li> </ul> </li> <li> <p>Variable length strings as keys</p> <ul> <li>Variable fanout</li> </ul> </li> <li> <p>Prefix compression</p> <ul> <li> <p>Keys in leaf node can be compressed by sharing common prefixes</p> </li> <li> <p>Keep enough characters to distinguish entries in the subtrees separated by the key value</p> <ul> <li>E.g. \u201cSilas\u201d and \u201cSilberschatz\u201d can be separated by \u201cSilb\u201d</li> </ul> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch14/#bulk-loading-and-bottom-up-build","title":"Bulk Loading and Bottom-Up Build","text":"<p>\u6279\u91cf\u52a0\u8f7d\u548c\u81ea\u5e95\u5411\u4e0a\u6784\u5efa</p> <p>Inserting entries one-at-a-time into a B+-tree requires \uf0b3 1 IO per entry</p> <p>\u56e0\u6b64,\u6211\u4eec\u6709\u4e24\u79cd\u89e3\u51b3\u65b9\u6cd5:</p> <ol> <li> <p>Insert in sorted order</p> <ul> <li>\u5145\u5206\u5229\u7528\u6570\u636e\u5c40\u90e8\u6027.</li> </ul> </li> <li> <p>Bottom-up B+-tree construction</p> <ul> <li> <p>\u548c\u4e0a\u9762\u4e00\u6837,\u5148\u6392\u5e8f</p> </li> <li> <p>\u7136\u540e\u4ece\u5e95\u90e8\u5f00\u59cb\u6784\u5efaB+-\u6811</p> </li> </ul> </li> </ol> <p>Bulk Loading</p> <p></p>"},{"location":"incourse/db/ch14/#bulk-insert-index-entries","title":"Bulk insert index entries","text":"<p>Bulk Insert</p> <p></p> <p>\u5148\u628a\u4e4b\u524d\u90a3\u9897\u6811\u7684\u53f6\u5b50\u8282\u70b9\u627e\u5230,1 Seek+6 blocks</p> <p>\u7136\u540e\u6784\u5efa\u5b8c\u6811\u540e,\u628a\u6811\u518d\u5199\u56de\u53bb,1 Seek+13 blocks</p>"},{"location":"incourse/db/ch14/#multiple-key-access","title":"Multiple-Key Access","text":"<ul> <li> <p>Composite search keys are search keys containing more than one attribute</p> <ul> <li>E.g. (dept_name, salary)</li> </ul> </li> <li> <p>Lexicographic ordering: (a1, a2) &lt; (b1, b2) if either </p> <ul> <li> <p>a1 &lt; b1, or </p> </li> <li> <p>a1=b1 and  a2 &lt; b2</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch14/#indexing-in-main-memory","title":"Indexing in Main Memory","text":"<p>\u5f53\u7d22\u5f15\u7ed3\u6784\uff08\u5982 B+ \u6811\uff09\u4e3b\u8981\u6216\u5b8c\u5168\u5b58\u50a8\u5728\u4e3b\u5185\u5b58\uff08RAM\uff09\u4e2d\u65f6\uff0c\u6211\u4eec\u9700\u8981\u8003\u8651\u65b0\u7684\u6027\u80fd\u4f18\u5316\u70b9\u3002</p> <ul> <li> <p>\u5185\u5b58\u8bbf\u95ee\u7684\u6210\u672c\uff1a</p> <ul> <li>\u867d\u7136\u5185\u5b58\u968f\u673a\u8bbf\u95ee\u6bd4\u78c1\u76d8/\u95ea\u5b58\u5feb\u5f97\u591a\uff0c\u4f46\u4e0e CPU \u7f13\u5b58\uff08Cache\uff09\u76f8\u6bd4\uff0c\u4ecd\u7136\u76f8\u5bf9\u8f83\u6162\u4e14\u5b58\u5728\u5ef6\u8fdf\u3002</li> </ul> </li> <li> <p>\u5927\u8282\u70b9\u4e0e\u7f13\u5b58\u672a\u547d\u4e2d\uff08Cache Misses\uff09\uff1a</p> <ul> <li>\u4f20\u7edf B+ \u6811\u4e3a\u4f18\u5316\u78c1\u76d8 I/O \u800c\u8bbe\u8ba1\u7684\u5927\u8282\u70b9\uff0c\u5728\u5185\u5b58\u4e2d\u8fdb\u884c\u5185\u90e8\u67e5\u627e\uff08\u5982\u4e8c\u5206\u67e5\u627e\uff09\u65f6\uff0c\u5bb9\u6613\u8de8\u8d8a\u591a\u4e2ablock\uff0c\u5bfc\u81f4\u9891\u7e41\u7684\u7f13\u5b58\u672a\u547d\u4e2d\uff0c\u964d\u4f4e\u6548\u7387\u3002</li> </ul> </li> <li> <p>\u7f13\u5b58\u53cb\u597d\uff08Cache-Conscious\uff09\u6570\u636e\u7ed3\u6784\uff1a</p> <ul> <li>\u5bf9\u4e8e\u5185\u5b58\u7d22\u5f15\uff0c\u4f18\u5316\u91cd\u70b9\u8f6c\u5411\u6700\u5927\u5316 CPU \u7f13\u5b58\u5229\u7528\u7387\u3002\u6211\u4eec\u9700\u8981\u8bbe\u8ba1\u201c\u7f13\u5b58\u53cb\u597d\u201d\u7684\u6570\u636e\u7ed3\u6784\u3002</li> </ul> </li> </ul> <p>\u5173\u952e\u601d\u60f3\uff08Key Idea\uff09\uff1a</p> <p>\u4e3a\u4e86\u5e73\u8861\u78c1\u76d8/\u5185\u5b58\u8bbf\u95ee\u548c\u7f13\u5b58\u8bbf\u95ee\u7684\u4f18\u5316\uff1a</p> <ol> <li> <p>\u4fdd\u7559\u5927\u8282\u70b9\uff1a \u7ee7\u7eed\u4f7f\u7528\u8f83\u5927\u7684 B+ \u6811\u8282\u70b9\uff0c\u4ee5\u51cf\u5c11\u78c1\u76d8 I/O\uff08\u5982\u679c\u9700\u8981\uff09\u6216\u6574\u4f53\u5185\u5b58\u8bbf\u95ee\uff08\u5982\u51cf\u5c11 TLB \u672a\u547d\u4e2d\uff09\u3002</p> </li> <li> <p>\u4f18\u5316\u8282\u70b9\u5185\u90e8\u7ed3\u6784\uff1a \u4e0d\u518d\u4f7f\u7528\u7b80\u5355\u7684\u6709\u5e8f\u6570\u7ec4\uff0c\u800c\u662f\u5728\u5927\u8282\u70b9\u5185\u90e8\u5d4c\u5165\u4e00\u4e2a\u5c0f\u7684\u3001\u7f13\u5b58\u53cb\u597d\u7684\u6811\u7ed3\u6784\uff08\u4f8b\u5982\uff0c\u8282\u70b9\u5927\u5c0f\u4e0e\u7f13\u5b58\u884c\u5339\u914d\u7684\u5c0f B \u6811\uff09\u3002\u8fd9\u6837\uff0c\u8282\u70b9\u5185\u90e8\u7684\u67e5\u627e\u64cd\u4f5c\u80fd\u66f4\u597d\u5730\u5229\u7528\u7f13\u5b58\uff0c\u51cf\u5c11\u672a\u547d\u4e2d\u3002</p> </li> </ol>"},{"location":"incourse/db/ch14/#indexing-on-flash","title":"Indexing on Flash","text":"<p>\u5728\u95ea\u5b58\u4e2d\uff0c\u5199\u5165\u4e0d\u662f\u7acb\u5373\u7684\uff0c\u9700\u8981\u7b49\u5f85\u539f\u6765\u7684\u6570\u636e\u88ab\u64e6\u9664\u540e\u624d\u80fd\u5199\u5165\u65b0\u7684\u6570\u636e\u3002</p> <p>\u95ea\u5b58\u7684\u968f\u673a\u8bfb\u53d6\u901f\u5ea6\u8fdc\u5feb\u4e8e\u78c1\u76d8\uff0c\u6ca1\u6709\u5bfb\u9053\u548c\u65cb\u8f6c\u5ef6\u8fdf\u3002\u56e0\u6b64\uff0c\u8bfb\u53d6\u5c0f\u9875\u9762\u548c\u5927\u9875\u9762\u7684\u5ef6\u8fdf\u5dee\u5f02\u8fdc\u5c0f\u4e8e\u78c1\u76d8</p> <p>\u5e76\u4e14\uff0c\u5982\u679c\u4f7f\u7528\u5927\u9875\u9762\uff0c\u64e6\u9664\u65f6\u7684\u4ee3\u4ef7\u5c31\u4f1a\u5f88\u9ad8\u3002</p> <ul> <li> <p>Optimum page size therefore much smaller</p> </li> <li> <p>Bulk-loading still useful since it minimizes page erases</p> </li> <li> <p>Write-optimized tree structures (i.e., LSM-tree) have been adapted to minimize page writes for flash-optimized search trees</p> </li> </ul>"},{"location":"incourse/db/ch14/#log-structured-merge-lsm-tree","title":"Log Structured Merge (LSM) Tree","text":"<p>LSM Tree</p> <p>LSM\u6811\u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u65e8\u5728\u4f18\u5316\u5199\u5165\u64cd\u4f5c\u7684\u6027\u80fd\u3002\u5b83\u901a\u8fc7\u5c06\u5199\u5165\u64cd\u4f5c\u9996\u5148\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u5b9a\u671f\u5c06\u8fd9\u4e9b\u6570\u636e\u6279\u91cf\u5199\u5165\u78c1\u76d8\uff0c\u4ece\u800c\u51cf\u5c11\u968f\u673a\u5199\u5165\u7684\u6b21\u6570\u3002</p> <p></p> <p>\u63d2\u5165\u6570\u636e\u65f6:</p> <ol> <li> <p>\u6570\u636e\u5757\u5148\u63d2\u5165\u5230\u5185\u5b58\u4e2d\u7684\\(L_0\\)\u6811</p> </li> <li> <p>\u5f53\\(L_0\\)\u6811\u6ee1\u4e86\uff0c\u4f7f\u7528bottom-up build\u7684\u7b56\u7565\u628a\\(L_0\\)\u6811\u4e2d\u7684\u6570\u636e\u5199\u5165\u5230\\(L_1\\)\u6811\u4e2d</p> </li> <li> <p>\u5f53\\(L_1\\)\u6811\u7684\u5927\u5c0f\u8d85\u8fc7\u67d0\u4e2a\u9608\u503c\uff0c\u5c31\u628a\u5b83\u5408\u5e76\u5230\\(L_2\\)\u6811\u4e2d</p> </li> <li> <p>\u4ee5\u6b64\u7c7b\u63a8\uff0c\u6709\\(L_3\\)\u6811\uff0c\\(L_4\\)\u6811\uff0c...</p> </li> </ol>"},{"location":"incourse/db/ch14/#stepped-merge-index","title":"Stepped Merge Index","text":"<p>\u5f53\u4e00\u5c42\u4e0a\u5b58\u5728k\u4e2a\u7d22\u5f15\u65f6\uff0c\u628a\u5b83\u4eec\u5408\u5e76\u4e3a\u4e0b\u4e00\u5c42\u7684\u4e00\u4e2a\u6811\u3002</p> <p>\u5e03\u9686\u8fc7\u6ee4\u5668\u53ef\u4ee5\u7528\u6765\u5feb\u901f\u5224\u65ad\u4e00\u4e2a\u5143\u7d20\u662f\u5426\u5728\u67d0\u4e2a\u96c6\u5408\u4e2d\u3002</p> <ol> <li>\u4f7f\u7528\u4e00\u4e2a\u4f4d\u6570\u7ec4\u548c\u591a\u4e2a\u54c8\u5e0c\u51fd\u6570\u3002</li> <li>\u6dfb\u52a0\u5143\u7d20\u65f6\uff0c\u7528\u54c8\u5e0c\u51fd\u6570\u8ba1\u7b97\u591a\u4e2a\u4f4d\u7f6e\uff0c\u5e76\u5c06\u8fd9\u4e9b\u4f4d\u7f6e\u7684\u4f4d\u8bbe\u4e3a 1\u3002</li> <li>\u67e5\u8be2\u5143\u7d20\u65f6\uff0c\u68c0\u67e5\u5176\u54c8\u5e0c\u51fd\u6570\u5bf9\u5e94\u7684\u6240\u6709\u4f4d\uff1a<ul> <li>\u5982\u679c\u6240\u6709\u4f4d\u90fd\u662f 1\uff0c\u5219\u62a5\u544a\u5143\u7d20\u53ef\u80fd\u5b58\u5728\u3002</li> <li>\u5982\u679c\u81f3\u5c11\u6709\u4e00\u4f4d\u662f 0\uff0c\u5219\u62a5\u544a\u5143\u7d20\u7edd\u5bf9\u4e0d\u5b58\u5728\u3002</li> </ul> </li> </ol>"},{"location":"incourse/db/ch14/#delete","title":"Delete","text":"<p>\u5728LSM\u6811\u4e2d\uff0c\u5982\u679c\u6211\u4eec\u8981\u5220\u9664\u4e00\u4e2aentry,\u6211\u4eec\u5c31\u52a0\u5165\u4e00\u4e2a\u7279\u6b8a\u7684delete entry\uff0c\u7136\u540e\uff1a</p> <ol> <li> <p>\u5728\u67e5\u8be2\u65f6\uff0c\u540c\u65f6\u67e5\u627eoriginal entry\u548cdelete entry,\u5982\u679c\u6709entry\u548c\u67d0\u4e2adelete entry\u5339\u914d\u4e86\uff0c\u5c31\u4e0d\u8fd4\u56de</p> </li> <li> <p>\u5728\u5408\u5e76\u6811\u65f6\uff0c\u5982\u679c\u6211\u4eec\u627e\u5230\u67d0\u4e2adelete entry\u5339\u914d\u4e86\u67d0\u4e2aentry,\u5c31\u628a\u8fd9\u4e2a\u8fd9\u4e24\u4e2aentry\u90fd\u5220\u9664\u6389</p> </li> </ol>"},{"location":"incourse/db/ch14/#buffer-tree","title":"Buffer Tree","text":"<p>Key idea: each internal node of B+-tree has a buffer to store inserts</p> <p>\u4e5f\u5c31\u662f\u628aB+\u6811\u6bcf\u4e2a\u8282\u70b9\u5269\u4e0b\u7684\u7a7a\u95f4\u7528\u6765\u5b58\u50a8\u63d2\u5165\u7684\u8bb0\u5f55.     - \u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u78c1\u76d8I/O,\u56e0\u4e3a\u6211\u4eec\u53ef\u4ee5\u628a\u63d2\u5165\u7684\u8bb0\u5f55\u5148\u5b58\u50a8\u5728\u5185\u5b58\u4e2d,\u7b49\u5230\u8282\u70b9\u6ee1\u4e86\u518d\u5199\u5165\u78c1\u76d8.</p>"},{"location":"incourse/db/ch14/#bitmap-indices","title":"Bitmap Indices","text":"<p>\u8ba4\u4e3a\u4e00\u4e2a\u5173\u7cfb\u91cc\u7684\u4e00\u4e2a\u4e2a\u5143\u7ec4\u90fd\u662f\u4ece0\u5f00\u59cb\u6709\u5e8f\u4f9d\u6b21\u7f16\u53f7\u7684</p> <p>\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5c5e\u6027\u7684\u6bcf\u4e00\u79cd\u503c\uff0c\u90fd\u6709\u4e00\u4e2abitmap\uff0c<code>1</code>\u8868\u793a\u8be5\u5143\u7ec4\u7684\u8be5\u5c5e\u6027\u4e3a\u8fd9\u4e2a\u503c,\u53cd\u4e4b\u4e3a<code>0</code>.</p> <p>\u56e0\u6b64,bitmap\u4f7f\u7528\u4e8e\u90a3\u4e9b\u503c\u6bd4\u8f83\u5c11\u7684\u5c5e\u6027,\u6bd4\u5982\u6027\u522b,\u56fd\u5bb6,\u57ce\u5e02\u7b49.</p> <p>Bitmap Indices</p> <p></p> <p>Bitmap Indices\u5bf9\u4e8e\u591a\u503c\u5c5e\u6027\u7684\u67e5\u627e\u975e\u5e38\u53cb\u597d,\u53ea\u8981\u628a\u4e24\u4e2a\u5c5e\u6027\u503c\u7684bitmap\u505a\u4e0e(and)/\u6216(or)\u64cd\u4f5c\u5c31\u53ef\u4ee5\u4e86.</p> <ul> <li> <p>Bitmaps are packed into words\": \u4f4d\u56fe\u5728\u5185\u5b58\u4e2d\u4e0d\u662f\u6309\u5355\u4e2a\u4f4d\u5b58\u50a8\u7684\uff0c\u800c\u662f\u88ab\u6253\u5305\u6210 CPU \u7684\u539f\u751f\u5b57\u957f\uff08Word Size\uff09\uff0c\u901a\u5e38\u662f 32 \u4f4d\u6216 64 \u4f4d\u3002\u8fd9\u610f\u5473\u7740\u4e00\u4e2a 32 \u4f4d\u7684\u6574\u6570\u53ef\u4ee5\u5b58\u50a8\u4f4d\u56fe\u4e2d\u7684 32 \u4e2a\u8fde\u7eed\u4f4d\u3002</p> </li> <li> <p>\u4e3a\u4e86\u5feb\u901f\u77e5\u9053\u7ed3\u679c\u4f4d\u56fe\u4e2d\u6709\u591a\u5c11\u4e2a 1,\u6211\u4eec\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5</p> <ol> <li>\u9884\u8ba1\u7b97\u6570\u7ec4: \u4e8b\u5148\u521b\u5efa\u4e00\u4e2a\u5305\u542b 256 \u4e2a\u5143\u7d20\u7684\u6570\u7ec4\uff08\u6211\u4eec\u79f0\u4e4b\u4e3a popcount_lookup\uff09\u3002\u6570\u7ec4\u7684\u7d22\u5f15\u8303\u56f4\u662f 0 \u5230 255\uff0c\u6b63\u597d\u5bf9\u5e94\u4e00\u4e2a\u5b57\u8282\uff088 \u4f4d\uff09\u80fd\u8868\u793a\u7684\u6240\u6709\u53ef\u80fd\u503c\u3002</li> <li> <p>\u6570\u7ec4\u5185\u5bb9: <code>popcount_lookup[i]</code> \u5b58\u50a8\u7684\u662f\u6574\u6570 i \u7684\u4e8c\u8fdb\u5236\u8868\u793a\u4e2d\u5305\u542b\u7684 1 \u7684\u4e2a\u6570\u3002\u4f8b\u5982\uff1a</p> <ul> <li><code>popcount_lookup[0]</code> (\u4e8c\u8fdb\u5236 00000000) = 0, </li> <li><code>popcount_lookup[1]</code> (00000001) = 1, </li> <li><code>popcount_lookup[2]</code> (00000010) = 1, </li> <li><code>popcount_lookup[3]</code> (00000011) = 2, </li> <li>..., </li> <li><code>popcount_lookup[255]</code> (11111111) = 8</li> </ul> </li> <li> <p>\u5c06\u4f4d\u56fe\u6309\u5b57\u8282\uff088 \u4f4d\uff09\u62c6\u5206\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u5b57\u8282\uff0c\u76f4\u63a5\u4ee5\u8be5\u5b57\u8282\u7684\u503c\u4f5c\u4e3a\u7d22\u5f15\u53bb\u67e5\u9884\u8ba1\u7b97\u6570\u7ec4\uff0c\u5c31\u80fd\u7acb\u523b\u5f97\u5230\u8fd9\u4e2a\u5b57\u8282\u4e2d 1 \u7684\u4e2a\u6570\u3002</p> </li> </ol> </li> </ul>"},{"location":"incourse/db/ch15/","title":"\u67e5\u8be2\u5904\u7406","text":"<p> \u7ea6 3765 \u4e2a\u5b57  10 \u884c\u4ee3\u7801  23 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 19 \u5206\u949f</p>"},{"location":"incourse/db/ch15/#basic-steps-in-query-processing","title":"Basic Steps in Query Processing","text":"<p>\u67e5\u8be2\u5904\u7406\u7684\u57fa\u672c\u6b65\u9aa4\u662f\uff1a</p> <ol> <li> <p>\u89e3\u6790\u4e0e\u8f6c\u6362 (Parsing and translation)</p> <ul> <li>\u5c06\u67e5\u8be2\u8f6c\u6362\u4e3a\u5176\u5185\u90e8\u5f62\u5f0f\uff0c\u901a\u5e38\u8f6c\u6362\u4e3a\u5173\u7cfb\u4ee3\u6570\u5f62\u5f0f</li> <li>\u89e3\u6790\u5668\u6267\u884c\u4ee5\u4e0b\u4efb\u52a1\uff1a<ul> <li>\u68c0\u67e5\u67e5\u8be2\u7684\u8bed\u6cd5\u662f\u5426\u6b63\u786e</li> <li>\u9a8c\u8bc1\u67e5\u8be2\u4e2d\u5f15\u7528\u7684\u5173\u7cfb\u662f\u5426\u5b58\u5728</li> <li>\u68c0\u67e5\u5c5e\u6027\u540d\u662f\u5426\u6709\u6548</li> </ul> </li> </ul> </li> <li> <p>\u4f18\u5316 (Optimization)</p> <ul> <li>\u5728\u6240\u6709\u7b49\u4ef7\u7684\u6267\u884c\u8ba1\u5212\u4e2d\uff0c\u9009\u62e9\u4ee3\u4ef7\u6700\u4f4e\u7684\u6267\u884c\u8ba1\u5212</li> <li>\u67e5\u8be2\u4f18\u5316\u5668\u8d1f\u8d23\u751f\u6210\u6709\u6548\u7684\u67e5\u8be2\u6267\u884c\u8ba1\u5212</li> </ul> </li> <li> <p>\u6267\u884c (Evaluation)</p> <ul> <li>\u67e5\u8be2\u6267\u884c\u5f15\u64ce\u63a5\u6536\u67e5\u8be2\u6267\u884c\u8ba1\u5212</li> <li>\u6309\u7167\u8ba1\u5212\u6267\u884c\u5404\u4e2a\u64cd\u4f5c</li> <li>\u8fd4\u56de\u67e5\u8be2\u7ed3\u679c\u7ed9\u7528\u6237</li> </ul> </li> </ol> <p>\ud83c\udf30</p> <p>\u5bf9\u4e8e\u5982\u4e0b\u7684\u8bed\u53e5: <pre><code>select name, title \nfrom instructor natural join (teaches natural join course)\nwhere dept_name=\u2018Music\u2019 and year = 2009; \n</code></pre></p> <p>\u7528\u5173\u7cfb\u4ee3\u6570\u6765\u8868\u8fbe\u5c31\u662f: $$ \\pi_{name,title}(\\sigma_{dept_name=\u2018Music\u2019 \\land year=2009}(instructor \\bowtie (teaches \\bowtie course))) $$</p> <p>\u4f18\u5316\u524d\u4e0e\u4f18\u5316\u540e\u7684\u8868\u8fbe\u6811\u4e3a:</p> <p> </p> <p>\u4ece\u4e2d\u53ef\u4ee5\u770b\u51fa\u51e0\u70b9\u903b\u8f91:</p> <ol> <li> <p>\u628a\u9009\u62e9\u8fd0\u7b97\u5f80\u53f6\u5b50\u4e0a\u63a8\uff1b\u56e0\u4e3a\u53f6\u5b50\u8282\u70b9\u7684\u8868\u5c0f\uff0c\u9009\u62e9\u8fd0\u7b97\u7684\u4ee3\u4ef7\u5c0f\uff0c\u5e76\u4e14\u8fd9\u6837\u4e5f\u80fd\u51cf\u5c11\u4e2d\u95f4\u7ed3\u679c\u96c6\u7684\u5927\u5c0f\u3002</p> </li> <li> <p>\u5c0f\u7684\u8868\u5148\u8fde\u63a5\uff0c\u51cf\u5c11\u4e2d\u95f4\u7ed3\u679c\u96c6\u7684\u5927\u5c0f\u3002</p> </li> </ol> <p>An evaluation plan defines exactly what algorithm is used for each operation, and how the execution of the operations is coordinated.</p> <p>\u5982\u4e0b\u56fe:  </p> <p>\u5de6\u8fb9\u4f7f\u7528B+\u6811\u626b\u63cf\uff0c\u53f3\u8fb9\u4f7f\u7528\u7ebf\u6027\u626b\u63cf\uff0c\u5e76\u4e14\u4e24\u8fb9\u662f\u53ef\u4ee5Pipeline\u7684\u3002</p> <p>\u8fd8\u6709merge join\u548chash join\u7684\u533a\u522b\u3002</p>"},{"location":"incourse/db/ch15/#measurement-of-query-cost","title":"Measurement of Query Cost","text":"<p>Typically disk access is the predominant cost, and is also relatively easy to estimate. </p> <p>\u786c\u76d8\u8bbf\u95ee\u7684\u5f00\u9500\u603b\u662f\u6700\u5927\u7684</p> <p>\u6211\u4eec\u8003\u8651\u5982\u4e0b\u4e09\u4e2a\u56e0\u7d20:</p> <ol> <li> <p>Number of seeks</p> </li> <li> <p>Number of blocks read</p> </li> <li> <p>Number of blocks written</p> </li> </ol> <p>\u901a\u5e38\u5199\u7684\u4ee3\u4ef7\u6bd4\u8bfb\u5927\u5f88\u591a\uff0c\u56e0\u4e3a\u4e00\u822c\u5199\u5b8c\u6211\u4eec\u8fd8\u8981\u8bfb\u4e00\u904d\u6765\u68c0\u9a8c\u3002</p> <p>\u4e3a\u4e86\u7b80\u5316\uff0c\u6211\u4eec\u4f7f\u7528\u5982\u4e0b\u4e24\u4e2a\u91cf\u6765\u8bc4\u4f30\u4ee3\u4ef7:</p> <ol> <li> <p>number of block transfers,\u4e0e\u4e4b\u76f8\u914d\u7684\u662f\\(t_T\\) \u2013 time to transfer one block</p> </li> <li> <p>number of seeks,\u4e0e\u4e4b\u76f8\u914d\u7684\u662f\\(t_S\\) \u2013 time to perform one seek</p> </li> <li> <p>\u5bf9\u4e8eb\u6b21\u5757\u4f20\u8f93\u548cs\u6b21\u5bfb\u9053\uff0c\u4ee3\u4ef7\u4e3a\uff1a     $$     C = b \\cdot t_T + s \\cdot t_S$$</p> </li> </ol> <p>We often use worst case estimates, assuming only the minimum amount of memory needed for the operation is available</p>"},{"location":"incourse/db/ch15/#selection-operation","title":"Selection Operation","text":""},{"location":"incourse/db/ch15/#file-scan","title":"File scan","text":"<p>Algorithm A1 (linear search).  Scan each file block and test all records to see whether they satisfy the selection condition.</p> <p>\u6211\u4eec\u5047\u5b9a\u5757\u662f\u8fde\u7eed\u5b58\u653e\u7684</p> <ul> <li> <p>Worst Cost:\\(b_r \\times t_T + t_S\\)</p> <ul> <li>\\(b_r\\)\u662f\u5757\u6570\u76ee</li> </ul> </li> <li> <p>Average Cost: \\(\\frac{b_r}{2} \\times t_T + t_S\\)</p> <ul> <li>\u5982\u679c\u67e5\u627e\u7684\u662f\u4e00\u4e2a\u4e3b\u952e\u503c\uff0c\u5e76\u4e14\u6211\u4eec\u627e\u5230\u7b26\u5408\u7684\u5c31\u505c\u6b62</li> </ul> </li> </ul>"},{"location":"incourse/db/ch15/#index-scan","title":"Index scan","text":"<p>search algorithms that use an index</p>"},{"location":"incourse/db/ch15/#a2","title":"A2","text":"<p>A2 (primary B+-tree index / clustering B+-tree index, equality on key). </p> <ul> <li> <p>\u5373\u4f7f\u7528B+\u6811\u7d22\u5f15</p> </li> <li> <p>\u627e\u7684\u662f\u4e3b\u952e\u503c</p> </li> </ul> <p>Cost:</p> \\[ C = (t_S + t_T) \\cdot (h + 1)\\] <ul> <li> <p>\\(h\\)\u662f\u6811\u7684\u9ad8\u5ea6</p> </li> <li> <p>B+\u6811\u6bcf\u5230\u65b0\u7684\u4e00\u5c42,\u90fd\u8981\u91cd\u65b0\u5bfb\u9053\u4e00\u6b21</p> </li> <li> <p>\u6700\u540e\u8981+1\u662f\u56e0\u4e3a\u6211\u4eec\u8981\u8bfb\u6570\u636e\u5757</p> </li> </ul>"},{"location":"incourse/db/ch15/#a3","title":"A3","text":"<p>A3 (primary B+-tree index/ clustering B+-tree index, equality on nonkey) </p> <ul> <li> <p>\u5373\u4f7f\u7528B+\u6811\u7d22\u5f15</p> </li> <li> <p>\u627e\u7684\u662f\u975e\u4e3b\u952e\u503c</p> </li> <li> <p>\u6240\u4ee5\u53ef\u80fd\u6709\u591a\u4e2a\u7ed3\u679c</p> </li> </ul> <p>Records will be on consecutive blocks, \u6240\u4ee5\u6700\u540e\u627e\u6570\u636e\u5757\u53ea\u9700\u8981\u5bfb\u9053\u4e00\u6b21</p> <p>Let b = number of blocks containing matching records</p> <p>Cost:</p> \\[ C = (t_S + t_T) \\cdot h + t_S+ b \\cdot t_T\\]"},{"location":"incourse/db/ch15/#a4","title":"A4","text":"<p>A4 (secondary B+-tree index , equality on key)</p> <ul> <li> <p>\u5373\u4f7f\u7528B+\u6811\u7d22\u5f15</p> </li> <li> <p>\u627e\u7684\u662f\u4e3b\u952e\u503c</p> </li> <li> <p>\u4f46\u4f7f\u7528\u7684\u662f\u975e\u805a\u96c6\u7d22\u5f15</p> </li> </ul> <p>Cost\u548cA2\u4e00\u6837:</p>"},{"location":"incourse/db/ch15/#a4_1","title":"A4'","text":"<p>A4' (secondary B+-tree index , equality on nonkey)</p> <ul> <li> <p>\u5373\u4f7f\u7528B+\u6811\u7d22\u5f15</p> </li> <li> <p>\u627e\u7684\u662f\u975e\u4e3b\u952e\u503c</p> </li> <li> <p>\u4f7f\u7528\u7684\u662f\u975e\u805a\u96c6\u7d22\u5f15</p> </li> </ul> <p>m \u8868\u793a\u653e\u6307\u9488\u7684\u5757\u7684\u6570\u91cf</p> <p>n \u8868\u793a\u5bf9\u5e94\u78c1\u76d8\u91cc\u7684\u8bb0\u5f55\u7684\u6570\u91cf\u3002</p> \\[ Cost = (t_S + t_T) \\cdot (h + m + n) \\]"},{"location":"incourse/db/ch15/#selections-involving-comparisons","title":"Selections Involving Comparisons","text":"<p>\u8fdb\u884c\u67e5\u627e\\(\\sigma_{A \\leq B}(r)\\)\u6216\\(\\sigma_{A \\geq B}(r)\\) </p>"},{"location":"incourse/db/ch15/#a5","title":"A5","text":"<p>A5 (primary B+-index / clustering B+-index index, comparison)</p> <ul> <li> <p>\u7d22\u5f15\u662f\u4e3b\u952e\u503c</p> </li> <li> <p>\u5305\u542b\u6bd4\u8f83</p> </li> <li> <p>\u5df2\u7ecf\u6392\u597d\u5e8f</p> </li> <li> <p>\u5bf9\u4e8e\\(\\sigma_{A \\geq B}(r)\\)</p> <ul> <li> <p>\u5148\u627e\u5230\u7b2c\u4e00\u4e2a\u7b26\u5408\u7684\u503c\uff0c\u7136\u540e\u987a\u5e8f\u626b\u63cf</p> </li> <li> <p>Cost\u548cA3\u4e00\u6837</p> </li> </ul> </li> <li> <p>\u5bf9\u4e8e\\(\\sigma_{A \\leq B}(r)\\)</p> <ul> <li> <p>\u4e0d\u9700\u8981\u4f7f\u7528\u7d22\u5f15</p> </li> <li> <p>\u76f4\u63a5\u4ece\u6570\u636e\u5757\u91cc\u987a\u5e8f\u626b\u63cf\uff0c\u76f4\u5230\u8bfb\u5230\u7b2c\u4e00\u4e2a\u5143\u7ec4\u5927\u4e8eB\u4e3a\u6b62</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch15/#a6","title":"A6","text":"<p>A6 (secondary B+-tree index, comparison)</p> <ol> <li> <p>\u5bf9\u4e8e\\(\\sigma_{A \\geq B}(r)\\)</p> <ul> <li>\u6839\u636eB+\u6811\u7d22\u5f15\u627e\u5230\u7b2c\u4e00\u4e2a\u7b26\u5408\u7684\u503c\uff0c\u7136\u540e\u987a\u5e8f\u626b\u63cf</li> </ul> </li> <li> <p>\u5bf9\u4e8e\\(\\sigma_{A \\leq B}(r)\\)</p> <ul> <li> <p>\u76f4\u63a5\u5728\u53f6\u5b50\u8282\u70b9\u9010\u4e2a\u626b\u63cf\uff0c\u76f4\u5230\u8bfb\u5230\u7b2c\u4e00\u4e2a\u5143\u7ec4\u5927\u4e8eB\u4e3a\u6b62</p> </li> <li> <p>\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6307\u9488\uff0c\u53bb\u6570\u636e\u5757\u91cc\u987a\u5e8f\u8bfb</p> </li> </ul> </li> </ol>"},{"location":"incourse/db/ch15/#implementation-of-complex-selections","title":"Implementation of Complex Selections","text":"<p>\u5bf9\u4e8e\u591a\u6761\u4ef6\u7684\u9009\u62e9:\\(\\sigma_{\\theta_1 \\land \\theta_2 \\land ... \\land \\theta_n}(r)\\)</p> <ol> <li> <p>A7 (conjunctive selection using one index)</p> <ul> <li> <p>\u9009\u4e00\u4e2a\u6761\u4ef6\uff0c\u4eceA1-A6\u4e4b\u95f4\u627e\u4e00\u4e2a\u6700\u4f18\u7684\u7b97\u6cd5\uff0c\u5f97\u5230\u4e00\u5806\u5143\u7ec4</p> </li> <li> <p>\u5728\u8fd9\u5806\u5143\u7ec4\u4e0a\u6d4b\u8bd5\u5176\u4ed6\u6761\u4ef6</p> </li> </ul> </li> <li> <p>A8 (conjunctive selection using composite index)</p> <ul> <li>Use appropriate composite (multiple-key) index if available.</li> </ul> </li> <li> <p>A9 (conjunctive selection by intersection of identifiers)</p> <ul> <li> <p>\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6761\u4ef6\uff0c\u4eceA1-A6\u4e2d\u9009\u62e9\u4e00\u4e2a\u6700\u4f18\u7684\u7b97\u6cd5\uff0c\u5f97\u5230\u7ed3\u679c\u96c6</p> </li> <li> <p>\u628a\u7ed3\u679c\u96c6\u53d6\u4ea4</p> </li> </ul> </li> </ol>"},{"location":"incourse/db/ch15/#algorithms-for-complex-selections","title":"Algorithms for Complex Selections","text":"<ol> <li> <p>\u5bf9\u4e8e\u591a\u6761\u4ef6\u7684\u9009\u62e9:\\(\\sigma_{\\theta_1 \\lor \\theta_2 \\lor ... \\lor \\theta_n}(r)\\)</p> <ul> <li> <p>Applicable if all conditions have available indices.</p> </li> <li> <p>Otherwise use linear scan.</p> </li> <li> <p>Use corresponding index for each condition, and take union of all the obtained sets of record pointers.</p> </li> <li> <p>Then fetch records from file</p> </li> </ul> </li> <li> <p>\u53d6\u53cd\u7684\u9009\u62e9:\\(\\sigma_{\\neg \\theta}(r)\\)</p> <ul> <li>\u5148\u7528\u7ebf\u6027\u626b\u63cf\u627e\u51fa\u6240\u6709\u7684\u5143\u7ec4\uff0c\u7136\u540e\u5728\u5185\u5b58\u4e2d\u8fdb\u884c\u9009\u62e9</li> </ul> </li> </ol>"},{"location":"incourse/db/ch15/#bitmap","title":"Bitmap","text":"<p>\u6ca1\u8bb2</p>"},{"location":"incourse/db/ch15/#sorting","title":"Sorting","text":"<p>\u548cADS\u4e2d\u7684\u5916\u90e8\u6392\u5e8f\u5f88\u50cf,\u4f46\u662f\u6211\u5f53\u65f6\u6ca1\u5199(\u60b2)</p> <p>Runs \u4e0e Pass</p> <p>\u4e3a\u4e86\u907f\u514d\u6a21\u7cca\uff0c\u5728\u8fd9\u91cc\u76f4\u63a5\u628a\u8fd9\u4e24\u4e2a\u5173\u952e\u5b9a\u4e49\u7ed9\u51fa</p> <ul> <li> <p>Run:\u4e00\u7ec4\u5df2\u7ecf\u6392\u5e8f\u597d\u7684\u6570\u636e\uff0c\u521d\u59cb\u7684Runs\u5927\u5c0f\u548c\u5185\u5b58\u5927\u5c0f\u4e00\u81f4</p> </li> <li> <p>Pass:\u4e00\u4e2a\u628aN\u4e2aRuns\u5f52\u5e76\u6392\u5e8f\u4e3a\\(\\frac{N}{M}\\)\u4e2aRuns,\u5176\u4e2dM\u662f\u5185\u5b58\u4e2d\u53ef\u4ee5\u653e\u7684Block\u6570\u91cf\u3002</p> </li> </ul> <p> </p>"},{"location":"incourse/db/ch15/#\u6392\u5e8f\u6b65\u9aa4","title":"\u6392\u5e8f\u6b65\u9aa4","text":"<ol> <li> <p>Create sorted runs(\u5f52\u5e76\u6bb5 )</p> <ul> <li>Let i be 0 initially. </li> <li> <p>Repeatedly do the following till the end of the relation:</p> <ul> <li> <p>Read M blocks of relation into memory</p> </li> <li> <p>Sort the in-memory blocks  </p> </li> <li> <p>Write sorted data to run \\(R_i\\); increment </p> </li> <li> <p>Let the final value of i be N</p> </li> </ul> </li> </ul> </li> <li> <p>Merge the runs (N-way merge)</p> <ul> <li> <p>\\(N \\leq M\\)</p> <ul> <li> <p>\u90a3\u4e48\u53ea\u9700\u8981\u4e00\u4e2aPass</p> </li> <li> <p>\u4e3a\u6bcf\u4e00\u4e2arun\u51c6\u5907\u4e00\u4e2aBlock\u4f5c\u4e3a\u7f13\u51b2\u533a\uff0c\u518d\u6765\u4e00\u4e2aBlock\u4f5c\u4e3a\u8f93\u51fa\u7684\u7f13\u51b2\u533a\uff0c\u4ece\u6bcf\u4e2arun\u4e2d\u8bfb\u4e00\u4e2aBlock\u5230\u7f13\u51b2\u533a</p> </li> <li> <p>\u91cd\u590d\u4ee5\u4e0b\u8fc7\u7a0b\u76f4\u5230\u7ed3\u675f:</p> <ul> <li> <p>\u5bf9\u4e8e\u7f13\u51b2\u533a\u91cc\u9762\u6240\u6709Block\uff0c\u5f52\u5e76\u51fa\u4e00\u5757Block\u5230\u8f93\u51fa\u7f13\u51b2\u533a\uff0c\u7136\u540e\u5199\u5230\u78c1\u76d8\u4e0a</p> </li> <li> <p>\u5982\u679c\u7f13\u51b2\u533a\u91cc\u9762\u7684Block\u90fd\u8bfb\u5b8c\u4e86\uff0c\u90a3\u4e48\u5c31\u4ece\u78c1\u76d8\u4e0a\u8bfb\u4e0b\u4e00\u4e2aBlock\u5230\u7f13\u51b2\u533a</p> </li> </ul> </li> </ul> <p> </p> </li> <li> <p>\\(N \\geq m\\)</p> <ul> <li> <p>\u6bcf\u4e00\u6b21\uff0c\u628aN\u4e2aRuns\u53d8\u6210\\(\\lceil \\frac{N}{M-1} \\rceil\\)\u4e2aRuns</p> </li> <li> <p>\u5982\u679c\u4ecd\u7136\u6570\u91cf\u8d85\u8fc7 M, \u7ee7\u7eed pass.</p> </li> <li> <p>E.g.  If M=11, and there are 90 runs, one pass reduces the number of runs to 9, each 10 times the size of the initial runs</p> </li> </ul> </li> </ul> </li> </ol>"},{"location":"incourse/db/ch15/#cost-analysissimple-version","title":"Cost analysis(Simple version)","text":"<p>\u4ee4\\(b_r\\)\u4e3a\u9700\u8981\u6392\u5e8f\u7684\u6240\u6709\u5757\u7684\u6570\u76ee</p> <ul> <li> <p>Runs\u603b\u6570\u76ee\u4e3a\\(N = \\lceil \\frac{b_r}{M} \\rceil\\)\uff0c\u56e0\u4e3a\u521d\u59cb\u65f6\u4e00\u4e2aRuns\u7684\u5927\u5c0f\u5c31\u662f\u5185\u5b58\u7684\u5927\u5c0f</p> </li> <li> <p>\u603b\u5171\u9700\u8981\u7684Pass\u6570\u76ee\u4e3a\\(P = \\lceil \\log_{M-1} N \\rceil\\)</p> </li> <li> <p>\u5bf9\u4e8e\u6bcf\u4e2aPass\u548c\u521d\u59cb\u7684Runs\u7684\u751f\u6210\uff0cBlock\u7684\u4f20\u8f93\u6b21\u6570\u90fd\u4e3a\\(2b_r\\)\uff0c\u56e0\u4e3a\u6211\u4eec\u8981\u8bfb\u548c\u5199</p> <ul> <li> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8bfb\u4e00\u4e2aRuns\u548c\u5199\u4e00\u4e2aRuns\u7684\u4ee3\u4ef7\u4e0d\u662f\u4e00\u4e2aBlock\uff0c\u800c\u662fRuns\u7684\u5b9e\u9645\u5927\u5c0f\u3002\u6bcf\u8f6ePass\u4e2dRuns\u7684\u603b\u5927\u5c0f\u90fd\u662f\\(b_r\\)</p> </li> <li> <p>\u6bcf\u6b21\u90fd\u9700\u8981\u8bfb\u548c\u5199\u8fd9\u4e48\u591aBlock\uff0c\u6240\u4ee5\u4ee3\u4ef7\u662f\\(2b_r\\)</p> </li> <li> <p>\u7136\u800c\uff0c\u5728\u6700\u540e\u4e00\u4e2aPass\u4e2d\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8bfb\u4e00\u6b21\uff0c\u6240\u4ee5\u4ee3\u4ef7\u662f\\(b_r\\)\uff0c\u56e0\u4e3a\u53ef\u80fd\u4e0d\u4f1a\u5199\u5411\u78c1\u76d8\uff0c\u800c\u662f\u4ea4\u7ed9\u4e0b\u4e00\u6b65</p> </li> </ul> </li> <li> <p>\u6240\u4ee5\uff0c\u603b\u7684Block Transfers\u4e3a:</p> \\[  \\begin{align} &amp;2b_r( \\lceil \\log_{M-1} {b_r / M} \\rceil-1) &amp;\\text{(\u4e2d\u95f4 Pass \u7684\u8bfb\u5199)}\\\\  &amp;+ b_r &amp;\\text{(\u6700\u540e Pass \u7684\u8bfb\u53d6)}\\\\  &amp;+ 2b_r &amp;\\text{(\u521d\u59cb Runs \u751f\u6210\u7684\u8bfb\u5199)} \\end{align} \\] <p>\u4e5f\u5373\\(C = 2b_r \\lceil \\log_{M-1} {b_r / M} \\rceil + b_r\\)</p> </li> <li> <p>\u603b\u7684Seek\u4e3a</p> <ul> <li> <p>\u5728Runs\u7684\u751f\u6210\u65f6\uff0c\u9700\u8981\\(2 \\lceil \\frac{b_r}{M} \\rceil\\)\u6b21\u5bfb\u9053</p> </li> <li> <p>\u5728\u6bcf\u4e2aPass\u4e2d\uff0c\u90fd\u9700\u8981\\(2 b_r\\)\u6b21\u5bfb\u9053\uff0c\u56e0\u4e3a\u6bcf\u4e2aBlock\u90fd\u8981\u88ab\u52a0\u8f7d\u8fdb\u5185\u5b58\uff0c\u5e76\u5199\u51fa</p> </li> <li> <p>\u9664\u4e86\u6700\u540e\u4e00\u4e2aPass</p> </li> <li> <p>\u6240\u4ee5\u603b\u7684\u5bfb\u9053\u6b21\u6570\u4e3a:</p> \\[\\begin{align} 2 \\lceil \\frac{b_r}{M} \\rceil + 2b_r \\lceil \\log_{M-1} {b_r / M} \\rceil - b_r \\end{align}\\] </li> </ul> </li> </ul> <p>\ud83c\udf30</p> <p></p>"},{"location":"incourse/db/ch15/#cost-analysisadvance-version","title":"Cost analysis(Advance version)","text":"<p>\u6bcf\u6b21\u53ea\u8bfb\u4e00\u5757\u7684Seek\u6b21\u6570\u592a\u591a\u4e86\uff0c\u6211\u4eec\u6539\u4e3a\u6bcf\u6b21\u8bfb\\(b_b\\)\u5757</p> <p>\u8fd9\u6837\uff0c\u4e00\u6b21\u53ef\u4ee5\u628a\\(\\lfloor \\frac{M}{b_b} \\rfloor -1\\)\u4e2aRuns\u5408\u5e76\u4e3a\u4e00\u4e2a\u65b0\u7684Runs</p> <ul> <li>\u8fd9\u6837\uff0c\u4e00\u5171\u9700\u8981\u7684Pass\u6570\u76ee\u4e3a\\(P = \\lceil \\log_{\\lfloor \\frac{M}{b_b} \\rfloor-1} (b_r /M) \\rceil\\)</li> </ul> <p>\u603b\u7684Block Transfers\u4e3a:</p> \\[ C = 2b_r \\lceil \\log_{\\lfloor \\frac{M}{b_b} \\rfloor-1} {b_r / M} \\rceil + b_r \\] <ul> <li> <p>\u603b\u7684Seek\u4e3a:</p> <ul> <li> <p>\u5728\u751f\u6210Runs\u65f6\uff0c\u4e5f\u540c\u6837\u662fRuns\u4e2a\u6570\u7684\u4e24\u500d:\\(2 \\lceil \\frac{b_r}{M} \\rceil\\)</p> </li> <li> <p>\u4e0d\u540c\u7684\u662f\uff0c\u73b0\u5728\u6bcf\u4e2aPass\u4e2d\u8bfb\u548c\u5199\u7684\u5bfb\u9053\u4e2a\u6570\u90fd\u662f\\(\\lceil \\frac{b_r}{b_b} \\rceil\\)</p> </li> <li> <p>\u6240\u4ee5\u603b\u7684\u5bfb\u9053\u6b21\u6570\u4e3a:</p> \\[\\begin{align} 2 \\lceil \\frac{b_r}{M} \\rceil + 2\\lceil \\frac{b_r}{b_b} \\rceil \\lceil \\log_{\\lfloor \\frac{M}{b_b} \\rfloor-1} {b_r / M} \\rceil - b_r \\end{align}\\] </li> </ul> </li> </ul>"},{"location":"incourse/db/ch15/#join-operation","title":"Join Operation","text":"<p>\u6211\u4eec\u4f7f\u7528\u7684\u4f8b\u5b50\u6570\u636e\u662f:</p> <p>Number of records of student:5,000,takes:10,000</p> <p>Number of blocks of student:100,takes:400</p> <p>\u6211\u4eec\u5e0c\u671b\u5b8c\u6210$ r \\bowtie_\\theta s$</p>"},{"location":"incourse/db/ch15/#nested-loop-join","title":"Nested-Loop Join","text":"<pre><code>for each tuple tr in r do begin\n    for each tuple ts in s do begin\n        test pair (tr,ts) to see if they satisfy the join condition theta\n\n        if they do, add tr \u2022 ts to the result.\n    end\nend\n</code></pre> <ul> <li> <p>\u8fd9\u662f\u6700\u6734\u7d20\u7684\u505a\u6cd5</p> </li> <li> <p>r \u88ab\u79f0\u4e3aouter relation\uff0cs \u88ab\u79f0\u4e3ainner relation.</p> </li> <li> <p>\u5728\u6700\u574f\u7684\u60c5\u51b5\uff0c\u5982\u679c\u5185\u5b58\u6bcf\u6b21\u53ea\u80fd\u5bb9\u7eb3\u4e24\u4e2a\u5173\u7cfb\u5404\u4e00\u4e2aBlock</p> <ul> <li> <p>\\(n_r * b_s + b_r\\)\u6b21\u5757\u4f20\u8f93</p> <ul> <li>\u56e0\u4e3ar\u7684\u6bcf\u4e2a\u5143\u7ec4\u90fd\u8981\u548cs\u7684\u6bcf\u4e2a\u5143\u7ec4\u8fdb\u884c\u6bd4\u8f83\uff0c\u6240\u4ee5r\u7684\u4e00\u4e2a\u5143\u7ec4\u8981\u904d\u5386s\u7684\u6240\u6709\u5757</li> </ul> </li> <li> <p>\\(n_r + b_r\\)\u6b21\u5bfb\u9053(\u5047\u8bbe\u4e00\u4e2a\u5173\u7cfb\u7684\u5757\u662f\u8fde\u7eed\u5b58\u653e\u7684\uff0c\u6bcf\u4e00\u4e2ar\u7684\u5143\u7ec4\u8981Seek\u4e00\u6b21\u6765\u627e\u5230s\u7684\u5757)</p> </li> <li> <p>\\(n_s\\)\u662f\u5173\u7cfbs\u7684\u5143\u7ec4\u6570\u76ee</p> </li> <li> <p>\\(b_s\\)\u662f\u5173\u7cfbs\u7684\u5757\u6570\u76ee</p> </li> <li> <p>\\(b_r\\)\u662f\u5173\u7cfbr\u7684\u5757\u6570\u76ee</p> </li> </ul> </li> <li> <p>\u4f46\u662f\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u5173\u7cfb\u7684\u5143\u7ec4\u8db3\u591f\u5c11\uff0c\u5c11\u5230\u80fd\u6574\u4e2a\u653e\u8fdb\u5185\u5b58\u4e2d</p> <ul> <li> <p>\u6211\u4eec\u628a\u8fd9\u4e2a\u5173\u7cfb\u5f53\u4f5c\u5185\u5173\u7cfb,\u59cb\u7ec8\u653e\u5728\u5185\u5b58\u4e2d</p> </li> <li> <p>\\(b_r +b_s\\)\u6b21\u5757\u4f20\u8f93</p> <ul> <li>\u56e0\u4e3a\u6211\u4eec\u53ea\u9700\u8981\u8bfb\u4e00\u6b21\u5185\u5173\u7cfb\u7684\u6240\u6709\u5757</li> </ul> </li> <li> <p>\u4e24\u6b21\u5bfb\u9053</p> <ul> <li>\u4e00\u6b21\u662f\u8bfb\u5185\u5173\u7cfb\u7684\u5757\uff0c\u4e00\u6b21\u662f\u8bfb\u5916\u5173\u7cfb\u7684\u5757</li> </ul> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch15/#block-nested-loop-join","title":"Block Nested-Loop Join","text":"<p>\u4e0a\u4e00\u4e2a\u7b97\u6cd5\u7684\u95ee\u9898\u5c31\u5728\u4e8e\uff0c\u5173\u7cfb\u8868\u4e2d\u8fde\u7eed\u5b58\u653e\u7684\u5143\u7ec4\u5728\u5757\u4e2d\u4e0d\u4e00\u5b9a\u662f\u8fde\u7eed\u5b58\u653e\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u5982\u679c\u4ee5\u5757\u4e3a\u5355\u4f4d\u8bfb\u53d6\uff0c\u5148\u8bfb\u53d6\u5757\uff0c\u518d\u8bfb\u8fd9\u4e2a\u5757\u91cc\u9762\u7684\u5143\u7ec4\uff0c\u90a3\u5c31\u53ef\u4ee5\u51cf\u5c11\u5bfb\u9053\u6b21\u6570\u4e0e\u5757\u4f20\u8f93\u6b21\u6570\u3002</p> <p>\u76f8\u5f53\u4e8e\uff0c\u6211\u4eec\u5148\u5404\u8bfb\u4e00\u4e2a\u5757\uff0c\u7136\u540e\u5728\u5185\u5b58\u4e2d\u6bd4\u8f83\uff0c\u76f8\u5f53\u4e8e\u6309\u5757\u7684\u987a\u5e8f\u6765\u6bd4\u8f83</p> <p>\u5728\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u6700\u574f:</p> <ul> <li> <p>\\(b_r * b_s + b_r\\)\u6b21\u5757\u4f20\u8f93</p> <ul> <li>Each block in the inner relation s is read once for each block in the outer relation</li> </ul> </li> <li> <p>\\(b_r + b_r\\)\u6b21\u5bfb\u9053</p> </li> </ul> <p>\u6700\u597d\u7684\u60c5\u51b5\u662f\u4e00\u6837\u7684</p> <p>Improvements to block nested loop algorithms:</p> <p>\u5047\u8bbe\u5185\u5b58\u6709 M \u5757\uff0c\u6709\u4e00\u5757\u4f5c\u4e3a output \u7684\u7f13\u51b2\uff0c\u5269\u4e0b M-1 \u5757\u4e2d M-2 \u5757\u5747\u7ed9\u5916\u5173\u7cfb\uff0c\u5185\u5173\u7cfb\u7ed9\u4e00\u5757\u3002</p> <p>\u5f53\u7136\u8fd8\u662f\u6cbf\u7528\u5757\u5d4c\u5957\u5faa\u73af\u7684\u601d\u60f3</p> <ul> <li> <p>Block Transfers:\\(\\lceil \\frac{b_r}{M-2} \\rceil * b_s + b_r\\)</p> </li> <li> <p>Seek: \\(2 \\lceil \\frac{b_r}{M-2} \\rceil\\)</p> <ul> <li>\u5047\u8bbe\u5bf9\u4e8e\u5916\u5173\u7cfb\uff0c\u4e00\u6b21\u8bfb\u53d6\u8fde\u7eed\u7684M-2\u5757\u8fdb\u6765\uff0c\u8fd9M-2\u5757\u53ea\u9700\u8981\u4e00\u6b21\u5bfb\u9053\u3002</li> </ul> </li> <li> <p>\u5982\u679c\u8fde\u63a5\u7684\u5c5e\u6027\u662f key, \u90a3\u4e48\u5f53\u6211\u4eec\u5339\u914d\u4e0a\u4e4b\u540e\u5c31\u53ef\u4ee5\u505c\u6b62\u5185\u5faa\u73af\u3002</p> </li> <li> <p>\u5229\u7528 LRU \u7b56\u7565\u7684\u7279\u70b9\uff0cinner \u6b63\u5411\u626b\u63cf\u540e\u518d\u53cd\u8fc7\u6765\uff0c\u8fd9\u6837\u6700\u8fd1\u7684\u5757\u5f88\u53ef\u80fd\u8fd8\u5728\u5185\u5b58\u4e2d\uff0c\u63d0\u9ad8\u7f13\u51b2\u547d\u4e2d\u7387\u3002</p> </li> </ul>"},{"location":"incourse/db/ch15/#indexed-nested-loop-join","title":"Indexed Nested-Loop Join","text":"<p>\u5982\u679c\u5185\u5faa\u73af\u7684\u5173\u7cfb\u6709\u7d22\u5f15\uff0c\u90a3\u4e48\u5bf9\u4e8e\u5916\u5faa\u73af\u7684\u6bcf\u4e00\u4e2a\u5143\u7ec4\uff0c\u6211\u4eec\u6839\u636e\u7279\u5b9a\u5c5e\u6027\u4e0a\u7684\u503c\u5728\u5185\u5faa\u73af\u7684\u7d22\u5f15\u91cc\u67e5\u627e\u3002</p> <p>Cost\uff1a\\(b_r (t_T + t_S) + n_r * c\\)</p> <ul> <li>c\u6307\u904d\u5386\u7d22\u5f15\u5e76\u627e\u5230\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7ec4\u7684\u4ee3\u4ef7</li> </ul> <p>\ud83c\udf30</p> <p></p>"},{"location":"incourse/db/ch15/#merge-join","title":"Merge Join","text":"<ol> <li> <p>\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5173\u7cfb\uff0c\u5148\u6309\u8fde\u63a5\u5c5e\u6027\u6392\u597d\u5e8f</p> </li> <li> <p>Merge the sorted relations to join them</p> <ul> <li> <p>Join step is similar to the merge stage of the sort-merge algorithm.</p> </li> <li> <p>Main difference is handling of duplicate values in join attribute \u2014 every pair with same value on join attribute must be matched</p> </li> </ul> </li> </ol> <p>\u7531\u4e8e\u6bcf\u4e2a\u5757\u53ea\u9700\u8981\u4f20\u8f93\u4e00\u6b21\uff0c\u6240\u4ee5:</p> <ul> <li> <p>Block Transfers: \\(b_r + b_s\\)</p> </li> <li> <p>Seek: $ \\lceil \\frac{b_r}{b_b} \\rceil + \\lceil \\frac{b_s}{b_b} \\rceil$</p> </li> </ul> <p>\u4e00\u4e2a\u6570\u5b66\u95ee\u9898:\u5982\u679c\u5185\u5b58\u6709M\u5757\uff0c\u5982\u4f55\u5206\u914d\u7ed9\u4e24\u4e2a\u5173\u7cfb\u7684\u5757\uff1f</p> <p>\u7b54\u6848\u662f: $$ x_r = \\sqrt{b_r} \\times \\frac{M}{\\sqrt{b_r} + \\sqrt{b_s}}, \\ x_s = \\sqrt{b_s} \\times \\frac{M}{\\sqrt{b_r} + \\sqrt{b_s}} $$</p>"},{"location":"incourse/db/ch15/#hash-join","title":"Hash-Join","text":"<p>\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a\u54c8\u5e0c\u51fd\u6570\uff0c\u628a\u5143\u7ec4\u5206\u5757\uff0c\u8fd9\u6837\uff0c\u7531\u4e8e\u54c8\u5e0c\u51fd\u6570\u7684\u7279\u70b9\uff0c\u80fd\u591f\u8fde\u63a5\u7684\u5c5e\u6027\u7684\u503c\u4e00\u5b9a\u5728\u540c\u4e00\u5757\u4e2d\uff0c\u53cd\u4e4b\u4e0d\u7136\u3002</p> <p>\u5e76\u4e14\uff0c\u5206\u6210\u7684\u5757\u6570\\(n\\)\u4e0e\u54c8\u5e0c\u51fd\u6570\u8981\u8bbe\u8ba1\u8fc7\uff0c\u4f7f\u5f97\u5757\u7684\u5927\u5c0f\u662f\u8db3\u4ee5\u653e\u8fdb\u5185\u5b58\u7684\u3002</p> <p>\\(n \\geq \\lceil \\frac{b_s}{M} \\rceil\\)</p>"},{"location":"incourse/db/ch15/#hash-join-algorithm","title":"Hash-Join Algorithm","text":"<ol> <li> <p>\u5bf9\u5173\u7cfbs\u7528\u54c8\u5e0c\u51fd\u6570H\uff0c\u5185\u5b58\u540c\u6837\u4fdd\u7559input buffer\u548coutput buffer\uff0c\u5206\u7247\u4e4b\u540e\u518d\u5199\u51fa\u53bb</p> </li> <li> <p>\u5173\u7cfbr\u4e5f\u7528\u54c8\u5e0c\u51fd\u6570H\uff0c\u5206\u7247\u4e4b\u540e\u518d\u5199\u51fa\u53bb</p> </li> <li> <p>\u628as\u7684\u7b2ci\u4e2a\u5206\u5757\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\uff0c\u5e76\u5728\u8fde\u63a5\u5c5e\u6027\u4e0a\u518d\u7528\u4e00\u4e2a\u4e0d\u540c\u7684\u54c8\u5e0c\u51fd\u6570\u5efa\u7acb\u54c8\u5e0c\u7d22\u5f15</p> </li> <li> <p>\u628ar\u7684\u7b2ci\u4e2a\u5206\u5757\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\uff0c\u6bcf\u4e2a\u5143\u7ec4\u5728\u8fde\u63a5\u5c5e\u6027\u4e0a\u4f5c\u54c8\u5e0c\uff0c\u5c31\u80fd\u5f88\u5feb\u627e\u5230s\u4e2d\u5339\u914d\u7684\u5143\u7ec4</p> </li> <li> <p>\u628a\u8fde\u63a5\u7ed3\u679c\u8f93\u51fa</p> </li> </ol> <p>\u56e0\u6b64\uff0cs\u88ab\u53eb\u505abuild input\uff0cr\u88ab\u53eb\u505aprobe input</p> <p>\u4fee\u6b63\u56e0\u5b50</p> <p>\u901a\u5e38n\u4f1a\u88ab\u9009\u4e3a\\(\\lceil \\frac{b_s}{M} \\rceil *f\\)</p> <p>\u5176\u4e2df\u662f\u4fee\u6b63\u56e0\u5b50\uff0c\u901a\u5e38\u53d61.2</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u5206\u5757\u7684\u65f6\u5019\uff0c\u6211\u4eec\u8981\u6c42\u5bf9\u4e8e\u6bcf\u4e2a\u5757\u90fd\u8981\u6709\u4e00\u4e2a\u8f93\u51fa\u7f13\u51b2\u5757\uff0c\u6bd4\u5982\u54c8\u5e0c\u51fd\u6570\u6620\u5c04\u7684\u503c\u8303\u56f4\u662f0\u5230n-1\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u8981\u6709n\u4e2a\u8f93\u51fa\u7f13\u51b2\u5757,\u6839\u636e\u54c8\u5e0c\u51fd\u6570\u7684\u503c\u6765\u51b3\u5b9a\u8f93\u51fa\u7f13\u51b2\u5757\u7684\u7f16\u53f7\u3002</p> <p>\u7531\u6b64\u5c31\u5f15\u53d1\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u56e0\u4e3a\u8fd9\u6837\u7684\u7b97\u6cd5\u8981\u6c42\u6bcf\u6b21\u5206\u5757\u7684\u4e2a\u6570\u5fc5\u7136\u4e0d\u80fd\u5927\u4e8e\u5185\u5b58\u7684\u5757\u6570\uff0c\u5982\u679c\u539f\u6765\u5173\u7cfb\u5f88\u5927\uff0c\u5927\u5230\u5373\u4f7f\u5206\u6210\u8fd9\u4e48\u591a\u5757\uff0c\u5927\u5c0f\u8fd8\u662f\u592a\u5927\u4e86\u600e\u4e48\u529e?</p> <p>\u6240\u4ee5\u8981\u7528Recursive partitioning</p>"},{"location":"incourse/db/ch15/#recursive-partitioning","title":"Recursive partitioning","text":"<ul> <li> <p>Instead of partitioning n ways, use  M \u2013 1 partitions for s</p> </li> <li> <p>Further partition the M \u2013 1 partitions using a different hash function</p> </li> <li> <p>For example, consider a memory size of 12M bytes, divided into 4K bytes blocks; it would contain a total of 3K (3072) blocks. We can use a memory of this size to partition relations of size up to 3K \u2217 3K blocks, which is 36G (3K \u2217 3K \u2217 4K ) bytes. </p> </li> </ul>"},{"location":"incourse/db/ch15/#cost-of-hash-join","title":"Cost of Hash Join","text":"<p>\ud83c\udf30</p> <p></p>"},{"location":"incourse/db/ch15/#other-operations","title":"Other Operations","text":"<ul> <li> <p>Duplicate elimination can be implemented via hashing or sorting.</p> <ul> <li> <p>On sorting duplicates will come adjacent to each other, and all but one set of duplicates can be deleted.  </p> </li> <li> <p>Optimization: duplicates can be deleted during run generation as well as at intermediate merge steps in external sort-merge.</p> </li> <li> <p>Hashing is similar \u2013 duplicates will come into the same bucket.</p> </li> </ul> </li> <li> <p>Aggregation can be implemented in a manner similar to duplicate elimination.</p> <ul> <li> <p>Sorting or hashing can be used to bring tuples in the same group together, and then the aggregate functions can be applied on each group. </p> </li> <li> <p>Optimization: combine tuples in the same group during run generation and intermediate merges, by computing partial aggregate values</p> <ul> <li> <p>For count, min, max, sum: keep aggregate values on tuples found so far in the group.  </p> <ul> <li>When combining partial aggregate for count, add up the aggregates</li> </ul> </li> <li> <p>For avg, keep sum and count, and divide sum by count at the end</p> </li> </ul> </li> </ul> </li> <li> <p>\u96c6\u5408\u64cd\u4f5c</p> <ol> <li> <p>\u5bf9\u6bcf\u4e2a\u5173\u7cfb\u5206\u5757</p> </li> <li> <p>\u5bf9\u4e8e\u6bcf\u4e2ai\uff0c\\(r_i\\)\u5efa\u7acb\u54c8\u5e0c\u7d22\u5f15</p> <ul> <li> <p>\u5982\u679c\u662f\u53d6\u5e76\u96c6:</p> <ul> <li> <p>\u5982\u679c\\(s_i\\)\u4e2d\u7684\u5143\u7ec4\u7ecf\u8fc7\u54c8\u5e0c\u51fd\u6570\u6620\u5c04\u540e\uff0c\u503c\u4e0d\u5b58\u5728\uff0c\u5219\u52a0\u5165\u54c8\u5e0c\u7d22\u5f15\u4e2d</p> </li> <li> <p>\u8f93\u51fa\u54c8\u5e0c\u7d22\u5f15</p> </li> </ul> </li> <li> <p>\u5982\u679c\u662f\u53d6\u4ea4\u96c6:</p> <ul> <li>\u5982\u679c\\(s_i\\)\u4e2d\u7684\u5143\u7ec4\u7ecf\u8fc7\u54c8\u5e0c\u51fd\u6570\u6620\u5c04\u540e\uff0c\u503c\u5b58\u5728\uff0c\u5c31\u8f93\u51fa</li> </ul> </li> <li> <p>\u5982\u679c\u662f\u53d6\u5dee\u96c6:</p> <ul> <li> <p>\u5982\u679c\\(s_i\\)\u4e2d\u7684\u5143\u7ec4\u7ecf\u8fc7\u54c8\u5e0c\u51fd\u6570\u6620\u5c04\u540e\uff0c\u503c\u5982\u679c\u5b58\u5728\uff0c\u5c31\u4ece\u54c8\u5e0c\u7d22\u5f15\u4e2d\u5220\u9664</p> </li> <li> <p>\u8f93\u51fa\u54c8\u5e0c\u7d22\u5f15\u4e2d\u7684\u6240\u6709\u5143\u7ec4</p> </li> </ul> </li> </ul> </li> </ol> </li> <li> <p>Outer Join      </p> </li> </ul>"},{"location":"incourse/db/ch16/","title":"\u67e5\u8be2\u4f18\u5316","text":"<p> \u7ea6 3047 \u4e2a\u5b57  15 \u884c\u4ee3\u7801  29 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p>"},{"location":"incourse/db/ch16/#introduction","title":"Introduction","text":"<p>Alternative ways of evaluating a given query</p> <ul> <li> <p>Equivalent expressions:\u903b\u8f91\u4f18\u5316\uff0c\u5148\u505a\u6295\u5f71\uff0c\u9009\u62e9</p> </li> <li> <p>Different algorithms for each operation\uff1a\u7269\u7406\u5c42\u9762\u7684\u4f18\u5316\uff0c\u4e3a\u6bcf\u4e2a\u7b97\u5b50\u9009\u62e9\u5408\u9002\u7684\u7b97\u6cd5</p> </li> </ul> <p>Example</p> <p> </p> <p> </p>"},{"location":"incourse/db/ch16/#generating-equivalent-expressions","title":"Generating Equivalent Expressions","text":"<p>Two relational algebra expressions are said to be equivalent if the two expressions generate the same set of tuples on every legal database instance</p>"},{"location":"incourse/db/ch16/#equivalence-rules","title":"Equivalence Rules","text":""},{"location":"incourse/db/ch16/#selection","title":"Selection","text":"<ol> <li> <p>Conjunction decomposition: \u9009\u62e9\u6761\u4ef6\u53ef\u4ee5\u5206\u89e3\u6210\u591a\u4e2a\u6761\u4ef6</p> \\[\\sigma_{p_1 \\land p_2}(R) = \\sigma_{p_1}(\\sigma_{p_2}(R))\\] </li> <li> <p>Selection commutativity: \u9009\u62e9\u6761\u4ef6\u53ef\u4ee5\u4ea4\u6362</p> \\[\\sigma_{p_1}(\\sigma_{p_2}(R)) = \\sigma_{p_2}(\\sigma_{p_1}(R))\\] </li> <li> <p>Only the last projection is needed: \u53ea\u9700\u8981\u6700\u540e\u7684\u6295\u5f71\u6761\u4ef6</p> \\[\\Pi_{L_1}(\\Pi_{L2}(\\dots(\\Pi_{Ln}(R)))) = \\Pi_{L1}(R)\\] </li> <li> <p>Selections can be combined with Cartesian products and theta joins: \u9009\u62e9\u53ef\u4ee5\u548c\u7b1b\u5361\u5c14\u79ef\u548c\u8fde\u63a5\u7ed3\u5408</p> \\[\\sigma_{p_1}(R \\times S) = R \\bowtie_{p_1} S\\] \\[\\sigma_{p_1}(R \\bowtie_{p_2} S) = R \\bowtie_{p_1 \\land p_2} S\\] </li> </ol>"},{"location":"incourse/db/ch16/#join","title":"Join","text":"<ol> <li> <p>Join commutativity: \u8fde\u63a5\u6761\u4ef6\u53ef\u4ee5\u4ea4\u6362</p> \\[R \\bowtie_{p_1} S = S \\bowtie_{p_1} R\\] <p> </p> </li> <li> <p>Join associativity: \u8fde\u63a5\u6761\u4ef6\u53ef\u4ee5\u7ed3\u5408</p> <ul> <li>\\(R \\bowtie_{p_1} (S \\bowtie_{p_2} T) = (R \\bowtie_{p_1} S) \\bowtie_{p_2} T\\)</li> </ul> <p> </p> <ul> <li>\u53e6\u4e00\u79cd\u795e\u5947\u7684\u7ed3\u5408\u662f:     $$     (R \\bowtie_{p_1} S) \\bowtie_{p_2 \\land p_3} T = R \\bowtie_{p_1 \\land p_2} (S \\bowtie_{p_3} T)     $$</li> <li>\u5176\u4e2d\u6761\u4ef6\\(p_3\\)\u5305\u542b\u53ea\u6765\u81ea\u4e8eS\u548cT\u7684\u5c5e\u6027</li> </ul> </li> <li> <p>Select\u4e0eJoin\u5206\u914d</p> <ul> <li>\\(\\sigma_{p_1}(R \\bowtie_{p_2} S) = \\sigma_{p_1}(R) \\bowtie_{p_2} S\\)</li> </ul> <p> </p> <ul> <li>\\(\\sigma_{p_1 \\land p_2}(R \\bowtie_{p_3} S) = \\sigma_{p_1}(R) \\bowtie_{p_2} \\sigma_{p_3}(S)\\)</li> </ul> </li> </ol>"},{"location":"incourse/db/ch16/#projection","title":"Projection","text":"<ol> <li>\\(\\Pi_{L_1 \\cup L_2}(R \\bowtie_{p} S) = \\Pi_{L_1}(R) \\bowtie_{p} \\Pi_{L_2}(S)\\)</li> </ol>"},{"location":"incourse/db/ch16/#\u96c6\u5408\u64cd\u4f5c","title":"\u96c6\u5408\u64cd\u4f5c","text":"<ol> <li> <p>\u4ea4\u6362\u5f8b</p> <ul> <li>\\(R \\cup S = S \\cup R\\)</li> <li>\\(R \\cap S = S \\cap R\\)</li> </ul> </li> <li> <p>\u7ed3\u5408\u5f8b</p> <ul> <li>\\(R \\cup (S \\cup T) = (R \\cup S) \\cup T\\)</li> <li>\\(R \\cap (S \\cap T) = (R \\cap S) \\cap T\\)</li> </ul> </li> <li> <p>\u4e0eSelection\u7684\u5206\u914d\u5f8b</p> <ul> <li> <p>\\(\\sigma_{\\theta}(R \\cup S) = \\sigma_{\\theta}(R) \\cup \\sigma_{\\theta}(S)\\)</p> <ul> <li>\u5bf9\u5dee\u96c6\uff0c\u4ea4\u96c6\u540c\u6837\u6210\u7acb</li> </ul> </li> <li> <p>\\(\\sigma_{\\theta}{R \\cap S} = \\sigma_{\\theta}(R) \\cap S\\)</p> <ul> <li>\u5bf9\u5dee\u96c6\u6210\u7acb\uff0c\u4f46\u662f\u5bf9\u4e8e\u5e76\u96c6\u4e0d\u6210\u7acb</li> </ul> </li> </ul> </li> <li> <p>The projection operation distributes over union</p> <ul> <li>\\(\\Pi_{L}(R \\cup S) = \\Pi_{L}(R) \\cup \\Pi_{L}(S)\\)</li> </ul> </li> </ol>"},{"location":"incourse/db/ch16/#other","title":"Other","text":"<p>Example</p> SelectProjectJoinMix <p></p> <p></p> <p></p> <p></p>"},{"location":"incourse/db/ch16/#enumeration-of-equivalent-expressions","title":"Enumeration of Equivalent Expressions","text":"<p>Repeat</p> <ul> <li> <p>apply all applicable equivalence  rules on every subexpression of every equivalent expression found so far</p> </li> <li> <p>add newly generated expressions to the set of equivalent expressions </p> </li> </ul> <p>Until no new equivalent expressions are generated above</p>"},{"location":"incourse/db/ch16/#statistics-for-cost-estimation","title":"Statistics for Cost Estimation","text":"<p>\u7b26\u53f7\u5b9a\u4e49</p> <ol> <li> <p>\\(n_r\\)\uff1arelation r\u7684\u5143\u7ec4\u6570\u76ee</p> </li> <li> <p>\\(b_r\\)\uff1arelation r\u7684\u5757\u6570\u76ee</p> </li> <li> <p>\\(l_r\\): relation r\u4e00\u4e2a\u5143\u7ec4\u7684\u5927\u5c0f</p> </li> <li> <p>\\(f_r\\): r\u4e2d\u4e00\u4e2ablock\u80fd\u5b58\u50a8\u7684\u5143\u7ec4\u6570\u76ee</p> </li> <li> <p>\\(V(A,r)\\): attribute A\u5728relation r\u4e2d\u4e0d\u540c\u503c\u7684\u4e2a\u6570,\u7b49\u4ef7\u4e8e\\(\\Pi_{A}(r)\\)</p> </li> <li> <p>If tuples of r are stored together physically in a file, then: </p> <ul> <li>\\(b_r = \\lceil \\frac{n_r}{f_r} \\rceil\\)</li> </ul> </li> <li> <p>Histogram on attribute age of relation person      </p> </li> </ol>"},{"location":"incourse/db/ch16/#selection-size-estimation","title":"Selection Size Estimation","text":"<ol> <li> <p>\\(\\sigma_{A = v}(R) = \\frac{1}{ V(A,r)} \\cdot n_r\\)</p> <ul> <li> <p>\u8fd9\u6837\u7684\u4f30\u7b97\u57fa\u4e8e\u503c\u662f\u5747\u5300\u5206\u5e03\u7684</p> </li> <li> <p>\u5982\u679cA\u662f\u4e3b\u952e,\u90a3\u4e48\u7ed3\u679c\u5f53\u7136\u662f1</p> </li> </ul> </li> <li> <p>$\\sigma_{A \\leq v}(R) $</p> <ul> <li> <p>\u4ee4c\u4e3a\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7ec4\u6570\u76ee</p> </li> <li> <p>c = 0 if \\(v &lt; min(A,r)\\)</p> </li> <li> <p>\\(c= n_r \\cdot \\frac{v - min(A,r)}{max(A,r) - min(A,r)}\\)</p> </li> <li> <p>\u5982\u679c\u6ca1\u6709\u6700\u5927\u6700\u5c0f\u503c\u7684\u7edf\u8ba1,\u8ba4\u4e3ac\u662f\\(\\frac{V(A,r)}{2}\\)</p> </li> </ul> </li> <li> <p>The selectivity\uff08\u4e2d\u9009\u7387\uff09</p> <ul> <li> <p>\u5bf9\u4e8e\u67d0\u4e2a\u6761\u4ef6\\(\\theta_i\\),\u5b83\u7684\u4e2d\u9009\u7387\u662fr\u4e2d\u7684\u4e00\u4e2a\u5143\u7ec4\u6ee1\u8db3\u8be5\u6761\u4ef6\u7684\u6982\u7387</p> </li> <li> <p>\u4ee4\\(s_i\\)\u662f\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7ec4\u6570\u76ee,\u90a3\u4e48\u4e2d\u9009\u7387\u662f\\(s_i/n_r\\)</p> </li> <li> <p>\u8ba1\u7b97:      </p> </li> </ul> </li> </ol>"},{"location":"incourse/db/ch16/#estimation-of-the-size-of-joins","title":"Estimation of the Size of Joins","text":"<p>\u5bf9\u4e8e\u7b1b\u5361\u5c14\u4e58\u79ef,\u7ed3\u679c\u7684\u5143\u7ec4\u6570\u76ee\u662f\\(n_r \\cdot n_s\\)</p> <ol> <li> <p>\u5982\u679c\\(R \\cap S = \\emptyset\\),\u90a3\u4e48\u7ed3\u679c\u7684\u5143\u7ec4\u6570\u76ee\u662f\\(n_r \\cdot n_s\\)</p> </li> <li> <p>\u5982\u679c\\(R \\cap S\\)\u7684\u7ed3\u679c\u5c5e\u6027\u662fR\u7684\u4e3b\u952e,\u90a3\u4e48\u7531\u4e8eS\u4e2d\u7684\u4e00\u4e2a\u5143\u7ec4\u6700\u591a\u548cR\u4e2d\u7684\u4e00\u4e2a\u5143\u7ec4\u8fde\u63a5,\u56e0\u6b64\\(R \\bowtie S\\)\u7684\u7ed3\u679c\u5143\u7ec4\u6570\u76ee\\(\\leq n_s\\) </p> </li> <li> <p>\u5982\u679c\\(R \\cap S\\)\u7684\u7ed3\u679c\u5c5e\u6027\u662fS\u5f15\u7528R\u7684\u5916\u952e,\u90a3\u4e48\u7ed3\u679c\u7684\u5143\u7ec4\u6570\u76ee\u5c31\u662f\\(n_s\\) </p> </li> <li> <p>\u5982\u679c\\(R \\cap S\\)\u7684\u7ed3\u679c\u5c5e\u6027\u90fd\u4e0d\u662f\u4e0a\u9762\u7684\u60c5\u51b5</p> <ul> <li> <p>If we assume that every tuple t in R produces tuples in \\(R \\bowtie S\\),\u90a3\u4e48\u5143\u7ec4\u6570\u76ee\u662f</p> \\[\\frac{n_r \\cdot n_s}{V(A,s)}\\] </li> <li> <p>\u76f8\u5f53\u4e8e\u8ba1\u7b97\u6bcf\u4e2aR\u4e2d\u7684\u5143\u7ec4\u53ef\u4ee5\u4e0eS\u4e2d\u7684\u51e0\u4e2a\u5143\u7ec4\u8fde\u63a5</p> </li> <li> <p>\u53cd\u4e4b,\u516c\u5f0f\u662f</p> \\[\\frac{n_r \\cdot n_s}{V(A,r)}\\] </li> </ul> <p> </p> </li> </ol> <p>Example</p> <p> </p> <p> </p>"},{"location":"incourse/db/ch16/#size-estimation-for-other-operations","title":"Size Estimation for Other Operations","text":"<ol> <li> <p>Projection: \u4f30\u8ba1\\(\\Pi_{A}(R)\\)\u7684\u7ed3\u679c\u5143\u7ec4\u6570\u76ee\u662f\\(V(A,r)\\)</p> </li> <li> <p>Aggregation: \u4f30\u8ba1\\(\\gamma_{A}(R)\\)\u7684\u7ed3\u679c\u5143\u7ec4\u6570\u76ee\u662f\\(V(A,r)\\)</p> </li> <li> <p>Set operations: </p> <ul> <li> <p>For unions/intersections of selections on the same relation: rewrite and use size estimate for selections</p> </li> <li> <p>\u6bd4\u5982:</p> \\[\\sigma_{\\theta_1}(R) \\cup \\sigma_{\\theta_2}(R) = \\sigma_{\\theta_1 \\lor \\theta_2}(R)\\] </li> <li> <p>\u5bf9\u4e8e\u76f4\u63a5\u7684\u96c6\u5408\u64cd\u4f5c:</p> <ul> <li> <p>\\(\\cup\\) : \\(n_r + n_s\\)</p> </li> <li> <p>\\(\\cap\\): \\(min(n_r, n_s)\\)</p> </li> <li> <p>\\(r-s\\): \\(n_r\\)</p> </li> <li> <p>All the three estimates may be quite inaccurate, but provide upper bounds on the sizes.</p> </li> </ul> </li> </ul> </li> <li> <p>Outer Join</p> <p> </p> </li> </ol>"},{"location":"incourse/db/ch16/#estimation-of-number-of-distinct-values","title":"Estimation of Number of Distinct Values","text":"<p>\u4e0a\u9762\u8bb8\u591a\u4f30\u8ba1\u90fd\u8981\u7528\u5230\\(V(A,r)\\),\u5373relation r\u4e2d\u5c5e\u6027A\u7684\u4e0d\u540c\u503c\u7684\u4e2a\u6570</p> <ol> <li> <p>Selection,estimate \\(V(A,\\sigma_{\\theta}(R))\\)</p> <ul> <li> <p>If \\(\\theta\\) forces A to take a specified value: \\(V(A,\\sigma_{\\theta}(R))\\) = 1.</p> <ul> <li>e.g., A = 3</li> </ul> </li> <li> <p>If \\(\\theta\\) forces A to take on one of a specified set of values: </p> <ul> <li>\\(V(A,\\sigma_{\\theta}(R))\\)= number of specified values.</li> <li>(e.g., (A = 1 V A = 3 V A = 4 )), </li> </ul> </li> <li> <p>If the selection condition \uf071 is of the form A op v</p> <ul> <li>estimated \\(V(A,\\sigma_{\\theta}(R))\\) = \\(V(A,r) \\dot s\\)</li> <li>s\u662f\u4e0a\u9762\u8bf4\u7684\u4e2d\u9009\u7387</li> </ul> </li> <li> <p>In all the other cases, use approximate estimate:</p> <ul> <li>\\(V(A,\\sigma_{\\theta}(R)) = min(V(A,r), n_{\\sigma_\\theta (r)} )\\)</li> </ul> </li> </ul> </li> <li> <p>Join,estimate \\(V(A,r\\bowtie s)\\)</p> <ul> <li> <p>\u5982\u679cA\u7684\u6240\u6709\u5c5e\u6027\u6765\u81eaR,\u90a3\u4e48\\(V(A,r \\bowtie s) = min(V(A,r), n_{r \\bowtie s})\\)</p> </li> <li> <p>\u5982\u679cA\u5305\u542b\u6765\u81ear\u7684\u5c5e\u6027A1\u548c\u6765\u81eas\u7684\u5c5e\u6027A2\uff0c\u90a3\u4e48\\(V(A,r \\bowtie s) = min(V(A1,r)*V(A2-A1,s), V(A1-A2,r)*V(A2,s),n_{r \\bowtie s})\\)</p> </li> </ul> </li> <li> <p>Projection and aggregation      </p> </li> </ol>"},{"location":"incourse/db/ch16/#choice-of-evaluation-plans","title":"Choice of Evaluation Plans","text":"<p>Must consider the interaction of evaluation techniques when choosing evaluation plans</p> <ul> <li> <p>choosing the cheapest algorithm for each operation independently may not yield best overall algorithm.  E.g.</p> <ul> <li> <p>merge-join may be costlier than hash-join, but may provide a sorted output which reduces the cost for an outer level aggregation.\u5c31\u662f\u8bf4\uff0c\u5f52\u5e76\u7684\u4ee3\u4ef7\u53ef\u80fd\u6682\u65f6\u5f88\u5927\uff0c\u4f46\u662f\u8fd9\u6837\u505a\u4e86\u53ef\u4ee5\u51cf\u5c11\u540e\u7eed\u64cd\u4f5c\u7684\u5f00\u9500</p> </li> <li> <p>nested-loop join may provide opportunity for pipelining</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch16/#cost-based-join-order-selection","title":"Cost-Based Join-Order Selection","text":"<p>\u5bf9\u4e8e\\(r_1 \\bowtie r_2 \\cdots \\bowtie r_n\\)\uff0c\u6211\u4eec\u9700\u8981\u9009\u62e9\u4e00\u4e2a\u6070\u5f53\u7684\u987a\u5e8f\u6765\u4f7f\u5f97\u4ee3\u4ef7\u6700\u5c0f</p> <p>\u4e00\u5171\u6709\\(\\frac{(2(n-1))!}{(n-1)!}\\)\u79cd\u53ef\u80fd\u7684\u987a\u5e8f</p> <p>\u4f46\u6b63\u5982\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50:</p> <p>\u6211\u4eec\u5b9e\u9645\u4e0a\u53ef\u4ee5\u7528\u52a8\u6001\u89c4\u5212\u7684\u601d\u60f3\u6765\u627e\u5230\u6700\u4f73\u7684\u6392\u5217\u987a\u5e8f</p> <ol> <li> <p>\u9012\u5f52\u5230\u6700\u6df1\u5c31\u662f\u5355\u4e2a\u8868\uff0c\u5bf9\u4e8e\u5355\u4e2a\u8868\uff0c\u6211\u4eec\u7528Select\u548cIndex\u627e\u5230\u6700\u4f73\u7684\u4ee3\u4ef7</p> </li> <li> <p>\u6b63\u5e38\u5c31\u662f\u904d\u5386\u6240\u6709\u53ef\u80fd\u628a\u539f\u6765\u7684\u8868\u62c6\u5206\u4e3a\u4e24\u4e2a\u5b50\u8868\u7684\u60c5\u51b5(\\(2^n-2\\)\uff0c\u4e24\u4e2a\u6709\u7a7a\u96c6\u7684\u60c5\u51b5\u4e0d\u7b97)\uff0c\u7136\u540e\u518d\u9012\u5f52\u8ba1\u7b97\u5b50\u8868\u7684\u4ee3\u4ef7\u3002</p> </li> </ol>"},{"location":"incourse/db/ch16/#left-deep-join-trees","title":"Left Deep Join Trees","text":"<p>In left-deep join trees, the right-hand-side input for each join is a relation, not the result of an intermediate join.</p>"},{"location":"incourse/db/ch16/#cost-of-optimization","title":"Cost of Optimization","text":"<ol> <li> <p>Dynamic Programming</p> <ul> <li> <p>\u9700\u8981O(n^3)\u7684\u65f6\u95f4\u6765\u8ba1\u7b97\u6700\u4f18\u7684\u8fde\u63a5\u987a\u5e8f</p> </li> <li> <p>\u9700\u8981O(n^2)\u7684\u7a7a\u95f4\u6765\u5b58\u50a8\u4e2d\u95f4\u7ed3\u679c</p> </li> </ul> </li> <li> <p>left-deep join tree</p> <ul> <li> <p>\u9700\u8981\\(O(n2^n)\\)\u7684\u65f6\u95f4\u6765\u8ba1\u7b97\u6700\u4f18\u7684\u8fde\u63a5\u987a\u5e8f</p> </li> <li> <p>\u9700\u8981\\(O(2^n)\\)\u7684\u7a7a\u95f4\u6765\u5b58\u50a8\u4e2d\u95f4\u7ed3\u679c</p> </li> </ul> <p> </p> </li> </ol>"},{"location":"incourse/db/ch16/#heuristic-optimization\u542f\u53d1\u5f0f\u4f18\u5316","title":"Heuristic Optimization(\u542f\u53d1\u5f0f\u4f18\u5316)","text":"<p>Heuristic optimization transforms the query-tree by using a set of rules that typically (but not in all cases) improve execution performance:</p> <ul> <li> <p>Perform selection early (reduces the number of tuples)</p> </li> <li> <p>Perform projection early (reduces the number of attributes)</p> </li> <li> <p>Perform most restrictive selection and join operations (i.e. with smallest result size) before other similar operations.</p> </li> <li> <p>Perform left-deep join order</p> </li> <li> <p>Some systems use only heuristics, others combine heuristics with partial cost-based optimization.</p> </li> </ul>"},{"location":"incourse/db/ch16/#additional-optimization-techniques","title":"Additional Optimization Techniques","text":""},{"location":"incourse/db/ch16/#optimizing-nested-subqueries","title":"Optimizing Nested Subqueries","text":"<p>\u5bf9\u4e8e\u5982\u4e0b\u7684\u5d4c\u5957\u67e5\u8be2: <pre><code>select name \nfrom instructor\nwhere exists (select *\n        from teaches\n        where instructor.ID = teaches.ID and teaches.year = 2022)\n</code></pre></p> <p>\u8fd9\u76f8\u5f53\u4e8e\u662f\u4e00\u4e2a\u4e24\u91cd\u5faa\u73af,\u4f4e\u6548.</p> <p>Parameters are variables from outer level query that are used in the nested subquery; such variables are called correlation variables\uff08\u76f8\u5173\u53d8\u91cf\uff09</p> <ul> <li>\u6bd4\u5982\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d,<code>instructor.ID</code>\u5c31\u662f\u4e00\u4e2a\u76f8\u5173\u53d8\u91cf</li> </ul> <p>\u6211\u4eec\u60f3\u8981\u628a\u8fd9\u4e2a\u67e5\u8be2\u53d8\u5f97\u9ad8\u6548.\u5e38\u89c1\u7684\u505a\u6cd5\u662f\u628a\u5185\u5c42\u7684\u67e5\u8be2\u53d8\u6210\u4e00\u4e2a\u8fde\u63a5\u64cd\u4f5c,\u7136\u540e\u518d\u505a\u6295\u5f71.\u4e5f\u5c31\u662f\u628a\u4e0a\u9762\u7684\u67e5\u8be2\u53d8\u6210: <pre><code>select name\nfrom instructor, teaches\nwhere instructor.ID = teaches.ID and teaches.year = 2022\n</code></pre></p> <p>\u4f46\u662f,\u8fd9\u6837\u7684\u505a\u6cd5\u8fd8\u6709\u95ee\u9898.<code>teaches</code>\u4e2d\u53ef\u80fd\u6709\u8bb8\u591a\u91cd\u590d\u7684<code>ID</code>,\u8fd9\u6837\u5c31\u4f1a\u5bfc\u81f4<code>instructor</code>\u4e2d\u7684\u5143\u7ec4\u88ab\u91cd\u590d\u8ba1\u7b97,\u4ece\u800c\u5bfc\u81f4\u4e0d\u5fc5\u8981\u7684\u5f00\u9500.</p> <p>\u4e3a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u534a\u8fde\u63a5(semijoin)\u6765\u907f\u514d\u91cd\u590d\u8ba1\u7b97.</p> <p>Semijoin</p> <p>\u534a\u8fde\u63a5\u7684\u7b26\u53f7\u662f\\(\\ltimes\\),\u5176\u5b9a\u4e49\u5982\u4e0b:</p> <p>\"If a tuple \\(r_i\\) appears n times in r, it appears n times in  the result of \\(r \\ltimes_\\theta s\\) , if there is at least one tuple \\(s_i\\) in s matching with \\(r_i\\)\"</p> <p>\u901a\u4fd7\u6765\u8bb2,\u534a\u8fde\u63a5\u5c31\u662f\u8fde\u63a5\u64cd\u4f5c,\u4f46\u662f\u53ea\u4fdd\u7559\u5de6\u8868\u7684\u5143\u7ec4,\u800c\u4e0d\u4fdd\u7559\u53f3\u8868\u7684\u5143\u7ec4.\u4e5f\u5c31\u662f\u8bf4,\u534a\u8fde\u63a5\u7684\u7ed3\u679c\u662f\u5de6\u8868\u4e2d\u6240\u6709\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7ec4,\u800c\u4e0d\u662f\u8fde\u63a5\u540e\u7684\u7ed3\u679c.</p> <p>\u8fd9\u6837,\u6211\u4eec\u5c31\u53ef\u4ee5\u628a\u4e0a\u9762\u7684\u67e5\u8be2\u53d8\u6210:</p> \\[\\Pi_{name}(instructor \\ltimes_{instructor.ID = teaches.ID \\land teaches.year=2022} teaches)\\] <p>\u8fd9\u6837\u91cd\u590d\u7684\u540d\u5b57\u5c31\u4e0d\u4f1a\u88ab\u591a\u6b21\u8ba1\u7b97,\u540c\u65f6\u4e5f\u53ef\u4ee5\u907f\u514d\u540c\u540d\u51fa\u73b0\u95ee\u9898.</p> <p>\u56e0\u6b64,\u6211\u4eec\u53ef\u4ee5\u8bf4,\u5f62\u5982:</p> <pre><code>SELECT A\nFROM r_1, r_2, ..., r_n\nWHERE P_1 AND EXISTS (\n    SELECT *\n    FROM s_1, s_2, ..., s_m\n    WHERE P_2^1 AND P_2^2\n)\n</code></pre> <p>\u53ef\u4ee5\u6539\u5199\u4e3a:</p> \\[ \\Pi_A\\left( \\sigma_{P_1}(r_1 \\times r_2 \\times \\cdots \\times r_n) \\ltimes_{P_2^2} \\sigma_{P_2^1}(s_1 \\times s_2 \\times \\cdots \\times s_m) \\right) \\] <p>\u5176\u4e2d\uff1a</p> <ul> <li> <p>\\( P_2^1 \\) \u5305\u542b\u4e0d\u6d89\u53ca\u5916\u5c42\u67e5\u8be2\u53d8\u91cf\u7684\u8c13\u8bcd\uff08\u7b80\u5355\u6761\u4ef6\uff09\u3002</p> </li> <li> <p>\\( P_2^2 \\) \u5305\u542b\u6d89\u53ca\u5916\u5c42\u67e5\u8be2\u53d8\u91cf\u7684\u8c13\u8bcd\uff08\u76f8\u5173\u5b50\u67e5\u8be2\u6761\u4ef6\uff09\u3002</p> </li> <li> <p>\u5c06\u4e00\u4e2a\u5d4c\u5957\u5b50\u67e5\u8be2\u66ff\u6362\u4e3a\u4e00\u4e2a\u5e26\u6709\u8fde\u63a5\u6216\u534a\u8fde\u63a5\u7684\u67e5\u8be2\uff08\u53ef\u80fd\u6d89\u53ca\u4e34\u65f6\u8868\uff09\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e3a Decorrelation\uff08\u53bb\u9664\u76f8\u5173\u6027\uff09\u3002</p> </li> </ul> <p>\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\uff0c\u53bb\u76f8\u5173\u5316\u8fc7\u7a0b\u4f1a\u66f4\u52a0\u590d\u6742\uff1a</p> <ul> <li>\u5d4c\u5957\u5b50\u67e5\u8be2\u4e2d\u4f7f\u7528\u4e86\u805a\u5408\u64cd\u4f5c\uff0c\u6216</li> <li>\u5d4c\u5957\u5b50\u67e5\u8be2\u662f\u4e00\u4e2a\u6807\u91cf\u5b50\u67e5\u8be2\uff08\u8fd4\u56de\u5355\u4e2a\u503c\uff09\u3002</li> </ul> <p>\u8fd9\u65f6\u901a\u5e38\u9700\u8981\u4f7f\u7528\u76f8\u5173\u6027\u8bc4\u4f30\uff08Correlated Evaluation\uff09\u3002</p> <p>Example</p> <p></p>"},{"location":"incourse/db/ch16/#materialized-views","title":"Materialized Views","text":"<p>\u4e4b\u524d\u8bb2\u8fc7,\u7269\u5316\u89c6\u56fe\u5c31\u662f\u628a\u539f\u6765\u7684\u89c6\u56fe\u53d8\u6210\u4e00\u4e2a\u771f\u6b63\u7684\u8868,\u8fd9\u6837\u5728\u67e5\u8be2\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u76f4\u63a5\u67e5\u8be2\u8fd9\u4e2a\u8868,\u800c\u4e0d\u9700\u8981\u6bcf\u6b21\u90fd\u53bb\u8ba1\u7b97\u89c6\u56fe.</p> <p>\u4f46\u662f,\u8fd9\u6837\u505a\u4e5f\u662f\u6709\u4ee3\u4ef7\u7684,\u6211\u4eec\u9700\u8981\u5728\u539f\u6765\u7684\u8868\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019,\u53bb\u66f4\u65b0\u8fd9\u4e2a\u7269\u5316\u89c6\u56fe,\u8fd9\u6837\u5c31\u4f1a\u5bfc\u81f4\u989d\u5916\u7684\u5f00\u9500.</p> <p>\u8fd9\u6837\u7684\u5de5\u4f5c\u88ab\u79f0\u4e3amaterialized view maintenance</p> <p>\u4e00\u4e2a\u597d\u7684\u529e\u6cd5\u662fincremental view maintenance(\u589e\u91cf\u89c6\u56fe\u7ef4\u62a4)\u611f\u89c9\u548clatex\u4e0etypst\u7684\u533a\u522b\u5dee\u4e0d\u591a</p> <p>\u89c6\u56fe\u7ef4\u62a4\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u6cd5\u64cd\u4f5c:</p> <ol> <li> <p>\u4f7f\u7528trigger\u6765\u7ef4\u62a4\u89c6\u56fe,\u5f53\u539f\u6765\u7684\u8868\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019,\u5c31\u4f1a\u89e6\u53d1\u4e00\u4e2atrigger,\u7136\u540e\u53bb\u66f4\u65b0\u7269\u5316\u89c6\u56fe.</p> </li> <li> <p>\u624b\u52a8\u5199\u4e00\u4e2a\u66f4\u65b0\u7a0b\u5e8f</p> </li> <li> <p>\u5b9a\u65f6\u66f4\u65b0,\u6bd4\u5982\u665a\u4e0a</p> </li> </ol> <p>The changes (inserts and deletes) to a relation or expressions are referred to as its differential\uff08\u5dee\u5206\uff09</p> <p>\u5dee\u5206\u5c31\u662f\u5dee\u5f02</p> <ol> <li> <p>Join Operation</p> <ul> <li> <p>\u5982\u679c\u7269\u5316\u89c6\u56fe\\(v = r \\bowtie s\\),\u5e76\u4e14\u66f4\u65b0r</p> </li> <li> <p>\u6211\u4eec\u628a\u539f\u6765\u548c\u66f4\u65b0\u540e\u7684\u8868\u79f0\u4e3a\\(r_{new}\\)\u548c\\(r_{old}\\),\u90a3\u4e48:</p> <ul> <li> <p>\u5bf9\u4e8e\u63d2\u5165,\\(r_{new} \\bowtie s = (r_{old} \\cup i_r) \\bowtie s\\)</p> </li> <li> <p>\u4e5f\u5373\\(r_{old} \\bowtie s \\cup i_r \\bowtie s\\),\\(r_{old} \\bowtie s\\)\u662f\u539f\u6765\u7684\u89c6\u56fe,\u800c\\(i_r \\bowtie s\\)\u662f\u65b0\u63d2\u5165\u7684\u5143\u7ec4\u548cs\u8fde\u63a5\u7684\u7ed3\u679c,\u4e5f\u5c31\u662f\u589e\u91cf</p> </li> <li> <p>\u6545\\(v_{new} = v_{old} \\cup i_r \\bowtie s\\)</p> </li> <li> <p>\u5220\u9664\u540c\u7406,\u662f\\(v_{old} - d_r \\bowtie s\\)</p> </li> </ul> <p> </p> </li> </ul> </li> <li> <p>Selection : \\(v = \\sigma_{p}(r)\\)</p> <ul> <li> <p>\u63d2\u5165: \\(v_{new} = v_{old} \\cup i_r\\)</p> </li> <li> <p>\u5220\u9664: \\(v_{new} = v_{old} - d_r\\)</p> </li> </ul> </li> <li> <p>Projection,more difficult </p> <ul> <li> <p>\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\\(\\Pi_{A}(r)\\),\u6211\u4eec\u7ef4\u62a4\u5176\u6bcf\u4e2a\u5143\u7ec4\u88ab\u53d6\u56de\u6b21\u6570</p> </li> <li> <p>r\u63d2\u5165\u4e86\u4e00\u4e2a\u5143\u7ec4,\u5982\u679c\u5b83\u7684\u6620\u5c04\u5df2\u7ecf\u5728\u89c6\u56fe\u4e2d,\u90a3\u4e48\u6211\u4eec\u5c31\u589e\u52a0\u8fd9\u4e2a\u5143\u7ec4\u7684\u8ba1\u6570,\u5982\u679c\u5b83\u7684\u6620\u5c04\u4e0d\u5728\u89c6\u56fe\u4e2d,\u90a3\u4e48\u6211\u4eec\u5c31\u628a\u8ba1\u6570\u7f6e1,\u5e76\u4e14\u628a\u5b83\u52a0\u5165\u5230\u89c6\u56fe\u4e2d</p> </li> <li> <p>\u540c\u7406,\u5220\u9664\u7684\u65f6\u5019\u6211\u4eec\u5c31\u51cf\u5c11\u8fd9\u4e2a\u5143\u7ec4\u7684\u8ba1\u6570,\u5982\u679c\u8ba1\u6570\u4e3a0,\u90a3\u4e48\u6211\u4eec\u5c31\u628a\u5b83\u4ece\u89c6\u56fe\u4e2d\u5220\u9664</p> </li> </ul> <p> </p> </li> <li> <p>Count: \\(v =_A \\gamma_{count(B)}(r)\\)</p> <ul> <li> <p>\u5f53\u5411\u539f\u8868\u4e2d\u63d2\u5165\u4e00\u7ec4\u5143\u7ec4 ir \u65f6\uff1a</p> <ul> <li> <p>\u5bf9\u4e8e ir \u4e2d\u7684\u6bcf\u4e2a\u5143\u7ec4r\uff1a</p> <ul> <li> <p>\u9996\u5148\u68c0\u67e5\u5b83\u5728\u5bf9\u5e94\u7684\u7ec4\u662f\u5426\u5df2\u7ecf\u5b58\u5728\u4e8e\u89c6\u56fe v \u4e2d</p> </li> <li> <p>\u5982\u679c\u8be5\u7ec4\u5df2\u5b58\u5728\uff0c\u5c31\u5c06\u8be5\u7ec4\u7684\u8ba1\u6570\u589e\u52a0 1</p> </li> <li> <p>\u5982\u679c\u8be5\u7ec4\u4e0d\u5b58\u5728\uff0c\u5c31\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u5143\u7ec4\u5230\u89c6\u56fe\u4e2d\uff0c\u5e76\u8bbe\u7f6e\u8ba1\u6570\u4e3a 1</p> </li> </ul> </li> </ul> </li> <li> <p>\u5f53\u4ece\u539f\u8868\u4e2d\u5220\u9664\u4e00\u7ec4\u5143\u7ec4 dr \u65f6\uff1a</p> <ul> <li> <p>\u5bf9\u4e8e dr \u4e2d\u7684\u6bcf\u4e2a\u5143\u7ec4\uff1a</p> <ul> <li> <p>\u5728\u89c6\u56fe v \u4e2d\u67e5\u627e\u5b83\u7684\u7ec4</p> </li> <li> <p>\u5c06\u8be5\u7ec4\u7684\u8ba1\u6570\u51cf\u5c11 1</p> </li> <li> <p>\u5982\u679c\u8ba1\u6570\u53d8\u4e3a 0\uff0c\u8868\u793a\u539f\u8868\u4e2d\u4e0d\u518d\u6709\u4efb\u4f55\u5143\u7ec4\u6295\u5f71\u5230\u8fd9\u4e2a\u503c\uff0c\u56e0\u6b64\u4ece\u89c6\u56fe v \u4e2d\u5220\u9664\u8be5\u7ec4</p> </li> </ul> </li> </ul> </li> </ul> </li> <li> <p>sum: \\(v =_A \\gamma_{sum(B)}(r)\\)</p> <ul> <li> <p>\u548ccount\u7c7b\u4f3c,\u4f46\u662f\u6211\u4eec\u9700\u8981\u7ef4\u62a4\u6bcf\u4e2a\u7ec4\u7684\u548c,\u800c\u4e0d\u662f\u8ba1\u6570</p> </li> <li> <p>\u63d2\u5165\u7684\u65f6\u5019,\u6211\u4eec\u5c31\u628a\u8fd9\u4e2a\u5143\u7ec4\u7684\u503c\u52a0\u5230\u89c6\u56fe\u4e2d,\u5220\u9664\u7684\u65f6\u5019\u5c31\u51cf\u53bb\u8fd9\u4e2a\u5143\u7ec4\u7684\u503c</p> </li> <li> <p>\u540c\u65f6,\u6211\u4eec\u4e5f\u9700\u8981\u7ef4\u62a4count,\u4ee5\u4fbf\u5f53\u68c0\u6d4b\u5230\u4e00\u4e2a\u7ec4\u4e2d\u6ca1\u6709\u5143\u7ec4\u65f6,\u628a\u8fd9\u4e2a\u7ec4\u5220\u53bb,\u800c\u4e0d\u662f\u7b80\u5355\u5730\u5224\u65ad\u5b83\u7684sum\u662f\u4e0d\u662f0</p> </li> <li> <p>\u7ef4\u62a4\u4e86<code>sum</code>\u548c<code>count</code>,\u6211\u4eec\u4e5f\u53ef\u4ee5\u7b97\u51fa<code>avg</code>\u4e86</p> </li> </ul> </li> <li> <p>min,max,\u5220\u9664\u65f6\u6bd4\u8f83\u590d\u6742</p> </li> <li> <p>\u96c6\u5408\u64cd\u4f5c</p> <p> </p> </li> </ol>"},{"location":"incourse/db/ch16/#materialized-view-selection","title":"Materialized View Selection","text":"<p>What is the best set of views to materialize?</p>"},{"location":"incourse/db/ch17/","title":"Transaction","text":"<p> \u7ea6 2377 \u4e2a\u5b57  19 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p> <p>\u524d\u9762\u5df2\u7ecf\u5728\u8fd9\u91cc\u4ecb\u7ecd\u8fc7</p>"},{"location":"incourse/db/ch17/#a-simple-transaction-model","title":"A Simple Transaction Model","text":"<p>\u5728\u672c\u7ae0\u4e2d,\u6211\u4eec\u7b80\u5316\u8bbe\u8ba1,\u628a\u4e8b\u52a1\u4e0e\u6570\u636e\u7684\u4ea4\u4e92\u5206\u4e3a\u4e24\u79cd:</p> <ul> <li> <p><code>read(X)</code> ,\u5c06\u6570\u636e\u9879 X \u4ece\u6570\u636e\u9879\u4f20\u8f93\u5230\u6267\u884c\u8bfb\u64cd\u4f5c\u7684\u4e8b\u52a1\u7684\u4e3b\u5185\u5b58\u5de5\u4f5c\u533a\u4e2d\u7684\u4e00\u4e2a\u53d8\u91cf,\u4e5f\u79f0\u4e3a<code>X</code></p> </li> <li> <p><code>write(X)</code> ,\u5c06\u4e8b\u52a1\u7684\u4e3b\u5185\u5b58\u5de5\u4f5c\u533a\u4e2d\u7684\u53d8\u91cf X \u7684\u503c\u4f20\u8f93\u5230\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u9879\u4e0a</p> </li> </ul> <p>Example of Fund Transfer</p> <p></p> <ol> <li> <p>Atomicity requirement</p> <ul> <li>\u6240\u6709\u7684\u64cd\u4f5c\u90fd\u8981\u4e48\u5b8c\u6210,\u8981\u4e48\u4e0d\u5b8c\u6210</li> </ul> </li> <li> <p>Durability requirement</p> <ul> <li>\u5982\u679c\u64cd\u4f5c\u786e\u8ba4\u5b8c\u6210,\u6570\u636e\u5e93\u5fc5\u987b\u66f4\u65b0</li> </ul> </li> <li> <p>Consistency requirement</p> <ul> <li> <p>Explicitly\uff08\u663e\u5f0f\uff09 specified integrity constraints e.g. primary keys , foreign keys</p> </li> <li> <p>Implicit \uff08\u9690\u5f0f\uff09 integrity constraints e.g. sum of balances of all accounts minus sum of loan amounts must equal value of cash-in-hand</p> </li> </ul> </li> <li> <p>Isolation requirement</p> <ul> <li>\u5982\u679c\u5728 step 3 6 \u4e4b\u95f4\uff0c\u53e6\u4e00\u4e2a\u4e8b\u52a1\u80fd\u591f\u8bbf\u95ee\u6570\u636e\u5e93,\u90a3\u4e48\u5b83\u5c31\u4f1a\u770b\u5230\u4e00\u4e2a\u4e0d\u4e00\u81f4\u7684\u72b6\u6001.\u6bd4\u5982,A+B\u603b\u503c\u4e0d\u5bf9.</li> </ul> </li> </ol>"},{"location":"incourse/db/ch17/#transaction-state","title":"Transaction State","text":"<ul> <li> <p><code>Active</code> : \u4e8b\u52a1\u6b63\u5728\u6267\u884c</p> </li> <li> <p><code>Partially Committed</code> : \u4e8b\u52a1\u5df2\u7ecf\u6267\u884c\u5b8c\u6240\u6709\u7684\u64cd\u4f5c,\u4f46\u8fd8\u6ca1\u6709\u63d0\u4ea4(after the final statement has been executed)</p> </li> <li> <p><code>Failed</code> : \u4e8b\u52a1\u6267\u884c\u5931\u8d25,\u9700\u8981\u56de\u6eda</p> </li> <li> <p><code>Aborted</code> : \u4e8b\u52a1\u5df2\u7ecf\u56de\u6eda,\u9700\u8981\u91cd\u65b0\u5f00\u59cb\u6216\u8005\u76f4\u63a5kill\u6389\u8fd9\u4e2a\u4e8b\u52a1</p> </li> <li> <p><code>Committed</code> : \u4e8b\u52a1\u5df2\u7ecf\u63d0\u4ea4,\u6240\u6709\u7684\u64cd\u4f5c\u90fd\u5df2\u7ecf\u5b8c\u6210</p> </li> </ul>"},{"location":"incourse/db/ch17/#concurrent-executions","title":"Concurrent Executions","text":"<p>\u5e76\u53d1\u6267\u884c\u6709\u5f88\u591a\u4f18\u70b9,\u6bd4\u5982\u63d0\u9ad8\u6548\u7387(one transaction can be using the CPU while another is reading from or writing to the disk)\u7b49\u7b49,\u4f46\u662f\u5982\u679c\u4e0d\u52a0\u4ee5\u63a7\u5236,\u53ef\u80fd\u4f1a\u5bfc\u81f4\u95ee\u9898.</p> <ul> <li> <p>Lost Update\uff08\u4e22\u5931\u4fee\u6539\uff09</p> Tip <p> \u76f8\u5f53\u4e8e\u6709\u4e00\u767e\u5f20\u7968,\u4e24\u4e2a\u4eba\u90fd\u8ba2\u7968,\u4f46\u662f\u6700\u540e\u7cfb\u7edf\u5374\u663e\u793a\u5269\u4f5999\u5f20\u7968,\u800c\u4e0d\u662f98\u5f20\u7968</p> </li> <li> <p>Dirty Read\uff08\u810f\u8bfb\uff09</p> Tip <p> \u4e8b\u52a1T2\u8bfb\u53d6\u4e86\u4e8b\u52a1T1\u672a\u63d0\u4ea4\u7684\u503c,\u4f46\u662fT1\u6700\u540e\u56de\u6eda\u4e86,\u90a3\u4e48T2\u8bfb\u53d6\u7684\u503c\u5c31\u4e0d\u5bf9\u4e86</p> </li> <li> <p>Unrepeatable Read\uff08\u4e0d\u53ef\u91cd\u590d\u8bfb\uff09</p> Tip <p> \u4e8b\u52a1\u9694\u79bb\u8981\u6c42,T1\u8bfb\u5230\u7684\u503c,\u5728T1\u63d0\u4ea4\u4e4b\u524d,\u4e0d\u80fd\u88ab\u5176\u4ed6\u4e8b\u52a1\u4fee\u6539,\u5426\u5219\u5c31\u4f1a\u5bfc\u81f4\u4e0d\u53ef\u91cd\u590d\u8bfb\u7684\u95ee\u9898</p> </li> <li> <p>Phantom Problem\uff08\u5e7b\u8bfb\uff09</p> Tip <p> \u4e8b\u52a1T1\u8bfb\u53d6\u4e86\u4e00\u4e2a\u8303\u56f4\u5185\u7684\u503c,\u4f46\u662f\u5728T1\u63d0\u4ea4\u4e4b\u524d,\u53e6\u4e00\u4e2a\u4e8b\u52a1T2\u63d2\u5165\u4e86\u4e00\u4e2a\u65b0\u7684\u503c,\u90a3\u4e48T1\u8bfb\u53d6\u7684\u8303\u56f4\u5c31\u4f1a\u53d1\u751f\u53d8\u5316,\u5bfc\u81f4\u5e7b\u8bfb\u7684\u95ee\u9898</p> </li> </ul>"},{"location":"incourse/db/ch17/#schedule","title":"Schedule","text":"<p>\u5f53\u4e00\u7ec4\u4e8b\u52a1\u88ab\u6267\u884c\u65f6\uff0c\u5b83\u4eec\u7684\u6267\u884c\u987a\u5e8f\u79f0\u4e3a\u8c03\u5ea6\uff08schedule\uff09\u3002\u8c03\u5ea6\u53ef\u4ee5\u662f\u4e32\u884c\u7684\uff0c\u4e5f\u53ef\u4ee5\u662f\u5e76\u884c\u7684\u3002</p> <p>\u4e00\u822c\u6765\u8bf4,\u5355\u4e2a\u4e8b\u52a1\u5185\u7684\u6307\u4ee4\u662f\u4fdd\u6301\u539f\u6765\u7684\u987a\u5e8f\u7684</p> <p>\u5982\u679c\u4e00\u4e2a\u4e8b\u52a1\u6210\u529f\u6267\u884c,\u90a3\u4e48commit\u5c31\u662f\u5b83\u7684\u6700\u540e\u4e00\u6761\u6307\u4ee4,\u4e0d\u7136rollback\u5c31\u662f\u5b83\u7684\u6700\u540e\u4e00\u6761\u6307\u4ee4</p> <p>\ud83c\udf30</p> \u4e32\u884c1\u4e32\u884c2\u5e76\u884c\u5e76\u884c/\u4e0d\u4fdd\u6301\u503c <p></p> <p>\u7b49\u5f85T1\u5b8c\u6210\u540e,\u518d\u6267\u884cT2</p> <p></p> <p>\u7b49\u5f85T2\u5b8c\u6210\u540e,\u518d\u6267\u884cT1</p> <p></p> <p>T1\u548cT2\u4ea4\u66ff\u6267\u884c,\u4f46\u6700\u7ec8\u7684\u7ed3\u679c\u548c\u4e32\u884c1\u6216\u4e32\u884c2\u662f\u4e00\u6837\u7684</p> <p></p> <p>T1\u548cT2\u4ea4\u66ff\u6267\u884c,\u4f46\u6700\u7ec8\u7684\u7ed3\u679c\u548c\u4e32\u884c1\u6216\u4e32\u884c2\u4e0d\u4e00\u6837</p> <p>\u4e00\u822c\u6765\u8bf4,\u8fd9\u6837\u505a\u90fd\u4f1a\u51fa\u73b0\u95ee\u9898.</p>"},{"location":"incourse/db/ch17/#serializability\u53ef\u4e32\u884c\u5316","title":"Serializability(\u53ef\u4e32\u884c\u5316)","text":"<p>\u57fa\u672c\u5047\u8bbe:\u6bcf\u6761\u4e8b\u52a1\u90fd\u4fdd\u6301\u6570\u636e\u5e93\u7684\u4e00\u81f4\u6027</p> <p>\u90a3\u4e48,\u5b83\u4eec\u4e32\u884c\u6267\u884c,\u4e5f\u5fc5\u7136\u80fd\u4fdd\u6301\u6570\u636e\u5e93\u7684\u4e00\u81f4\u6027</p> <p>\u53ef\u4e32\u884c\u5316</p> <p>\u5982\u679c\u4e00\u4e2a\u8c03\u5ea6(\u53ef\u80fd\u662f\u5e76\u53d1)\u7684\u7ed3\u679c\u548c\u67d0\u4e2a\u4e32\u884c\u8c03\u5ea6\u7684\u7ed3\u679c\u7b49\u4ef7,\u90a3\u4e48\u8fd9\u4e2a\u8c03\u5ea6\u5c31\u662f\u53ef\u4e32\u884c\u5316\u7684</p> <p>\u6839\u636e\"\u7b49\u4ef7\"\u7684\u5b9a\u4e49\u4e0d\u540c,\u6709\u4e24\u79cd\u53ef\u4e32\u884c\u5316\u5b9a\u4e49:</p> <ol> <li> <p>conflict serializability(\u51b2\u7a81\u53ef\u4e32\u884c\u5316 )</p> </li> <li> <p>view serializability(\u89c6\u56fe\u53ef\u4e32\u884c\u5316)</p> </li> </ol> <p>Conflicting Instructions</p> <ul> <li> <p>\u6765\u81ea\u4e8e\u4e8b\u52a1\\(T_i\\)\u548c\\(T_j\\)\u7684\u6307\u4ee4\\(I_i\\)\u548c\\(I_j\\)\u51b2\u7a81,\u5f53\u4e14\u4ec5\u5f53:</p> <ol> <li> <p>\\(I_i\\)\u548c\\(I_j\\)\u8bbf\u95ee\u540c\u4e00\u4e2a\u6570\u636e\u9879</p> </li> <li> <p>\\(I_i\\)\u548c\\(I_j\\)\u81f3\u5c11\u6709\u4e00\u4e2a\u662f\u5199\u64cd\u4f5c</p> </li> </ol> </li> <li> <p>\u51b2\u7a81\u7684\u6307\u4ee4\u8981\u6c42\u5b83\u4eec\u4e4b\u95f4\u5fc5\u987b\u5efa\u7acb\u4e00\u4e2a\u903b\u8f91\u987a\u5e8f,\u4e5f\u5c31\u662f\u4e00\u4e2a\u201c\u8c01\u5148\u8c01\u540e\u201d\u7684\u7ea6\u675f</p> </li> </ul>"},{"location":"incourse/db/ch17/#conflict-serializability\u51b2\u7a81\u53ef\u4e32\u884c\u5316","title":"Conflict Serializability\uff08\u51b2\u7a81\u53ef\u4e32\u884c\u5316\uff09","text":"<ul> <li> <p>\u5982\u679c\u4e00\u4e2a\u8c03\u5ea6\\(S\\)\u53ef\u4ee5\u901a\u8fc7\u4ea4\u6362\u4e00\u7cfb\u5217\u4e0d\u51b2\u7a81\u7684\u6307\u4ee4\u7684\u987a\u5e8f,\u6765\u53d8\u6210\u53e6\u4e00\u4e2a\u8c03\u5ea6\\(S'\\)\uff0c\u90a3\u4e48\u6211\u4eec\u79f0\\(S\\)\u548c\\(S'\\)\u662f\u51b2\u7a81\u7b49\u4ef7(conflict equivalent)\u7684</p> </li> <li> <p>\u5982\u679c\\(S\\)\u662f\u51b2\u7a81\u7b49\u4ef7\u4e8e\u67d0\u4e2a\u4e32\u884c\u8c03\u5ea6\\(S'\\)\uff0c\u90a3\u4e48\\(S\\)\u5c31\u662f\u51b2\u7a81\u53ef\u4e32\u884c\u5316\u7684</p> </li> </ul> <p>\ud83c\udf30</p> <p></p>"},{"location":"incourse/db/ch17/#testing-for-serializability","title":"Testing for Serializability","text":"<p>Precedence graph\uff08\u524d\u9a71\u56fe \uff09 \u2014 a directed graph where the vertices are the transactions (names).</p> <p>We draw an arc from \\(T_i\\) to \\(T_j\\) if the two transaction conflict, and \\(T_i\\) accessed the data item on which the conflict arose earlier.</p> <p>\u90a3\u4e48,\u6211\u4eec\u53ef\u4ee5\u4ece\u524d\u9a71\u56fe\u7684\u89d2\u5ea6,\u5224\u65ad\u4e00\u4e2a\u8c03\u5ea6\u662f\u5426\u662f\u51b2\u7a81\u53ef\u4e32\u884c\u5316\u7684:\u5982\u679c\u4e00\u4e2a\u8c03\u5ea6\u7684\u524d\u9a71\u56fe\u662f\u65e0\u73af\u7684,\u90a3\u4e48\u8fd9\u4e2a\u8c03\u5ea6\u5c31\u662f\u51b2\u7a81\u53ef\u4e32\u884c\u5316\u7684</p> <p>\u5e76\u4e14,\u5982\u679c\u4e00\u4e2a\u8c03\u5ea6\u662f\u65e0\u73af\u7684,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u62d3\u6251\u6392\u5e8f\u7684\u65b9\u6cd5\u83b7\u5f97\u6700\u540e\u7684\u4e32\u884c\u8c03\u5ea6</p> <p>\ud83c\udf30</p> <p></p>"},{"location":"incourse/db/ch17/#view-serializability\u89c6\u56fe\u53ef\u4e32\u884c\u5316","title":"View Serializability\uff08\u89c6\u56fe\u53ef\u4e32\u884c\u5316\uff09","text":"<ul> <li> <p>\u89c6\u56fe\u53ef\u4e32\u884c\u5316\u662f\u51b2\u7a81\u53ef\u4e32\u884c\u5316\u7684\u4e00\u4e2a\u66f4\u5bbd\u677e\u7684\u5b9a\u4e49</p> </li> <li> <p>view equivalence(\u89c6\u56fe\u7b49\u4ef7): \\(S\\)\u548c\\(S'\\)\u662f\u89c6\u56fe\u7b49\u4ef7\u7684,\u5f53\u4e14\u4ec5\u5f53\u5bf9\u4e8e\u4efb\u610f\u6570\u636e\u9879Q:</p> <ol> <li> <p>\u5982\u679c\\(S\\)\u4e2d\u6709\u4e8b\u52a1\\(T_i\\)\u8bfb\u4e86Q\u7684\u521d\u59cb\u503c,\u90a3\u4e48\u5728\\(S'\\)\u4e2d\u7684\\(T_i\\)\u4e5f\u5fc5\u987b\u8bfb\u53d6Q\u7684\u521d\u59cb\u503c</p> </li> <li> <p>\u5982\u679c\\(S\\)\u4e2d\u7684\u4e8b\u52a1\\(T_i\\)\u4f7f\u7528<code>read(Q)</code>\u8bfb\u53d6\u4e86\\(T_j\\)\u4ea7\u751f\u7684\u503c,\u90a3\u4e48\\(S'\\)\u4e2d\u7684\\(T_i\\)\u4e5f\u5fc5\u987b\u4f7f\u7528<code>read(Q)</code>\u8bfb\u53d6\\(T_j\\)\u540c\u4e00\u4e2a<code>write(Q)</code>\u4ea7\u751f\u7684\u503c</p> </li> <li> <p>\u5982\u679c\\(S\\)\u4e2d\u7684\u4e8b\u52a1\\(T_i\\)\u7528<code>write(Q)</code>\u5199\u5165\u4e86Q\u7684\u6700\u7ec8\u503c,\u90a3\u4e48\\(S'\\)\u4e2d\u7684\\(T_i\\)\u4e5f\u5fc5\u987b\u7528<code>write(Q)</code>\u5199\u5165Q\u7684\u6700\u7ec8\u503c</p> </li> </ol> </li> <li> <p>\u5982\u679c\\(S\\)\u662f\u89c6\u56fe\u7b49\u4ef7\u4e8e\u67d0\u4e2a\u4e32\u884c\u8c03\u5ea6\\(S'\\)\uff0c\u90a3\u4e48\\(S\\)\u5c31\u662f\u89c6\u56fe\u53ef\u4e32\u884c\u5316\u7684</p> </li> <li> <p>\u6240\u6709\u7684\u51b2\u7a81\u53ef\u4e32\u884c\u5316\u7684\u8c03\u5ea6\u90fd\u662f\u89c6\u56fe\u53ef\u4e32\u884c\u5316\u7684,\u4f46\u662f\u5e76\u4e0d\u662f\u6240\u6709\u7684\u89c6\u56fe\u53ef\u4e32\u884c\u5316\u7684\u8c03\u5ea6\u90fd\u662f\u51b2\u7a81\u53ef\u4e32\u884c\u5316\u7684      \u89c6\u56fe\u53ef\u4e32\u884c\u5316\u7684\u8c03\u5ea6(T27,T28,T29),\u4f46\u4e0d\u662f\u51b2\u7a81\u53ef\u4e32\u884c\u5316 </p> </li> </ul>"},{"location":"incourse/db/ch17/#other-notions-of-serializability","title":"Other Notions of Serializability","text":"<p>\u6709\u7684\u8c03\u5ea6\u65e2\u4e0d\u662f\u51b2\u7a81\u53ef\u4e32\u884c\u5316\u53c8\u4e0d\u662f\u89c6\u56fe\u53ef\u4e32\u884c\u5316\uff0c\u4f46\u5b83\u662f\u53ef\u4e32\u884c\u5316\u7684\u3002</p> <p>\u8fd9\u79cd\u57fa\u4e8e\u6570\u5b66\u7684\u53ef\u4e32\u884c\u5316,\u96be\u4ee5\u7f16\u7801\u5230\u6570\u636e\u5e93\u4e2d,\u6240\u4ee5\u5f88\u96be\u5b9e\u73b0.</p>"},{"location":"incourse/db/ch17/#recoverable-schedules","title":"Recoverable Schedules","text":"<ul> <li> <p>\u5982\u679c\u4e00\u4e2a\u4e8b\u52a1\\(T_i\\)\u8bfb\u53d6\u4e86\u53e6\u4e00\u4e2a\u4e8b\u52a1\\(T_j\\)\u7684\u503c,\u90a3\u4e48\\(T_i\\)\u5fc5\u987b\u5728\\(T_j\\)\u63d0\u4ea4\u4e4b\u540e\u63d0\u4ea4</p> <p> \u4e0d\u662f\u53ef\u6062\u590d\u8c03\u5ea6 </p> </li> <li> <p>\u4e0a\u56fe\u7684\u8c03\u5ea6\u4e2d,\u5982\u679c\\(T_8\\)\u56de\u6eda\u4e86,\u90a3\u4e48\\(T_9\\)\u8bfb\u53d6\u7684\u810f\u6570\u636e\u5c31\u5b8c\u5168\u9519\u8bef\u4e86,\u5e76\u4e14\u6b64\u65f6\u5df2\u7ecf\\(T_9\\)\u5df2\u7ecf\u63d0\u4ea4\u4e86,\u6240\u4ee5\u4f1a\u51fa\u95ee\u9898.</p> </li> </ul>"},{"location":"incourse/db/ch17/#cascading-rollbacks","title":"Cascading Rollbacks","text":"<ul> <li> <p>\u4e00\u4e2a\u4e8b\u52a1\u7684\u56de\u6eda\u4f1a\u5bfc\u81f4\u5176\u4ed6\u4e8b\u52a1\u7684\u56de\u6eda,\u4e5f\u5c31\u662f\u7ea7\u8054\u56de\u6eda</p> <p> If \\(T_{10}\\) fails,\\(T_{11}\\) and \\(T_{12}\\) must also be rolled back. </p> </li> <li> <p>\u4f46\u662f\u7ea7\u8054\u56de\u6eda\u7684\u5f00\u9500\u592a\u5927\u4e86,\u6240\u4ee5\u6211\u4eec\u66f4\u5e0c\u671b\u4f7f\u7528\u975e\u7ea7\u8054\u56de\u6eda\u7684\u8c03\u5ea6</p> <ul> <li> <p>\u4e5f\u5373\u662f,\\(T_j\\)\u5728\\(T_i\\)\u63d0\u4ea4\u4e4b\u524d,\u4e0d\u80fd\u8bfb\u53d6\\(T_i\\)\u7684\u503c</p> </li> <li> <p>\u8fd9\u4e5f\u662f\u4e00\u79cd\u66f4\u4e25\u683c\u7684\u53ef\u6062\u590d\u8c03\u5ea6</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch17/#transaction-isolation-levels","title":"Transaction Isolation Levels","text":"<ul> <li> <p>\u6570\u636e\u5e93\u7cfb\u7edf\u5fc5\u987b\u786e\u4fdd\u6240\u6709\u53ef\u80fd\u7684\u8c03\u5ea6\uff08Schedule\uff09\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff1a</p> <ul> <li> <p>\u662f \u51b2\u7a81\u53ef\u4e32\u884c\u5316\uff08Conflict Serializable\uff09 \u6216 \u89c6\u56fe\u53ef\u4e32\u884c\u5316\uff08View Serializable\uff09</p> </li> <li> <p>\u662f \u53ef\u6062\u590d\u7684\uff08Recoverable\uff09</p> </li> <li> <p>\u6700\u597d\u662f \u65e0\u7ea7\u8054\u56de\u6eda\u7684\uff08Cascadeless\uff09</p> </li> </ul> </li> <li> <p>\u5e76\u53d1\u63a7\u5236\u534f\u8bae\uff08Concurrency Control Protocols\uff09\uff0c\u4f7f\u4e8b\u52a1\u8c03\u5ea6\u5728\u8fd0\u884c\u65f6\u5c31\u5177\u5907\u4ee5\u4e0b\u6027\u8d28\uff1a</p> <ul> <li> <p>\u662f\u51b2\u7a81/\u89c6\u56fe\u53ef\u4e32\u884c\u5316\u7684</p> </li> <li> <p>\u662f\u53ef\u6062\u590d\u7684</p> </li> <li> <p>\u65e0\u7ea7\u8054\u56de\u6eda</p> </li> </ul> </li> <li> <p>\u5b8c\u5168\u7684\u9694\u79bb\u4f1a\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d,\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u9694\u79bb\u7ea7\u522b\u6765\u63a7\u5236\u4e8b\u52a1\u4e4b\u95f4\u7684\u9694\u79bb\u7a0b\u5ea6(minisql part 7\u90e8\u5206)</p> <ul> <li> <p>Serializable \u2014 default:</p> <ul> <li>\u6700\u9ad8\u7684\u9694\u79bb\u7ea7\u522b,\u6240\u6709\u7684\u4e8b\u52a1\u90fd\u662f\u4e32\u884c\u6267\u884c\u7684,\u4f46\u662f\u6027\u80fd\u6700\u4f4e</li> </ul> </li> <li> <p>Repeatable Read:</p> <ul> <li>\u53ea\u6709\u5df2\u88ab\u63d0\u4ea4\u7684\u8bb0\u5f55\u53ef\u4ee5\u8bfb\u53d6,\u5728\u4e8b\u52a1\u8fdb\u884c\u65f6\u59cb\u7ec8\u4fdd\u6301\u5171\u4eab\u9501</li> </ul> </li> <li> <p>Read Committed:</p> <ul> <li>\u53ea\u6709\u5df2\u88ab\u63d0\u4ea4\u7684\u8bb0\u5f55\u53ef\u4ee5\u8bfb\u53d6,\u4f46\u662f\u53ea\u6709\u8bfb\u6570\u636e\u65f6\u4f1a\u52a0\u5171\u4eab\u9501,\u56e0\u6b64\u91cd\u590d\u8bfb\u53d6\u7684\u7ed3\u679c\u53ef\u80fd\u4e0d\u4e00\u81f4</li> </ul> </li> <li> <p>Read Uncommitted:</p> <ul> <li> <p>\u6700\u4f4e\u7684\u9694\u79bb\u7ea7\u522b</p> </li> <li> <p>\u5141\u8bb8\u8bfb\u53d6\u672a\u63d0\u4ea4\u7684\u8bb0\u5f55,\u4f46\u662f\u4f1a\u5bfc\u81f4\u810f\u8bfb\u7684\u95ee\u9898,\u6027\u80fd\u6700\u9ad8</p> </li> </ul> </li> <li> <p>\u5728sql\u4e2d,\u53ef\u4ee5\u4f7f\u7528<code>SET TRANSACTION ISOLATION LEVEL</code>\u6765\u8bbe\u7f6e\u9694\u79bb\u7ea7\u522b</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch17/#concurrency-control-protocols","title":"Concurrency Control Protocols","text":"<p>\u4e8b\u52a1\u8c03\u5ea6\u7684\u5e76\u53d1\u63a7\u5236\u534f\u8bae,\u662f\u4e3a\u4e86\u786e\u4fdd\u6240\u6709\u7684\u8c03\u5ea6\u90fd\u6ee1\u8db3\u53ef\u4e32\u884c\u5316\u7684\u8981\u6c42</p>"},{"location":"incourse/db/ch17/#\u57fa\u4e8e\u9501\u7684\u534f\u8bae","title":"\u57fa\u4e8e\u9501\u7684\u534f\u8bae","text":"<ul> <li> <p>\u9501\u7684\u7c92\u5ea6</p> <ul> <li>\u5bf9\u6574\u4e2a\u6570\u636e\u5e93\u52a0\u9501 vs \u5bf9\u5355\u4e2a\u6570\u636e\u9879\u52a0\u9501</li> </ul> </li> <li> <p>\u9501\u7684\u6301\u6709\u65f6\u95f4 </p> </li> <li> <p>\u9501\u7684\u7c7b\u578b</p> <ul> <li>\u5171\u4eab\u9501\uff08Shared Lock\uff09\uff1a\u5141\u8bb8\u591a\u4e2a\u4e8b\u52a1\u540c\u65f6\u8bfb\u53d6\u6570\u636e</li> <li>\u6392\u4ed6\u9501\uff08Exclusive Lock\uff09\uff1a\u4ec5\u5141\u8bb8\u4e00\u4e2a\u4e8b\u52a1\u5199\u5165\u6570\u636e\uff0c\u963b\u6b62\u5176\u4ed6\u4e8b\u52a1\u7684\u8bfb\u5199\u64cd\u4f5c</li> </ul> </li> </ul>"},{"location":"incourse/db/ch17/#\u57fa\u4e8e\u65f6\u95f4\u6233\u7684\u534f\u8bae","title":"\u57fa\u4e8e\u65f6\u95f4\u6233\u7684\u534f\u8bae","text":"<ul> <li> <p>\u65f6\u95f4\u6233\u5206\u914d</p> <ul> <li>\u5f53\u4e8b\u52a1\u5f00\u59cb\u65f6\uff0c\u7cfb\u7edf\u4f1a\u4e3a\u5176\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u7684\u65f6\u95f4\u6233</li> </ul> </li> <li> <p>\u6570\u636e\u9879\u65f6\u95f4\u6233</p> <ul> <li> <p>\u6bcf\u4e2a\u6570\u636e\u9879\u5b58\u50a8\u4e24\u79cd\u65f6\u95f4\u6233\uff1a</p> <ul> <li> <p>\u8bfb\u65f6\u95f4\u6233\uff08Read Timestamp\uff09\uff1a\u8bb0\u5f55\u6700\u540e\u8bfb\u53d6\u8be5\u6570\u636e\u9879\u7684\u4e8b\u52a1\u7684\u65f6\u95f4\u6233</p> </li> <li> <p>\u5199\u65f6\u95f4\u6233\uff08Write Timestamp\uff09\uff1a\u8bb0\u5f55\u6700\u540e\u4fee\u6539\u8be5\u6570\u636e\u9879\u7684\u4e8b\u52a1\u7684\u65f6\u95f4\u6233</p> </li> </ul> </li> </ul> </li> <li> <p>\u8bbf\u95ee\u987a\u5e8f\u68c0\u6d4b</p> <ul> <li>\u7cfb\u7edf\u4f7f\u7528\u65f6\u95f4\u6233\u6765\u68c0\u6d4b\u4e8b\u52a1\u8bbf\u95ee\u6570\u636e\u7684\u987a\u5e8f\u662f\u5426\u8fdd\u53cd\u4e86\u4e32\u884c\u5316\u8981\u6c42</li> </ul> </li> </ul>"},{"location":"incourse/db/ch17/#\u57fa\u4e8e\u9a8c\u8bc1\u7684\u534f\u8bae","title":"\u57fa\u4e8e\u9a8c\u8bc1\u7684\u534f\u8bae","text":"<ul> <li> <p>\u4e50\u89c2\u5e76\u53d1\u63a7\u5236</p> <ul> <li>\u5047\u8bbe\u4e8b\u52a1\u4e4b\u95f4\u7684\u51b2\u7a81\u8f83\u5c11\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4e0d\u4f1a\u53d1\u751f\u51b2\u7a81</li> </ul> </li> <li> <p>\u9002\u7528\u573a\u666f</p> <ul> <li>\u4e8b\u52a1\u4e4b\u95f4\u51b2\u7a81\u7387\u8f83\u4f4e\u7684\u73af\u5883</li> </ul> </li> <li> <p>\u4e09\u9636\u6bb5\u6267\u884c</p> <ul> <li> <p>\u6bcf\u4e2a\u4e8b\u52a1\u5fc5\u987b\u7ecf\u8fc7\u4e09\u4e2a\u9636\u6bb5\uff1a</p> <ol> <li> <p>\u8bfb\u53d6\u9636\u6bb5\uff1a\u4e8b\u52a1\u53ea\u8bfb\u53d6\u6570\u636e\uff0c\u4e0d\u8fdb\u884c\u4efb\u4f55\u4fee\u6539</p> </li> <li> <p>\u9a8c\u8bc1\u9636\u6bb5\uff1a\u68c0\u67e5\u662f\u5426\u4e0e\u5176\u4ed6\u4e8b\u52a1\u51b2\u7a81</p> </li> <li> <p>\u5199\u5165\u9636\u6bb5\uff1a\u901a\u8fc7\u9a8c\u8bc1\u540e\uff0c\u4e8b\u52a1\u53ef\u4ee5\u5c06\u4fee\u6539\u5199\u5165\u6570\u636e\u5e93</p> </li> </ol> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch18/","title":"\u5e76\u53d1\u63a7\u5236","text":"<p> \u7ea6 2632 \u4e2a\u5b57  16 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p>"},{"location":"incourse/db/ch18/#lock-based-protocols\u57fa\u4e8e\u9501\u7684\u534f\u8bae","title":"Lock-Based Protocols(\u57fa\u4e8e\u9501\u7684\u534f\u8bae)","text":"<p>\u6211\u4eec\u4f7f\u7528\u9501\u6765\u63a7\u5236\u5bf9\u6570\u636e\u7684\u8bbf\u95ee,\u4ee5\u786e\u4fdd\u5728\u5e76\u53d1\u73af\u5883\u4e2d\u6570\u636e\u7684\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u3002\u9501\u53ef\u4ee5\u662f\u72ec\u5360\u9501\u6216\u5171\u4eab\u9501\u3002</p> <ul> <li> <p>\u5171\u4eab\u9501(S): \u5141\u8bb8\u591a\u4e2a\u4e8b\u52a1\u540c\u65f6\u8bfb\u53d6\u6570\u636e\uff0c\u4f46\u4e0d\u5141\u8bb8\u4fee\u6539\u3002\u4e5f\u5373,\u6570\u636e\u662f\u53ea\u8bfb\u7684</p> </li> <li> <p>\u72ec\u5360\u9501(X): \u5141\u8bb8\u4e00\u4e2a\u4e8b\u52a1\u5bf9\u6570\u636e\u8fdb\u884c\u4fee\u6539\uff0c\u5176\u4ed6\u4e8b\u52a1\u4e0d\u80fd\u8bfb\u53d6\u6216\u4fee\u6539\u8be5\u6570\u636e\u3002\u4e5f\u5373,\u5bf9\u62e5\u6709\u9501\u7684\u4e8b\u52a1\u800c\u8a00,\u6570\u636e\u662f\u53ef\u8bfb\u53ef\u5199\u7684</p> </li> <li> <p>\u5bf9\u4e8e\u540c\u4e00\u4e2a\u6570\u636e\u9879,\u9501\u4e4b\u95f4\u7684\u6392\u65a5\u5173\u7cfb\u4e3a:</p> <ul> <li> <p>\u5982\u679c\u4e00\u4e2a\u4e8b\u52a1\u6301\u6709\u5171\u4eab\u9501,\u90a3\u4e48\u5176\u4ed6\u4e8b\u52a1\u53ef\u4ee5\u7533\u8bf7\u5171\u4eab\u9501,\u4f46\u4e0d\u80fd\u7533\u8bf7\u6392\u4ed6\u9501</p> </li> <li> <p>\u5982\u679c\u4e00\u4e2a\u4e8b\u52a1\u6301\u6709\u6392\u4ed6\u9501,\u90a3\u4e48\u5176\u4ed6\u4e8b\u52a1\u4e0d\u80fd\u7533\u8bf7\u4efb\u4f55\u7c7b\u578b\u7684\u9501</p> </li> </ul> </li> </ul> <p>\u4e00\u4e2a\u4e8b\u52a1\u6267\u884c\u9501\u64cd\u4f5c\u7684\u4f8b\u5b50:</p> Example for lock <p>\u4f46,\u8fd9\u6837\u7b80\u5355\u7684\u64cd\u4f5c\u65e0\u6cd5\u4fdd\u8bc1\u4e8b\u52a1\u53ef\u4e32\u884c\u5316,\u5982\u679cA,B\u5728\u8bfb\u53d6\u7684\u4e2d\u95f4\u53d1\u751f\u4e86\u66f4\u65b0,\u90a3\u4e48\u7ed3\u679c\u5c31\u4f1a\u4e0d\u4e00\u81f4.</p> <p>\u8fd8\u6709\u6b7b\u9501\u7684\u60c5\u51b5:</p> Deadlock <p>Neither \\(T_3\\) nor \\(T_4\\) can make progress \u2014 executing  <code>lock-S(B)</code> causes \\(T_4\\) to wait for \\(T_3\\) to release its lock on B</p> <p>while executing <code>lock-X(A)</code> causes \\(T_3\\) to wait for \\(T_4\\) to release its lock on A.</p> <p>Such a situation is called a deadlock. </p> <p>\u4e3a\u6b64,\u6211\u4eec\u5f15\u5165locking protocol\u7684\u6982\u5ff5.</p>"},{"location":"incourse/db/ch18/#the-two-phase-locking-protocol","title":"The Two-Phase Locking Protocol","text":"Two-Phase Locking Protocol <p>\u4e24\u4e2a\u9636\u6bb5:</p> <ul> <li> <p>Growing Phase: \u4e8b\u52a1\u53ef\u4ee5\u7533\u8bf7\u9501,\u4f46\u4e0d\u80fd\u91ca\u653e\u9501</p> </li> <li> <p>Shrinking Phase: \u4e8b\u52a1\u53ef\u4ee5\u91ca\u653e\u9501,\u4f46\u4e0d\u80fd\u7533\u8bf7\u9501</p> </li> <li> <p>\u4e24\u4e2a\u9636\u6bb5\u8f6c\u6362\u7684\u6807\u5fd7\u662f\u4e8b\u52a1\u91ca\u653e\u7b2c\u4e00\u4e2a\u9501</p> </li> <li> <p>\u5206\u754c\u7ebf\u662f\u4e8b\u52a1\u83b7\u5f97\u6700\u540e\u4e00\u4e2a\u9501\u7684\u65f6\u95f4,\u88ab\u79f0\u4e3alock point</p> </li> <li> <p>\u6309\u7167lock point\u7684\u987a\u5e8f\u6392\u5e8f,\u5f97\u5230\u4e00\u4e2a\u8c03\u5ea6,\u8fd9\u4e2a\u8c03\u5ea6\u662f\u53ef\u4e32\u884c\u5316\u7684</p> </li> </ul>"},{"location":"incourse/db/ch18/#2pl-proof","title":"2PL-Proof","text":"<ul> <li> <p>by Contradiction</p> <ul> <li>\u82e5\u5728\u524d\u9a71\u56fe\u4e2d,\\(T_i\\)\u5230\\(T_j\\)\u6709\u4e00\u6761\u8fb9,\u90a3\u4e48\\(LP(T_i)\\)\u5728\\(LP(T_j)\\)\u4e4b\u524d</li> </ul> <p> Contradiction </p> </li> <li> <p>by Induction</p> <ul> <li> <p>\u4ee4\\(T_i\\)\u662f\u6700\u5c0f\u9501\u70b9\u5230\u4e8b\u52a1,\u82e5\\(T_j\\)\u4e2d\u6709\u64cd\u4f5c\u4f1a\u963b\u788d\\(T_i\\)\u4e2d\u7684\u67d0\u4e2a\u64cd\u4f5c</p> </li> <li> <p>\u90a3\u4e48\\(T_j\\)\u7684\u9501\u70b9\u5728\\(T_i\\)\u7684\u9501\u70b9\u4e4b\u524d</p> </li> </ul> <p> Induction </p> </li> </ul> <p>\u57fa\u672c\u7684\u4e8c\u9636\u6bb5\u9501\u534f\u8bae\u4e0a\u5ef6\u4f38\u62d3\u5c55\u51fa\u4e86\u4e00\u4e9b\u5176\u4ed6\u7684\u9501\u534f\u8bae,\u4e3a\u4e86\u4fdd\u8bc1\u53ef\u6062\u590d\u7684\u8c03\u5ea6:</p> <ul> <li> <p>Strict Two-Phase Locking Protocol: \u4e8b\u52a1\u5728commit/abort\u4e4b\u524d,\u4e0d\u80fd\u91ca\u653e\u4efb\u4f55\u6392\u4ed6\u9501</p> <ul> <li>\u8fd9\u6837,\u5c31\u80fd\u4fdd\u8bc1\u5728\u8be5\u4e8b\u52a1\u51fa\u73b0\u9700\u8981\u56de\u6eda\u7684\u60c5\u51b5\u4e0b,\u4e0d\u4f1a\u6709\u5176\u4ed6\u4e8b\u52a1\u8bfb\u5230\u5b83\u5199\u7684\u6570\u636e</li> </ul> </li> <li> <p>Rigorous Two-Phase Locking Protocol: \u4e8b\u52a1\u5728commit/abort\u4e4b\u524d,\u4e0d\u80fd\u91ca\u653e\u4efb\u4f55\u9501</p> </li> </ul> <p>Exmaple</p> T1 T2 T3 write C write C write A write A <ol> <li> <p>\u753b\u51fa\u524d\u9a71\u56fe</p> <p> </p> </li> <li> <p>\u9501\u7684\u64cd\u4f5c?      </p> </li> </ol>"},{"location":"incourse/db/ch18/#lock-conversion","title":"Lock Conversion","text":"<p>\u9501\u53ef\u4ee5\u5347\u7ea7\u548c\u964d\u7ea7</p> <ul> <li> <p>\u5728Growing Phase\u4e2d,\u53ef\u4ee5\u5c06S\u9501\u5347\u7ea7\u4e3aX\u9501,\u4f46\u4e0d\u80fd\u5c06X\u9501\u964d\u7ea7\u4e3aS\u9501</p> </li> <li> <p>\u5728Shrinking Phase\u4e2d,\u53ef\u4ee5\u5c06X\u9501\u964d\u7ea7\u4e3aS\u9501,\u4f46\u4e0d\u80fd\u5c06S\u9501\u5347\u7ea7\u4e3aX\u9501</p> </li> </ul> <p>Automatic Acquisition of Locks</p> <p>\u8bfb\u548c\u5199\u64cd\u4f5c\u90fd\u5d4c\u5165\u4e86\u9501\u76f8\u5173\u7684\u64cd\u4f5c</p> readwrite <p> Read </p> <p> Write </p>"},{"location":"incourse/db/ch18/#implementation-of-locking","title":"Implementation of Locking","text":"<p>A lock manager can be implemented as a separate process to which transactions send lock and unlock requests</p>"},{"location":"incourse/db/ch18/#lock-table","title":"Lock Table","text":"Lock Table <p>\u5728minisql\u4e2d,<code>lock_table_</code>\u662f\u4e00\u4e2a<code>unordered_map</code>,\u7531<code>RowId</code>(\u6570\u636e\u9879)\u6620\u5c04\u5230\u9501\u8bf7\u6c42\u961f\u5217</p>"},{"location":"incourse/db/ch18/#deadlock-handling","title":"Deadlock Handling","text":"<p>System is deadlocked if there is a set of transactions such that every transaction in the set is waiting for another transaction in the set.</p> <p>\u6211\u4eec\u4e0a\u9762\u4f7f\u7528\u7684\u4e8c\u9636\u6bb5\u9501\u534f\u8bae,\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u6ca1\u6709\u6b7b\u9501\u7684\u53d1\u751f,\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u6b7b\u9501\u5904\u7406\u673a\u5236.</p> <ul> <li> <p>Deadlock prevention protocols\u786e\u4fdd\u7cfb\u7edf\u6c38\u8fdc\u4e0d\u4f1a\u8fdb\u5165\u6b7b\u9501\u72b6\u6001,\u6709\u5982\u4e0b\u51e0\u79cd\u65b9\u6cd5</p> <ul> <li> <p>\u6267\u884c\u524d\u83b7\u5f97\u6240\u6709\u9501(Require that each transaction locks all its data items before it begins execution (predeclaration))</p> </li> <li> <p>\u5236\u5b9a\u504f\u5e8f\u5173\u7cfb,</p> <ul> <li> <p>a transaction can lock data items only in the order specified by the partial order (graph-based protocol).</p> </li> <li> <p>e.g. \\(T_1\\): A-50, B+50. \\(T_2\\): B-10, A+10. \u6211\u4eec\u53ef\u4ee5\u5f3a\u5236\\(T_2\\)\u5148\u6267\u884cA+10,\u7136\u540e\u6267\u884cB-10,\u8fd9\u6837\u5c31\u4e0d\u4f1a\u53d1\u751f\u6b7b\u9501</p> </li> </ul> </li> <li> <p>Timeout-Based Schemes</p> <ul> <li> <p>\u4e8b\u52a1\u5728\u7b49\u5f85\u9501\u65f6,\u5982\u679c\u8d85\u8fc7\u4e86\u67d0\u4e2a\u65f6\u95f4\u9650\u5236,\u5c31\u653e\u5f03\u7b49\u5f85,\u5e76\u56de\u6eda</p> </li> <li> <p>\u8fd9\u79cd\u65b9\u6cd5\u7684\u7f3a\u70b9\u662f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e0d\u5fc5\u8981\u7684\u56de\u6eda,\u4f46\u5b83\u662f\u6700\u7b80\u5355\u7684\u6b7b\u9501\u5904\u7406\u65b9\u6cd5</p> </li> </ul> </li> </ul> </li> <li> <p>\u8fd8\u6709\u4e00\u4e9b\u5229\u7528\u4e8b\u52a1\u7684\u65f6\u95f4\u6233\u6765\u907f\u514d\u6b7b\u9501\u7684\u65b9\u6cd5,\u6bd4\u5982:</p> <ul> <li> <p>Wait-Die Scheme</p> <ul> <li> <p>\u5982\u679c\u4e00\u4e2a\u4e8b\u52a1\u8bf7\u6c42\u4e00\u4e2a\u9501,\u800c\u8fd9\u4e2a\u9501\u5df2\u7ecf\u88ab\u4e00\u4e2a\u6bd4\u5b83\u65e9\u5f00\u59cb\u7684\u4e8b\u52a1\u6301\u6709,\u90a3\u4e48\u8fd9\u4e2a\u4e8b\u52a1\u5c31\u4f1a\u88ab\u7ec8\u6b62(\u6b7b\u6389)(Younger transactions never wait for older ones; they are rolled back instead)</p> </li> <li> <p>\u5426\u5219,\u5982\u679c\u8fd9\u4e2a\u4e8b\u52a1\u6bd4\u6301\u6709\u9501\u7684\u4e8b\u52a1\u65e9\u5f00\u59cb,\u90a3\u4e48\u5b83\u5c31\u4f1a\u7b49\u5f85(older transaction may wait for younger one to release data item)</p> </li> </ul> <p> Wait-Die Scheme </p> </li> <li> <p>Wound-Wait Scheme</p> <ul> <li> <p>\u5982\u679c\u4e00\u4e2a\u4e8b\u52a1\u8bf7\u6c42\u4e00\u4e2a\u9501,\u800c\u8fd9\u4e2a\u9501\u5df2\u7ecf\u88ab\u4e00\u4e2a\u6bd4\u5b83\u665a\u5f00\u59cb\u7684\u4e8b\u52a1\u6301\u6709,\u90a3\u4e48\u665a\u5f00\u59cb\u7684\u4e8b\u52a1\u4f1a\u88ab\u76f4\u63a5\u7ec8\u6b62(older transaction wounds (forces rollback) of younger transaction instead of waiting for it.)</p> </li> <li> <p>\u5426\u5219,\u5982\u679c\u8fd9\u4e2a\u4e8b\u52a1\u6bd4\u6301\u6709\u9501\u7684\u4e8b\u52a1\u665a\u5f00\u59cb,\u90a3\u4e48\u5b83\u5c31\u4f1a\u7b49\u5f85(older transaction wounds (forces rollback) of younger transaction instead of waiting for it.)</p> </li> </ul> <p> Wound-Wait Scheme </p> </li> <li> <p>Both in wait-die and in wound-wait schemes, a rolled back transactions is restarted with its original timestamp. Older transactions thus have precedence over newer ones, and starvation is hence avoided.</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch18/#deadlock-detection","title":"Deadlock Detection","text":"<p>Minisql\u4e2d\u4e5f\u5b9e\u73b0\u4e86.\u6784\u5efa\u4e00\u4e2a\u6709\u5411\u7b49\u5f85\u56fe.</p> <ul> <li> <p>\u82e5\\(T_i\\)\u7b49\u5f85\\(T_j\\),\u90a3\u4e48\u5c31\u6709\u4e00\u6761\u8fb9\\(T_i \\to T_j\\)</p> </li> <li> <p>\u5982\u679c\u56fe\u4e2d\u6709\u73af,\u90a3\u4e48\u5c31\u53d1\u751f\u4e86\u6b7b\u9501</p> </li> </ul> <p>Example</p> <p>There are 6 transactions(T1-T6) and 6 data items(I1, I11, I5, I15, I9, I19, I29). Granted locks are filled (black) rectangles, while waiting requests are empty rectangles.</p> <p> Deadlock Detection </p> <p>T1 \u7b49 T2, T2 \u7b49 T6, T6 \u7b49 T1(\u6b7b\u9501)</p> <p>T5\u7b49T6,T4\u7b49T3</p>"},{"location":"incourse/db/ch18/#deadlock-recovery","title":"Deadlock Recovery","text":"<ul> <li> <p>When deadlock is detected :</p> <ul> <li> <p>Some transaction will have to rolled back (made a victim) to break deadlock.  Select that transaction as victim that will incur minimum cost.</p> </li> <li> <p>Rollback -- determine how far to roll back transaction</p> <ul> <li> <p>Total rollback: Abort the transaction and then restart it.</p> </li> <li> <p>More effective to roll back transaction only as far as necessary to break deadlock.</p> </li> </ul> </li> <li> <p>Starvation happens if same transaction is always chosen as victim. Include the number of rollbacks in the cost factor to avoid starvation</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch18/#graph-based-protocols","title":"Graph-Based Protocols","text":"<p>\u6211\u4eec\u8bb2\u6570\u636e\u9879\u6309\u67d0\u79cd\u504f\u5e8f\u5173\u7cfb\u6392\u5e8f.\u5982\u679c\\(d_i\\)\u5230\\(d_j\\)\u6709\u4e00\u6761\u8fb9,\u90a3\u4e48\u5bf9\u4e8e\u9700\u8981\u540c\u65f6\u8bbf\u95ee\\(d_i\\)\u548c\\(d_j\\)\u7684\u4e8b\u52a1,\u5c31\u9700\u8981\u5148\u8bbf\u95ee\\(d_i\\),\u518d\u8bbf\u95ee\\(d_j\\)</p> Graph-Based Protocols"},{"location":"incourse/db/ch18/#tree-protocols","title":"Tree Protocols","text":"<p>\u6811\u534f\u8bae\u662f\u56fe\u534f\u8bae\u7684\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5</p> <ol> <li> <p>\u53ea\u5141\u8bb8\u7533\u8bf7\u6392\u4ed6\u9501</p> </li> <li> <p>\u5bf9\u4e8e\u67d0\u4e2a\u4e8b\u52a1\\(T_i\\),\u5b83\u7533\u8bf7\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9\u53ef\u4ee5\u662f\u4efb\u610f\u7684,\u5f53\u4e4b\u540e,\u4e00\u4e2a\u8282\u70b9Q\u80fd\u88ab\\(T_i\\)\u9501\u4f4f,\u5f53\u4e14\u4ec5\u5f53Q\u7684\u7236\u8282\u70b9\u88ab\\(T_i\\)\u9501\u4f4f</p> </li> <li> <p>\u6570\u636e\u9879\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u88ab\u91ca\u653e\u9501</p> </li> <li> <p>\u5982\u679c\u6570\u636e\u9879Q\u88ab\\(T_i\\)\u9501\u4f4f\u53c8\u91ca\u653e,\u90a3\u4e48\\(T_i\\)\u4e0d\u80fd\u518d\u7533\u8bf7Q\u7684\u9501</p> </li> </ol> Tree Protocols <p>\u8fd9\u6837\u505a,\u53ef\u4ee5\u4fdd\u8bc1\u51b2\u7a81\u53ef\u4e32\u884c\u5316.</p> <ul> <li> <p>\u4f18\u70b9:</p> <ul> <li> <p>\u91ca\u653e\u9501\u6bd42PL\u66f4\u65e9,\u51cf\u5c11\u7b49\u5f85\u65f6\u95f4,\u63d0\u9ad8\u5e76\u53d1\u5ea6</p> </li> <li> <p>\u65e0\u6b7b\u9501,\u4e0d\u9700\u8981rollback</p> </li> </ul> </li> <li> <p>\u7f3a\u70b9:</p> <ul> <li> <p>\u4e0d\u80fd\u4fdd\u8bc1\u53ef\u6062\u590d,\u9700\u8981\u591a\u52a0\u9650\u5236</p> </li> <li> <p>\u4e8b\u52a1\u53ef\u80fd\u9700\u8981\u9501\u4f4f\u6bd4\u5b9e\u9645\u9700\u6c42\u66f4\u591a\u7684\u6570\u636e\u9879</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch18/#multiple-granularity\u591a\u7c92\u5ea6","title":"Multiple Granularity(\u591a\u7c92\u5ea6)","text":"<p>\u6570\u636e\u9879\u53ef\u4ee5\u8868\u793a\u4e3a\u4e00\u4e2a\u6811\u7684\u7ed3\u6784,\u6839\u636e\u5176\u5927\u5c0f</p> The Tree <p>\u90a3\u4e48:</p> <ul> <li> <p>fine granularity\uff08\u7ec6\u7c92\u5ea6\uff09:\u5bf9\u6811\u504f\u4e0b\u7684\u8282\u70b9\u52a0\u9501,\u6bd4\u5982\u5bf9\u53f6\u5b50\u8282\u70b9\u52a0\u9501</p> </li> <li> <p>coarse granularity\uff08\u7c97\u7c92\u5ea6\uff09:\u5bf9\u6811\u504f\u4e0a\u7684\u8282\u70b9\u52a0\u9501,\u6bd4\u5982\u5bf9\u6839\u8282\u70b9\u52a0\u9501</p> </li> </ul>"},{"location":"incourse/db/ch18/#intention-locks","title":"Intention Locks","text":"<p>\u5f53\u4e8b\u52a1\u6d89\u53ca\u5230\u591a\u4e2a\u7c92\u5ea6\u65f6,\u4f1a\u4ea7\u751f\u4e0d\u540c\u7ea7\u522b\u4e0a\u7684\u9501\u51b2\u7a81.\u6bd4\u5982,\u4e00\u4e2a\u8868\u7684S\u9501\u548c\u4e00\u4e2a\u8868\u4e2d\u67d0\u4e2a\u6570\u636e\u9879\u7684X\u9501\u4e4b\u95f4\u4f1a\u4ea7\u751f\u51b2\u7a81.\u56e0\u6b64,\u6211\u4eec\u5f15\u5165\u610f\u5411\u9501(\u60f3\u8981\u52a0\u67d0\u4e2a\u9501)\u7684\u6982\u5ff5</p> <ul> <li> <p>Intention-Shared Lock (IS): \u4e8b\u52a1\u60f3\u8981\u5728\u67d0\u4e2a\u6570\u636e\u9879\u4e0a\u52a0\u4e00\u4e2a\u5171\u4eab\u9501,\u90a3\u4e48\u5728\u8fd9\u4e2a\u6570\u636e\u9879\u7684\u7236\u8282\u70b9\u4e0a\u52a0\u4e00\u4e2a\u610f\u5411\u5171\u4eab\u9501</p> </li> <li> <p>Intention-Exclusive Lock (IX): \u4e8b\u52a1\u60f3\u8981\u5728\u67d0\u4e2a\u6570\u636e\u9879\u4e0a\u52a0\u4e00\u4e2a\u6392\u4ed6\u9501,\u90a3\u4e48\u5728\u8fd9\u4e2a\u6570\u636e\u9879\u7684\u7236\u8282\u70b9\u4e0a\u52a0\u4e00\u4e2a\u610f\u5411\u6392\u4ed6\u9501</p> </li> <li> <p>Shared-Intention-Exclusive Lock (SIX): S+IX\u9501,\u5bf9\u5f53\u524d\u8282\u70b9\u6709\u5171\u4eab\u9501,\u4e14\u5bf9\u5b50\u8282\u70b9\u6709\u6392\u4ed6\u9501</p> <ul> <li>SIX\u9501\u4e3b\u8981\u7528\u4e8e\u8fd9\u79cd\u573a\u666f\uff1a\u4e8b\u52a1\u9700\u8981\u8bfb\u53d6\u67d0\u4e2a\u9ad8\u7ea7\u8282\u70b9\uff08\u5982\u8868\uff09\u7684\u6240\u6709\u6570\u636e\uff0c\u540c\u65f6\u8fd8\u9700\u8981\u66f4\u65b0\u5176\u4e2d\u7684\u90e8\u5206\u4f4e\u7ea7\u8282\u70b9\uff08\u5982\u8bb0\u5f55\uff09\u3002</li> </ul> </li> </ul> <p>\u73b0\u5728,\u6240\u6709\u9501\u7684\u517c\u5bb9\u6027\u8868\u662f(Y for yes, N for no):</p> \u8bf7\u6c42\u7684\u9501\u2b07\ufe0f  \u5df2\u6709\u7684\u9501\u27a1\ufe0f IS IX S SIX X IS Y Y Y Y N IX Y Y N N N S Y N Y N N SIX Y N N N N X N N N N N <p>\u610f\u5411\u9501\u66f4\u50cf\u662f\u4e00\u79cd\u58f0\u660e\u800c\u975e\u771f\u6b63\u7684\u9501</p>"},{"location":"incourse/db/ch18/#insert-and-delete-operations","title":"Insert and Delete Operations","text":"<ul> <li> <p>If two-phase locking is used :</p> <ul> <li> <p>A delete operation may be performed only if the transaction deleting the tuple has an exclusive lock on the tuple to be deleted.</p> </li> <li> <p>A transaction that inserts a new tuple into the database is given an X-mode lock on the tuple</p> </li> </ul> </li> <li> <p>\u4e3a\u4e86\u907f\u514d\u5e7d\u7075\u95ee\u9898(\u6bd4\u5982\u4e00\u4e2a\u4e8b\u52a1\u5728\u7edf\u8ba1\u8868\u4e2d\u5143\u7ec4\u6570\u76ee,\u4e00\u4e2a\u4e8b\u52a1\u5728\u63d2\u5165\u5143\u7ec4)</p> <ul> <li> <p>\u53ef\u4ee5\u4f7f\u7528\u8868\u7ea7\u7684\u9501</p> </li> <li> <p>\u53ef\u4ee5\u628a\u5143\u7ec4\u6570\u76ee\u548c\u53e6\u4e00\u4e2a\u989d\u5916\u7684\u4e00\u4e2a\u5143\u7ec4\u8054\u7cfb,\u8bfb\u5143\u7ec4\u6570\u76ee\u7684\u4e8b\u52a1\u9700\u8981\u5728\u8fd9\u4e2a\u5143\u7ec4\u4e0a\u52a0\u5171\u4eab\u9501,\u800c\u63d2\u5165\u5143\u7ec4\u7684\u4e8b\u52a1\u9700\u8981\u5728\u8fd9\u4e2a\u5143\u7ec4\u4e0a\u52a0\u6392\u4ed6\u9501</p> </li> <li> <p>\u6700\u597d\u7684\u65b9\u6cd5\u662f\u4f7f\u7528Index locking protocols</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch18/#index-locking-protocols","title":"Index Locking Protocols","text":"<p>\u901a\u8fc7\u5728\u7d22\u5f15\u4e0a\u52a0\u9501\u6765\u907f\u514d\u5e7d\u7075\u95ee\u9898</p> <ol> <li> <p>Every relation must have at least one index. </p> </li> <li> <p>A transaction can access tuples only after finding them through one or more indices on the relation</p> </li> <li> <p>A transaction \\(T_i\\) that performs a lookup must lock all the index leaf nodes that it accesses, in S-mode</p> <ul> <li>Even if the leaf node does not contain any tuple satisfying the index lookup (e.g. for a range query, no tuple in a leaf is in the range)</li> </ul> </li> <li> <p>A transaction \\(T_i\\) that inserts, updates or deletes a tuple \\(t_i\\) in a relation r </p> <ul> <li> <p>must update all indices to r</p> </li> <li> <p>must obtain exclusive locks on all index leaf nodes affected by the insert/update/delete</p> </li> </ul> </li> <li> <p>The rules of the two-phase locking protocol must be observed</p> </li> </ol>"},{"location":"incourse/db/ch18/#next-key-locking","title":"Next-Key Locking","text":"<p>\u4e0a\u9762\u7684\u505a\u6cd5\u9700\u8981\u9501\u4f4f\u6240\u6709\u7684\u53f6\u5b50\u8282\u70b9,\u4f1a\u5927\u5927\u964d\u4f4e\u5e76\u53d1\u5ea6,\u56e0\u6b64\u8fd8\u6709\u4e00\u79cd\u65b9\u6cd5:</p> <ul> <li> <p>Lock all values that satisfy index lookup (match lookup value, or fall in lookup range)</p> </li> <li> <p>Also lock next key value in index</p> </li> <li> <p>Lock mode: S for lookups, X for insert/delete/update</p> </li> </ul>"},{"location":"incourse/db/ch18/#multiversion-concurrency-control-schemes","title":"Multiversion Concurrency Control Schemes","text":"<p>\u4e0d\u8003</p> <p>\u5927\u6982\u5c31\u662f\u50cfgit\u4e00\u6837,\u6bcf\u6b21\u5199\u6570\u636e\u9879\u4e0d\u662f\u76f4\u63a5\u8986\u76d6,\u800c\u662f\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7248\u672c,\u5e26\u4e00\u4e2a\u7248\u672c\u53f7,\u65e7\u7684\u7248\u672c\u88ab\u4fdd\u7559.</p> <p>\u8fd9\u6837,\u4efb\u4f55\u8bfb\u53d6\u64cd\u4f5c\u90fd\u4e0d\u9700\u8981\u7b49\u5f85,\u53ef\u4ee5\u76f4\u63a5\u8fdb\u884c,\u53ea\u8981\u6839\u636e\u7248\u672c\u53f7\u6765\u8bfb\u53d6\u6570\u636e\u9879\u5373\u53ef</p> <p>\u8fd9\u6837\u5c31\u53ea\u6709\u4e24\u7c7b\u64cd\u4f5c:</p> <ol> <li> <p>\u53ea\u8bfb\u4e8b\u52a1</p> <ul> <li> <p>Assigned a timestamp by reading the current value of  ts-counter before they start execution.</p> </li> <li> <p>When a read-only transaction \\(T_i\\) issues a read(Q), the value returned is the contents of the version whose timestamp is the largest timestamp less than or equal to \\(TS(T_i)\\)</p> </li> </ul> </li> <li> <p>\u66f4\u65b0(\u8bfb\u5199)\u4e8b\u52a1</p> <ul> <li> <p>Acquire read and write locks</p> </li> <li> <p>Hold all locks up to the end of the transaction. That is , follow rigorous two-phase locking.</p> </li> <li> <p>Each successful write results in the creation of a new version of the data item written.</p> </li> <li> <p>Each version of a data item has a single timestamp whose value is obtained from a counter ts-counter that is incremented during commit processing.</p> </li> </ul> </li> </ol>"},{"location":"incourse/db/ch2/","title":"Chapter 2:\u5173\u7cfb\u6570\u636e\u6a21\u578b","text":"<p> \u7ea6 2469 \u4e2a\u5b57  15 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p> <p>\u5173\u7cfb\u6570\u636e\u6a21\u578b</p> <p>\u6b63\u5982\u6211\u4eec\u5728\u7b2c\u4e00\u7ae0\u4e2d\u6240\u8ba8\u8bba\u7684\u90a3\u6837\uff0c\u5173\u7cfb\u6570\u636e\u6a21\u578b\u662f\u4e00\u79cd\u7528\u4e8e\u8868\u793a\u6570\u636e\u7684\u7ed3\u6784\u5316\u65b9\u6cd5\u3002\u5728\u5173\u7cfb\u6570\u636e\u6a21\u578b\u4e2d\uff0c\u6570\u636e\u88ab\u7ec4\u7ec7\u4e3a\u8868\u683c\uff08\u8868\uff09\u7684\u5f62\u5f0f\u3002\u8868\u683c\u662f\u7531\u884c\u548c\u5217\u7ec4\u6210\u7684\uff0c\u5176\u4e2d\u6bcf\u884c\u4ee3\u8868\u4e00\u4e2a\u5b9e\u4f53\uff0c\u6bcf\u5217\u4ee3\u8868\u4e00\u4e2a\u5c5e\u6027\u3002\u8868\u683c\u4e2d\u7684\u6bcf\u4e2a\u5355\u5143\u683c\u5305\u542b\u4e00\u4e2a\u503c\u3002</p> <p>\u5173\u7cfb\u6570\u636e\u5e93\u662f\u57fa\u4e8e\u5173\u7cfb\u6570\u636e\u6a21\u578b\u7684\u6570\u636e\u5e93\u3002</p>"},{"location":"incourse/db/ch2/#\u5173\u7cfb","title":"\u5173\u7cfb","text":"<p>\u7ed9\u5b9a\u96c6\u5408 \\(D_1, D_2, \\dots, D_n\\)\uff0c\u4e00\u4e2a\u5173\u7cfb \\(r\\) \u662f \\(D_1 \\times D_2 \\times \\dots \\times D_n\\) \u7684\u5b50\u96c6\u3002\u56e0\u6b64\uff0c\u4e00\u4e2a\u5173\u7cfb\u662f\u7531 \\(n\\) \u5143\u7ec4 \\((a_1, a_2, \\dots, a_n)\\) \u6240\u7ec4\u6210\u7684\u96c6\u5408\uff0c\u5176\u4e2d\u6bcf\u4e2a \\(a_i \\in D_i\\)\u3002</p> <p>\u800c\u6240\u8c13 Relation Schema, \u662f\u5173\u7cfb\u7684\u6a21\u5f0f\uff0c\u5b83\u5b9a\u4e49\u4e86\u5173\u7cfb\u7684\u540d\u79f0\u4ee5\u53ca\u6bcf\u4e2a\u5c5e\u6027\u7684\u540d\u79f0\u548c\u7c7b\u578b\u3002\u4f8b\u5982\uff1a</p> <p><code>instructor</code> = {<code>name</code>, <code>dept_name</code>, <code>salary</code>}</p> <p>\u800c\u5173\u7cfb\u5b9e\u4f8b\u53ef\u4ee5\u662f\uff1a</p> <p><code>r</code> = { (<code>Wu</code>, <code>Finance</code>, 90000),       (<code>Mozart</code>, <code>Music</code>, 40000),       (<code>Gold</code>, <code>Physics</code>, 87000),       (<code>Singh</code>, <code>Finance</code>, 80000) }</p>"},{"location":"incourse/db/ch2/#keys","title":"Keys","text":"<p>\u5728\u5173\u7cfb\u6a21\u578b\u4e2d\uff0c\u4e00\u4e2a\u5173\u952e\uff08Key\uff09\u662f\u4e00\u4e2a\u5c5e\u6027\u6216\u5c5e\u6027\u96c6\u5408\uff0c\u5b83\u53ef\u4ee5\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u5143\u7ec4\u3002</p>"},{"location":"incourse/db/ch2/#superkey\u8d85\u952e","title":"Superkey(\u8d85\u952e)","text":"<p>\u4e00\u4e2a\u8d85\u952e\u662f\u4e00\u4e2a\u5c5e\u6027\u96c6\u5408\uff0c\u5b83\u53ef\u4ee5\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u5143\u7ec4\u3002\u4f8b\u5982\uff0c{name}\u4e0d\u662f\u4e00\u4e2a\u8d85\u952e\uff0c\u56e0\u4e3a\u5b58\u5728\u540c\u540d\u7684\u4eba\uff0c\u4f46\u662f{name,ID}\u7684\u7ec4\u5408\u662f\u4e00\u4e2a\u8d85\u952e\u3002</p>"},{"location":"incourse/db/ch2/#candidate-key\u5019\u9009\u952e","title":"Candidate Key(\u5019\u9009\u952e)","text":"<p>\u4e00\u4e2a\u5019\u9009\u952e\u662f\u4e00\u4e2a\u6700\u5c0f\u7684\u8d85\u952e\uff0c\u5373\u5b83\u662f\u4e00\u4e2a\u8d85\u952e\uff0c\u4f46\u662f\u53bb\u6389\u4efb\u4f55\u4e00\u4e2a\u5c5e\u6027\u540e\u5c31\u4e0d\u518d\u662f\u8d85\u952e\u3002\u4f8b\u5982\uff0c{ID}\u662f\u4e00\u4e2a\u5019\u9009\u952e\uff0c\u4f46\u662f{ID, name}\u4e0d\u662f\u3002</p>"},{"location":"incourse/db/ch2/#primary-key\u4e3b\u952e","title":"Primary Key(\u4e3b\u952e)","text":"<p>\u4e00\u4e2a\u4e3b\u952e\u662f\u4e00\u4e2a\u5019\u9009\u952e\uff0c\u4e14\u6ca1\u6709\u4efb\u4f55\u5197\u4f59\u5c5e\u6027\u3002{ID}\u662f\u4e00\u4e2a\u4e3b\u952e\uff0c\u800c{ID, name}\u4e0d\u662f\u3002\u4e00\u822c\u4e3b\u952e\u5c5e\u6027\u8981\u52a0\u4e0b\u5212\u7ebf\uff0c\u5373{ID, name} -&gt; {ID, name}\u3002</p>"},{"location":"incourse/db/ch2/#foreign-key\u5916\u952e","title":"Foreign Key(\u5916\u952e)","text":"<p>\u5916\u952e\u5c31\u662f\u4e00\u5f20\u8868\u91cc\u67d0\u4e00\u5217\u5c5e\u6027\uff0c\u5b83\u7684\u503c\u90fd\u53ef\u4ee5\u5728\u53e6\u4e00\u5f20\u8868\u7684\u4e3b\u952e\u4e2d\u627e\u5230\u3002\u4e2a\u4eba\u611f\u89c9\u4e0eC\u8bed\u8a00\u7684\u6307\u9488\u6709\u70b9\u50cf\uff0c\u6307\u5411\u53e6\u4e00\u5f20\u8868\u7684\u4e3b\u952e\u3002</p> <p>\u5916\u952e\u9700\u8981\u53c2\u7167\u5b8c\u6574\u6027(Referential integrity)\u7ea6\u675f\uff0c\u5373\u5916\u952e\u7684\u503c\u5fc5\u987b\u5728\u88ab\u53c2\u7167\u7684\u8868\u7684\u4e3b\u952e\u4e2d\u5b58\u5728\u3002</p>"},{"location":"incourse/db/ch2/#\u6a21\u5f0f\u56fe","title":"\u6a21\u5f0f\u56fe","text":"<p>\u6709\u4e86\u4e3b\u952e\u4e0e\u5916\u952e\u7684\u6982\u5ff5\uff0c\u6211\u4eec\u53ef\u4ee5\u753b\u51fa\u6a21\u5f0f\u56fe\u3002\u4f8b\u5982\uff1a</p> <p>\u5927\u5b66\u6570\u636e\u5e93</p> <p></p>"},{"location":"incourse/db/ch2/#\u5173\u7cfb\u67e5\u8be2\u8bed\u8a00","title":"\u5173\u7cfb\u67e5\u8be2\u8bed\u8a00","text":"<p>\u5173\u7cfb\u67e5\u8be2\u8bed\u8a00\u662f\u7528\u4e8e\u67e5\u8be2\u6570\u636e\u5e93\u7684\u8bed\u8a00\uff0c\u5b83\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff1a</p> <ol> <li> <p>\u5173\u7cfb\u4ee3\u6570\uff1a\u5173\u7cfb\u4ee3\u6570\u662f\u4e00\u79cd\u5f62\u5f0f\u5316\u7684\u67e5\u8be2\u8bed\u8a00\uff0c\u5b83\u4f7f\u7528\u4e00\u7ec4\u64cd\u4f5c\u6765\u64cd\u4f5c\u5173\u7cfb\u3002\u8fd9\u4e9b\u64cd\u4f5c\u5305\u62ec\u9009\u62e9\u3001\u6295\u5f71\u3001\u8fde\u63a5\u3001\u5e76\u3001\u5dee\u3001\u4ea4\u7b49\u3002</p> </li> <li> <p>\u5173\u7cfb\u6f14\u7b97\uff1a\u5173\u7cfb\u6f14\u7b97\u662f\u4e00\u79cd\u58f0\u660e\u6027\u7684\u67e5\u8be2\u8bed\u8a00\uff0c\u5b83\u63cf\u8ff0\u4e86\u6240\u9700\u7684\u6570\u636e\uff0c\u800c\u4e0d\u662f\u5982\u4f55\u83b7\u53d6\u6570\u636e\u3002\u5173\u7cfb\u6f14\u7b97\u5206\u4e3a\u4e24\u79cd\uff1a\u5143\u7ec4\u5173\u7cfb\u6f14\u7b97\u548c\u57df\u5173\u7cfb\u6f14\u7b97\u3002</p> </li> </ol> <p>\u4e0a\u9762\u4e24\u7c7b\u8bed\u8a00\u5728\u8ba1\u7b97\u4e0a\u662f\u7b49\u4ef7\u7684\uff0c\u5373\u53ef\u4ee5\u76f8\u4e92\u8f6c\u6362\u3002</p>"},{"location":"incourse/db/ch2/#\u516d\u7c7b\u57fa\u672c\u64cd\u4f5c","title":"\u516d\u7c7b\u57fa\u672c\u64cd\u4f5c","text":"<p>\u6211\u4eec\u4e00\u822c\u4f7f\u7528\u5173\u7cfb\u4ee3\u6570\u6765\u67e5\u8be2\u6570\u636e\u5e93\uff0c\u5206\u4e3a\u5982\u4e0b\u516d\u7c7b:</p>"},{"location":"incourse/db/ch2/#selectsigma","title":"Select:\\(\\sigma\\)","text":"<p>\u9009\u62e9\u64cd\u4f5c\uff0c\u9009\u62e9\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7ec4\u3002\u8868\u793a\u4e3a\\(\\sigma_{condition}(relation)\\)\u3002condition\u662f\u7531\u5c5e\u6027\uff0c\u5e38\u91cf\u548c\u903b\u8f91\u8fd0\u7b97\u7b26(\u548c\u79bb\u6563\u6570\u5b66\u4e00\u6837\uff0c\u4f7f\u7528 \\(\\lor\\), \\(\\land\\), \\(\\lnot\\))\u7ec4\u6210\u7684\u6761\u4ef6\u3002\u4f8b\u5982\uff1a\\(\\sigma_{dept_name='Finance'}(instructor)\\), \u9009\u62e9\u51fa<code>dept_name</code>\u4e3a<code>Finance</code>\u7684\u5143\u7ec4;\\(\\sigma_{salary&gt;80000}(instructor)\\), \u9009\u62e9\u51fa<code>salary</code>\u5927\u4e8e<code>80000</code>\u7684\u5143\u7ec4\u3002      </p>"},{"location":"incourse/db/ch2/#projectpi","title":"Project:\\(\\Pi\\)","text":"<p>\u6295\u5f71\u64cd\u4f5c\uff0c\u9009\u62e9\u6ee1\u8db3\u6761\u4ef6\u7684\u5c5e\u6027\u3002\u8868\u793a\u4e3a\\(\\Pi_{attribute}(relation)\\)\u3002\u4f8b\u5982\uff1a\\(\\Pi_{name, dept_name}(instructor)\\), \u9009\u62e9\u51fa<code>name</code>\u548c<code>dept_name</code>\u5c5e\u6027,\u7ec4\u6210\u4e00\u4e2a\u65b0\u7684\u5173\u7cfb\u3002</p>"},{"location":"incourse/db/ch2/#unioncup","title":"Union:\\(\\cup\\)","text":"<p>\u5e76\u64cd\u4f5c\uff0c\u5408\u5e76\u4e24\u4e2a\u5173\u7cfb\u3002\u88ab\u5408\u5e76\u7684\u4e24\u4e2a\u5173\u7cfb\u5fc5\u987b\u6ee1\u8db3\u5982\u4e0b\u6761\u4ef6\uff1a</p> <ol> <li> <p>\u4e24\u4e2a\u5173\u7cfb\u7684\u5c5e\u6027\u6570\u76ee(arity)\u76f8\u540c\u3002</p> </li> <li> <p>\u5c5e\u6027\u7684\u57df(domain)\u662f\u517c\u5bb9\u7684\u3002</p> </li> </ol> <p>\u4f8b\u5982\uff0c\u8981\u627e\u5230\u6240\u4ee52009\u5e74\u79cb\u5b66\u671f\u4e0e2010\u5e74\u6625\u5b66\u671f\u7684\u8bfe\uff0c\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a</p> <p>\\(\\Pi_{course_id}(\\sigma_{semester='Fall' \\land year=2009}(section)) \\cup \\Pi_{course_id}(\\sigma_{semester='Spring' \\land year=2010}(section))\\)</p>"},{"location":"incourse/db/ch2/#set-difference-","title":"Set Difference:\\(-\\)","text":"<p>\u5dee\u64cd\u4f5c\uff0c\u8fd4\u56de\u4e24\u4e2a\u5173\u7cfb\u7684\u5dee\u96c6\u3002</p> <p>\u4f8b\u5982\uff0c\u8981\u627e\u5230\u6240\u67092009\u5e74\u79cb\u5b66\u671f\u4f46\u4e0d\u662f2010\u5e74\u6625\u5b66\u671f\u7684\u8bfe\uff0c\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a</p> <p>\\(\\Pi_{course_id}(\\sigma_{semester='Fall' \\land year=2009}(section)) - \\Pi_{course_id}(\\sigma_{semester='Spring' \\land year=2010}(section))\\)</p>"},{"location":"incourse/db/ch2/#cartesian-producttimes","title":"Cartesian Product:\\(\\times\\)","text":"<p>\u7b1b\u5361\u5c14\u79ef\u64cd\u4f5c\uff0c\u8fd4\u56de\u4e24\u4e2a\u5173\u7cfb\u7684\u7b1b\u5361\u5c14\u79ef\u3002</p> <p>\u4f8b\u5982\uff0c\u8981\u627e\u5230\u6240\u6709\u6559\u6388\u548c\u4ed6\u4eec\u7684\u8bfe\u7a0b\uff0c\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a</p> <p>\\(\\sigma_{instructor.ID=teaches.ID}(instructor \\times teaches)\\)</p> <p>\u6ce8\u610f\uff0c\u4e24\u4e2a\u5173\u7cfb\u8981\u7b1b\u5361\u5c14\u4e58\u79ef\uff0c\u9700\u8981\u5b83\u4eec\u7684\u5c5e\u6027\u4e0d\u540c\u3002\u5982\u679c\u6709\u76f8\u540c\u7684\u5c5e\u6027\u540d\uff0c\u90a3\u4e48\u9700\u8981\u7528rename\u64cd\u4f5c\u3002</p>"},{"location":"incourse/db/ch2/#renamerho","title":"Rename:\\(\\rho\\)","text":"<p>\u91cd\u547d\u540d\u64cd\u4f5c\uff0c\u91cd\u547d\u540d\u5173\u7cfb\u6216\u5c5e\u6027\u3002 \u5047\u8bbe\u6709\u4e00\u4e2a\u540d\u4e3a <code>instructor</code> \u7684\u5173\u7cfb\uff0c\u5305\u542b\u5c5e\u6027 <code>ID</code> \u548c <code>name</code>\u3002</p> <ol> <li> <p>\u91cd\u547d\u540d\u5173\u7cfb\uff1a</p> <p>\u5c06 <code>instructor</code> \u5173\u7cfb\u91cd\u547d\u540d\u4e3a <code>professor</code>\uff1a</p> \\[     \\rho_{professor}(instructor)     \\] </li> <li> <p>\u91cd\u547d\u540d\u5c5e\u6027\uff1a</p> <p>\u5c06 <code>instructor</code> \u5173\u7cfb\u4e2d\u7684 <code>ID</code> \u5c5e\u6027\u91cd\u547d\u540d\u4e3a <code>instructor_id</code>\uff1a</p> \\[     \\rho_{instructor_id, name}(instructor)     \\] </li> <li> <p>\u540c\u65f6\u91cd\u547d\u540d\u5173\u7cfb\u548c\u5c5e\u6027\uff1a</p> <p>\u5c06 <code>instructor</code> \u5173\u7cfb\u91cd\u547d\u540d\u4e3a <code>professor</code>\uff0c\u5e76\u5c06 <code>ID</code> \u5c5e\u6027\u91cd\u547d\u540d\u4e3a <code>instructor_id</code>\uff1a</p> \\[     \\rho_{professor(instructor_id, name)}(instructor) \\] </li> </ol>"},{"location":"incourse/db/ch2/#example","title":"Example","text":"<p>\ud83c\udf30</p> T1 Find the names of all instructors in the Physics department, along with the course_id of all courses they have taught <p>\\(\\Pi_{instructor.name,course\\text{_}id}(\\sigma_{dept\\text{_}name=\"Physics\"}(\\sigma_{instructor.id=teaches.id}(instructor \\times teaches)))\\)</p>"},{"location":"incourse/db/ch2/#additional-operations","title":"Additional Operations","text":""},{"location":"incourse/db/ch2/#intersectioncap","title":"Intersection:\\(\\cap\\)","text":"<p>\u4ea4\u64cd\u4f5c\uff0c\u8fd4\u56de\u4e24\u4e2a\u5173\u7cfb\u7684\u4ea4\u96c6\u3002\u4f7f\u7528\u516c\u5f0f\uff1a</p> \\[     R \\cap S = R - (R - S)     \\]"},{"location":"incourse/db/ch2/#natural-joinbowtie","title":"Natural Join:\\(\\bowtie\\)","text":"<p>\u81ea\u7136\u8fde\u63a5\u64cd\u4f5c\uff0c\u8fd4\u56de\u4e24\u4e2a\u5173\u7cfb\u7684\u8fde\u63a5\u3002\u81ea\u7136\u8fde\u63a5\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u7b1b\u5361\u5c14\u79ef\uff0c\u5b83\u53ea\u8fd4\u56de\u90a3\u4e9b\u5728\u8fde\u63a5\u5c5e\u6027(\\(R \\cap S\\))\u4e0a\u76f8\u7b49\u7684\u5143\u7ec4\u3002\u81ea\u7136\u8fde\u63a5\u6ee1\u8db3\u7ed3\u5408\u5f8b\u548c\u4ea4\u6362\u5f8b\u3002</p>"},{"location":"incourse/db/ch2/#theta-jion","title":"Theta Jion","text":"<p>\u5728\u81ea\u7136\u8fde\u63a5\u7684\u57fa\u7840\u4e0a\u52a0\u4e0a\u4e00\u4e2a\u6761\u4ef6\u3002</p> <p>\u5199\u4f5c\uff1a</p> \\[     R \\bowtie_{condition} S     \\]"},{"location":"incourse/db/ch2/#outer-join-\u5916\u8fde\u63a5\u64cd\u4f5c","title":"Outer Join: \u5916\u8fde\u63a5\u64cd\u4f5c","text":"<p>\u8fd4\u56de\u4e24\u4e2a\u5173\u7cfb\u7684\u8fde\u63a5\uff0c\u540c\u65f6\u8fd4\u56de\u90a3\u4e9b\u5728\u8fde\u63a5\u5c5e\u6027\u4e0a\u4e0d\u76f8\u7b49\u7684\u5143\u7ec4\u3002\u4e0d\u5b58\u5728\u7684\u503c\u7528NULL\u586b\u5145\u3002</p> <p>\u5bf9\u4e8e\u4e0b\u56fe\u7684\u6570\u636e\u8868\uff1a</p> <ol> <li> <p>Left Outer Join: \u8fd4\u56de\u5de6\u5173\u7cfb\u7684\u6240\u6709\u5143\u7ec4\uff0c\u540c\u65f6\u8fd4\u56de\u90a3\u4e9b\u5728\u8fde\u63a5\u5c5e\u6027\u4e0a\u76f8\u7b49\u7684\u53f3\u5173\u7cfb\u7684\u5143\u7ec4\u3002</p> <p> </p> </li> <li> <p>Right Outer Join: \u8fd4\u56de\u53f3\u5173\u7cfb\u7684\u6240\u6709\u5143\u7ec4\uff0c\u540c\u65f6\u8fd4\u56de\u90a3\u4e9b\u5728\u8fde\u63a5\u5c5e\u6027\u4e0a\u76f8\u7b49\u7684\u5de6\u5173\u7cfb\u7684\u5143\u7ec4\u3002</p> <p> </p> </li> <li> <p>Full Outer Join: \u8fd4\u56de\u4e24\u4e2a\u5173\u7cfb\u7684\u6240\u6709\u5143\u7ec4\uff0c\u540c\u65f6\u8fd4\u56de\u90a3\u4e9b\u5728\u8fde\u63a5\u5c5e\u6027\u4e0a\u76f8\u7b49\u7684\u5143\u7ec4\u3002</p> <p> </p> </li> </ol> \u5916\u8fde\u63a5\u7684\u8868\u793a\uff1f <p></p>"},{"location":"incourse/db/ch2/#\u534a\u8fde\u63a5\u64cd\u4f5c","title":"\u534a\u8fde\u63a5\u64cd\u4f5c","text":"<p>\u534a\u8fde\u63a5\u4f1a\u4ece\u5173\u7cfb r \u4e2d\u9009\u62e9\u90a3\u4e9b\u4e0e\u5173\u7cfb s \u4e2d\u81f3\u5c11\u4e00\u4e2a\u5143\u7ec4\u6ee1\u8db3\u8fde\u63a5\u6761\u4ef6\\(\\theta\\)\u7684\u5143\u7ec4\u3002\u901a\u4fd7\u7684\u8bf4\uff0c\u534a\u8fde\u63a5\u662f\u4e00\u79cd\u5b58\u5728\u6027\u6d4b\u8bd5\uff0c\u5b83\u68c0\u67e5\u5173\u7cfb r \u4e2d\u7684\u5143\u7ec4\u5728\u5173\u7cfb s \u4e2d\u662f\u5426\u5b58\u5728\u6ee1\u8db3\u7279\u5b9a\u6761\u4ef6\u7684\u5339\u914d\u9879\u3002</p> <p>\u5bf9\u4e8e\u547d\u4ee4\uff1aselect name from instructor where exists (select * from teaches where instructor.ID = teaches.ID and teaches.year = 2022)</p> <ol> <li> <p>\u9009\u62e9\u51fa teaches \u8868\u4e2d year \u4e3a 2022 \u7684\u5143\u7ec4\u3002</p> </li> <li> <p>\u9009\u62e9\u51fa instructor \u8868\u4e2d ID \u4e0e teaches \u8868\u4e2d ID \u76f8\u7b49\u7684\u5143\u7ec4\u3002</p> </li> <li> <p>\u9009\u62e9\u51fa instructor \u8868\u4e2d name \u5c5e\u6027\u3002</p> </li> </ol> <p>\u5c31\u53ef\u4ee5\u5199\u4e3a\u5982\u4e0b\u7684\u534a\u8fde\u63a5\uff1a</p>"},{"location":"incourse/db/ch2/#null-values","title":"NULL Values","text":"<p>\u4e0eNull\u7684\u6bd4\u8f83\u4f1a\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u5e03\u5c14\u503c\uff1aUnknown\u3002</p> <ol> <li> <p>Or: True or Unknown = True, False or Unknown = Unknown, Unknown or Unknown = Unknown.</p> </li> <li> <p>And: True and Unknown = Unknown, False and Unknown = False, Unknown and Unknown = Unknown.</p> </li> <li> <p>Not: Not Unknown = Unknown.</p> </li> </ol>"},{"location":"incourse/db/ch2/#assignment-leftarrow","title":"Assignment: \\(\\leftarrow\\)","text":"<p>\u8d4b\u503c\u64cd\u4f5c\uff0c\u5c06\u4e00\u4e2a\u5173\u7cfb\u8d4b\u503c\u7ed9\u4e00\u4e2a\u53d8\u91cf\u3002</p> <p>\u4f8b\u5982\uff1a</p> \\[ R \\leftarrow \\sigma_{dept_name='Finance'}(instructor)  \\] <p>\u8fd9\u4e2a\u64cd\u4f5c\u5c06\u9009\u62e9\u51fa<code>dept_name</code>\u4e3a<code>Finance</code>\u7684\u5143\u7ec4\uff0c\u5e76\u5c06\u5176\u8d4b\u503c\u7ed9\u53d8\u91cf<code>R</code>\u3002</p>"},{"location":"incourse/db/ch2/#division-div","title":"Division: \\(\\div\\)","text":"<p>\u9664\u6cd5\u64cd\u4f5c\uff0c\u8fd4\u56de\u4e24\u4e2a\u5173\u7cfb\u7684\u5546\u3002</p> <p>\u5546\u7684\u5b9a\u4e49</p> <p>\u7ed9\u5b9a\u5173\u7cfb r(R) \u548c s(S)\uff0c\u5176\u4e2d S \u662f R \u7684\u5b50\u96c6\uff0cr \\(\\div\\) s \u662f\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u7684\u6700\u5927\u5173\u7cfb t(R-S)\uff1a</p> \\[ t \\times s \\subseteq r \\] <p>\u7b80\u5355\u6765\u8bf4\uff0c\u5173\u7cfb <code>r</code> \u9664\u4ee5\u5173\u7cfb <code>s</code> \u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u5173\u7cfb <code>t</code>\uff0c<code>t</code> \u5305\u542b <code>r</code> \u4e2d\u6240\u6709\u4e0e <code>s</code> \u4e2d\u7684\u5143\u7ec4\u7ec4\u5408\u540e\u4ecd\u7136\u5728 <code>r</code> \u4e2d\u7684\u5143\u7ec4\u3002</p> <p>\u9664\u6cd5\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u7684\u516c\u5f0f\u8868\u793a\uff1a</p> \\[     temp1 \\leftarrow \\Pi_{R-S}(r)      \\] \\[     temp2 \\leftarrow \\Pi_{R-S}((temp1 \\times s) - \\Pi_{R-S,S}(r))     \\] \\[     result \\leftarrow temp1 - temp2     \\] <p>\u89e3\u91ca\uff1a</p> <ol> <li> <p>temp1:  \u9996\u5148\uff0c\u6211\u4eec\u901a\u8fc7\u6295\u5f71\u64cd\u4f5c \\(\\Pi_{R-S}(r)\\)\uff0c\u4ece\u5173\u7cfb <code>r</code> \u4e2d\u9009\u62e9\u6240\u6709\u4e0d\u5728\u5173\u7cfb <code>s</code> \u4e2d\u7684\u5c5e\u6027\uff08R-S\uff09\uff0c\u5e76\u5c06\u7ed3\u679c\u5b58\u50a8\u5728 <code>temp1</code> \u4e2d\u3002\u8fd9\u76f8\u5f53\u4e8e\u627e\u5230\u6240\u6709\u53ef\u80fd\u51fa\u73b0\u5728\u7ed3\u679c\u5173\u7cfb <code>t</code> \u4e2d\u7684\u5143\u7ec4\u3002</p> </li> <li> <p>temp2:  \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u8ba1\u7b97 <code>temp2</code>\u3002         *   <code>(temp1 \u00d7 s)</code>:  \u6211\u4eec\u8ba1\u7b97 <code>temp1</code> \u548c <code>s</code> \u7684\u7b1b\u5361\u5c14\u79ef\u3002\u8fd9\u5c06 <code>temp1</code> \u4e2d\u7684\u6bcf\u4e2a\u5143\u7ec4\u4e0e <code>s</code> \u4e2d\u7684\u6bcf\u4e2a\u5143\u7ec4\u7ec4\u5408\u5728\u4e00\u8d77\u3002         *   <code>\\Pi_{R-S,S}(r)</code>:  \u6211\u4eec\u4ece\u5173\u7cfb <code>r</code> \u4e2d\u6295\u5f71\u51fa\u5c5e\u6027 R-S \u548c S\uff0c\u4e5f\u5c31\u662f\u5173\u7cfb r \u7684\u6240\u6709\u5c5e\u6027\u3002         *   <code>(temp1 \u00d7 s) - \\Pi_{R-S,S}(r)</code>:  \u6211\u4eec\u4ece <code>temp1 \u00d7 s</code> \u4e2d\u51cf\u53bb <code>\\Pi_{R-S,S}(r)</code>\u3002\u8fd9\u5c06\u5220\u9664\u6240\u6709\u5728 <code>r</code> \u4e2d\u5b58\u5728\u7684 <code>temp1</code> \u548c <code>s</code> \u7684\u7ec4\u5408\u3002\u5269\u4e0b\u7684\u5143\u7ec4\u5c31\u662f\u90a3\u4e9b\u4e0e <code>s</code> \u7ec4\u5408\u540e\u4e0d\u5728 <code>r</code> \u4e2d\u7684 <code>temp1</code> \u5143\u7ec4\u3002         *   <code>\\Pi_{R-S}((temp1 \\times s) - \\Pi_{R-S,S}(r))</code>:  \u6211\u4eec\u4ece\u7ed3\u679c\u4e2d\u6295\u5f71\u51fa\u5c5e\u6027 R-S\u3002\u8fd9\u5c06\u5220\u9664\u6240\u6709\u4e0e <code>s</code> \u7ec4\u5408\u540e\u4e0d\u5728 <code>r</code> \u4e2d\u7684 <code>temp1</code> \u5143\u7ec4\u3002</p> </li> <li> <p>result:  \u6700\u540e\uff0c\u6211\u4eec\u8ba1\u7b97 <code>temp1 - temp2</code>\u3002\u8fd9\u5c06\u4ece <code>temp1</code> \u4e2d\u5220\u9664\u6240\u6709\u4e0e <code>s</code> \u7ec4\u5408\u540e\u4e0d\u5728 <code>r</code> \u4e2d\u7684\u5143\u7ec4\u3002\u5269\u4e0b\u7684\u5143\u7ec4\u5c31\u662f\u5173\u7cfb <code>r</code> \u9664\u4ee5\u5173\u7cfb <code>s</code> \u7684\u7ed3\u679c\u3002</p> </li> </ol>"},{"location":"incourse/db/ch2/#extended-operations","title":"Extended Operations","text":""},{"location":"incourse/db/ch2/#generalized-projection","title":"Generalized Projection","text":"<p>\u5728\u6295\u5f71\u64cd\u4f5c\u4e2d\u5141\u8bb8\u4f7f\u7528\u8868\u8fbe\u5f0f\u3002</p> <p>\u4f8b\u5982\uff1a</p> <p>\\(\\Pi_{name, salary*1.1}(instructor)\\)</p>"},{"location":"incourse/db/ch2/#aggregation","title":"Aggregation","text":"<p>\u805a\u5408\u64cd\u4f5c\u7528\u4e8e\u5bf9\u5173\u7cfb\u4e2d\u7684\u5143\u7ec4\u8fdb\u884c\u6c47\u603b\u8ba1\u7b97\u3002\u5b83\u53ef\u4ee5\u5206\u4e3a\u4e24\u79cd\u60c5\u51b5\uff1a</p> <ol> <li> <p>\u6ca1\u6709\u5206\u7ec4\u7684\u805a\u5408:</p> <p>\u5f53\u6ca1\u6709\u6307\u5b9a\u5206\u7ec4\u5c5e\u6027\u65f6\uff0c\u805a\u5408\u51fd\u6570\u5c06\u5e94\u7528\u4e8e\u5173\u7cfb\u4e2d\u7684\u6240\u6709\u5143\u7ec4\uff0c\u8ba1\u7b97\u51fa\u4e00\u4e2a\u5355\u4e00\u7684\u7ed3\u679c\u3002</p> <p>\u8868\u793a\u5f62\u5f0f\uff1a</p> \\[ \\gamma_{agg\\_func(attribute)}(relation) \\] <p>\u4f8b\u5982\uff0c\u8ba1\u7b97\u6240\u6709\u6559\u5e08\u7684\u5e73\u5747\u5de5\u8d44\uff1a</p> \\[ \\gamma_{AVG(salary)}(instructor) \\] </li> <li> <p>\u6709\u5206\u7ec4\u7684\u805a\u5408:</p> <p>\u5f53\u6307\u5b9a\u4e86\u5206\u7ec4\u5c5e\u6027\u65f6\uff0c\u5173\u7cfb\u5c06\u9996\u5148\u6309\u7167\u8fd9\u4e9b\u5c5e\u6027\u8fdb\u884c\u5206\u7ec4\uff0c\u7136\u540e\u805a\u5408\u51fd\u6570\u5c06\u5206\u522b\u5e94\u7528\u4e8e\u6bcf\u4e2a\u7ec4\u4e2d\u7684\u5143\u7ec4\uff0c\u8ba1\u7b97\u51fa\u6bcf\u4e2a\u7ec4\u7684\u7ed3\u679c\u3002</p> <p>\u8868\u793a\u5f62\u5f0f\uff1a</p> \\[ \\sideset{_{grouping\\_attribute_1, \\dots, grouping\\_attribute_n}}{} \\gamma_{agg\\_func(attribute)} (relation) \\] <p>\u4f8b\u5982\uff0c\u6309\u7167\u90e8\u95e8\u8ba1\u7b97\u6559\u5e08\u7684\u5e73\u5747\u5de5\u8d44\uff1a</p> \\[ \\sideset{_{dept\\_name}}{AVG(salary)}\\gamma (instructor) \\] </li> </ol> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>dept_name</code> \u662f\u5206\u7ec4\u5c5e\u6027\uff0c<code>AVG(salary)</code> \u662f\u805a\u5408\u51fd\u6570\u3002\u7ed3\u679c\u5c06\u5305\u542b\u6bcf\u4e2a\u90e8\u95e8\u7684\u540d\u79f0\u4ee5\u53ca\u8be5\u90e8\u95e8\u6559\u5e08\u7684\u5e73\u5747\u5de5\u8d44\u3002</p>"},{"location":"incourse/db/ch3/","title":"SQL\u8bed\u8a00\u4ecb\u7ecd","text":"<p> \u7ea6 3518 \u4e2a\u5b57  233 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 21 \u5206\u949f</p>"},{"location":"incourse/db/ch3/#sql\u7684\u5386\u53f2","title":"SQL\u7684\u5386\u53f2","text":"<p>SQL\uff08Structured Query Language\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u7ba1\u7406\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u6807\u51c6\u8bed\u8a00\u3002\u5b83\u7684\u5386\u53f2\u53ef\u4ee5\u8ffd\u6eaf\u523020\u4e16\u7eaa70\u5e74\u4ee3\uff0c\u6700\u521d\u7531IBM\u7684\u7814\u7a76\u4eba\u5458\u5f00\u53d1\u3002</p> <p>SQL\u5386\u53f2\u7684\u4e00\u4e9b\u91cd\u8981\u91cc\u7a0b\u7891\uff1a</p> <ul> <li> <p>1970\u5e74\uff1aEdgar F. Codd\u63d0\u51fa\u4e86\u5173\u7cfb\u6a21\u578b\u7684\u6982\u5ff5\uff0c\u5e76\u5728\u5176\u8bba\u6587\u4e2d\u63cf\u8ff0\u4e86\u5982\u4f55\u4f7f\u7528\u5173\u7cfb\u4ee3\u6570\u6765\u64cd\u4f5c\u6570\u636e\u3002</p> </li> <li> <p>1974\u5e74\uff1aIBM\u7684\u7814\u7a76\u4eba\u5458\u5f00\u59cb\u5f00\u53d1SEQUEL\uff08Structured English Query Language\uff09\uff0c\u8fd9\u662fSQL\u7684\u524d\u8eab\u3002</p> </li> <li> <p>1979\u5e74\uff1aOracle\u53d1\u5e03\u4e86\u7b2c\u4e00\u4e2a\u5546\u4e1aSQL\u6570\u636e\u5e93\u3002</p> </li> <li> <p>1986\u5e74\uff1aANSI\uff08\u7f8e\u56fd\u56fd\u5bb6\u6807\u51c6\u534f\u4f1a\uff09\u53d1\u5e03\u4e86SQL\u7684\u7b2c\u4e00\u4e2a\u6807\u51c6\uff0c\u79f0\u4e3aSQL-86\u3002</p> </li> <li> <p>1992\u5e74\uff1aSQL-92\u6807\u51c6\u53d1\u5e03\uff0c\u589e\u52a0\u4e86\u8bb8\u591a\u65b0\u7279\u6027\u3002</p> </li> <li> <p>1999\u5e74\uff1aSQL:1999\u6807\u51c6\u53d1\u5e03\uff0c\u5f15\u5165\u4e86\u5bf9\u8c61\u5173\u7cfb\u6570\u636e\u5e93\u7684\u6982\u5ff5\u3002</p> </li> <li> <p>2003\u5e74\uff1aSQL:2003\u6807\u51c6\u53d1\u5e03\uff0c\u589e\u52a0\u4e86XML\u652f\u6301\u548c\u5176\u4ed6\u65b0\u7279\u6027\u3002</p> </li> <li> <p>2006\u5e74\uff1aSQL:2006\u6807\u51c6\u53d1\u5e03\uff0c\u589e\u52a0\u4e86\u5bf9XML\u6570\u636e\u7c7b\u578b\u7684\u652f\u6301\u3002</p> </li> </ul>"},{"location":"incourse/db/ch3/#sql\u7684ddl","title":"SQL\u7684DDL","text":"<p>DDL\uff08Data Definition Language\uff09\u662fSQL\u7684\u4e00\u4e2a\u5b50\u96c6\uff0c\u7528\u4e8e\u5b9a\u4e49\u548c\u7ba1\u7406\u6570\u636e\u5e93\u7684\u7ed3\u6784\u3002DDL\u8bed\u53e5\u7528\u4e8e\u521b\u5efa\u3001\u4fee\u6539\u548c\u5220\u9664\u6570\u636e\u5e93\u5bf9\u8c61\uff0c\u5982\u8868\u3001\u7d22\u5f15\u548c\u89c6\u56fe\u3002\u5176\u5b9a\u4e49\u7684\u5bf9\u8c61\u5305\u62ec\uff1a</p> <ol> <li> <p>The Schema for each relation(\u5404\u79cd\u5173\u7cfb\u7684\u6a21\u5f0f)</p> </li> <li> <p>The domain of values associated with each attribute(\u4e0e\u6bcf\u4e2a\u5c5e\u6027\u76f8\u5173\u7684\u503c\u57df)</p> </li> <li> <p>Integrity constraints(\u5b8c\u6574\u6027\u7ea6\u675f)</p> </li> <li> <p>The physical storage structure for each relation(\u6bcf\u4e2a\u5173\u7cfb\u7684\u7269\u7406\u5b58\u50a8\u7ed3\u6784)</p> </li> <li> <p>The set of indices to be maintained for each relations(\u4e3a\u6bcf\u4e2a\u5173\u7cfb\u7ef4\u62a4\u7684\u7d22\u5f15\u96c6)</p> </li> <li> <p>Security and authorization information for each relation(\u6bcf\u4e2a\u5173\u7cfb\u7684\u5b89\u5168\u6027\u548c\u6388\u6743\u4fe1\u606f)</p> </li> </ol>"},{"location":"incourse/db/ch3/#domain-types\u57df\u7c7b\u578b","title":"Domain Types(\u57df\u7c7b\u578b)","text":"<p>SQL\u652f\u6301\u591a\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u5305\u62ec\uff1a</p> <ol> <li> <p>char(n) - \u5b9a\u957f\u5b57\u7b26\u4e32\uff0cn\u4e3a\u957f\u5ea6</p> </li> <li> <p>varchar(n) - \u53d8\u957f\u5b57\u7b26\u4e32\uff0cn\u4e3a\u6700\u5927\u957f\u5ea6</p> </li> <li> <p>int - \u6574\u6570</p> </li> <li> <p>smallint - \u5c0f\u6574\u6570</p> </li> <li> <p>numeric(p,s) - \u7cbe\u786e\u6570\u5b57\uff0cp\u4e3a\u603b\u4f4d\u6570\uff0cs\u4e3a\u5c0f\u6570\u4f4d\u6570</p> </li> <li> <p>real,double precision - \u6d6e\u70b9\u6570,real\u76f8\u5f53\u4e8efloat(7),double\u76f8\u5f53\u4e8efloat(15)</p> </li> <li> <p>float(p) - \u6d6e\u70b9\u6570\uff0cp\u4e3a\u7cbe\u5ea6,\u5373\u5c0f\u6570\u4f4d\u6570</p> </li> </ol>"},{"location":"incourse/db/ch3/#built-in-types\u5185\u7f6e\u7c7b\u578b","title":"Built-in Types(\u5185\u7f6e\u7c7b\u578b)","text":"<p>\u6240\u8c13\u5185\u7f6e\u7c7b\u578b\uff0c\u5373\u662fSQL\u6807\u51c6\u4e2d\u5b9a\u4e49\u7684\u7c7b\u578b\u3002SQL\u6807\u51c6\u5b9a\u4e49\u4e86\u4ee5\u4e0b\u51e0\u79cd\u5185\u7f6e\u7c7b\u578b\uff1a</p> <ol> <li> <p>date - \u65e5\u671f,\u5305\u62ec\u56db\u4f4d\u6570\u5e74\u4efd\u3001\u4e24\u4f4d\u6570\u6708\u4efd\u548c\u4e24\u4f4d\u6570\u65e5\u671f\uff0c\u5982'1999-12-31'</p> </li> <li> <p>time - \u65f6\u95f4,\u5305\u62ec\u5c0f\u65f6\u3001\u5206\u949f\u548c\u79d2\uff0c\u5982'12:30:00'</p> </li> <li> <p>timestamp - \u65f6\u95f4\u6233,\u5305\u62ec\u65e5\u671f\u548c\u65f6\u95f4\uff0c\u5982'1999-12-31 12:30:00'</p> </li> <li> <p>interval - \u65f6\u95f4\u95f4\u9694    \u793a\u4f8b\uff1ainterval '1' day    \u4ece\u4e00\u4e2a\u65e5\u671f/\u65f6\u95f4/\u65f6\u95f4\u6233\u503c\u4e2d\u51cf\u53bb\u53e6\u4e00\u4e2a\u5f97\u5230\u65f6\u95f4\u95f4\u9694\u503c    \u65f6\u95f4\u95f4\u9694\u503c\u53ef\u4ee5\u6dfb\u52a0\u5230\u65e5\u671f/\u65f6\u95f4/\u65f6\u95f4\u6233\u503c</p> </li> </ol>"},{"location":"incourse/db/ch3/#\u65e5\u671f\u65f6\u95f4\u51fd\u6570","title":"\u65e5\u671f\u65f6\u95f4\u51fd\u6570","text":"<p>SQL\u63d0\u4f9b\u4e86\u591a\u79cd\u65e5\u671f\u548c\u65f6\u95f4\u5904\u7406\u51fd\u6570\uff1a</p> <ol> <li> <p>current_date() - \u8fd4\u56de\u5f53\u524d\u65e5\u671f</p> </li> <li> <p>current_time() - \u8fd4\u56de\u5f53\u524d\u65f6\u95f4</p> </li> <li> <p>year(x), month(x), day(x) - \u63d0\u53d6\u65e5\u671f\u7684\u5e74\u3001\u6708\u3001\u65e5\u90e8\u5206</p> </li> <li> <p>hour(x), minute(x), second(x) - \u63d0\u53d6\u65f6\u95f4\u7684\u65f6\u3001\u5206\u3001\u79d2\u90e8\u5206</p> </li> </ol>"},{"location":"incourse/db/ch3/#creating-tables\u521b\u5efa\u8868","title":"Creating Tables(\u521b\u5efa\u8868)","text":"<p>\u4f7f\u7528CREATE TABLE\u8bed\u53e5\u521b\u5efa\u8868,\u5176\u57fa\u672c\u683c\u5f0f\u4e3a\uff1a</p> <pre><code>create table r (A1 D1, A2 D2, ..., An Dn,\n        (integrity-constraint1),\n        ...,\n        (integrity-constraintk))\n</code></pre> <p>\u5176\u4e2d\uff1a</p> <ul> <li> <p>r\u662f\u8868\u540d</p> </li> <li> <p>Ai\u662f\u5c5e\u6027\u540d</p> </li> <li> <p>Di\u662f\u5c5e\u6027\u7684\u6570\u636e\u7c7b\u578b</p> </li> <li> <p>integrity-constraint\u662f\u5b8c\u6574\u6027\u7ea6\u675f</p> </li> </ul> <p>\ud83c\udf30</p> \ud83c\udf301\ud83c\udf302\ud83c\udf303 <pre><code>create table student (\n    sno char(8),\n    sname varchar(20) not null,\n    sage int,\n    tuition numeric(7,2),\n    dept char(4),\n    primary key(sno)\n    foreign key(dept) references department(deptid)\n    check(sage&gt;0 and sage&lt;100)\n)\n</code></pre> <pre><code>create table student (\n    ID          varchar(5),\n    name        varchar(20) not null,\n    dept_name   varchar(20),\n    tot_cred    numeric(3,0) default 0,\n    primary key (ID),\n    foreign key (dept_name) references department\n);\n</code></pre> <pre><code>create table takes (\n    ID          varchar(5),\n    course_id   varchar(8),\n    sec_id      varchar(8),\n    semester    varchar(6),\n    year        numeric(4,0),\n    grade       varchar(2),\n    primary key (ID, course_id, sec_id, semester, year),\n    foreign key (ID) references student,\n    foreign key (course_id, sec_id, semester, year) references section\n);\n</code></pre> <p>foreign key\u7ea6\u675f\u8bf4\u660e</p> <ul> <li> <p>foreign key\u7ea6\u675f\u7528\u4e8e\u5b9a\u4e49\u5916\u952e\u7ea6\u675f\uff0c\u786e\u4fdd\u5f15\u7528\u7684\u8868\u4e2d\u7684\u503c\u5b58\u5728\u3002</p> </li> <li> <p>foreign key\u7ea6\u675f\u7684\u8bed\u6cd5\u4e3a\uff1aforeign key (\u5217\u540d) references \u5176\u4ed6\u8868\u540d(\u5217\u540d)</p> </li> </ul> <p>\u5f53\u88ab\u5f15\u7528\u7684\u8868\u4e2d\u7684\u503c\u4e0d\u5b58\u5728\u65f6\uff0c\u63d2\u5165\u6216\u66f4\u65b0\u64cd\u4f5c\u5c06\u5931\u8d25\u3002</p> <p>\u5bf9\u4e8edelete\u548cupdate\u64cd\u4f5c\uff0cSQL\u6807\u51c6\u5141\u8bb8\u4ee5\u4e0b\u51e0\u79cd\u884c\u4e3a\uff1a</p> <ul> <li> <p>no action\uff1a\u4e0d\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\uff0c\u9ed8\u8ba4\u884c\u4e3a\u3002</p> </li> <li> <p>restrict\uff1a\u4e0d\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\uff0c\u7c7b\u4f3c\u4e8eno action\u3002</p> </li> <li> <p>cascade\uff1a\u7ea7\u8054\u5220\u9664\u6216\u66f4\u65b0\u64cd\u4f5c\u3002</p> </li> <li> <p>set null\uff1a\u5c06\u5916\u952e\u5217\u8bbe\u7f6e\u4e3aNULL\u3002</p> </li> <li> <p>set default\uff1a\u5c06\u5916\u952e\u5217\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u503c\u3002</p> </li> <li> <p>set null\u548cset default\u53ea\u80fd\u5728\u5916\u952e\u5217\u5141\u8bb8NULL\u6216\u6709\u9ed8\u8ba4\u503c\u65f6\u4f7f\u7528\u3002</p> </li> </ul>"},{"location":"incourse/db/ch3/#drop-table\u5220\u9664\u8868-delete-table\u5220\u9664\u8868\u4e2d\u6570\u636e","title":"Drop Table(\u5220\u9664\u8868)&amp; Delete Table(\u5220\u9664\u8868\u4e2d\u6570\u636e)","text":"<p>\u4f7f\u7528DROP TABLE\u8bed\u53e5\u5220\u9664\u8868\uff0c\u5176\u57fa\u672c\u683c\u5f0f\u4e3a\uff1a</p> <p><pre><code>drop table r\n</code></pre> \u8fd9\u6837\u4f1a\u5220\u9664\u8868r\u53ca\u5176\u6240\u6709\u6570\u636e\u548c\u7ed3\u6784\u3002</p> <p>\u4f7f\u7528DELETE\u8bed\u53e5\u5220\u9664\u8868\u4e2d\u6570\u636e\uff0c\u5176\u57fa\u672c\u683c\u5f0f\u4e3a\uff1a</p> <p><pre><code>delete from r\n</code></pre> \u8fd9\u6837\u4f1a\u5220\u9664\u8868r\u4e2d\u7684\u6240\u6709\u6570\u636e\uff0c\u4f46\u4fdd\u7559\u8868\u7ed3\u6784\u3002</p>"},{"location":"incourse/db/ch3/#alter-table\u4fee\u6539\u8868","title":"Alter Table(\u4fee\u6539\u8868)","text":"<p>\u8868\u7ed3\u6784\u7684\u4fee\u6539\u5305\u62ec\u589e\u52a0\u3001\u5220\u9664\u548c\u4fee\u6539\u5217\u7b49\u3002\u4f7f\u7528ALTER TABLE\u8bed\u53e5\u4fee\u6539\u8868\uff0c\u5305\u62ec\uff1a</p> <p>alter table\u64cd\u4f5c</p> \u589e\u52a0\u5217\u5220\u9664\u5217\u4fee\u6539\u5217\u589e\u52a0\u7ea6\u675f\u5220\u9664\u7ea6\u675f \u589e\u52a0\u5217<pre><code>alter table r add column a d\n</code></pre> \u5220\u9664\u5217<pre><code>alter table r drop column a\n</code></pre> \u4fee\u6539\u5217<pre><code>alter table r alter column a d\n</code></pre> \u589e\u52a0\u7ea6\u675f<pre><code>alter table r add constraint c\n</code></pre> \u5220\u9664\u7ea6\u675f<pre><code>alter table r drop constraint c\n</code></pre>"},{"location":"incourse/db/ch3/#basic-sql-queries","title":"Basic SQL Queries","text":"<p>\u4e00\u4e2aSQL\u67e5\u8be2\u8bed\u53e5\u7684\u57fa\u672c\u683c\u5f0f\u4e3a: <pre><code>select select-list\nfrom table-list\nwhere condition\n</code></pre></p> <p>\u5176\u4e2d\uff1a</p> <ul> <li> <p>select-list\u662f\u8981\u67e5\u8be2\u7684\u5217\uff0c\u53ef\u4ee5\u4f7f\u7528*\u8868\u793a\u6240\u6709\u5217\u3002</p> </li> <li> <p>table-list\u662f\u8981\u67e5\u8be2\u7684\u8868\uff0c\u53ef\u4ee5\u4f7f\u7528\u9017\u53f7\u5206\u9694\u591a\u4e2a\u8868\u3002</p> </li> <li> <p>condition\u662f\u67e5\u8be2\u6761\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528AND\u3001OR\u3001NOT\u7b49\u903b\u8f91\u8fd0\u7b97\u7b26\u3002</p> </li> </ul> <p>SQL\u67e5\u8be2\u8bed\u53e5\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u5173\u7cfb</p>"},{"location":"incourse/db/ch3/#sql\u8bed\u53e5\u7684\u6267\u884c\u987a\u5e8f","title":"SQL\u8bed\u53e5\u7684\u6267\u884c\u987a\u5e8f","text":"<ol> <li> <p>FROM\uff1a\u786e\u5b9a\u6570\u636e\u6765\u6e90</p> </li> <li> <p>WHERE\uff1a\u6839\u636e\u6761\u4ef6\u8fc7\u6ee4\u539f\u59cb\u8868\u4e2d\u7684\u884c</p> </li> <li> <p>GROUP BY\uff1a\u5c06\u6570\u636e\u6309\u6307\u5b9a\u5217\u8fdb\u884c\u5206\u7ec4</p> </li> <li> <p>HAVING\uff1a\u6839\u636e\u6761\u4ef6\u8fc7\u6ee4\u5206\u7ec4\u540e\u7684\u7ed3\u679c</p> </li> <li> <p>SELECT\uff1a\u9009\u62e9\u6700\u7ec8\u8981\u8fd4\u56de\u7684\u5217</p> </li> <li> <p>ORDER BY\uff1a\u5bf9\u7ed3\u679c\u8fdb\u884c\u6392\u5e8f</p> </li> <li> <p>LIMIT\uff1a\u9650\u5236\u8fd4\u56de\u7684\u884c\u6570</p> </li> </ol>"},{"location":"incourse/db/ch3/#select-clause\u9009\u62e9\u5b50\u53e5","title":"Select Clause(\u9009\u62e9\u5b50\u53e5)","text":"<p>Select\u8bed\u53e5\u4e0e\u7b2c\u4e8c\u7ae0\u4e2d\u7684projection\u64cd\u4f5c\u76f8\u5f53</p> <p>\u4f8b\u5982,SQL\u8bed\u53e5 <pre><code>select name\nfrom student\n</code></pre> \u7b49\u4ef7\u4e8e</p> \\[ \\pi_{name}(student) \\] <p>SQL\u4e2d\u7684\u5927\u5c0f\u5199\u95ee\u9898</p> <p>SQL\u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f,\u5373select\u548cSELECT\u662f\u4e00\u6837\u7684 \u4f46\u662f,\u8868\u540d\u548c\u5217\u540d\u662f\u533a\u5206\u5927\u5c0f\u5199\u7684,\u5373student\u548cSTUDENT\u662f\u4e0d\u540c\u7684</p> <p>select\u8bed\u53e5\u4e2d\u4e5f\u6709\u4e00\u4e9bkeyword\u53ef\u4ee5\u6dfb\u52a0:</p> <ol> <li> <p>DISTINCT - \u53bb\u91cd,\u5373\u53bb\u6389\u91cd\u590d\u7684\u5143\u7ec4</p> </li> <li> <p>ALL - \u4fdd\u7559\u6240\u6709\u5143\u7ec4,\u5305\u62ec\u91cd\u590d\u7684\u5143\u7ec4</p> </li> </ol> <p>select\u8bed\u53e5\u4e5f\u652f\u6301\u7b97\u672f\u64cd\u4f5c:</p> <pre><code>select ID, name, salary/12\nfrom instructor\n</code></pre> <p>\u8fd9\u4e2a\u8bed\u53e5\u4f1a\u8fd4\u56deinstructor\u8868\u4e2d\u6240\u6709\u6559\u5e08\u7684ID\u3001\u59d3\u540d\u548c\u5e74\u85aa/12</p>"},{"location":"incourse/db/ch3/#where-clause\u9009\u62e9\u5b50\u53e5","title":"Where Clause(\u9009\u62e9\u5b50\u53e5)","text":"<p>where\u5b50\u53e5\u7528\u4e8e\u6307\u5b9a\u67e5\u8be2\u6761\u4ef6,\u5373\u9009\u62e9\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7ec4</p> <p>where\u5b50\u53e5\u7684\u57fa\u672c\u683c\u5f0f\u4e3a:</p> <pre><code>where condition\n</code></pre> <p>condition\u53ef\u4ee5\u662f\u4e00\u4e2a\u5e03\u5c14\u8868\u8fbe\u5f0f,\u5373\u8fd4\u56detrue\u6216false\u7684\u8868\u8fbe\u5f0f</p> <p>where\u5b50\u53e5\u652f\u6301\u4ee5\u4e0b\u64cd\u4f5c:</p> <ol> <li> <p>\u903b\u8f91\u8fd0\u7b97\u7b26: AND\u3001OR\u3001NOT</p> </li> <li> <p>\u6bd4\u8f83\u8fd0\u7b97\u7b26: =\u3001&lt;&gt;\u3001&lt;\u3001&lt;=\u3001&gt;\u3001&gt;=</p> </li> <li> <p>\u5176\u4ed6\u8fd0\u7b97\u7b26: BETWEEN\u3001IN\u3001LIKE</p> </li> </ol> <p>\ud83c\udf30</p> \ud83c\udf301\ud83c\udf302\ud83c\udf303 <pre><code>select name from instructor\nwhere dept_name = \u2018Comp. Sci.'and salary &gt; 80000\n</code></pre> <pre><code>select name from instructor\nwhere salary between 90000 and 100000\n</code></pre> <pre><code>select name, course_id\nfrom instructor, teaches\nwhere (instructor.ID, dept_name) = (teaches.ID, \u2019Biology\u2019);\n</code></pre>"},{"location":"incourse/db/ch3/#from-clause\u8868\u540d\u5b50\u53e5","title":"From Clause(\u8868\u540d\u5b50\u53e5)","text":"<p>from\u5b50\u53e5\u7528\u4e8e\u6307\u5b9a\u67e5\u8be2\u7684\u8868,\u9009\u62e9\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7ec4,\u76f8\u5f53\u4e8e\u5173\u7cfb\u4ee3\u6570\u4e2d\u7684\u7b1b\u5361\u5c14\u4e58\u79ef</p>"},{"location":"incourse/db/ch3/#natural-join\u81ea\u7136\u8fde\u63a5","title":"Natural Join(\u81ea\u7136\u8fde\u63a5)","text":"<p>\u81ea\u7136\u8fde\u63a5\u662f\u5173\u7cfb\u4ee3\u6570\u4e2d\u7684\u4e00\u79cd\u64cd\u4f5c,\u7528\u4e8e\u8fde\u63a5\u4e24\u4e2a\u8868,\u8fd4\u56de\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7ec4</p> <p>\u81ea\u7136\u8fde\u63a5\u7684\u57fa\u672c\u683c\u5f0f\u4e3a:</p> <pre><code>select select-list\nfrom table1 natural join table2\n</code></pre>"},{"location":"incourse/db/ch3/#\u81ea\u7136\u8fde\u63a5\u7684\u95ee\u9898","title":"\u81ea\u7136\u8fde\u63a5\u7684\u95ee\u9898","text":"<p>\u81ea\u7136\u8fde\u63a5\u9009\u62e9\u4e86\u4e24\u4e2a\u8868\u4e2d\u6240\u6709\u76f8\u540c\u5c5e\u6027\u7684\u503c\u76f8\u7b49\u7684\u5143\u7ec4,\u4f46\u662f\u76f8\u540c\u7684\u5c5e\u6027\u540d\u5e76\u4e0d\u4e00\u5b9a\u8868\u793a\u76f8\u540c\u7684\u5c5e\u6027,\u5728\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\u81ea\u7136\u8fde\u63a5\u5c31\u4f1a\u51fa\u73b0\u95ee\u9898.</p> <p>\u5bf9\u4e8e\u5982\u4e0b\u7684\u5173\u7cfb: course(course_id,title, dept_name,credits) teaches( ID, course_id,sec_id,semester, year) instructor(ID,name, dept_name,salary)</p> <p>\u7ed9\u51fa\u4efb\u52a1:List the names of instructors along with the  titles of courses that they teach</p> <p>\u8fd9\u91cccourse\u8868\u4e2d\u7684dept_name\u8868\u793a\u8bfe\u7a0b\u7684\u7cfb\u540d,\u800cinstructor\u8868\u4e2d\u7684dept_name\u8868\u793a\u6559\u5e08\u7684\u7cfb\u540d,\u8fd9\u4e24\u4e2a\u5c5e\u6027\u5e76\u4e0d\u76f8\u540c,\u4f46\u662f\u5b83\u4eec\u7684\u540d\u5b57\u662f\u4e00\u6837\u7684,\u5982\u679c\u6211\u4eec\u4f7f\u7528\u81ea\u7136\u8fde\u63a5\u5c31\u4f1a\u51fa\u73b0\u95ee\u9898.</p> <p>\u5404\u79cd\u8bed\u53e5</p> \u9519\u8bef\u4f7f\u7528\u81ea\u7136\u8fde\u63a5\u6b63\u786e\u505a\u6cd51\u6b63\u786e\u505a\u6cd52\u6b63\u786e\u505a\u6cd53 <pre><code>select name, title\nfrom instructor natural join teaches natural join course\n</code></pre> <pre><code>select name, title\nfrom instructor, teaches, course\nwhere instructor.ID = teaches.ID and teaches.course_id = course.course_id\n</code></pre> <pre><code>select name, title\nfrom instructor natural join teaches, course\nwhere teaches.course_id = course.course_id\n</code></pre> <pre><code>select name, title\nfrom (instructor natural join teaches)join course using(course_id);\n</code></pre>"},{"location":"incourse/db/ch3/#rename","title":"Rename","text":"<p>SQL\u4e2d\u4f7f\u7528AS\u5173\u952e\u5b57\u6765\u91cd\u547d\u540d\u8868\u6216\u5217</p> <pre><code>select ID, name, salary/12 as monthly_salary\nfrom instructor\n</code></pre> <p>Example</p> <p>Find the names of all instructors who have a higher salary than  some instructor in \u2018Comp. Sci\u2019. <pre><code>select name\nfrom instructor as T,instructor as S\nwhere T.salary &gt; S.salary and S.dept_name = \u2018Comp. Sci.\u2019\n</code></pre></p> <p>\u6ce8\u610f,AS\u5173\u952e\u5b57\u662f\u53ef\u9009\u7684,\u5373\u53ef\u4ee5\u7701\u7565 <pre><code>select ID, name, salary/12 monthly_salary\nfrom instructor\n</code></pre></p>"},{"location":"incourse/db/ch3/#string-operations","title":"String Operations","text":""},{"location":"incourse/db/ch3/#like","title":"like","text":"<p>\u8fd9\u91cc\u7684like\u611f\u89c9\u548c\u6b63\u5219\u8868\u8fbe\u5f0f\u6709\u76f8\u4f3c\u4e4b\u5904.</p> <ol> <li> <p>% - \u5339\u914d\u4efb\u610f\u4e2a\u5b57\u7b26</p> <ul> <li> <p>\u2018Intro%\u2019 matches any string beginning with \u201cIntro\u201d.</p> </li> <li> <p>\u2018%Comp%\u2019 matches any string containing \u201cComp\u201d as a substring.</p> </li> </ul> </li> <li> <p>_ - \u5339\u914d\u4e00\u4e2a\u5b57\u7b26</p> <ul> <li> <p>\u2018_ _ _\u2019 matches any string of exactly three characters.</p> </li> <li> <p>\u2018_ _ _%\u2019 matches any string of at least three characters.</p> </li> </ul> </li> <li> <p>[abc] - \u5339\u914da\u3001b\u6216c</p> </li> <li> <p>[a-z] - \u5339\u914da\u5230z\u4e4b\u95f4\u7684\u4efb\u610f\u5b57\u7b26</p> </li> <li> <p>[^abc] - \u5339\u914d\u4e0d\u662fa\u3001b\u6216c\u7684\u4efb\u610f\u5b57\u7b26</p> </li> </ol> <p>\ud83c\udf30</p> <p><pre><code>select name from instructor where name like '%dar%' \n</code></pre> \u8fd9\u4e2a\u8bed\u53e5\u4f1a\u8fd4\u56deinstructor\u8868\u4e2d\u6240\u6709\u59d3\u540d\u4e2d\u5305\u542b\"dar\"\u7684\u6559\u5e08</p> <p><code>like</code>\u5173\u952e\u8bcd\u8fd8\u53ef\u4ee5\u52a0\u4e0a<code>escape</code>\u5173\u952e\u8bcd,\u7528\u4e8e\u8f6c\u4e49\u5b57\u7b26</p> <p><pre><code>select name from instructor where name like '%!%' escape '!'\n</code></pre> \u8fd9\u4e2a\u8bed\u53e5\u4f1a\u8fd4\u56deinstructor\u8868\u4e2d\u6240\u6709\u59d3\u540d\u4e2d\u4ee5\"%\"\u7ed3\u5c3e\u7684\u6559\u5e08</p>"},{"location":"incourse/db/ch3/#\u5176\u4ed6\u64cd\u4f5c","title":"\u5176\u4ed6\u64cd\u4f5c","text":"<p>SQL\u4e5f\u652f\u6301\u5176\u4ed6\u5b57\u7b26\u4e32\u64cd\u4f5c,\u5982:</p> <ol> <li> <p>|| - \u5b57\u7b26\u4e32\u8fde\u63a5</p> </li> <li> <p>length(x) - \u8fd4\u56de\u5b57\u7b26\u4e32x\u7684\u957f\u5ea6</p> </li> <li> <p>\u5927\u5c0f\u5199\u8f6c\u6362</p> <ul> <li> <p>upper(x) - \u5c06\u5b57\u7b26\u4e32x\u8f6c\u6362\u4e3a\u5927\u5199</p> </li> <li> <p>lower(x) - \u5c06\u5b57\u7b26\u4e32x\u8f6c\u6362\u4e3a\u5c0f\u5199</p> </li> </ul> </li> </ol>"},{"location":"incourse/db/ch3/#\u6392\u5e8f","title":"\u6392\u5e8f","text":"<p>\u4f7f\u7528order by\u5b50\u53e5\u5bf9\u67e5\u8be2\u7ed3\u679c\u8fdb\u884c\u6392\u5e8f,\u5176\u57fa\u672c\u683c\u5f0f\u4e3a:</p> <pre><code>select distinct name\nfrom    instructor\norder by name asc\n</code></pre> <p>order by\u5b50\u53e5\u652f\u6301\u4ee5\u4e0b\u64cd\u4f5c:</p> <ol> <li> <p>asc - \u5347\u5e8f,\u9ed8\u8ba4\u503c</p> </li> <li> <p>desc - \u964d\u5e8f</p> </li> <li> <p>nulls first - \u5c06NULL\u503c\u653e\u5728\u524d\u9762</p> </li> </ol>"},{"location":"incourse/db/ch3/#limit-clause","title":"Limit Clause","text":"<p>\u4f7f\u7528limit\u5b50\u53e5\u9650\u5236\u67e5\u8be2\u7ed3\u679c\u7684\u6570\u91cf,\u5176\u57fa\u672c\u683c\u5f0f\u4e3a:</p> <pre><code>select select-list\nfrom table-list\nwhere condition\norder by order-list\nlimit n\n</code></pre> <p>\u5176\u4e2d,n\u4e3a\u8981\u8fd4\u56de\u7684\u5143\u7ec4\u6570\u91cf</p> <p>limit\u4e5f\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570,\u8868\u793a\u8fd4\u56de\u7684\u5143\u7ec4\u7684\u8d77\u59cb\u4f4d\u7f6e\u548c\u6570\u91cf.</p>"},{"location":"incourse/db/ch3/#set-operations","title":"Set Operations","text":"<p>SQL\u4e2d\u4e5f\u5305\u62ec\u4ea4,\u5e76,\u5dee\u7b49\u64cd\u4f5c,\u5176\u57fa\u672c\u683c\u5f0f\u4e3a:</p> <pre><code>select select-list\nfrom table-list\nwhere condition\nunion\nselect select-list\nfrom table-list\nwhere condition\n</code></pre> <p>\u5bf9\u4e8e\u4ea4\u96c6,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>intersect</code>\u64cd\u4f5c,\u683c\u5f0f\u548c<code>union</code>\u64cd\u4f5c\u4e00\u6837</p> <p>\u5bf9\u4e8e\u5dee\u96c6,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>except</code>\u64cd\u4f5c,\u683c\u5f0f\u548c<code>union</code>\u64cd\u4f5c\u4e00\u6837</p> <p>\u4e0a\u9762\u6240\u6709\u7684\u64cd\u4f5c\u90fd\u9ed8\u8ba4\u53bb\u6389\u91cd\u590d\u7684\u5143\u7ec4,\u5982\u679c\u6211\u4eec\u60f3\u4fdd\u7559\u91cd\u590d\u7684\u5143\u7ec4,\u53ef\u4ee5\u4f7f\u7528<code>all</code>\u5173\u952e\u5b57,\u53d8\u4e3a<code>union all</code>\u3001<code>intersect all</code>\u3001<code>except all</code>.</p>"},{"location":"incourse/db/ch3/#null-values","title":"NULL Values","text":"<p>\u5728\u7b2c\u4e8c\u7ae0\u5df2\u7ecf\u8bb2\u8fc7,SQL\u4e2d\u6709\u4e00\u4e2a<code>is null</code>\u64cd\u4f5c,\u7528\u4e8e\u5224\u65ad\u4e00\u4e2a\u503c\u662f\u5426\u4e3aNULL</p> <pre><code>select name\nfrom instructor\nwhere salary is null\n</code></pre>"},{"location":"incourse/db/ch3/#aggregate-functions","title":"Aggregate Functions","text":"<p>\u6b63\u5982\u5173\u7cfb\u4ee3\u6570\u4e2d\u7684<code>aggregate</code>\u64cd\u4f5c\u4e00\u6837,SQL\u4e2d\u4e5f\u6709\u4e00\u4e9b\u805a\u5408\u51fd\u6570,\u7528\u4e8e\u5bf9\u4e00\u7ec4\u503c\u8fdb\u884c\u8ba1\u7b97,\u8fd4\u56de\u4e00\u4e2a\u5355\u4e00\u7684\u503c\uff0c\u5305\u62ec\uff1a</p> <ol> <li> <p>count(x) - \u8ba1\u7b97x\u7684\u4e2a\u6570</p> </li> <li> <p>sum(x) - \u8ba1\u7b97x\u7684\u548c</p> </li> <li> <p>avg(x) - \u8ba1\u7b97x\u7684\u5e73\u5747\u503c</p> </li> <li> <p>min(x) - \u8ba1\u7b97x\u7684\u6700\u5c0f\u503c</p> </li> <li> <p>max(x) - \u8ba1\u7b97x\u7684\u6700\u5927\u503c</p> </li> </ol> <p>Example</p> \ud83c\udf301\ud83c\udf302\ud83c\udf303 <p>Find the average salary of instructors in the Computer Science department </p> <pre><code>select avg(salary)\nfrom instructor\nwhere dept_name = 'Comp. Sci.'\n</code></pre> <p>Find the total number of instructors who teach a course in the Spring 2010 semester <pre><code>select count(distinct ID)\nfrom teaches\nwhere semester = 'Spring' and year = 2010\n</code></pre></p> <p>Find the number of tuples in the course relation <pre><code>select count(*)\nfrom course\n</code></pre></p>"},{"location":"incourse/db/ch3/#group-by","title":"group by","text":"<p>group by\u5b50\u53e5\u7528\u4e8e\u5c06\u67e5\u8be2\u7ed3\u679c\u5206\u7ec4,\u5176\u57fa\u672c\u683c\u5f0f\u4e3a:</p> <pre><code>select select-list\nfrom table-list\nwhere condition\ngroup by group-list\n</code></pre> <p>\u4f8b\u5982,\u5728 <pre><code>select dept_name, avg(salary)\nfrom instructor\ngroup by dept_name\n</code></pre> \u6267\u884c\u540e,\u7ed3\u679c\u4e3a</p> <p>Warning</p> <p>Attributes in select clause outside of aggregate functions must appear in group by list</p> erroneous code<pre><code>    select dept_name, ID, avg (salary)\n    from instructor\n    group by dept_name;\n</code></pre> <p>\u5176\u4e2dID\u6ca1\u6709\u5305\u88f9\u5728group by\u4e2d,\u8fd9\u4f1a\u5bfc\u81f4\u6570\u636e\u5e93\u4e0d\u77e5\u9053\u5e94\u8be5\u4ece\u54ea\u4e00\u7ec4\u9009\u53d6\u7ed3\u679c</p>"},{"location":"incourse/db/ch3/#having-clause","title":"Having clause","text":"<p>having\u5b50\u53e5\u7528\u4e8e\u5bf9\u5206\u7ec4\u540e\u7684\u7ed3\u679c\u8fdb\u884c\u8fc7\u6ee4,\u5176\u57fa\u672c\u683c\u5f0f\u4e3a:</p> <pre><code>select select-list\nfrom table-list\nwhere condition\ngroup by group-list\nhaving having-condition\n</code></pre> <p>\u4f8b\u5982,\u5728 <pre><code>select dept_name, avg(salary)\nfrom instructor\ngroup by dept_name\nhaving avg (salary) &gt; 42000;\n</code></pre></p> <p>\u8fd9\u6bb5\u4ee3\u7801\u7684\u76ee\u7684\u662f\u6839\u636e\u7cfb\u522b\u5c06\u6559\u5e08\u540d\u5355\u5206\u7ec4\uff0c\u5e76\u9009\u51fa\u5e73\u5747\u5de5\u8d44\u5927\u4e8e42000\u7684\u7cfb\u3002</p> <p>\u5f53<code>having</code>\u4e0e<code>where</code>\u8bed\u53e5\u540c\u65f6\u5b58\u5728\u65f6\uff0c<code>having</code>\u8bed\u53e5\u4f1a\u665a\u4e8e<code>where</code>\u8bed\u53e5\u6267\u884c,\u76f8\u5f53\u4e8e<code>where</code>\u8bed\u53e5\u63d0\u524d\u4f5c\u4e00\u904d\u8fc7\u6ee4</p> <pre><code>select dept_name, count (*) as cnt\nfrom instructor\nwhere  salary &gt;=100000\ngroup by dept_name\nhaving  count (*) &gt; 10\norder by cnt;\n</code></pre>"},{"location":"incourse/db/ch3/#null-values-and-aggregates","title":"Null Values and Aggregates","text":"<p>\u9664\u4e86<code>count</code>\u4ee5\u5916,\u6240\u6709\u7684\u805a\u5408\u51fd\u6570\u90fd\u4f1a\u5ffd\u7565\u5728\u805a\u5408\u5c5e\u6027\u4e0a\u662f<code>NULL</code>\u7684\u5143\u7ec4</p> <p>\u5f53\u6240\u6709\u6570\u636e\u5747\u4e3a<code>NULL</code>\u65f6</p> <ul> <li> <p><code>count</code>\u8fd4\u56de0</p> </li> <li> <p>\u5176\u4ed6\u51fd\u6570\u8fd4\u56de<code>NULL</code></p> </li> </ul>"},{"location":"incourse/db/ch3/#arithmetric-expression-with-aggregate-functions","title":"Arithmetric expression with Aggregate functions","text":"<p>\u4e3a\u627e\u5230\u6ca1\u6709\u91cd\u540d\u5b66\u751f\u7684\u7cfb:</p> <pre><code>select dept_name\nfrom student\ngroup by dept_name\nhaving count(distinct name) = count(id)\n</code></pre> <p>What is the meaning of the following statement ?</p> <pre><code>select dept_name\nfrom student\ngroup by dept_name\nhaving 1-count(distinct name)/ count(id)&lt;0.001 ;\n</code></pre> \u89e3\u91ca <p>\u5f88\u663e\u7136\u662f\u627e\u91cd\u540d\u5b66\u751f\u6bd4\u4f8b\u4f4e\u4e8e0.001\u7684\u90e8\u95e8</p>"},{"location":"incourse/db/ch3/#nested-queries\u5d4c\u5957\u67e5\u8be2","title":"Nested Queries(\u5d4c\u5957\u67e5\u8be2)","text":"<p>\u5d4c\u5957\u67e5\u8be2\u662f\u6307\u5728\u4e00\u4e2a\u67e5\u8be2\u4e2d\u5d4c\u5957\u53e6\u4e00\u4e2a\u67e5\u8be2,\u5373\u5728\u4e00\u4e2a\u67e5\u8be2\u7684<code>select</code>\u3001<code>from</code>\u3001<code>where</code>\u5b50\u53e5\u4e2d\u5d4c\u5957\u53e6\u4e00\u4e2a\u67e5\u8be2</p> <p>\u5d4c\u5957\u67e5\u8be2\u6709\u4e09\u79cd\u4f5c\u7528\uff1a</p> <p>Tips</p> Set Membership(\u96c6\u5408\u6210\u5458\u8d44\u683c)Set Comparison(\u6bd4\u8f83)Set cardinality(\u96c6\u5408\u57fa\u6570) <p>\u4f7f\u7528<code>in</code>\u5173\u952e\u5b57\u5224\u65ad\u4e00\u4e2a\u503c\u662f\u5426\u5728\u4e00\u4e2a\u96c6\u5408\u4e2d</p> <pre><code>select name\nfrom instructor\nwhere dept_name in (select dept_name from department where building = 'Main')\n</code></pre> <p><code>not in</code>\u5173\u952e\u5b57\u7528\u4e8e\u5224\u65ad\u4e00\u4e2a\u503c\u662f\u5426\u4e0d\u5728\u4e00\u4e2a\u96c6\u5408\u4e2d</p> <pre><code>select name\nfrom instructor\nwhere dept_name not in (select dept_name from department where building = 'Main')\n</code></pre> <p><code>in</code>\u7684\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5224\u65ad\u591a\u4e2a\u503c\u662f\u5426\u5728\u4e00\u4e2a\u96c6\u5408\u4e2d</p> <pre><code>select count (distinct ID)\nfrom takes\nwhere (course_id, sec_id, semester, year) in (select course_id, sec_id, semester, year\n                                from teaches\n                                where teaches.ID= \u201810101\u2019);\n</code></pre> <p><code>&gt; some</code>\u6bd4\u8f83\u7b26\u53f7\u7528\u4e8e\u5224\u65ad\u4e00\u4e2a\u503c\u662f\u5426\u5927\u4e8e\u96c6\u5408\u4e2d\u7684\u67d0\u4e2a\u503c</p> <pre><code>select name\nfrom instructor\nwhere salary &gt; some (select salary\n                    from instructor\n                    where dept_name = \u2019Biology\u2019);\n</code></pre> <p>some</p> <p>\u5bf9\u4e8e\u8868\u8fbe\u5f0f F  some R\uff0c\u5176\u6570\u5b66\u5b9a\u4e49\u4e3a\uff1a \\[ F \\langle comp \\rangle \\text{ some } R \\iff \\exists t \\in R \\text{ such that } (F \\langle comp \\rangle t) \\] <p>\u5176\u4e2d \\(\\langle comp \\rangle\\) \u53ef\u4ee5\u662f\u4ee5\u4e0b\u6bd4\u8f83\u64cd\u4f5c\u7b26\uff1a</p> <ol> <li> <p>\\(=\\)\uff08\u7b49\u4e8e\uff09</p> </li> <li> <p>\\(\\neq\\)\uff08\u4e0d\u7b49\u4e8e\uff09</p> </li> <li> <p>\\(&gt;\\)\uff08\u5927\u4e8e\uff09</p> </li> <li> <p>\\(&lt;\\)\uff08\u5c0f\u4e8e\uff09</p> </li> <li> <p>\\(\\geq\\)\uff08\u5927\u4e8e\u7b49\u4e8e\uff09</p> </li> <li> <p>\\(\\leq\\)\uff08\u5c0f\u4e8e\u7b49\u4e8e\uff09</p> </li> </ol> <p><code>&gt; all</code>\u6bd4\u8f83\u7b26\u53f7\u7528\u4e8e\u5224\u65ad\u4e00\u4e2a\u503c\u662f\u5426\u5927\u4e8e\u96c6\u5408\u4e2d\u7684\u6240\u6709\u503c <pre><code>select name\nfrom instructor\nwhere salary &gt; all (select salary\n                    from instructor\n                    where dept_name = \u2019Biology\u2019);\n</code></pre></p> <p>all</p> <p>\u5bf9\u4e8e\u8868\u8fbe\u5f0f F  all R\uff0c\u5176\u6570\u5b66\u5b9a\u4e49\u4e3a\uff1a \\[ F \\langle comp \\rangle \\text{ all } R \\iff \\forall t \\in R \\text{ such that } (F \\langle comp \\rangle t) \\] <p>\u5176\u4e2d \\(\\langle comp \\rangle\\) \u53ef\u4ee5\u662f\u4ee5\u4e0b\u6bd4\u8f83\u64cd\u4f5c\u7b26\uff1a</p> <ol> <li> <p>\\(=\\)\uff08\u7b49\u4e8e\uff09</p> </li> <li> <p>\\(&lt;&gt;\\)\uff08\u4e0d\u7b49\u4e8e\uff09</p> </li> <li> <p>\\(&gt;\\)\uff08\u5927\u4e8e\uff09</p> </li> <li> <p>\\(&lt;\\)\uff08\u5c0f\u4e8e\uff09</p> </li> <li> <p>\\(\\geq\\)\uff08\u5927\u4e8e\u7b49\u4e8e\uff09</p> </li> <li> <p>\\(\\leq\\)\uff08\u5c0f\u4e8e\u7b49\u4e8e\uff09</p> </li> </ol> <p>\u6ce8\u610f,<code>in</code>\u4e0e<code>= some</code>\u7b49\u4ef7,\u4f46<code>not in</code>\u4e0e<code>&lt;&gt; some</code>\u4e0d\u7b49\u4ef7,<code>= all</code>\u4e0e<code>in</code>\u4e0d\u7b49\u4ef7,<code>not in</code>\u4e0e<code>&lt;&gt; all</code>\u7b49\u4ef7</p> <p>\u7136\u800c,\u5355\u72ec\u7684<code>&gt;</code>,<code>&lt;</code>\u7b49\u88ab\u79f0\u4e3a<code>comparison</code>\u800c\u4e0d\u662f<code>comparison with set</code>,\u5b83\u4eec\u8981\u6c42\u6bd4\u8f83\u7684\u5bf9\u8c61\u662f\u5355\u4e00\u7684\u503c,\u800c\u4e0d\u662f\u96c6\u5408,\u5bf9\u4e8e\u7684\u67e5\u8be2\u8bed\u53e5\u79f0\u4e3a\u6807\u91cf\u5b50\u67e5\u8be2(Scalar Subquery)</p> <p><code>exists</code>\u5173\u952e\u5b57\u7528\u4e8e\u5224\u65ad\u4e00\u4e2a\u96c6\u5408\u662f\u5426\u4e3a\u7a7a</p> <pre><code>select course_id \nfrom section as S \nwhere semester = \u2019Fall\u2019 and year= 2009 and exists (select * from section as Twhere semester = \u2019Spring\u2019 and year= 2010 and S.course_id= T.course_id);\n</code></pre> <p><code>not exists</code>\u5173\u952e\u5b57\u7528\u4e8e\u5224\u65ad\u4e00\u4e2a\u96c6\u5408\u662f\u5426\u4e0d\u4e3a\u7a7a</p> <pre><code>select name\nfrom instructor\nwhere not exists (select *\n                from teaches\n                where teaches.ID = instructor.ID);\n</code></pre> <p>\u4e2a\u4eba\u611f\u89c9,\u6b63\u5e38\u7684\u67e5\u8be2\u8bed\u53e5\u662f\u4e00\u4e2a\u5355\u5c42\u5faa\u73af,\u800c\u5d4c\u5957\u67e5\u8be2\u662f\u4e00\u4e2a\u591a\u5c42\u5faa\u73af,\u5373\u5728\u4e00\u4e2a\u5faa\u73af\u4e2d\u53c8\u5d4c\u5957\u4e86\u4e00\u4e2a\u5faa\u73af,\u800c\u4e14\u8fd9\u4e2a\u5faa\u73af\u7684\u8303\u56f4\u662f\u4e0a\u4e00\u4e2a\u5faa\u73af\u7684\u8303\u56f4,\u5373\u5728\u4e0a\u4e00\u4e2a\u5faa\u73af\u7684\u57fa\u7840\u4e0a\u8fdb\u884c\u7b5b\u9009 \u4f8b\u5982,\u5728 <pre><code>select name\nfrom instructor\nwhere exists (select *\n            from teaches\n            where teaches.ID = instructor.ID);\n</code></pre> \u548cC\u8bed\u8a00\u4e00\u6837. <pre><code>for(int i=0;i&lt;10;i++)//\u7b2c\u4e00\u4e2aselect\u8bed\u53e5\n    for(int j=0;j&lt;10;j++)//\u5b50\u67e5\u8be2\u8bed\u53e5\n        if(i==j)\n            printf(\"%d %d\\n\",i,j);\n</code></pre></p>"},{"location":"incourse/db/ch3/#unique","title":"unique","text":"<p>unique\u5173\u952e\u5b57\u7528\u4e8e\u5224\u65ad\u4e00\u4e2a\u96c6\u5408\u662f\u5426\u552f\u4e00</p> <pre><code>select course_id\nfrom section as S\nwhere semester = \u2019Fall\u2019 and year= 2009 and unique (select course_id from section as T where semester = \u2019Spring\u2019 and year= 2010 and S.course_id= T.course_id);\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u7684\u76ee\u7684\u662f\u627e\u51fa2009\u5e74\u79cb\u5b63\u5b66\u671f\u5f00\u8bbe\u7684\u8bfe\u7a0b\u4e2d,\u57282010\u5e74\u6625\u5b63\u5b66\u671f\u5f00\u8bbe\u7684\u8bfe\u7a0b\u4e2d\u53ea\u6709\u4e00\u95e8\u8bfe\u7a0b\u4e0e\u4e4b\u76f8\u540c\u7684\u8bfe\u7a0b</p> <p>\u6ce8\u610f,\u5bf9\u4e8e\u7a7a\u96c6\u5408,<code>unique</code>\u8fd4\u56de<code>true</code>,\u800c<code>exists</code>\u8fd4\u56de<code>false</code></p> <p>Example</p> \ud83c\udf301\ud83c\udf302 <p>Find all courses that were offered once in 2009</p> General <pre><code>select T.course_id\nfrom section as T\nwhere T.semester = \u2019Fall\u2019 and T.year= 2009 and unique (select course_id from section where semester = \u2019Spring\u2019 and year= 2009 and T.course_id= course_id);\n</code></pre> <p>Find all courses that were offered at most once in every semester</p> General <pre><code>select T.course_id\nfrom section as T\nwhere unique(select course_id from section where semester = T.semester and year= T.year and T.course_id= course_id);\n</code></pre>"},{"location":"incourse/db/ch3/#from\u8bed\u53e5\u4e2d\u7684\u5b50\u67e5\u8be2\u8bed\u53e5","title":"From\u8bed\u53e5\u4e2d\u7684\u5b50\u67e5\u8be2\u8bed\u53e5","text":"<p>\u5728from\u8bed\u53e5\u4e2d,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b50\u67e5\u8be2\u8bed\u53e5,\u5373\u5728from\u8bed\u53e5\u4e2d\u5d4c\u5957\u53e6\u4e00\u4e2a\u67e5\u8be2</p> <p>Find the average instructors\u2019 salaries of those departments where the average salary is greater than $42,000. </p> <pre><code> select dept_name, avg_salary \n from (select dept_name, avg (salary) as avg_salary from instructor  group by dept_name) \n where avg_salary &gt; 42000;\n ```\n\n#### lateral clause\n\nlateral\u5b50\u53e5\u7528\u4e8e\u5728from\u8bed\u53e5\u4e2d\u5d4c\u5957\u53e6\u4e00\u4e2a\u67e5\u8be2,\u5e76\u4e14\u8fd9\u4e2a\u67e5\u8be2\u53ef\u4ee5\u5f15\u7528\u5916\u90e8\u67e5\u8be2\u7684\u5217\n\n``` sql\n\nselect T.course_id, T.semester, T.year, avg (T.grade)\nfrom takes as T, lateral (select avg (grade) from takes where course_id = T.course_id and semester = T.semester and year = T.year) as avg_grade\n</code></pre>"},{"location":"incourse/db/ch3/#with\u5b50\u53e5","title":"With\u5b50\u53e5","text":"<p>With\u5b50\u53e5\u7528\u4e8e\u5728\u67e5\u8be2\u4e2d\u5b9a\u4e49\u4e34\u65f6\u8868,\u76f8\u5f53\u4e8e\u5728\u67e5\u8be2\u4e2d\u5d4c\u5957\u53e6\u4e00\u4e2a\u67e5\u8be2,\u5e76\u4e14\u8fd9\u4e2a\u67e5\u8be2\u53ef\u4ee5\u5f15\u7528\u5916\u90e8\u67e5\u8be2\u7684\u5217</p> <pre><code>with avg_salary as (select dept_name, avg (salary) as avg_salary from instructor group by dept_name)\nselect dept_name\nfrom avg_salary\nwhere avg_salary &gt; 42000;\n</code></pre> <p>with\u8bed\u53e5\u4e5f\u53ef\u4ee5\u7528\u5728\u4e00\u4e9b\u590d\u6742\u7684\u67e5\u8be2\u4e2d:</p> <pre><code>with dept _total (dept_name, value) as\n        (select dept_name, sum(salary)\n         from instructor\n         group by dept_name),\n        dept_total_avg(value) as\n        (select avg(value)\n         from dept_total)\nselect dept_name\nfrom dept_total, dept_total_avg\nwhere dept_total.value &gt;= dept_total_avg.value;\n</code></pre>"},{"location":"incourse/db/ch3/#\u6570\u636e\u5e93\u4fee\u6539\u64cd\u4f5c","title":"\u6570\u636e\u5e93\u4fee\u6539\u64cd\u4f5c","text":""},{"location":"incourse/db/ch3/#\u5220\u9664\u64cd\u4f5c-delete","title":"\u5220\u9664\u64cd\u4f5c (DELETE)","text":"<p>\u6211\u4eec\u4f7f\u7528\u5173\u952e\u5b57 <code>delete</code> \u6765\u5b9e\u73b0\u5220\u9664\u64cd\u4f5c\uff0c\u5305\u62ec\uff1a</p> <ol> <li> <p>\u5220\u9664\u6574\u5f20\u8868\u4e2d\u7684\u6240\u6709\u6570\u636e (\u4fdd\u7559\u8868\u7ed3\u6784)</p> <pre><code>DELETE FROM instructor;\n</code></pre> <p>\u8fd9\u6761\u8bed\u53e5\u4f1a\u5220\u9664 <code>instructor</code> \u8868\u4e2d\u7684\u6240\u6709\u884c\uff0c\u4f46\u8868\u7ed3\u6784\uff08\u5217\u5b9a\u4e49\u3001\u7ea6\u675f\u7b49\uff09\u4ecd\u7136\u5b58\u5728\u3002</p> </li> <li> <p>\u5220\u9664\u6ee1\u8db3\u7279\u5b9a\u6761\u4ef6\u7684\u884c</p> <pre><code>DELETE FROM instructor\nWHERE dept_name = 'Comp. Sci.';\n</code></pre> <p>\u8fd9\u6761\u8bed\u53e5\u4f1a\u5220\u9664 <code>instructor</code> \u8868\u4e2d <code>dept_name</code> \u5217\u503c\u4e3a <code>'Comp. Sci.'</code> \u7684\u6240\u6709\u884c\u3002<code>WHERE</code> \u5b50\u53e5\u7528\u4e8e\u6307\u5b9a\u5220\u9664\u6761\u4ef6\u3002</p> <p>\u6ce8\u610f\uff1a <code>WHERE</code> \u5b50\u53e5\u53ef\u4ee5\u5305\u542b\u590d\u6742\u7684\u903b\u8f91\u8868\u8fbe\u5f0f(\u5982in,&gt;some\u7b49)\uff0c\u4f7f\u7528 <code>AND</code>\u3001<code>OR</code>\u3001<code>NOT</code> \u7b49\u903b\u8f91\u8fd0\u7b97\u7b26\u7ec4\u5408\u591a\u4e2a\u6761\u4ef6\u3002</p> <p>\u5916\u952e\u7ea6\u675f\u7684\u5f71\u54cd\uff1a \u5220\u9664\u64cd\u4f5c\u53ef\u80fd\u4f1a\u53d7\u5230\u5916\u952e\u7ea6\u675f\u7684\u5f71\u54cd\u3002\u5982\u679c\u88ab\u5220\u9664\u7684\u884c\u5728\u5176\u4ed6\u8868\u4e2d\u88ab\u5f15\u7528\uff08\u4f5c\u4e3a\u5916\u952e\uff09\uff0c\u5219\u5220\u9664\u64cd\u4f5c\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u6216\u8005\u6839\u636e\u5916\u952e\u7ea6\u675f\u7684\u5b9a\u4e49\u6267\u884c\u7ea7\u8054\u5220\u9664\u3001\u8bbe\u7f6e\u4e3a\u7a7a\u7b49\u64cd\u4f5c\u3002</p> </li> </ol>"},{"location":"incourse/db/ch3/#\u63d2\u5165\u64cd\u4f5c-insert","title":"\u63d2\u5165\u64cd\u4f5c (INSERT)","text":"<p>\u6211\u4eec\u4f7f\u7528\u5173\u952e\u5b57 <code>insert</code> \u6765\u5b9e\u73b0\u63d2\u5165\u64cd\u4f5c\uff0c\u5305\u62ec\uff1a</p> <ol> <li> <p>\u63d2\u5165\u5355\u4e2a\u5143\u7ec4</p> <pre><code>INSERT INTO instructor (ID, name, dept_name, salary)\nVALUES ('12345', '\u674e\u660e', 'Comp. Sci.', 80000);\n</code></pre> <p>\u8fd9\u6761\u8bed\u53e5\u5411 <code>instructor</code> \u8868\u4e2d\u63d2\u5165\u4e00\u4e2a\u65b0\u7684\u884c\uff0c\u6307\u5b9a\u4e86\u6bcf\u4e2a\u5217\u7684\u503c\u3002</p> <ul> <li>\u5217\u7684\u987a\u5e8f\u53ef\u4ee5\u4e0e\u8868\u4e2d\u5b9a\u4e49\u7684\u987a\u5e8f\u4e0d\u540c\uff0c\u4f46\u5fc5\u987b\u5728 <code>INSERT INTO</code> \u5b50\u53e5\u4e2d\u660e\u786e\u6307\u5b9a\u5217\u540d\u3002</li> <li>\u5982\u679c\u7701\u7565\u4e86\u67d0\u4e9b\u5217\uff0c\u5219\u8fd9\u4e9b\u5217\u7684\u503c\u5c06\u88ab\u8bbe\u7f6e\u4e3a <code>NULL</code>\uff08\u5982\u679c\u8be5\u5217\u5141\u8bb8 <code>NULL</code> \u503c\uff09\uff0c\u6216\u8005\u4f7f\u7528\u8be5\u5217\u7684\u9ed8\u8ba4\u503c\uff08\u5982\u679c\u5b9a\u4e49\u4e86\u9ed8\u8ba4\u503c\uff09\u3002</li> </ul> </li> <li> <p>\u63d2\u5165\u591a\u4e2a\u5143\u7ec4</p> <pre><code>INSERT INTO instructor (ID, name, dept_name, salary)\nVALUES\n    ('12345', '\u674e\u660e', 'Comp. Sci.', 80000),\n    ('67890', '\u738b\u7ea2', 'Physics', 75000);\n</code></pre> <p>\u8fd9\u6761\u8bed\u53e5\u4e00\u6b21\u6027\u5411 <code>instructor</code> \u8868\u4e2d\u63d2\u5165\u591a\u4e2a\u65b0\u7684\u884c\u3002</p> </li> <li> <p>\u4ece\u67e5\u8be2\u7ed3\u679c\u63d2\u5165</p> <pre><code>INSERT INTO instructor (ID, name, dept_name, salary)\nSELECT ID, name, dept_name, salary\nFROM old_instructor\nWHERE dept_name = 'Comp. Sci.';\n</code></pre> <p>\u8fd9\u6761\u8bed\u53e5\u4ece <code>old_instructor</code> \u8868\u4e2d\u67e5\u8be2 <code>dept_name</code> \u4e3a <code>'Comp. Sci.'</code> \u7684\u6240\u6709\u884c\uff0c\u5e76\u5c06\u67e5\u8be2\u7ed3\u679c\u63d2\u5165\u5230 <code>instructor</code> \u8868\u4e2d\u3002</p> <ul> <li><code>SELECT</code> \u5b50\u53e5\u4e2d\u7684\u5217\u5fc5\u987b\u4e0e <code>INSERT INTO</code> \u5b50\u53e5\u4e2d\u7684\u5217\u5728\u6570\u91cf\u548c\u6570\u636e\u7c7b\u578b\u4e0a\u5339\u914d\u3002</li> </ul> </li> </ol>"},{"location":"incourse/db/ch3/#\u66f4\u65b0\u64cd\u4f5c-update","title":"\u66f4\u65b0\u64cd\u4f5c (UPDATE)","text":"<p>\u6211\u4eec\u4f7f\u7528\u5173\u952e\u5b57 <code>update</code> \u6765\u5b9e\u73b0\u66f4\u65b0\u64cd\u4f5c\uff0c\u5305\u62ec\uff1a</p> <ol> <li> <p>\u66f4\u65b0\u6240\u6709\u884c</p> <pre><code>UPDATE instructor\nSET salary = salary * 1.1;\n</code></pre> <p>\u8fd9\u6761\u8bed\u53e5\u5c06 <code>instructor</code> \u8868\u4e2d\u6240\u6709\u884c\u7684 <code>salary</code> \u5217\u7684\u503c\u589e\u52a0 10%\u3002</p> </li> <li> <p>\u66f4\u65b0\u6ee1\u8db3\u7279\u5b9a\u6761\u4ef6\u7684\u884c</p> <pre><code>UPDATE instructor\nSET salary = salary * 1.1\nWHERE dept_name = 'Comp. Sci.';\n</code></pre> <p>\u8fd9\u6761\u8bed\u53e5\u5c06 <code>instructor</code> \u8868\u4e2d <code>dept_name</code> \u5217\u503c\u4e3a <code>'Comp. Sci.'</code> \u7684\u6240\u6709\u884c\u7684 <code>salary</code> \u5217\u7684\u503c\u589e\u52a0 10%\u3002<code>WHERE</code> \u5b50\u53e5\u7528\u4e8e\u6307\u5b9a\u66f4\u65b0\u6761\u4ef6\u3002</p> </li> <li> <p>\u66f4\u65b0\u591a\u4e2a\u5217</p> <pre><code>UPDATE instructor\nSET salary = salary * 1.1, dept_name = '\u4fe1\u606f\u79d1\u5b66'\nWHERE ID = '12345';\n</code></pre> <p>\u8fd9\u6761\u8bed\u53e5\u5c06 <code>instructor</code> \u8868\u4e2d <code>ID</code> \u4e3a <code>'12345'</code> \u7684\u884c\u7684 <code>salary</code> \u5217\u7684\u503c\u589e\u52a0 10%\uff0c\u5e76\u5c06 <code>dept_name</code> \u5217\u7684\u503c\u66f4\u65b0\u4e3a <code>'\u4fe1\u606f\u79d1\u5b66'</code>\u3002</p> </li> <li> <p>\u4f7f\u7528\u5b50\u67e5\u8be2\u66f4\u65b0</p> <pre><code>UPDATE instructor\nSET salary = (SELECT avg(salary) FROM instructor)\nWHERE dept_name = 'Comp. Sci.';\n</code></pre> <p>\u8fd9\u6761\u8bed\u53e5\u5c06 <code>instructor</code> \u8868\u4e2d <code>dept_name</code> \u5217\u503c\u4e3a <code>'Comp. Sci.'</code> \u7684\u6240\u6709\u884c\u7684 <code>salary</code> \u5217\u7684\u503c\u66f4\u65b0\u4e3a <code>instructor</code> \u8868\u4e2d\u6240\u6709\u6559\u5e08\u7684\u5e73\u5747\u5de5\u8d44\u3002</p> <p>\u6ce8\u610f\uff1a <code>UPDATE</code> \u8bed\u53e5\u4e5f\u53ef\u80fd\u4f1a\u53d7\u5230\u5916\u952e\u7ea6\u675f\u7684\u5f71\u54cd\uff0c\u7c7b\u4f3c\u4e8e <code>DELETE</code> \u8bed\u53e5\u3002</p> <p>case\u8bed\u53e5</p> <p><code>update</code>\u8bed\u53e5\u4e2d\u4e5f\u53ef\u4ee5\u4f7f\u7528<code>case</code>\u8bed\u53e5,\u7528\u4e8e\u6839\u636e\u6761\u4ef6\u66f4\u65b0\u4e0d\u540c\u7684\u503c</p> <pre><code>update instructor\nset salary = case\n                when dept_name = 'Comp. Sci.' then salary * 1.1\n                when dept_name = 'Physics' then salary * 1.05\n                else salary\n            end;\n</code></pre> </li> </ol>"},{"location":"incourse/db/ch4/","title":"Intermediate SQL","text":"<p> \u7ea6 3320 \u4e2a\u5b57  170 \u884c\u4ee3\u7801  6 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 19 \u5206\u949f</p>"},{"location":"incourse/db/ch4/#join-operations","title":"Join Operations","text":"<p>\u8fde\u63a5\u64cd\u4f5c\u6709\u8bb8\u591a\u7528\u6cd5\uff0c\u4e0b\u9762\u4ecb\u7ecdJoin Type\u4e0eJoin Condition\u3002</p>"},{"location":"incourse/db/ch4/#join-type","title":"Join Type","text":"<p>Join Type</p> <p></p> Inner JoinLeft JoinRight JoinFull Join <p>\u53ea\u8fd4\u56de\u4e24\u4e2a\u8868\u4e2d\u5339\u914d\u7684\u884c\u3002\u81ea\u7136\u8fde\u63a5\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u5185\u8fde\u63a5\uff0c\u5b83\u53ea\u8fd4\u56de\u4e24\u4e2a\u8868\u4e2d\u5177\u6709\u76f8\u540c\u503c\u7684\u884c\u3002\u81ea\u7136\u8fde\u63a5\u4e0d\u9700\u8981\u6307\u5b9a\u8fde\u63a5\u6761\u4ef6\uff0c\u56e0\u4e3a\u5b83\u4f1a\u81ea\u52a8\u4f7f\u7528\u4e24\u4e2a\u8868\u4e2d\u5177\u6709\u76f8\u540c\u540d\u79f0\u7684\u5217\u8fdb\u884c\u8fde\u63a5\u3002</p> <p></p> <pre><code>SELECT *\nFROM table1\nINNER JOIN table2\nON table1.column_name = table2.column_name;\n</code></pre> <p>\u8fd4\u56de\u5de6\u8868\u4e2d\u7684\u6240\u6709\u884c\uff0c\u4ee5\u53ca\u53f3\u8868\u4e2d\u5339\u914d\u7684\u884c\u3002\u5982\u679c\u53f3\u8868\u4e2d\u6ca1\u6709\u5339\u914d\u7684\u884c\uff0c\u5219\u7ed3\u679c\u4e2d\u5305\u542bNULL\u503c\u3002\u4e5f\u5c31\u662f\u5173\u7cfb\u4ee3\u6570\u4e2d\u7684\u5de6\u5916\u8fde\u63a5\u3002\u89c1\u8fd9\u91cc</p> <p></p> <pre><code>SELECT *\nFROM table1\nLEFT JOIN table2\nON table1.column_name = table2.column_name;\n</code></pre> <p>\u8fd4\u56de\u53f3\u8868\u4e2d\u7684\u6240\u6709\u884c\uff0c\u4ee5\u53ca\u5de6\u8868\u4e2d\u5339\u914d\u7684\u884c\u3002\u5982\u679c\u5de6\u8868\u4e2d\u6ca1\u6709\u5339\u914d\u7684\u884c\uff0c\u5219\u7ed3\u679c\u4e2d\u5305\u542bNULL\u503c\u3002\u4e5f\u5c31\u662f\u5173\u7cfb\u4ee3\u6570\u4e2d\u7684\u53f3\u5916\u8fde\u63a5\u3002</p> <p></p> <pre><code>SELECT *\nFROM table1\nRIGHT JOIN table2\nON table1.column_name = table2.column_name;\n</code></pre> <p>\u8fd4\u56de\u4e24\u4e2a\u8868\u4e2d\u7684\u6240\u6709\u884c\u3002\u5982\u679c\u67d0\u4e2a\u8868\u4e2d\u6ca1\u6709\u5339\u914d\u7684\u884c\uff0c\u5219\u7ed3\u679c\u4e2d\u5305\u542bNULL\u503c\u3002\u4e5f\u5c31\u662f\u5173\u7cfb\u4ee3\u6570\u4e2d\u7684\u5168\u5916\u8fde\u63a5\u3002</p> <p></p> <pre><code>SELECT *\nFROM table1\nFULL JOIN table2\nON table1.column_name = table2.column_name;\n</code></pre>"},{"location":"incourse/db/ch4/#join-condition","title":"Join Condition","text":"<p>\u6211\u4eec\u5c06\u8fde\u63a5\u6761\u4ef6\u5206\u4e3a\u4e09\u7c7b:</p> <ol> <li> <p>natural:\u81ea\u7136\u8fde\u63a5</p> <ul> <li>\u8fde\u63a5\u6761\u4ef6\u662f\u4e24\u4e2a\u8868\u4e2d\u5177\u6709\u76f8\u540c\u540d\u79f0\u7684\u5217\u3002</li> <li>\u4f8b\u5982: <code>SELECT * FROM table1 NATURAL JOIN table2;</code></li> </ul> </li> <li> <p>on :\u6761\u4ef6\u8fde\u63a5 <ul> <li>\u8fde\u63a5\u6761\u4ef6\u662f\u4e00\u4e2a\u5e03\u5c14\u8868\u8fbe\u5f0f\uff0c\u53ef\u4ee5\u662f\u4efb\u610f\u7684\u3002</li> <li>\u4f8b\u5982: <code>SELECT * FROM table1 JOIN table2 ON table1.column_name = table2.column_name;</code></li> <li>\u4f7f\u7528'on'\u8fde\u63a5\u65f6\uff0c\u5fc5\u987b\u6307\u5b9a\u8fde\u63a5\u6761\u4ef6\u3002\u8fde\u63a5\u6761\u4ef6\u53ef\u4ee5\u662f\u4efb\u610f\u7684\u5e03\u5c14\u8868\u8fbe\u5f0f\uff0c\u5305\u62ec\u6bd4\u8f83\u8fd0\u7b97\u7b26\u3001\u903b\u8f91\u8fd0\u7b97\u7b26\u7b49,\u53e6\u5916,\u8fd9\u6837\u7684\u8fde\u63a5\u4f1a\u8fd4\u56de\u6240\u6709\u5217\uff0c\u5305\u62ec\u8fde\u63a5\u6761\u4ef6\u4e2d\u4f7f\u7528\u7684\u5217\u7684\u4e24\u4e2a\u526f\u672c\u3002</li> </ul> <li> <p>using:\u7b49\u503c\u8fde\u63a5</p> <ul> <li>\u8fde\u63a5\u6761\u4ef6\u662f\u6307\u5b9a\u4e00\u4e2a\u6216\u591a\u4e2a\u5171\u4eab\u7684\u5217\u540d\uff0c\u8fd9\u4e9b\u5217\u5728\u4e24\u4e2a\u8868\u4e2d\u5fc5\u987b\u5177\u6709\u76f8\u540c\u7684\u540d\u79f0\u3002</li> <li>\u4e0e NATURAL JOIN \u4e0d\u540c\uff0cUSING \u5b50\u53e5\u5141\u8bb8\u4f60\u660e\u786e\u6307\u5b9a\u8981\u7528\u4e8e\u8fde\u63a5\u7684\u5217\uff0c\u800c\u4e0d\u662f\u81ea\u52a8\u4f7f\u7528\u6240\u6709\u540c\u540d\u5217\u3002</li> <li>\u4e0e ON \u5b50\u53e5\u4e0d\u540c\uff0cUSING \u5b50\u53e5\u66f4\u7b80\u6d01\uff0c\u5e76\u4e14\u4f1a\u5728\u7ed3\u679c\u4e2d\u53ea\u663e\u793a\u6307\u5b9a\u5217\u7684\u4e00\u4e2a\u526f\u672c\uff08\u800c\u4e0d\u662f\u4e24\u4e2a\uff09\u3002</li> <li>\u4f8b\u5982: <code>SELECT * FROM table1 JOIN table2 USING(column_name);</code></li> <li>\u4e5f\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\u5217: <code>SELECT * FROM table1 JOIN table2 USING(column1, column2);</code></li> </ul> </li> <p>JOIN \u8bed\u53e5\u662f\u7531Join Type\u548cJoin Condition\u7ec4\u6210\u7684\u3002\u5982\u679c\u4e0d\u6307\u660eJoin Type\uff0c\u9ed8\u8ba4\u4f7f\u7528Inner Join\u3002\u5982\u679c\u4e0d\u6307\u660eJoin Condition\uff0c\u9ed8\u8ba4\u4f7f\u7528\u81ea\u7136\u8fde\u63a5\u3002</p>"},{"location":"incourse/db/ch4/#sql-data-types-and-schemas","title":"SQL Data Types and Schemas","text":"<p>SQL \u6570\u636e\u7c7b\u578b\u662f\u7528\u4e8e\u5b9a\u4e49\u8868\u4e2d\u5217\u7684\u7c7b\u578b\u548c\u7ea6\u675f\u7684\u3002\u6bcf\u4e2a\u5217\u90fd\u5fc5\u987b\u6307\u5b9a\u4e00\u4e2a\u6570\u636e\u7c7b\u578b\uff0c\u4ee5\u4fbf\u6570\u636e\u5e93\u7cfb\u7edf\u77e5\u9053\u5982\u4f55\u5b58\u50a8\u548c\u5904\u7406\u8be5\u5217\u7684\u6570\u636e\u3002</p>"},{"location":"incourse/db/ch4/#built-in-data-types","title":"Built-in Data Types","text":"<p>\u89c1\u8fd9\u91cc</p>"},{"location":"incourse/db/ch4/#user-defined-types","title":"User-Defined Types","text":"<p>\u5728SQL\u4e2d,\u4f7f\u7528<code>CREATE TYPE</code>\u8bed\u53e5\u5b9a\u4e49\u7528\u6237\u81ea\u5b9a\u4e49\u7c7b\u578b\u3002\u7528\u6237\u81ea\u5b9a\u4e49\u7c7b\u578b\u53ef\u4ee5\u662f\u6807\u91cf\u7c7b\u578b\u3001\u590d\u5408\u7c7b\u578b\u3001\u679a\u4e3e\u7c7b\u578b\u3001\u8303\u56f4\u7c7b\u578b\u7b49\u3002</p> <pre><code>create type Dollars as numeric (12,2) final;\n</code></pre> <p>\u7136\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u5b9a\u4e49\u7684\u7c7b\u578b\u6765\u521b\u5efa\u8868\u4e86\u3002</p> <pre><code>create table account (\n    id integer,\n    balance Dollars\n);\n</code></pre>"},{"location":"incourse/db/ch4/#domains","title":"Domains","text":"<p>\u4f7f\u7528<code>CREATE DOMAIN</code>\u547d\u4ee4\u521b\u5efa\u503c\u57df</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>create domain degree_level varchar(10)\nconstraint degree_level_test\ncheck (value in (\u2019Bachelors\u2019, \u2019Masters\u2019, \u2019Doctorate\u2019));\n</code></pre> <p>\u8fd9\u6761\u8bed\u53e5\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a<code>degree_level</code>\u7684\u57df\uff0c\u5b83\u57fa\u4e8e<code>varchar(10)</code>\u6570\u636e\u7c7b\u578b\uff0c\u5e76\u6dfb\u52a0\u4e86\u4e00\u4e2a\u540d\u4e3a<code>degree_level_test</code>\u7684\u7ea6\u675f\uff0c\u8be5\u7ea6\u675f\u786e\u4fdd\u8be5\u57df\u7684\u503c\u53ea\u80fd\u662f'Bachelors'\u3001'Masters'\u6216'Doctorate'\u4e2d\u7684\u4e00\u4e2a\u3002</p>"},{"location":"incourse/db/ch4/#large-object-types","title":"Large-Object Types","text":"<p>\u4e00\u4e9b\u5927\u578b\u5bf9\u8c61\u7c7b\u578b\u5305\u62ec\uff1a</p> <ul> <li> <p><code>BLOB</code> (Binary Large Object): \u7528\u4e8e\u5b58\u50a8\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u5982\u56fe\u50cf\u3001\u97f3\u9891\u3001\u89c6\u9891\u7b49\u3002</p> <ul> <li> <p>'TinyBLOB'\uff1a\u6700\u5927\u957f\u5ea6\u4e3a 255 \u5b57\u8282</p> </li> <li> <p>'BLOB'\uff1a\u6700\u5927\u957f\u5ea6\u4e3a 65,535 (64 KB) \u5b57\u8282</p> </li> <li> <p>'MediumBLOB'\uff1a\u6700\u5927\u957f\u5ea6\u4e3a 16,777,215 (16 MB) \u5b57\u8282</p> </li> <li> <p>'LongBLOB'\uff1a\u6700\u5927\u957f\u5ea6\u4e3a 4,294,967,295 (4 GB) \u5b57\u8282</p> </li> </ul> </li> <li> <p><code>CLOB</code> (Character Large Object): \u7528\u4e8e\u5b58\u50a8\u5927\u91cf\u6587\u672c\u6570\u636e\uff0c\u5982\u6587\u6863\u3001HTML\u6587\u4ef6\u7b49\u3002</p> </li> <li> <p><code>NCLOB</code> (National Character Large Object): \u7528\u4e8e\u5b58\u50a8\u5927\u91cf\u7684\u56fd\u5bb6\u5b57\u7b26\u6570\u636e\uff0c\u901a\u5e38\u7528\u4e8e\u591a\u8bed\u8a00\u652f\u6301\u3002</p> </li> <li> <p><code>XML</code>: \u7528\u4e8e\u5b58\u50a8 XML \u6570\u636e\u3002</p> </li> </ul>"},{"location":"incourse/db/ch4/#\u5b8c\u6574\u6027\u7ea6\u675f","title":"\u5b8c\u6574\u6027\u7ea6\u675f","text":""},{"location":"incourse/db/ch4/#\u5355\u4e2a\u5173\u7cfb\u4e0a\u7684\u5b8c\u6574\u6027\u7ea6\u675f","title":"\u5355\u4e2a\u5173\u7cfb\u4e0a\u7684\u5b8c\u6574\u6027\u7ea6\u675f","text":"<ol> <li> <p><code>not null</code>\u7ea6\u675f</p> <ul> <li>\u786e\u4fdd\u5217\u4e2d\u7684\u503c\u4e0d\u80fd\u4e3a\u7a7a\u3002</li> <li>\u4f8b\u5982: <code>CREATE TABLE table_name (column_name data_type NOT NULL);</code></li> </ul> </li> <li> <p>\u4e3b\u952e\u7ea6\u675f</p> <ul> <li>\u786e\u4fdd\u5217\u4e2d\u7684\u503c\u552f\u4e00\u4e14\u4e0d\u80fd\u4e3a\u7a7a\u3002</li> <li>\u4f8b\u5982: <code>CREATE TABLE table_name (column_name data_type PRIMARY KEY);</code></li> <li>\u4e3b\u952e\u7ea6\u675f\u53ef\u4ee5\u7528\u4e8e\u5355\u5217\u6216\u591a\u5217\u3002</li> <li>\u4f8b\u5982: <code>CREATE TABLE table_name (column1 data_type, column2 data_type, PRIMARY KEY (column1, column2));</code></li> </ul> </li> <li> <p>\u552f\u4e00\u7ea6\u675f</p> <ul> <li>\u786e\u4fdd\u5217\u4e2d\u7684\u503c\u552f\u4e00\uff0c\u4f46\u53ef\u4ee5\u4e3a\u7a7a\u3002</li> <li>\u4f8b\u5982: <code>CREATE TABLE table_name (column_name data_type UNIQUE);</code></li> <li>\u552f\u4e00\u7ea6\u675f\u53ef\u4ee5\u7528\u4e8e\u5355\u5217\u6216\u591a\u5217\u3002</li> <li>\u4f8b\u5982: <code>CREATE TABLE table_name (column1 data_type, column2 data_type, UNIQUE (column1, column2));</code></li> </ul> </li> <li> <p><code>check</code>\u4ece\u53e5</p> </li> </ol>"},{"location":"incourse/db/ch4/#--checkpp\u662f\u4e00\u4e2a\u8c13\u8bed","title":"- check(P),P\u662f\u4e00\u4e2a\u8c13\u8bed","text":"<pre><code>```sql\ncreate table section (\ncourse_id varchar (8),\nsec_id varchar (8),\nsemester varchar (6),\nyear numeric (4,0),\nbuilding varchar (15),\nroom_number varchar (7),\ntime slot id varchar (4), \nprimary key (course_id, sec_id, semester, year),\ncheck (semester in (\u2019Fall\u2019, \u2019Winter\u2019, \u2019Spring\u2019, \u2019Summer\u2019)));\n```\n</code></pre> <ul> <li>\u8fd9\u91cc\u786e\u4fdd\u4e86\u5b66\u671f\u662f\u6625\u590f\u79cb\u51ac\u4e2d\u7684\u4e00\u4e2a</li> </ul>"},{"location":"incourse/db/ch4/#\u5f15\u7528\u5b8c\u6574\u6027","title":"\u5f15\u7528\u5b8c\u6574\u6027","text":"<p>\u5728\u8fd9\u91cc\u6709\u4ecb\u7ecd</p> <p>\u5bf9\u4e8e\u4e0b\u9762\u7684\u4f8b\u5b50:</p> <pre><code>create table person (ID  char(10),name char(40),mother char(10),father  char(10),primary key (ID),foreign key (father) references person,foreign key (mother) references person);\n</code></pre> <p>\u5bf9\u4e8e\u8fd9\u6837\u7684\u8868\uff0c\u4e3a\u4e86\u9632\u6b62\u63d2\u5165\u65f6\u51fa\u73b0\u9519\u8bef\uff0c\u6709\u5982\u4e0b\u65b9\u6cd5\uff1a</p> <ol> <li> <p>\u4ece\u7956\u5148\u5f00\u59cb\u63d2\u5165\uff0c\u4e5f\u5373\u5148\u63d2\u5165\u8fd9\u4e2a\u4eba\u7236\u6bcd\u7684\u4fe1\u606f\uff0c\u518d\u63d2\u5165\u8fd9\u4e2a\u4eba\u7684\u4fe1\u606f</p> </li> <li> <p>\u5141\u8bb8<code>NULL</code>\u503c,</p> <ul> <li>\u4f8b\u5982: <code>CREATE TABLE person (ID char(10), name char(40), mother char(10) NULL, father char(10) NULL, PRIMARY KEY (ID), FOREIGN KEY (father) REFERENCES person, FOREIGN KEY (mother) REFERENCES person);</code></li> <li>\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728\u63d2\u5165\u65f6\u4e0d\u6307\u5b9a\u7236\u6bcd\u7684\u4fe1\u606f</li> </ul> </li> <li> <p>\u5ef6\u8fdf\u7ea6\u675f\u68c0\u67e5</p> <ul> <li>\u901a\u8fc7\u5c06\u5916\u952e\u7ea6\u675f\u58f0\u660e\u4e3a\u53ef\u5ef6\u8fdf\u7684(DEFERRABLE)\uff0c\u53ef\u4ee5\u63a8\u8fdf\u7ea6\u675f\u68c0\u67e5\u5230\u4e8b\u52a1\u7ed3\u675f\u65f6\u8fdb\u884c</li> <li>\u4f8b\u5982: <pre><code>create table person (\n    ID char(10),\n    name char(40),\n    mother char(10),\n    father char(10),\n    primary key (ID),\n    foreign key (father) references person DEFERRABLE,\n    foreign key (mother) references person DEFERRABLE\n);\n</code></pre></li> <li>\u7136\u540e\u5728\u4e8b\u52a1\u4e2d\u8bbe\u7f6e\u7ea6\u675f\u68c0\u67e5\u6a21\u5f0f\uff1a <pre><code>SET CONSTRAINTS ALL DEFERRED;\n-- \u73b0\u5728\u53ef\u4ee5\u4ee5\u4efb\u610f\u987a\u5e8f\u63d2\u5165\u6570\u636e\nINSERT INTO person VALUES ('1', 'Child', '2', '3');\nINSERT INTO person VALUES ('2', 'Mother', NULL, NULL);\nINSERT INTO person VALUES ('3', 'Father', NULL, NULL);\nCOMMIT; -- \u5728\u4e8b\u52a1\u63d0\u4ea4\u65f6\u624d\u4f1a\u68c0\u67e5\u7ea6\u675f\n</code></pre></li> <li>\u8fd9\u79cd\u65b9\u5f0f\u5141\u8bb8\u6211\u4eec\u5148\u63d2\u5165\u5b50\u5973\u8bb0\u5f55\uff0c\u518d\u63d2\u5165\u7236\u6bcd\u8bb0\u5f55\uff0c\u53ea\u8981\u5728\u4e8b\u52a1\u7ed3\u675f\u65f6\u6240\u6709\u5f15\u7528\u90fd\u662f\u6709\u6548\u7684\u5373\u53ef</li> </ul> </li> </ol>"},{"location":"incourse/db/ch4/#assertion","title":"assertion","text":"<p>assertion\u662f\u4e00\u4e2a\u5e03\u5c14\u8868\u8fbe\u5f0f\uff0c\u5b83\u5728\u6570\u636e\u5e93\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7ea6\u675f\u6761\u4ef6\u3002assertion\u53ef\u4ee5\u7528\u4e8e\u68c0\u67e5\u6570\u636e\u5e93\u4e2d\u6240\u6709\u8868\u7684\u7ea6\u675f\u6761\u4ef6\u3002</p> <pre><code>CREATE ASSERTION assertion_name\nCHECK (condition);\n</code></pre> <p>\u4f46\u662f\uff0c\u4e0a\u8bfe\u65f6\u63d0\u5230,\u73b0\u5728\u5927\u591a\u6570\u6570\u636e\u5e93\u7cfb\u7edf\u90fd\u4e0d\u652f\u6301assertion\uff0c\u56e0\u4e3a\u5b83\u4eec\u4f1a\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\u3002assertion\u7684\u5b9e\u73b0\u9700\u8981\u5728\u6bcf\u6b21\u63d2\u5165\u3001\u66f4\u65b0\u6216\u5220\u9664\u6570\u636e\u65f6\u68c0\u67e5\u6240\u6709\u8868\u7684\u7ea6\u675f\u6761\u4ef6\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3002</p>"},{"location":"incourse/db/ch4/#views","title":"Views","text":"<p>\u6211\u4e5f\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48lab2\u5c31\u8981\u505a\u7684\u89c6\u56fe\u5728\u7b2c\u56db\u5468\u624d\u8bb2</p> <p>\u89c6\u56fe\u662f\u4e00\u4e2a\u865a\u62df\u8868\uff0c\u5b83\u662f\u7531\u4e00\u4e2a\u67e5\u8be2\u5b9a\u4e49\u7684\u3002\u89c6\u56fe\u53ef\u4ee5\u7528\u4e8e\u7b80\u5316\u590d\u6742\u7684\u67e5\u8be2\u3001\u9690\u85cf\u6570\u636e\u7684\u590d\u6742\u6027\u3001\u63d0\u4f9b\u5b89\u5168\u6027\u7b49\u3002 \u89c6\u56fe\u7684\u5b9a\u4e49\u662f\u4e00\u4e2a\u67e5\u8be2\uff0c\u5b83\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u8868\u7684\u8fde\u63a5\u3001\u8fc7\u6ee4\u3001\u6392\u5e8f\u7b49\u64cd\u4f5c\u3002\u89c6\u56fe\u672c\u8eab\u4e0d\u5b58\u50a8\u6570\u636e\uff0c\u800c\u662f\u5b58\u50a8\u67e5\u8be2\u7684\u5b9a\u4e49\u3002\u5f53\u67e5\u8be2\u89c6\u56fe\u65f6\uff0c\u6570\u636e\u5e93\u7cfb\u7edf\u4f1a\u6267\u884c\u89c6\u56fe\u7684\u5b9a\u4e49\u67e5\u8be2\uff0c\u5e76\u8fd4\u56de\u7ed3\u679c\u96c6\u3002</p>"},{"location":"incourse/db/ch4/#view-definition","title":"View Definition","text":"<p>\u4f7f\u7528\u8bed\u53e5 <pre><code>CREATE VIEW view_name AS\nSELECT column1, column2, ...\nFROM table_name\nWHERE condition;\n</code></pre> \u6765\u521b\u5efa\u89c6\u56fe.</p> <p>\u89c6\u56fe\u7684\u91cd\u8981\u7279\u70b9\uff1a 1. \u865a\u62df\u6027\uff1a\u521b\u5efa\u89c6\u56fe\u65f6\u5e76\u4e0d\u4f1a\u771f\u6b63\u5730\u521b\u5efa\u4e00\u4e2a\u65b0\u8868\u5e76\u5b58\u50a8\u6570\u636e\uff0c\u800c\u662f\u4ec5\u4ec5\u4fdd\u5b58\u4e86\u67e5\u8be2\u8868\u8fbe\u5f0f\u7684\u5b9a\u4e49\u3002    <pre><code>-- \u4f8b\u5982\u521b\u5efa\u4e00\u4e2a\u6559\u6388\u5de5\u8d44\u89c6\u56fe\nCREATE VIEW faculty_salary AS\nSELECT ID, name, salary\nFROM instructor\nWHERE dept_name = 'Finance';\n</code></pre></p> <ol> <li> <p>\u67e5\u8be2\u91cd\u5199\uff1a\u5f53\u4f7f\u7528\u89c6\u56fe\u65f6\uff0c\u7cfb\u7edf\u4f1a\u5c06\u89c6\u56fe\u7684\u5b9a\u4e49\u66ff\u6362\u5230\u539f\u59cb\u67e5\u8be2\u4e2d\u3002\u4f8b\u5982\uff1a    <pre><code>-- \u539f\u59cb\u67e5\u8be2\nSELECT name FROM faculty_salary WHERE salary &gt; 90000;\n\n-- \u7cfb\u7edf\u5b9e\u9645\u6267\u884c\u7684\u67e5\u8be2\nSELECT name \nFROM instructor \nWHERE dept_name = 'Finance' AND salary &gt; 90000;\n</code></pre></p> </li> <li> <p>\u52a8\u6001\u6027\uff1a\u7531\u4e8e\u89c6\u56fe\u662f\u57fa\u4e8e\u539f\u59cb\u8868\u7684\u67e5\u8be2\u5b9a\u4e49\uff0c\u6240\u4ee5\u5f53\u539f\u59cb\u8868\u7684\u6570\u636e\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u901a\u8fc7\u89c6\u56fe\u770b\u5230\u7684\u6570\u636e\u4e5f\u4f1a\u968f\u4e4b\u6539\u53d8\uff0c\u59cb\u7ec8\u53cd\u6620\u6700\u65b0\u7684\u6570\u636e\u72b6\u6001\u3002</p> </li> </ol>"},{"location":"incourse/db/ch4/#views-defined-using-other-views","title":"Views Defined Using Other Views","text":"<p>\u89c6\u56fe\u53ef\u4ee5\u5d4c\u5957\u5b9a\u4e49\uff0c\u5373\u4e00\u4e2a\u89c6\u56fe\u53ef\u4ee5\u57fa\u4e8e\u53e6\u4e00\u4e2a\u89c6\u56fe\u6765\u521b\u5efa\u3002\u8fd9\u6837\u53ef\u4ee5\u5b9e\u73b0\u66f4\u590d\u6742\u7684\u67e5\u8be2\u548c\u6570\u636e\u62bd\u8c61\u3002</p> <pre><code>CREATE VIEW view_name AS\nSELECT column1, column2, ...\nFROM another_view\nWHERE condition;\n</code></pre> <p>\u4f8b\u5982\uff1a <pre><code>CREATE VIEW high_salary_faculty AS\nSELECT ID, name\nFROM faculty_salary\nWHERE salary &gt; 90000;\n</code></pre></p>"},{"location":"incourse/db/ch4/#update-of-a-view","title":"Update of a View","text":"<p>\u89c6\u56fe\u4e5f\u53ef\u4ee5\u66f4\u65b0\u5176\u4e2d\u7684\u6570\u636e\uff0c\u5e76\u4e14\u8fd9\u79cd\u66f4\u65b0\u4f1a\u53cd\u6620\u5230\u539f\u6765\u7684\u8868\u4e2d\u3002</p> <p>\u4f46\u662f\uff0c\u8fd9\u79cd\u7279\u6027\u5bf9\u89c6\u56fe\u7684\u6761\u4ef6\u8981\u6c42\u5f88\u82db\u523b\uff0c\u53ea\u6709\u6ee1\u8db3\u5982\u4e0b\u6761\u4ef6\u7684\u89c6\u56fe\u624d\u53ef\u4ee5\u66f4\u65b0\uff1a</p> <ol> <li> <p>\u5355\u4e00\u57fa\u8868\uff1aFROM\u5b50\u53e5\u4e2d\u53ea\u80fd\u5305\u542b\u4e00\u4e2a\u6570\u636e\u5e93\u8868\uff0c\u4e0d\u80fd\u5305\u542b\u591a\u8868\u8fde\u63a5\u3001\u5b50\u67e5\u8be2\u7b49\u3002    <pre><code>-- \u53ef\u66f4\u65b0\u7684\u89c6\u56fe\nCREATE VIEW cs_faculty AS\nSELECT ID, name, salary\nFROM instructor\nWHERE dept_name = 'Comp. Sci.';\n\n-- \u4e0d\u53ef\u66f4\u65b0\u7684\u89c6\u56fe\uff08\u591a\u8868\u8fde\u63a5\uff09\nCREATE VIEW faculty_dept AS\nSELECT i.name, d.building\nFROM instructor i JOIN department d\nON i.dept_name = d.dept_name;\n</code></pre></p> </li> <li> <p>\u7b80\u5355\u6620\u5c04\uff1aSELECT\u5b50\u53e5\u53ea\u80fd\u5305\u542b\u5217\u540d\uff0c\u4e0d\u80fd\u5305\u542b\uff1a</p> </li> <li>\u8868\u8fbe\u5f0f\uff08\u5982 salary * 1.1\uff09</li> <li>\u805a\u5408\u51fd\u6570\uff08\u5982 SUM, COUNT\uff09</li> <li> <p>DISTINCT\u5173\u952e\u5b57    <pre><code>-- \u53ef\u66f4\u65b0\u7684\u89c6\u56fe\nCREATE VIEW simple_faculty AS\nSELECT ID, name, salary\nFROM instructor;\n\n-- \u4e0d\u53ef\u66f4\u65b0\u7684\u89c6\u56fe\uff08\u5305\u542b\u8868\u8fbe\u5f0f\uff09\nCREATE VIEW salary_plus AS\nSELECT ID, name, salary * 1.1 as increased_salary\nFROM instructor;\n</code></pre></p> </li> <li> <p>NULL\u503c\u5141\u8bb8\uff1a\u672a\u5728\u89c6\u56fe\u4e2d\u5217\u51fa\u7684\u539f\u8868\u5217\u5fc5\u987b\u5141\u8bb8\u4e3aNULL\u503c\u6216\u6709\u9ed8\u8ba4\u503c    <pre><code>-- \u5047\u8bbephone_number\u5141\u8bb8\u4e3aNULL\nCREATE VIEW basic_info AS\nSELECT ID, name\nFROM instructor;\n-- \u6b64\u65f6\u53ef\u4ee5\u901a\u8fc7\u89c6\u56fe\u63d2\u5165\u6570\u636e\uff0cphone_number\u4f1a\u81ea\u52a8\u8bbe\u4e3aNULL\n</code></pre></p> </li> <li> <p>\u65e0\u5206\u7ec4\uff1a\u67e5\u8be2\u4e2d\u4e0d\u80fd\u5305\u542bGROUP BY\u6216HAVING\u5b50\u53e5    <pre><code>-- \u4e0d\u53ef\u66f4\u65b0\u7684\u89c6\u56fe\uff08\u5305\u542b\u5206\u7ec4\uff09\nCREATE VIEW dept_total AS\nSELECT dept_name, SUM(salary) as total_salary\nFROM instructor\nGROUP BY dept_name;\n</code></pre></p> </li> </ol>"},{"location":"incourse/db/ch4/#materialized-views","title":"Materialized Views","text":"<p>\u7269\u5316\u89c6\u56fe\u662f\u4e00\u4e2a\u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d\u7684\u89c6\u56fe\uff0c\u4e0d\u540c\u4e8e\u666e\u901a\u7684\u89c6\u56fe\uff0c\u7269\u5316\u89c6\u56fe\u7684\u6570\u636e\u662f\u5b9e\u9645\u5b58\u50a8\u7684\uff0c\u800c\u4e0d\u662f\u52a8\u6001\u8ba1\u7b97\u7684\u3002\u7269\u5316\u89c6\u56fe\u53ef\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\uff0c\u5c24\u5176\u662f\u5728\u5904\u7406\u590d\u6742\u67e5\u8be2\u65f6\u3002</p> <p>\u7136\u800c,\u7269\u5316\u89c6\u56fe\u65e0\u6cd5\u81ea\u52a8\u4e0e\u539f\u59cb\u8868\u540c\u6b65\u66f4\u65b0\uff0c\u56e0\u6b64\u9700\u8981\u5b9a\u671f\u5237\u65b0\u4ee5\u4fdd\u6301\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002\u5237\u65b0\u53ef\u4ee5\u662f\u624b\u52a8\u7684\uff0c\u4e5f\u53ef\u4ee5\u662f\u5b9a\u671f\u81ea\u52a8\u7684\u3002</p> <p>\u6211\u4eec\u4f7f\u7528<code>CREATE MATERIALIZED VIEW</code>\u8bed\u53e5\u6765\u521b\u5efa\u7269\u5316\u89c6\u56fe\u3002</p> <pre><code>CREATE MATERIALIZED VIEW view_name AS\nSELECT column1, column2, ...\nFROM table_name\nWHERE condition;\n</code></pre> <p>\u7269\u5316\u89c6\u56fe\u7684\u5237\u65b0\u53ef\u4ee5\u4f7f\u7528<code>REFRESH MATERIALIZED VIEW</code>\u8bed\u53e5\u6765\u5b9e\u73b0\u3002</p> <p><pre><code>REFRESH MATERIALIZED VIEW view_name;\n</code></pre> \u5982\u679c\u8981\u5728\u521b\u5efa\u7269\u5316\u89c6\u56fe\u65f6\u6307\u5b9a\u5237\u65b0\u7b56\u7565\uff0c\u53ef\u4ee5\u4f7f\u7528<code>WITH DATA</code>\u6216<code>WITH NO DATA</code>\u9009\u9879\u3002 - <code>WITH DATA</code>\uff1a\u521b\u5efa\u7269\u5316\u89c6\u56fe\u65f6\u7acb\u5373\u586b\u5145\u6570\u636e - <code>WITH NO DATA</code>\uff1a\u521b\u5efa\u7269\u5316\u89c6\u56fe\u65f6\u4e0d\u586b\u5145\u6570\u636e\uff0c\u7a0d\u540e\u53ef\u4ee5\u624b\u52a8\u5237\u65b0\u6570\u636e <pre><code>CREATE MATERIALIZED VIEW view_name\nWITH NO DATA AS\nSELECT column1, column2, ...\nFROM table_name\nWHERE condition;\n</code></pre></p>"},{"location":"incourse/db/ch4/#indexs","title":"Indexs","text":"<p>\u7d22\u5f15\u662f\u6570\u636e\u5e93\u4e2d\u7528\u4e8e\u52a0\u901f\u6570\u636e\u68c0\u7d22\u7684\u7ed3\u6784\u3002\u5b83\u4eec\u7c7b\u4f3c\u4e8e\u4e66\u7c4d\u7684\u76ee\u5f55\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5feb\u901f\u5b9a\u4f4d\u6570\u636e\u3002\u7d22\u5f15\u53ef\u4ee5\u5728\u4e00\u4e2a\u6216\u591a\u4e2a\u5217\u4e0a\u521b\u5efa\uff0c\u5176\u5e95\u5c42\u5b9e\u73b0\u662f\u6211\u4eec\u5728ADS\u4e2d\u5b66\u8fc7\u7684B+\u6811\u3002</p> <p>\u5176\u547d\u4ee4\u8bed\u53e5\u5305\u62ec:</p> <ol> <li> <p>\u521b\u5efa\u7d22\u5f15     <pre><code>CREATE INDEX index_name\nON table_name (column1, column2, ...);\n</code></pre></p> </li> <li> <p>\u5220\u9664\u7d22\u5f15     <pre><code>DROP INDEX index_name;\n</code></pre></p> </li> </ol>"},{"location":"incourse/db/ch4/#transactions\u4e8b\u52a1","title":"Transactions(\u4e8b\u52a1)","text":"<p>\u4e8b\u52a1\u7684ACID\u7279\u6027\u5305\u62ec\uff1a</p> <ol> <li> <p>\u539f\u5b50\u6027(Atomicity)\uff1a</p> <ul> <li> <p>\u4e8b\u52a1\u662f\u4e00\u4e2a\u4e0d\u53ef\u5206\u5272\u7684\u64cd\u4f5c\u5355\u5143\uff0c\u8981\u4e48\u5168\u90e8\u6267\u884c\u6210\u529f\uff0c\u8981\u4e48\u5168\u90e8\u4e0d\u6267\u884c</p> </li> <li> <p>\u4f8b\u5982\uff1a\u94f6\u884c\u8f6c\u8d26\u65f6\uff0c\u4eceA\u8d26\u6237\u6263\u6b3e\u548c\u5411B\u8d26\u6237\u5b58\u6b3e\u5fc5\u987b\u540c\u65f6\u6210\u529f\u6216\u540c\u65f6\u5931\u8d25</p> </li> </ul> <pre><code>BEGIN TRANSACTION;\nUPDATE account SET balance = balance - 100 WHERE account_id = 'A';\nUPDATE account SET balance = balance + 100 WHERE account_id = 'B';\nCOMMIT;  -- \u5168\u90e8\u6210\u529f\u624d\u63d0\u4ea4\n-- \u5982\u679c\u4efb\u4f55\u4e00\u6b65\u5931\u8d25\uff0c\u5219\u81ea\u52a8ROLLBACK\n</code></pre> </li> <li> <p>\u4e00\u81f4\u6027(Consistency)\uff1a</p> <ul> <li> <p>\u4e8b\u52a1\u6267\u884c\u524d\u540e\uff0c\u6570\u636e\u5e93\u5fc5\u987b\u4ece\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001\u8f6c\u6362\u5230\u53e6\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001</p> </li> <li> <p>\u4f8b\u5982\uff1a\u8f6c\u8d26\u524d\u540e\uff0c\u603b\u91d1\u989d\u4fdd\u6301\u4e0d\u53d8\uff1b\u5916\u952e\u7ea6\u675f\u3001\u552f\u4e00\u6027\u7ea6\u675f\u7b49\u89c4\u5219\u59cb\u7ec8\u5f97\u5230\u6ee1\u8db3 <pre><code>-- \u8f6c\u8d26\u524d\u540e\u603b\u989d\u76f8\u540c\nSELECT SUM(balance) FROM account;  -- \u8f6c\u8d26\u524d\uff1a1000\n-- \u8f6c\u8d26\u64cd\u4f5c\nSELECT SUM(balance) FROM account;  -- \u8f6c\u8d26\u540e\uff1a1000\n</code></pre></p> </li> </ul> </li> <li> <p>\u9694\u79bb\u6027(Isolation)\uff1a</p> <ul> <li>\u591a\u4e2a\u4e8b\u52a1\u5e76\u53d1\u6267\u884c\u65f6\uff0c\u6bcf\u4e2a\u4e8b\u52a1\u90fd\u5e94\u8be5\u611f\u89c9\u4e0d\u5230\u5176\u4ed6\u4e8b\u52a1\u7684\u5b58\u5728</li> <li>\u4e8b\u52a1\u7684\u4e2d\u95f4\u7ed3\u679c\u5bf9\u5176\u4ed6\u4e8b\u52a1\u5fc5\u987b\u662f\u4e0d\u53ef\u89c1\u7684</li> <li>\u5bf9\u4e8e\u4efb\u610f\u4e24\u4e2a\u4e8b\u52a1T1\u548cT2\uff0cT1\u5fc5\u987b\u89c9\u5f97\u81ea\u5df1\u8981\u4e48\u662f\u5728T2\u5b8c\u5168\u6267\u884c\u5b8c\u540e\u624d\u5f00\u59cb\u6267\u884c\uff0c\u8981\u4e48\u662f\u5728T2\u5f00\u59cb\u6267\u884c\u524d\u5c31\u5df2\u7ecf\u6267\u884c\u5b8c\u6210 <pre><code>-- \u4e8b\u52a11\nBEGIN TRANSACTION;\nUPDATE account SET balance = balance - 100 WHERE account_id = 'A';\n-- \u6b64\u65f6\u4e8b\u52a12\u65e0\u6cd5\u770b\u5230\u4f59\u989d\u51cf\u5c11\nCOMMIT;\n\n-- \u4e8b\u52a12\nBEGIN TRANSACTION;\nSELECT balance FROM account WHERE account_id = 'A';\n-- \u8981\u4e48\u770b\u5230\u66f4\u65b0\u524d\u7684\u4f59\u989d\uff0c\u8981\u4e48\u770b\u5230\u66f4\u65b0\u540e\u7684\u4f59\u989d\uff0c\u4e0d\u4f1a\u770b\u5230\u4e2d\u95f4\u72b6\u6001\nCOMMIT;\n</code></pre></li> </ul> </li> <li> <p>\u6301\u4e45\u6027(Durability)\uff1a</p> <ul> <li> <p>\u4e00\u65e6\u4e8b\u52a1\u63d0\u4ea4\uff0c\u5176\u5bf9\u6570\u636e\u5e93\u7684\u4fee\u6539\u5c31\u662f\u6c38\u4e45\u6027\u7684</p> </li> <li> <p>\u5373\u4f7f\u7cfb\u7edf\u5d29\u6e83\uff0c\u5df2\u63d0\u4ea4\u7684\u4e8b\u52a1\u7ed3\u679c\u4e5f\u4e0d\u4f1a\u4e22\u5931</p> </li> <li> <p>\u901a\u5e38\u901a\u8fc7\u5199\u5165\u78c1\u76d8\u548c\u65e5\u5fd7\u673a\u5236\u6765\u5b9e\u73b0</p> </li> </ul> <pre><code>BEGIN TRANSACTION;\nUPDATE account SET balance = balance - 100;\nCOMMIT;  -- \u63d0\u4ea4\u540e\uff0c\u5373\u4f7f\u7cfb\u7edf\u7acb\u5373\u5d29\u6e83\uff0c\u66f4\u65b0\u4e5f\u4e0d\u4f1a\u4e22\u5931\n</code></pre> </li> </ol>"},{"location":"incourse/db/ch4/#\u4e8b\u52a1\u76f8\u5173\u7684\u547d\u4ee4","title":"\u4e8b\u52a1\u76f8\u5173\u7684\u547d\u4ee4","text":"<ol> <li> <p><code>BEGIN TRANSACTION</code>\uff1a\u5f00\u59cb\u4e00\u4e2a\u65b0\u7684\u4e8b\u52a1</p> </li> <li> <p><code>COMMIT</code>\uff1a\u63d0\u4ea4\u5f53\u524d\u4e8b\u52a1\uff0c\u5c06\u6240\u6709\u66f4\u6539\u6c38\u4e45\u4fdd\u5b58\u5230\u6570\u636e\u5e93\u4e2d</p> </li> <li> <p><code>ROLLBACK</code>\uff1a\u56de\u6eda\u5f53\u524d\u4e8b\u52a1\uff0c\u64a4\u9500\u81ea\u4e0a\u6b21\u63d0\u4ea4\u4ee5\u6765\u7684\u6240\u6709\u66f4\u6539</p> </li> <li> <p><code>SAVEPOINT</code>\uff1a\u8bbe\u7f6e\u4e00\u4e2a\u4fdd\u5b58\u70b9\uff0c\u53ef\u4ee5\u5728\u4e8b\u52a1\u4e2d\u56de\u6eda\u5230\u8be5\u4fdd\u5b58\u70b9    <pre><code>SAVEPOINT savepoint_name;\n</code></pre></p> </li> </ol>"},{"location":"incourse/db/ch4/#authorization","title":"Authorization","text":"<p>\u6570\u636e\u5e93\u4e2d\u7684\u6388\u6743\u53ef\u4ee5\u5206\u4e3a\u4e24\u5927\u7c7b\uff1a</p>"},{"location":"incourse/db/ch4/#\u6570\u636e\u64cd\u4f5c\u6388\u6743","title":"\u6570\u636e\u64cd\u4f5c\u6388\u6743","text":"<p>\u5141\u8bb8\u7528\u6237\u5bf9\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\uff1a</p> <ol> <li> <p>SELECT\uff1a\u5141\u8bb8\u8bfb\u53d6\u6570\u636e\uff0c\u4f46\u4e0d\u80fd\u4fee\u6539    <pre><code>GRANT SELECT ON table_name TO user_name;\n</code></pre></p> </li> <li> <p>INSERT\uff1a\u5141\u8bb8\u63d2\u5165\u65b0\u6570\u636e\uff0c\u4f46\u4e0d\u80fd\u4fee\u6539\u73b0\u6709\u6570\u636e    <pre><code>GRANT INSERT ON table_name TO user_name;\n</code></pre></p> </li> <li> <p>UPDATE\uff1a\u5141\u8bb8\u4fee\u6539\u73b0\u6709\u6570\u636e\uff0c\u4f46\u4e0d\u80fd\u5220\u9664    <pre><code>GRANT UPDATE ON table_name TO user_name;\n</code></pre></p> </li> <li> <p>DELETE\uff1a\u5141\u8bb8\u5220\u9664\u6570\u636e    <pre><code>GRANT DELETE ON table_name TO user_name;\n</code></pre></p> </li> </ol>"},{"location":"incourse/db/ch4/#2-\u6570\u636e\u5b9a\u4e49\u6388\u6743","title":"2. \u6570\u636e\u5b9a\u4e49\u6388\u6743","text":"<p>\u5141\u8bb8\u7528\u6237\u4fee\u6539\u6570\u636e\u5e93\u7684\u7ed3\u6784\uff1a</p> <ol> <li> <p>RESOURCES/CREATE\uff1a\u5141\u8bb8\u521b\u5efa\u65b0\u7684\u5173\u7cfb\uff08\u8868\uff09    <pre><code>-- MySQL\u4e2d\u4f7f\u7528CREATE\nGRANT CREATE ON database_name TO user_name;\n</code></pre></p> </li> <li> <p>ALTER\uff1a\u5141\u8bb8\u5728\u5173\u7cfb\u4e2d\u6dfb\u52a0\u6216\u5220\u9664\u5c5e\u6027\uff08\u5217\uff09    <pre><code>GRANT ALTER ON table_name TO user_name;\n</code></pre></p> </li> <li> <p>DROP\uff1a\u5141\u8bb8\u5220\u9664\u5173\u7cfb\uff08\u8868\uff09    <pre><code>GRANT DROP ON database_name TO user_name;\n</code></pre></p> </li> <li> <p>INDEX\uff1a\u5141\u8bb8\u521b\u5efa\u548c\u5220\u9664\u7d22\u5f15    <pre><code>GRANT INDEX ON table_name TO user_name;\n</code></pre></p> </li> <li> <p>CREATE VIEW\uff1a\u5141\u8bb8\u521b\u5efa\u89c6\u56fe    <pre><code>GRANT CREATE VIEW ON database_name TO user_name;\n</code></pre></p> </li> </ol> <p>\u53ef\u4ee5\u540c\u65f6\u6388\u4e88\u591a\u4e2a\u6743\u9650\uff1a <pre><code>GRANT SELECT, INSERT, UPDATE ON table_name TO user_name;\n</code></pre></p> <p>\u64a4\u9500\u6743\u9650\u4f7f\u7528REVOKE\u547d\u4ee4\uff1a <pre><code>REVOKE SELECT, UPDATE ON table_name FROM user_name;\n</code></pre></p>"},{"location":"incourse/db/ch4/#grant\u6388\u6743\u547d\u4ee4","title":"Grant:\u6388\u6743\u547d\u4ee4","text":"<p>\u4e0a\u9762\u4f7f\u7528\u7684<code>GRANT</code>\u547d\u4ee4\u7528\u4e8e\u6388\u6743\u7528\u6237\u5bf9\u6570\u636e\u5e93\u5bf9\u8c61\u7684\u8bbf\u95ee\u6743\u9650\u3002\u5b83\u5141\u8bb8\u6570\u636e\u5e93\u7ba1\u7406\u5458\u6216\u62e5\u6709\u8db3\u591f\u6743\u9650\u7684\u7528\u6237\u5c06\u7279\u5b9a\u7684\u64cd\u4f5c\u6743\u9650\u6388\u4e88\u5176\u4ed6\u7528\u6237\u3002</p> <p><code>Grant</code>\u547d\u4ee4\u7684\u4e00\u822c\u683c\u5f0f\u4e3a:</p> <pre><code>GRANT privilege_type\nON object_name\nTO user_name\nWITH GRANT OPTION;\n</code></pre> <p>Warning</p> <p>\u4e00\u4e2a\u89c6\u56fe\u7684\u6388\u6743\u5e76\u4e0d\u610f\u5473\u7740\u5bf9\u5176\u57fa\u8868\u7684\u6388\u6743\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u7528\u6237\u53ef\u4ee5\u67e5\u8be2\u89c6\u56fe\uff0c\u4f46\u4e0d\u80fd\u67e5\u8be2\u89c6\u56fe\u6240\u57fa\u4e8e\u7684\u8868\uff0c\u9664\u975e\u4ed6\u4eec\u4e5f\u88ab\u6388\u4e88\u4e86\u5bf9\u57fa\u8868\u7684\u8bbf\u95ee\u6743\u9650\u3002</p>"},{"location":"incourse/db/ch4/#revoke\u64a4\u9500\u6743\u9650","title":"Revoke:\u64a4\u9500\u6743\u9650","text":"<p>\u6709\u4e86\u6388\u4e88\u6743\u9650\u7684\u547d\u4ee4,\u5fc5\u7136\u4e5f\u6709\u64a4\u9500\u6743\u9650\u7684\u547d\u4ee4.\u6211\u4eec\u4f7f\u7528<code>revoke</code>\u6765\u64a4\u9500\u6743\u9650.</p> <p><code>revoke</code>\u7684\u57fa\u672c\u683c\u5f0f\u4e0e<code>grant</code>\u4e00\u6837</p> <pre><code>revoke privilege_type\nON object_name\nTO user_name;\n</code></pre>"},{"location":"incourse/db/ch4/#roles","title":"Roles","text":"<p>\u5728\u6570\u636e\u5e93\u4e2d,\u6211\u4eec\u53ef\u4ee5\u521b\u9020\u4e00\u4e2a\u89d2\u8272,\u5bf9\u4e8e\u8fd9\u4e2a\u89d2\u8272\u53ef\u4ee5\u8bbe\u5b9a\u7279\u5b9a\u7684\u6743\u9650,\u5e76\u5c06\u8fd9\u4e2a\u89d2\u8272\u6388\u4e88\u7528\u6237.</p> <p>\u4f7f\u7528<code>create role role_name</code>\u6765\u521b\u5efa\u4e00\u4e2a\u89d2\u8272.</p> <p>\u6743\u9650\u53ef\u4ee5\u88ab\u6388\u4e88\u7ed9\u89d2\u8272,\u89d2\u8272\u4e5f\u53ef\u4ee5\u88ab\u6388\u4e88\u7ed9\u89d2\u8272(\u7ee7\u627f\u6240\u6709\u6743\u9650)</p> <p>\u6743\u9650,\u89d2\u8272,\u7528\u6237\u7684\u6388\u4e88\u5173\u7cfb\u5982\u4e0b\u56fe</p>"},{"location":"incourse/db/ch4/#other-authorization-features","title":"Other Authorization Features","text":"<p>\u5916\u952e\u7684\u5f15\u7528\u540c\u6837\u4e5f\u9700\u8981\u6743\u9650</p> <p>\u6743\u9650\u7684\u8f6c\u79fb:</p> <ol> <li> <p>WITH GRANT OPTION\uff1a\u5141\u8bb8\u88ab\u6388\u6743\u8005\u8fdb\u4e00\u6b65\u5c06\u6743\u9650\u6388\u4e88\u5176\u4ed6\u7528\u6237    <pre><code>-- \u5141\u8bb8Amit\u5c06department\u8868\u7684SELECT\u6743\u9650\u6388\u4e88\u7ed9\u5176\u4ed6\u7528\u6237\nGRANT SELECT ON department TO Amit WITH GRANT OPTION;\n</code></pre></p> </li> <li> <p>CASCADE\u64a4\u9500\uff1a\u7ea7\u8054\u64a4\u9500\u6743\u9650\uff0c\u4f1a\u540c\u65f6\u64a4\u9500\u6240\u6709\u901a\u8fc7\u8be5\u7528\u6237\u83b7\u5f97\u7684\u76f8\u5173\u6743\u9650    <pre><code>-- \u64a4\u9500Amit\u548cSatoshi\u7684SELECT\u6743\u9650\uff0c\u540c\u65f6\u64a4\u9500\u4ed6\u4eec\u6388\u4e88\u7ed9\u5176\u4ed6\u7528\u6237\u7684\u6743\u9650\nREVOKE SELECT ON department FROM Amit, Satoshi CASCADE;\n</code></pre></p> </li> <li> <p>RESTRICT\u64a4\u9500\uff1a\u9650\u5236\u6027\u64a4\u9500\uff0c\u5982\u679c\u6709\u5176\u4ed6\u7528\u6237\u901a\u8fc7\u88ab\u64a4\u9500\u8005\u83b7\u5f97\u4e86\u6743\u9650\uff0c\u5219\u64a4\u9500\u64cd\u4f5c\u4f1a\u5931\u8d25    <pre><code>-- \u53ea\u6709\u5728Amit\u548cSatoshi\u6ca1\u6709\u5c06\u6743\u9650\u6388\u4e88\u5176\u4ed6\u7528\u6237\u65f6\u624d\u80fd\u6210\u529f\u64a4\u9500\nREVOKE SELECT ON department FROM Amit, Satoshi RESTRICT;\n</code></pre></p> </li> <li> <p>\u4ec5\u64a4\u9500\u6388\u6743\u6743\u9650\uff1a\u53ea\u64a4\u9500\u7528\u6237\u8f6c\u6388\u6743\u9650\u7684\u80fd\u529b\uff0c\u4f46\u4fdd\u7559\u5176\u539f\u6709\u6743\u9650    <pre><code>-- Amit\u4fdd\u7559SELECT\u6743\u9650\uff0c\u4f46\u4e0d\u80fd\u518d\u5c06\u6b64\u6743\u9650\u6388\u4e88\u5176\u4ed6\u7528\u6237\nREVOKE GRANT OPTION FOR SELECT ON department FROM Amit;\n</code></pre></p> </li> </ol> <p>\u4f8b\u5982\uff0c\u5047\u8bbe\u4ee5\u4e0b\u6743\u9650\u94fe\uff1a</p> <ol> <li>\u7ba1\u7406\u5458\u6388\u6743\u7ed9Amit\uff08\u5e26GRANT OPTION\uff09</li> <li>Amit\u6388\u6743\u7ed9Bob</li> <li>Bob\u6388\u6743\u7ed9Carol</li> </ol> <p>\u5982\u679c\u4f7f\u7528CASCADE\u64a4\u9500Amit\u7684\u6743\u9650\uff0c\u5219Bob\u548cCarol\u7684\u6743\u9650\u4e5f\u4f1a\u88ab\u64a4\u9500\u3002</p> <p>\u5982\u679c\u4f7f\u7528RESTRICT\u64a4\u9500Amit\u7684\u6743\u9650\uff0c\u7531\u4e8eBob\u5df2\u83b7\u5f97\u6743\u9650\uff0c\u64a4\u9500\u64cd\u4f5c\u4f1a\u5931\u8d25\u3002</p> <p>\u5982\u679c\u53ea\u64a4\u9500Amit\u7684GRANT OPTION\uff0c\u5219Amit\u4ecd\u53ef\u4ee5\u4f7f\u7528SELECT\u6743\u9650\uff0c\u4f46\u4e0d\u80fd\u518d\u6388\u6743\u7ed9\u5176\u4ed6\u4eba\u3002</p>"},{"location":"incourse/db/ch5/","title":"Advanced SQL","text":"<p> \u7ea6 3585 \u4e2a\u5b57  488 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 24 \u5206\u949f</p> <p>\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d,\u6211\u4eec\u5e76\u4e0d\u901a\u5e38\u4f7f\u7528SQL\u8bed\u53e5\u6765\u67e5\u8be2\u6570\u636e.\u8fd9\u662f\u56e0\u4e3a,\u4e0d\u662f\u6240\u6709\u7684\u67e5\u8be2\u8bed\u53e5\u90fd\u80fd\u4f7f\u7528SQL\u6765\u8868\u8fbe,SQL\u4e5f\u65e0\u6cd5\u5b9e\u73b0\u8bf8\u5982\u7528\u6237\u4ea4\u4e92\u7b49\u529f\u80fd.\u56e0\u6b64,\u6211\u4eec\u5e0c\u671b\u4ece\u4e00\u4e2a\u7f16\u7a0b\u8bed\u8a00(Programming Language)\u4e2d\u8c03\u7528SQL\u8bed\u53e5,\u5e76\u5c06\u7ed3\u679c\u8fd4\u56de\u7ed9\u5e94\u7528\u7a0b\u5e8f.</p> <p>\u4e0a\u8ff0\u76ee\u6807\u7684\u5b9e\u73b0\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u4e24\u79cd\u65b9\u6cd5:</p> <ol> <li> <p>API:\u4f7f\u7528\u7f16\u7a0b\u8bed\u8a00\u63d0\u4f9b\u7684\u6570\u636e\u5e93\u8fde\u63a5\u5e93\u6216\u6846\u67b6\uff0c\u901a\u8fc7\u51fd\u6570\u8c03\u7528\u6765\u6267\u884cSQL\u8bed\u53e5\u548c\u5904\u7406\u7ed3\u679c</p> </li> <li> <p>Embedded SQL:\u5c06SQL\u8bed\u53e5\u76f4\u63a5\u5d4c\u5165\u5230\u5bbf\u4e3b\u7f16\u7a0b\u8bed\u8a00\u7684\u4ee3\u7801\u4e2d\uff0c\u5728\u9884\u7f16\u8bd1\u9636\u6bb5\u7531\u4e13\u95e8\u7684\u9884\u5904\u7406\u5668\u5904\u7406\u3002</p> </li> </ol>"},{"location":"incourse/db/ch5/#jdbc-and-odbc","title":"JDBC and ODBC","text":"<p>JDBC(Java Database Connectivity)\u548cODBC(Open Database Connectivity)\u662f\u4e24\u79cd\u5e38\u7528\u7684\u6570\u636e\u5e93\u8fde\u63a5API\u3002\u5b83\u4eec\u63d0\u4f9b\u4e86\u4e00\u7ec4\u6807\u51c6\u7684\u63a5\u53e3\u548c\u7c7b\u5e93\uff0c\u4f7f\u5f97\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u7edf\u4e00\u7684\u65b9\u5f0f\u8bbf\u95ee\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u5e93\u3002</p> <p>JDBC\u4f7f\u7528Java,ODBC\u4f7f\u7528C,C++,C#\u7b49\u8bed\u8a00.</p> <p>\u5b83\u4eec\u4e3b\u8981\u7684\u529f\u80fd\u662f:</p> <ol> <li> <p>\u8fde\u63a5\u5230\u6570\u636e\u5e93\u670d\u52a1\u5668</p> </li> <li> <p>\u5411\u6570\u636e\u5e93\u670d\u52a1\u5668\u53d1\u9001SQL\u547d\u4ee4</p> </li> <li> <p>\u6293\u53d6\u7ed3\u679c\u5143\u7ec4\u5230\u53d8\u91cf\u4e2d.</p> </li> </ol> <p>SQLJ\u662fJava\u4e2d\u7684Embedded SQL.</p>"},{"location":"incourse/db/ch5/#jdbc","title":"JDBC","text":"<p>\u5f15\u5165<code>java.sql.*</code>\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528JDBC API\u6765\u8fde\u63a5\u6570\u636e\u5e93,\u6267\u884cSQL\u8bed\u53e5\u548c\u5904\u7406\u7ed3\u679c\u96c6.</p> <p>Example</p> \u8fde\u63a5\u6570\u636e\u5e93UpdateSelect <pre><code>public static void JDBCexample(String dbid, String userid, String passwd) {\n    try {\n        // 1. \u5efa\u7acb\u6570\u636e\u5e93\u8fde\u63a5\n        Connection conn = DriverManager.getConnection(\n            \"jdbc:oracle:thin:@db.yale.edu:2000:univdb\", userid, passwd);\n\n        // 2. \u521b\u5efa\u8bed\u53e5\u5bf9\u8c61\n        Statement stmt = conn.createStatement();\n\n        // 3. \u6267\u884cSQL\u8bed\u53e5\u5e76\u5904\u7406\u7ed3\u679c\uff08\u6b64\u5904\u7701\u7565\uff09\n        // ... Do Actual Work ...\n\n        // 4. \u5173\u95ed\u8d44\u6e90\n        stmt.close();\n        conn.close();\n    }\n    catch (SQLException sqle) {\n        // 5. \u5f02\u5e38\u5904\u7406\n        System.out.println(\"SQLException : \" + sqle);\n    }\n}\n</code></pre> <pre><code>try {\n    stmt.executeUpdate(\n        \"insert into instructor values(\u201977987\u2019, \u2019Kim\u2019, \u2019Physics\u2019, 98000)\");\n        } catch (SQLException sqle)\n        {\n        System.out.println(\"Could not insert tuple. \" + sqle);\n        }\n</code></pre> <pre><code>ResultSet rset = stmt.executeQuery(\n    \"select dept_name, avg (salary)\n    from instructor\n    group by dept_name\");\n    while (rset.next()) {\n        System.out.println(rset.getString(\"dept_name\") + \" \" +\n        rset.getFloat(2));\n        }\n</code></pre> <p>\u4e0b\u9762,\u6211\u4eec\u5c06\u4ecb\u7ecdJDBC\u7684\u51e0\u4e2a\u91cd\u8981\u6982\u5ff5\u548c\u529f\u80fd:</p>"},{"location":"incourse/db/ch5/#connection","title":"Connection","text":"<p>\u5728\u6267\u884cSQL\u8bed\u53e5\u4e4b\u524d,\u6211\u4eec\u5fc5\u987b\u5148\u8fde\u63a5\u5230\u6570\u636e\u5e93.\u5728JDBC\u4e2d,\u6211\u4eec\u4f7f\u7528<code>DriverManager</code>\u7c7b\u6765\u83b7\u53d6\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\u5bf9\u8c61<code>Connection</code>.</p> <pre><code>import java.sql.*;\n\npublic class JDBCExample {\n    public static void main(String[] args) {\n        String url = \"jdbc:mysql://localhost:3306/testdb\"; // \u6570\u636e\u5e93 URL\n        String user = \"root\";\n        String password =\n        \"123456\";\n        try {\n            // 1. \u52a0\u8f7d JDBC \u9a71\u52a8\n            Class.forName(\"com.mysql.cj.jdbc.Driver\");\n\n            // 2. \u5efa\u7acb\u6570\u636e\u5e93\u8fde\u63a5\n            Connection conn = DriverManager.getConnection(url, user, password);\n            System.out.println(\"\u8fde\u63a5\u6210\u529f\uff01\");\n\n            conn.close(); // \u5173\u95ed\u8fde\u63a5\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre> <p>\u5728\u4f7f\u7528JDBC\u8fde\u63a5\u6570\u636e\u5e93\u65f6,\u6211\u4eec\u9700\u8981\u63d0\u4f9b\u4ee5\u4e0b\u4fe1\u606f:</p> <ul> <li> <p>\u6570\u636e\u5e93 URL\uff1a\u6307\u5b9a\u6570\u636e\u5e93\u7684\u7c7b\u578b\u3001\u4f4d\u7f6e\u548c\u7aef\u53e3\u53f7\uff0c\u4f8b\u5982 <code>jdbc:mysql://localhost:3306/testdb</code>\u3002</p> </li> <li> <p>\u7528\u6237\u540d\u548c\u5bc6\u7801\uff1a\u7528\u4e8e\u8eab\u4efd\u9a8c\u8bc1\u7684\u51ed\u636e\u3002</p> </li> <li> <p>JDBC \u9a71\u52a8\uff1a\u7528\u4e8e\u4e0e\u7279\u5b9a\u6570\u636e\u5e93\u8fdb\u884c\u901a\u4fe1\u7684\u9a71\u52a8\u7a0b\u5e8f\uff0c\u901a\u5e38\u9700\u8981\u5728\u9879\u76ee\u4e2d\u6dfb\u52a0\u76f8\u5e94\u7684\u4f9d\u8d56\u5e93\u3002</p> </li> </ul>"},{"location":"incourse/db/ch5/#exception","title":"Exception","text":"<p>\u770b\u8fc7Python\u4ee3\u7801\u7684\u90fd\u77e5\u9053,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>try...except</code>\u8bed\u53e5\u6765\u6355\u83b7\u5f02\u5e38,\u5728Java\u4e2d,\u6211\u4eec\u4f7f\u7528<code>try...catch</code>\u8bed\u53e5\u6765\u6355\u83b7\u5f02\u5e38.</p> <p>\u5728JDBC\u4e2d,\u6211\u4eec\u4f7f\u7528<code>SQLException</code>\u7c7b\u6765\u5904\u7406SQL\u76f8\u5173\u7684\u5f02\u5e38.\u5b83\u662f\u4e00\u4e2a\u68c0\u67e5\u5f02\u5e38(Checked Exception),\u8fd9\u610f\u5473\u7740\u6211\u4eec\u5fc5\u987b\u663e\u5f0f\u5730\u5904\u7406\u5b83.</p> <pre><code>try {\n    // \u53ef\u80fd\u629b\u51fa SQLException \u7684\u4ee3\u7801\n} catch (SQLException e) {\n    // \u5904\u7406\u5f02\u5e38\n    System.out.println(\"SQL \u9519\u8bef\u4ee3\u7801: \" + e.getErrorCode());\n    System.out.println(\"SQL \u72b6\u6001\u7801: \" + e.getSQLState());\n    System.out.println(\"\u9519\u8bef\u6d88\u606f: \" + e.getMessage());\n}\n</code></pre> <p>\u5728\u6355\u83b7\u5f02\u5e38\u65f6,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>SQLException</code>\u7c7b\u63d0\u4f9b\u7684\u65b9\u6cd5\u6765\u83b7\u53d6\u66f4\u591a\u7684\u9519\u8bef\u4fe1\u606f: - <code>getErrorCode()</code>\uff1a\u83b7\u53d6\u6570\u636e\u5e93\u7279\u5b9a\u7684\u9519\u8bef\u4ee3\u7801\u3002</p> <ul> <li> <p><code>getSQLState()</code>\uff1a\u83b7\u53d6 SQL \u72b6\u6001\u7801\uff0c\u901a\u5e38\u662f\u4e00\u4e2a 5 \u4f4d\u7684\u5b57\u7b26\u4e32\u3002</p> </li> <li> <p><code>getMessage()</code>\uff1a\u83b7\u53d6\u8be6\u7ec6\u7684\u9519\u8bef\u6d88\u606f\u3002</p> </li> </ul>"},{"location":"incourse/db/ch5/#statement","title":"Statement","text":"<p>\u5728\u786e\u7acb\u8fde\u63a5\u4e4b\u540e,\u6211\u4eec\u5c31\u9700\u8981\u5c06SQL\u8bed\u53e5\u53d1\u9001\u5230\u6570\u636e\u5e93\u670d\u52a1\u5668,\u5e76\u8ba9\u5b83\u6267\u884c\u8fd9\u4e9b\u8bed\u53e5.\u5728JDBC\u4e2d,\u6211\u4eec\u4f7f\u7528<code>Statement</code>\u7c7b\u6765\u6267\u884cSQL\u8bed\u53e5.</p> <p><code>Statement</code>\u7c7b\u63d0\u4f9b\u4e86\u4e09\u79cd\u7c7b\u578b\u7684\u8bed\u53e5\u5bf9\u8c61:</p> <ol> <li> <p>Statement\uff1a\u7528\u4e8e\u6267\u884c\u7b80\u5355\u7684 SQL \u8bed\u53e5\uff0c\u5982\u67e5\u8be2\u3001\u63d2\u5165\u3001\u66f4\u65b0\u548c\u5220\u9664\u3002</p> </li> <li> <p>PreparedStatement\uff1a\u7528\u4e8e\u6267\u884c\u9884\u7f16\u8bd1\u7684 SQL \u8bed\u53e5\uff0c\u652f\u6301\u53c2\u6570\u5316\u67e5\u8be2\uff0c\u901a\u5e38\u7528\u4e8e\u6267\u884c\u591a\u6b21\u76f8\u540c\u7684 SQL \u8bed\u53e5,\u5728\u4e0b\u9762\u4f1a\u5355\u72ec\u4ecb\u7ecd</p> </li> <li> <p>CallableStatement\uff1a\u7528\u4e8e\u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b\uff0c\u652f\u6301\u8f93\u5165\u548c\u8f93\u51fa\u53c2\u6570\u3002</p> </li> </ol> <pre><code>import java.sql.*;\npublic class JDBCExample {\n    public static void main(String[] args) {\n        String url = \"jdbc:mysql://localhost:3306/testdb\"; // \u6570\u636e\u5e93 URL\n        String user = \"root\";\n        String password = \"123456\";\n        try {\n            // 1. \u52a0\u8f7d JDBC \u9a71\u52a8\n            Class.forName(\"com.mysql.cj.jdbc.Driver\");\n\n            // 2. \u5efa\u7acb\u6570\u636e\u5e93\u8fde\u63a5\n            Connection conn = DriverManager.getConnection(url, user, password);\n            System.out.println(\"\u8fde\u63a5\u6210\u529f\uff01\");\n\n            // 3. \u521b\u5efa Statement \u5bf9\u8c61\n            Statement stmt = conn.createStatement();\n\n            // 4. \u6267\u884c SQL \u67e5\u8be2\n            String sql = \"SELECT id, username, email FROM users\";\n            ResultSet rs = stmt.executeQuery(sql);\n\n            // 5. \u5173\u95ed\u8d44\u6e90\n            rs.close();\n            stmt.close();\n            conn.close();\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre> <ul> <li> <p><code>createStatement()</code>\uff1a\u521b\u5efa\u4e00\u4e2a <code>Statement</code> \u5bf9\u8c61\uff0c\u7528\u4e8e\u6267\u884c SQL \u8bed\u53e5\u3002</p> </li> <li> <p><code>executeQuery(String sql)</code>\uff1a\u6267\u884c SQL \u67e5\u8be2\uff0c\u8fd4\u56de\u4e00\u4e2a <code>ResultSet</code> \u5bf9\u8c61\u3002</p> </li> <li> <p>\u540c\u7406\u4e5f\u6709<code>executeUpdate(String sql)</code>\u7528\u4e8e\u6267\u884c\u66f4\u65b0\u64cd\u4f5c,\u8fd4\u56de\u4e00\u4e2a\u6574\u6570,\u8868\u793a\u53d7\u5f71\u54cd\u7684\u884c\u6570.</p> </li> <li> <p><code>execute(String sql)</code>\uff1a\u6267\u884c SQL \u8bed\u53e5\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u6307\u793a\u662f\u5426\u6709\u7ed3\u679c\u96c6\u3002</p> </li> </ul>"},{"location":"incourse/db/ch5/#get-resultset","title":"Get ResultSet","text":"<p><code>ResultSet</code>\u5bf9\u8c61\u7528\u4e8e\u5b58\u50a8\u67e5\u8be2\u7ed3\u679c\u96c6,\u5b83\u662f\u4e00\u4e2a\u6307\u5411\u7ed3\u679c\u96c6\u7684\u6e38\u6807(cursor),\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u904d\u5386\u7ed3\u679c\u96c6\u4e2d\u7684\u6bcf\u4e00\u884c\u6570\u636e.</p> <pre><code>import java.sql.*;\npublic class JDBCExample {\n    public static void main(String[] args) {\n        String url = \"jdbc:mysql://localhost:3306/testdb\"; // \u6570\u636e\u5e93 URL\n            String user = \"root\";\n        String password = \"123456\";\n        try {\n            // 1. \u52a0\u8f7d JDBC \u9a71\u52a8\n            Class.forName(\"com.mysql.cj.jdbc.Driver\");\n\n            // 2. \u5efa\u7acb\u6570\u636e\u5e93\u8fde\u63a5\n            Connection conn = DriverManager.getConnection(url, user, password);\n            System.out.println(\"\u8fde\u63a5\u6210\u529f\uff01\");\n\n            // 3. \u521b\u5efa Statement \u5bf9\u8c61\n            Statement stmt = conn.createStatement();\n\n            // 4. \u6267\u884c SQL \u67e5\u8be2\n            String sql = \"SELECT id, username, email FROM users\";\n            ResultSet rs = stmt.executeQuery(sql);\n\n            // 5. \u5904\u7406\u67e5\u8be2\u7ed3\u679c\n            while (rs.next()) {\n                int id = rs.getInt(\"id\");\n                String username = rs.getString(\"username\");\n                String email = rs.getString(\"email\");\n                System.out.println(\"ID: \" + id + \", \u7528\u6237\u540d: \" + username + \", \u90ae\u7bb1: \" + email);\n            }\n            // 6. \u5173\u95ed\u8d44\u6e90\n            rs.close();\n            stmt.close();\n            conn.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre> <ul> <li> <p><code>next()</code>\uff1a\u5c06\u6e38\u6807\u79fb\u52a8\u5230\u4e0b\u4e00\u884c\uff0c\u8fd4\u56de <code>true</code> \u5982\u679c\u6709\u66f4\u591a\u884c\uff0c\u5426\u5219\u8fd4\u56de <code>false</code>\u3002</p> </li> <li> <p><code>getInt(String columnLabel)</code>\uff1a\u83b7\u53d6\u6307\u5b9a\u5217\u7684\u6574\u6570\u503c\u3002</p> </li> <li> <p><code>getString(String columnLabel)</code>\uff1a\u83b7\u53d6\u6307\u5b9a\u5217\u7684\u5b57\u7b26\u4e32\u503c\u3002</p> </li> <li> <p><code>getFloat(String columnLabel)</code>\uff1a\u83b7\u53d6\u6307\u5b9a\u5217\u7684\u6d6e\u70b9\u503c\u3002</p> </li> <li> <p>\u4e0a\u9762\u7684\u51fd\u6570\u4e0d\u4ec5\u63a5\u53d7\u5217\u540d,\u4e5f\u53ef\u4ee5\u63a5\u53d7\u5217\u7684\u7d22\u5f15,\u4f8b\u5982<code>getInt(1)</code>\u8868\u793a\u83b7\u53d6\u7b2c\u4e00\u5217\u7684\u503c.</p> </li> </ul>"},{"location":"incourse/db/ch5/#prepared-statement","title":"Prepared Statement","text":"<p>\u9884\u5904\u7406\u8bed\u53e5(Prepared Statement)\u662f\u4e00\u79cd\u7279\u6b8a\u7684SQL\u8bed\u53e5\uff0c\u5b83\u5141\u8bb8\u6570\u636e\u5e93\u9a71\u52a8\u7a0b\u5e8f\u5728\u6267\u884c\u524d\u5bf9SQL\u8bed\u53e5\u8fdb\u884c\u9884\u7f16\u8bd1\uff0c\u4ece\u800c\u63d0\u9ad8\u6267\u884c\u6548\u7387\u5e76\u589e\u5f3a\u5b89\u5168\u6027\u3002</p> <p>\u4e3b\u8981\u7279\u70b9\uff1a</p> <ul> <li> <p>\u9632\u6b62 SQL \u6ce8\u5165\uff1a\u901a\u8fc7\u5360\u4f4d\u7b26 <code>?</code> \u7ed1\u5b9a\u53c2\u6570\uff0c\u907f\u514d\u6076\u610f SQL \u4ee3\u7801\u6267\u884c\u3002</p> </li> <li> <p>\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\uff1aSQL \u8bed\u53e5\u4f1a\u88ab \u9884\u7f16\u8bd1 \u5e76\u7f13\u5b58\uff0c\u51cf\u5c11 SQL \u89e3\u6790\u548c\u4f18\u5316\u7684\u5f00\u9500\u3002</p> </li> <li> <p>\u4ee3\u7801\u7ed3\u6784\u66f4\u6e05\u6670\uff1a\u4e0e\u666e\u901a <code>Statement</code> \u76f8\u6bd4\uff0c\u53ef\u8bfb\u6027\u66f4\u597d\uff0c\u51cf\u5c11\u624b\u52a8\u62fc\u63a5 SQL \u7684\u9519\u8bef\u3002</p> </li> </ul> <p>\u4f7f\u7528 <code>PreparedStatement</code> \u7684\u57fa\u672c\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u52a0\u8f7d JDBC \u9a71\u52a8</p> </li> <li> <p>\u5efa\u7acb\u6570\u636e\u5e93\u8fde\u63a5</p> </li> <li> <p>\u521b\u5efa <code>PreparedStatement</code> \u5bf9\u8c61</p> </li> <li> <p>\u8bbe\u7f6e SQL \u53c2\u6570</p> </li> <li> <p>\u6267\u884c SQL</p> </li> <li> <p>\u5904\u7406\u67e5\u8be2\u7ed3\u679c</p> </li> <li> <p>\u5173\u95ed\u8d44\u6e90</p> </li> </ol> <p>\u4ee3\u7801\u793a\u4f8b</p> \u63d2\u5165\u66f4\u65b0 \u63d2\u5165\u6570\u636e<pre><code>import java.sql.*;\npublic class JDBCExample {\n    public static void main(String[] args) {\n        String url = \"jdbc:mysql://localhost:3306/testdb\"; // \u6570\u636e\u5e93 URL\n        String user = \"root\";\n        String password = \"123456\";\n\n        String sql = \"INSERT INTO users (username, password, email) VALUES (?, ?, ?)\";\n\n        try (Connection conn = DriverManager.getConnection(url, user, password);\n            PreparedStatement pstmt = conn.prepareStatement(sql)) {\n\n            // \u8bbe\u7f6e\u53c2\u6570\n            pstmt.setString(1, \"Alice\");\n            pstmt.setString(2, \"securePass\");\n            pstmt.setString(3, \"alice@example.com\");\n\n            // \u6267\u884c SQL\n            int rowsInserted = pstmt.executeUpdate();\n            System.out.println(\"\u63d2\u5165 \" + rowsInserted + \" \u884c\u6570\u636e\");\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre> \u67e5\u8be2\u6570\u636e<pre><code>String sql = \"SELECT id, username, email FROM users WHERE username = ?\";\ntry (PreparedStatement pstmt = conn.prepareStatement(sql)) {\n    pstmt.setString(1, \"Alice\"); // \u7ed1\u5b9a\u67e5\u8be2\u53c2\u6570\n\n    ResultSet rs = pstmt.executeQuery(); // \u6267\u884c\u67e5\u8be2\n\n    while (rs.next()) {\n        int id = rs.getInt(\"id\");\n        String username = rs.getString(\"username\");\n        String email = rs.getString(\"email\");\n        System.out.println(\"ID: \" + id + \", \u7528\u6237\u540d: \" + username + \", \u90ae\u7bb1: \" + email);\n    }\n} catch (SQLException e) {\n    e.printStackTrace();\n}\n</code></pre> <ul> <li> <p>\u5bf9\u4e8e\u7528<code>?</code>\u8868\u793a\u7684\u53c2\u6570,\u6211\u4eec\u4f7f\u7528<code>setXXX</code>\u65b9\u6cd5\u6765\u8bbe\u7f6e\u5b83\u4eec\u7684\u503c,\u5176\u4e2d<code>XXX</code>\u8868\u793a\u53c2\u6570\u7684\u7c7b\u578b,\u4f8b\u5982<code>setString</code>, <code>setInt</code>, <code>setFloat</code>\u7b49.</p> </li> <li> <p><code>setXXX</code>\u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u53c2\u6570\u7684\u7d22\u5f15,\u4ece1\u5f00\u59cb,\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u8981\u8bbe\u7f6e\u7684\u503c.</p> </li> </ul>"},{"location":"incourse/db/ch5/#sql-injection","title":"SQL Injection","text":"<p>\u5982\u679c\u4e0d\u4f7f\u7528\u9884\u5904\u7406\u8bed\u53e5,\u7f16\u8bd1\u5668\u4e0d\u4f1a\u628a\u7528\u6237\u7684\u8f93\u5165\u4ec5\u5f53\u6210\u5b57\u7b26\u4e32,\u90a3\u4e48\u5c31\u6709\u53ef\u80fd\u628a\u7528\u6237\u8f93\u5165\u7684\u6570\u636e\u5f53\u4f5c\u6267\u884c\u8bed\u53e5\u4e4b\u7c7b\u7684,\u4ece\u800c\u5b9e\u73b0\u63a7\u5236\u4e4b\u5916\u7684\u6548\u679c.</p> <p>Example</p> <p>\u5bf9\u4e8e\u4ee5\u4e0b\u67e5\u8be2\u8bed\u53e5 <pre><code>\"select * from instructor where name = \u2019\" + name + \" \u2019 \"\n</code></pre></p> <p>\u5982\u679c\u7528\u6237\u8f93\u5165\"X' or <code>Y</code>=`Y\"</p> <p>\u90a3\u4e48\u67e5\u8be2\u8bed\u53e5\u5c31\u4f1a\u53d8\u6210</p> <pre><code>\"select * from instructor where name = \u2019\" + \"X\u2019 or \u2019Y\u2019 = \u2019Y\" + \"\u2019\"\n</code></pre> <p>\u4e5f\u5c31\u662f <pre><code>select * from instructor where name = \u2019X\u2019 or \u2019Y\u2019 = \u2019Y\u2019\n</code></pre></p> <p>\u8fd9\u6837\u5c31\u4f1a\u67e5\u8be2\u6240\u6709\u7ed3\u679c</p> <p>\u4ea6\u6216\u8005\u7528\u6237\u8f93\u5165\"X\u2019; update instructor set salary = salary + 10000; \"</p> <p>\u90a3\u67e5\u8be2\u8bed\u53e5\u5c31\u53d8\u6210\u4e86</p> <pre><code>select * from instructor where name = \u2019X\u2019;\nupdate instructor set salary = salary + 10000;\n</code></pre> <p>\u8fd9\u6837\u751a\u81f3\u4f1a\u591a\u6267\u884c\u4e00\u6761\u6307\u4ee4.\u56e0\u6b64,\u4f7f\u7528\u9884\u7f16\u8bd1\u8bed\u53e5\u662f\u5f88\u6709\u5fc5\u8981\u7684,\u5b83\u5c06\u7279\u6b8a\u5b57\u7b26\u8f6c\u4e49,\u4ece\u800c\u907f\u514d\u4e86SQL\u6ce8\u5165\u653b\u51fb.</p>"},{"location":"incourse/db/ch5/#metadata","title":"Metadata","text":"<p>JDBC\u63d0\u4f9b\u4e86\u4e24\u4e2a\u4e3b\u8981\u7684\u5143\u6570\u636e\u63a5\u53e3\uff1a</p> <ol> <li> <p>DatabaseMetaData\uff1a\u63d0\u4f9b\u5173\u4e8e\u6574\u4e2a\u6570\u636e\u5e93\u7684\u4fe1\u606f</p> </li> <li> <p>ResultSetMetaData\uff1a\u63d0\u4f9b\u5173\u4e8e\u67e5\u8be2\u7ed3\u679c\u96c6\u7684\u4fe1\u606f</p> </li> </ol> <pre><code>// \u83b7\u53d6\u6570\u636e\u5e93\u5143\u6570\u636e\nConnection conn = DriverManager.getConnection(url, username, password);\nDatabaseMetaData dbMetaData = conn.getMetaData();\n\n// \u83b7\u53d6\u6570\u636e\u5e93\u57fa\u672c\u4fe1\u606f\nSystem.out.println(\"\u6570\u636e\u5e93\u4ea7\u54c1\u540d\u79f0: \" + dbMetaData.getDatabaseProductName());\nSystem.out.println(\"\u6570\u636e\u5e93\u7248\u672c: \" + dbMetaData.getDatabaseProductVersion());\nSystem.out.println(\"\u9a71\u52a8\u540d\u79f0: \" + dbMetaData.getDriverName());\nSystem.out.println(\"\u9a71\u52a8\u7248\u672c: \" + dbMetaData.getDriverVersion());\n\n// \u83b7\u53d6\u8868\u4fe1\u606f\nResultSet tables = dbMetaData.getTables(null, null, \"%\", new String[]{\"TABLE\"});\nwhile (tables.next()) {\n    System.out.println(\"\u8868\u540d: \" + tables.getString(\"TABLE_NAME\"));\n}\n\n// \u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\u96c6\u7684\u5143\u6570\u636e\nStatement stmt = conn.createStatement();\nResultSet rs = stmt.executeQuery(\"SELECT * FROM instructor\");\nResultSetMetaData rsMetaData = rs.getMetaData();\n\n// \u8f93\u51fa\u7ed3\u679c\u96c6\u5217\u4fe1\u606f\nint columnCount = rsMetaData.getColumnCount();//\u83b7\u53d6\u5217\u6570\nfor (int i = 1; i &lt;= columnCount; i++) {\n    System.out.println(\"\u5217\u540d: \" + rsMetaData.getColumnName(i));\n    System.out.println(\"\u5217\u7c7b\u578b: \" + rsMetaData.getColumnTypeName(i));\n}\n</code></pre>"},{"location":"incourse/db/ch5/#transaction-control-in-jdbc","title":"Transaction Control in JDBC","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b,\u6bcf\u53e5SQL\u8bed\u53e5\u88ab\u5f53\u4f5c\u72ec\u7acb\u9694\u79bb\u7684\u4e00\u4e2a\u4e8b\u52a1.</p> <p>\u5173\u95ed\u81ea\u52a8\u63d0\u4ea4:</p> <p><code>conn.setAutoCommit(false);</code></p> <p>\u624b\u52a8\u63d0\u4ea4:</p> <p><code>conn.commit();</code></p> <p>\u624b\u52a8\u56de\u6eda</p> <p><code>conn.rollback</code></p>"},{"location":"incourse/db/ch5/#sqlj","title":"SQLJ","text":"<p>SQLJ \u662f Java \u4e2d\u7684\u5d4c\u5165\u5f0f SQL \u6280\u672f\uff0c\u5b83\u5141\u8bb8\u5f00\u53d1\u8005\u5728 Java \u7a0b\u5e8f\u4e2d\u76f4\u63a5\u5d4c\u5165\u6807\u51c6 SQL \u8bed\u53e5\u3002</p> <p>\u4e3b\u8981\u7279\u70b9:</p> <ol> <li> <p>\u9759\u6001 SQL\uff1aSQL \u8bed\u53e5\u5728\u7f16\u8bd1\u65f6\u5c31\u88ab\u68c0\u67e5\u8bed\u6cd5\u9519\u8bef\uff0c\u800c\u4e0d\u662f\u5728\u8fd0\u884c\u65f6</p> </li> <li> <p>\u66f4\u7b80\u6d01\u7684\u4ee3\u7801\uff1a\u76f8\u6bd4 JDBC\uff0c\u4ee3\u7801\u91cf\u66f4\u5c11\u3001\u66f4\u6613\u8bfb</p> </li> <li> <p>\u66f4\u597d\u7684\u6027\u80fd\uff1a\u7531\u4e8e\u9884\u7f16\u8bd1\uff0c\u6267\u884c\u6548\u7387\u901a\u5e38\u9ad8\u4e8e\u52a8\u6001 SQL</p> </li> <li> <p>\u7c7b\u578b\u5b89\u5168\uff1a\u5728\u7f16\u8bd1\u65f6\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff0c\u51cf\u5c11\u8fd0\u884c\u65f6\u9519\u8bef</p> </li> </ol> <p>\u8bed\u6cd5\u793a\u4f8b:</p> <p>SQLJ \u8bed\u53e5\u4ee5 '#sql' \u5f00\u5934\uff0c\u5e76\u4f7f\u7528\u82b1\u62ec\u53f7 '{}' \u5305\u56f4 SQL \u8bed\u53e5\uff1a</p> <pre><code>// SQLJ \u5bfc\u5165\nimport sqlj.runtime.*;\nimport sqlj.runtime.ref.*;\n\npublic class SQLJExample {\n    public static void main(String[] args) {\n        try {\n            // \u6ce8\u518c JDBC \u9a71\u52a8\u5e76\u8fde\u63a5\u6570\u636e\u5e93\n            Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n            DefaultContext.setDefaultContext(\n                Oracle.getConnection(\"jdbc:oracle:thin:@localhost:1521:orcl\", \n                                     \"scott\", \"tiger\"));\n\n            // \u58f0\u660e\u4e0a\u4e0b\u6587\u548c\u8fed\u4ee3\u5668\n            #sql iterator DeptIter (String deptName, float avgSalary);\n\n            // \u6267\u884c\u67e5\u8be2\n            DeptIter deptIter;\n            #sql deptIter = { \n                SELECT dept_name, AVG(salary) \n                FROM instructor \n                GROUP BY dept_name \n            };\n\n            // \u5904\u7406\u7ed3\u679c\n            while (deptIter.next()) {\n                System.out.println(deptIter.deptName() + \": \" + \n                                  deptIter.avgSalary());\n            }\n\n            // \u5173\u95ed\u8fed\u4ee3\u5668\n            deptIter.close();\n\n        } catch (Exception e) {\n            System.err.println(\"Error: \" + e);\n        }\n    }\n}\n</code></pre>"},{"location":"incourse/db/ch5/#odbc","title":"ODBC","text":"<p>ODBC \u91c7\u7528 \u56db\u5c42\u67b6\u6784\uff0c\u5982\u4e0b\uff1a</p> \u7ec4\u4ef6 \u4f5c\u7528 \u5e94\u7528\u7a0b\u5e8f \u8c03\u7528 ODBC API \u8fdb\u884c\u6570\u636e\u5e93\u64cd\u4f5c ODBC \u9a71\u52a8\u7ba1\u7406\u5668 \u7ba1\u7406 ODBC \u9a71\u52a8\uff0c\u89e3\u6790 SQL \u8bed\u53e5\u5e76\u4f20\u9012\u7ed9\u5408\u9002\u7684\u6570\u636e\u5e93\u9a71\u52a8 ODBC \u9a71\u52a8 \u7531\u6570\u636e\u5e93\u5382\u5546\u63d0\u4f9b\uff0c\u8d1f\u8d23\u5c06 ODBC \u8bf7\u6c42\u8f6c\u6362\u4e3a\u6570\u636e\u5e93\u7279\u5b9a\u7684\u8c03\u7528 \u6570\u636e\u5e93 \u5b9e\u9645\u5b58\u50a8\u6570\u636e\uff0c\u6267\u884c SQL \u67e5\u8be2 <p>\u793a\u4f8b\u4ee3\u7801:</p> <pre><code>#include &lt;windows.h&gt;\n#include &lt;sql.h&gt;\n#include &lt;sqlext.h&gt;\n#include &lt;stdio.h&gt;\n\nvoid printError(SQLHANDLE handle, SQLSMALLINT type) {\n    SQLCHAR sqlstate[6], message[SQL_MAX_MESSAGE_LENGTH];\n    SQLINTEGER native_error;\n    SQLSMALLINT i = 1, length;\n\n    while (SQLGetDiagRec(type, handle, i++, sqlstate, &amp;native_error, message, \n                         sizeof(message), &amp;length) == SQL_SUCCESS) {\n        printf(\"SQLSTATE: %s\\n\", sqlstate);\n        printf(\"\u6d88\u606f: %s\\n\", message);\n    }\n}\n\nint main() {\n    SQLHENV henv;\n    SQLHDBC hdbc;\n    SQLHSTMT hstmt;\n    SQLRETURN ret;\n\n    // \u5b9a\u4e49\u7ed3\u679c\u5217\u7684\u53d8\u91cf\n    SQLCHAR dept_name[50];\n    SQLFLOAT avg_salary;\n    SQLLEN dept_name_len, avg_salary_len;\n\n    // \u5206\u914d\u73af\u5883\u53e5\u67c4\u5e76\u8bbe\u7f6e\n    SQLAllocHandle(SQL_HANDLE_ENV, SQL_NULL_HANDLE, &amp;henv);\n    SQLSetEnvAttr(henv, SQL_ATTR_ODBC_VERSION, (SQLPOINTER)SQL_OV_ODBC3, 0);\n\n    // \u5206\u914d\u8fde\u63a5\u53e5\u67c4\u5e76\u8fde\u63a5\n    SQLAllocHandle(SQL_HANDLE_DBC, henv, &amp;hdbc);\n    ret = SQLConnect(hdbc, \n                    (SQLCHAR*)\"MySQLDSN\", SQL_NTS,\n                    (SQLCHAR*)\"root\", SQL_NTS,\n                    (SQLCHAR*)\"password\", SQL_NTS);\n\n    if (SQL_SUCCEEDED(ret)) {\n        printf(\"\u6570\u636e\u5e93\u8fde\u63a5\u6210\u529f\uff01\\n\");\n\n        // \u5206\u914d\u8bed\u53e5\u53e5\u67c4\n        SQLAllocHandle(SQL_HANDLE_STMT, hdbc, &amp;hstmt);\n\n        // \u51c6\u5907SQL\u8bed\u53e5\n        const char *sql = \"SELECT dept_name, AVG(salary) AS avg_salary FROM instructor GROUP BY dept_name\";\n\n        // \u6267\u884cSQL\u8bed\u53e5\n        ret = SQLExecDirect(hstmt, (SQLCHAR*)sql, SQL_NTS);\n\n        if (SQL_SUCCEEDED(ret)) {\n            // \u7ed1\u5b9a\u7ed3\u679c\u5217\n            SQLBindCol(hstmt, 1, SQL_C_CHAR, dept_name, sizeof(dept_name), &amp;dept_name_len);\n            SQLBindCol(hstmt, 2, SQL_C_DOUBLE, &amp;avg_salary, 0, &amp;avg_salary_len);\n\n            // \u83b7\u53d6\u6570\u636e\n            while ((ret = SQLFetch(hstmt)) == SQL_SUCCESS) {\n                printf(\"\u7cfb\u540d: %s, \u5e73\u5747\u5de5\u8d44: %.2f\\n\", dept_name, avg_salary);\n            }\n\n            if (ret != SQL_NO_DATA) {\n                printError(hstmt, SQL_HANDLE_STMT);\n            }\n        } else {\n            printf(\"\u6267\u884c\u67e5\u8be2\u5931\u8d25\uff01\\n\");\n            printError(hstmt, SQL_HANDLE_STMT);\n        }\n\n        // \u91ca\u653e\u8bed\u53e5\u53e5\u67c4\n        SQLFreeHandle(SQL_HANDLE_STMT, hstmt);\n\n        // \u65ad\u5f00\u8fde\u63a5\n        SQLDisconnect(hdbc);\n    } else {\n        printf(\"\u6570\u636e\u5e93\u8fde\u63a5\u5931\u8d25\uff01\\n\");\n        printError(hdbc, SQL_HANDLE_DBC);\n    }\n\n    // \u91ca\u653e\u8fde\u63a5\u548c\u73af\u5883\u53e5\u67c4\n    SQLFreeHandle(SQL_HANDLE_DBC, hdbc);\n    SQLFreeHandle(SQL_HANDLE_ENV, henv);\n\n    return 0;\n}\n</code></pre>"},{"location":"incourse/db/ch5/#embedded-sql","title":"Embedded SQL","text":"<p>\u5728\u9664\u4e86Java\u4e4b\u5916\u7684\u8bed\u8a00\u5d4c\u5165SQL\u8bed\u53e5,\u6211\u4eec\u4e00\u822c\u4f7f\u7528<code>EXEC SQL &lt;embedded SQL statement&gt;</code>.\u5176\u4e2d\u5bbf\u4e3b\u8bed\u8a00\u88ab\u79f0\u4e3a<code>host language</code>,\u800c\u5d4c\u5165\u7684SQL\u8bed\u53e5\u88ab\u79f0\u4e3a<code>embedded SQL statement</code>.\u5728C\u8bed\u8a00\u4e2d,\u6211\u4eec\u4f7f\u7528<code>EXEC-SQL</code>\u6765\u8868\u793a\u5d4c\u5165\u7684SQL\u8bed\u53e5.</p> <ol> <li> <p>\u8fde\u63a5\u670d\u52a1\u5668</p> <ul> <li> <p>\u4f7f\u7528<code>EXEC-SQL connect to server  user user-name using password;</code>\u8fde\u63a5\u670d\u52a1\u5668</p> </li> <li> <p>\u8fd9\u91cc<code>server</code>,<code>username</code>,<code>password</code>\u5206\u522b\u662f\u670d\u52a1\u5668,\u7528\u6237\u540d\u4e0e\u5bf9\u5e94\u7684\u5bc6\u7801</p> </li> </ul> </li> <li> <p>\u4f7f\u7528\u53d8\u91cf</p> <ul> <li> <p>\u5d4c\u5165SQL\u5141\u8bb8\u4f7f\u7528\u539f\u8bed\u8a00\u4e2d\u7684\u53d8\u91cf</p> </li> <li> <p>\u5728\u4f7f\u7528\u65f6\u9700\u8981\u5728\u524d\u9762\u52a0\u4e0a<code>:</code>,\u4f8b\u5982<code>:credit_amount</code></p> </li> <li> <p>\u5728\u4f7f\u7528\u8fd9\u79cd\u53d8\u91cf\u65f6,\u5fc5\u987b\u4ee5\u5982\u4e0b\u65b9\u6cd5\u63d0\u524d\u58f0\u660e:</p> <p><pre><code>EXEC-SQL BEGIN DECLARE SECTION\n    int  credit-amount ;\nEXEC-SQL END DECLARE SECTION;\n</code></pre> \u5176\u4e2d<code>int  credit-amount ;</code>\u8fd9\u79cd\u8bed\u53e5\u600e\u4e48\u5199\u7531\u539f\u8bed\u8a00\u51b3\u5b9a</p> </li> </ul> </li> <li> <p>Embedded SQL Query</p> <ul> <li> <p>\u4e3a\u4e86\u4f7f\u7528\u8fd9\u6837\u7684\u8bed\u53e5,\u6211\u4eec\u5199<code>declare c cursor for  &lt;SQL query&gt;</code></p> </li> <li> <p>\u8fd9\u6837,<code>c</code>\u5c31\u5b58\u50a8\u4e86\u67e5\u8be2\u7684\u7ed3\u679c\u8868</p> </li> <li> <p>\u4f8b\u5982:     <pre><code> EXEC SQL\n       declare c cursor for \n       select ID, name\n       from student\n       where tot_cred &gt; :credit_amount;\n</code></pre></p> </li> <li> <p>\u5728\u5b9a\u4e49\u5b8c\u4e4b\u540e,\u6211\u4eec\u4f7f\u7528\u5982\u4e0b\u8bed\u53e5\u6267\u884c\u67e5\u8be2:     <code>EXEC SQL open c ;</code></p> </li> <li> <p>\u7136\u540e,\u6211\u4eec\u53ef\u4ee5\u628a\u67e5\u8be2\u5230\u7684\u6570\u636e\u5b58\u5230\u53d8\u91cf\u4e2d:     <code>EXEC SQL fetch c into :si, :sn\uff1b</code>     \u8fd9\u6837\u5b58\u50a8\u4e86\u67e5\u8be2\u7ed3\u679c\u7684\u4e00\u4e2a\u5143\u7ec4.\u5982\u679c\u60f3\u5f97\u5230\u5168\u90e8\u5185\u5bb9,\u9700\u8981\u8fde\u7eed\u7684\u8c03\u7528.</p> </li> <li> <p>\u6700\u540e,\u5173\u95ed:<code>EXEC SQL close c;</code></p> </li> </ul> </li> <li> <p>Embedded SQL for update,insert and delete</p> <ul> <li> <p>\u5728\u58f0\u660e\u65f6\u52a0\u4e0a<code>for update</code>:     <pre><code>EXEC SQL \n    declare c cursor for\n    select *\n    from instructor\n    where dept_name = 'Music'\n    for update\n</code></pre></p> </li> <li> <p>\u904d\u5386\u6765\u66f4\u65b0     <pre><code>EXEC SQL open c;\n        /* \u58f0\u660e\u53d8\u91cf\u7528\u4e8e\u5b58\u50a8\u7ed3\u679c */\nEXEC SQL BEGIN DECLARE SECTION;\n    char name[20];\n    char dept[20];\n    float salary;\nEXEC SQL END DECLARE SECTION;\n\n/* \u5faa\u73af\u83b7\u53d6\u6bcf\u6761\u8bb0\u5f55 */\nwhile (1) {\n    EXEC SQL fetch c into :name, :dept, :salary;\n\n    /* \u68c0\u67e5\u662f\u5426\u5df2\u5230\u7ed3\u5c3e */\n    if (sqlca.sqlstate == 02000) {\n        break;\n    }\n\n    /* \u5728\u8fd9\u91cc\u5904\u7406\u6bcf\u6761\u8bb0\u5f55 */\n    if (salary &lt; 40000) {\n        /* \u5bf9\u83b7\u53d6\u7684\u8bb0\u5f55\u6267\u884c\u66f4\u65b0\u64cd\u4f5c */\n        EXEC SQL update instructor \n            set salary = salary * 1.05\n            where current of c;\n    }\n}\nEXEC SQL close c;\n</code></pre></p> </li> </ul> </li> </ol>"},{"location":"incourse/db/ch5/#procedural-constructs-in-sql","title":"Procedural Constructs in SQL","text":""},{"location":"incourse/db/ch5/#sql-functions","title":"SQL Functions","text":"<p>SQL\u4e2d\u53ef\u4ee5\u521b\u5efa\u51fd\u6570\u5e76\u8c03\u7528,\u793a\u4f8b\u5982\u4e0b:</p> <pre><code>create function dept_count (dept_name varchar(20))\nreturns integer\nbegin\n    declare d_count integer;\n    select count (* ) into d_count\n    from instructor\n    where instructor.dept_name = dept_name\n    return d_count;\nend\n\nselect dept_name, budget\nfrom department\nwhere dept_count (dept_name ) &gt; 12\n</code></pre> <p>\u4e0a\u9762\u7684\u8bed\u53e5\u627e\u5230\u62e5\u6709\u8d85\u8fc712\u540d\u5bfc\u5e08\u7684\u9662\u7cfb\u7684\u540d\u5b57\u548c\u9884\u7b97</p>"},{"location":"incourse/db/ch5/#table-functions","title":"Table Functions","text":"<p>\u8fd4\u56de\u7ed3\u679c\u662f\u4e00\u4e2a\u8868</p> <pre><code>create function instructors_of (dept_name char(20) )\n        returns table (ID varchar(5),\n        name varchar(20),\n        dept_name varchar(20),\n        salary numeric(8,2))\n    return table\n    (select ID, name, dept_name, salary\n    from instructor\n    where instructor.dept_name = instructors_of.dept_name)\n\nselect * from table (instructors_of (\u2018Music\u2019))\n</code></pre>"},{"location":"incourse/db/ch5/#sql-procedures","title":"SQL Procedures","text":"<p>\u81ea\u5b9a\u4e49\u4e00\u4e2a\u7a0b\u5e8f,\u7136\u540e\u4f7f\u7528<code>call</code>\u5173\u952e\u5b57\u8c03\u7528</p> <pre><code>CREATE PROCEDURE calculate_department_stats\n    (IN dept_name VARCHAR(20), \n     OUT avg_salary DECIMAL(10,2),\n     OUT instructor_count INTEGER)\nBEGIN\n    -- \u8ba1\u7b97\u5e73\u5747\u5de5\u8d44\n    SELECT AVG(salary) INTO avg_salary\n    FROM instructor\n    WHERE instructor.dept_name = dept_name;\n\n    -- \u8ba1\u7b97\u6559\u5e08\u6570\u91cf\n    SELECT COUNT(*) INTO instructor_count\n    FROM instructor\n    WHERE instructor.dept_name = dept_name;\nEND;\n\n-- \u58f0\u660e\u53d8\u91cf\u63a5\u6536\u8f93\u51fa\u53c2\u6570\nDECLARE @avg_salary DECIMAL(10,2);\nDECLARE @count INTEGER;\n\n-- \u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b\nCALL calculate_department_stats('Computer Science', @avg_salary, @count);\n\n-- \u4f7f\u7528\u8f93\u51fa\u7ed3\u679c\nSELECT @avg_salary AS average_salary, @count AS instructor_count;\n</code></pre> <ul> <li><code>IN</code>\u8868\u793a\u8f93\u5165\u53c2\u6570,<code>OUT</code>\u8868\u793a\u8f93\u51fa\u53c2\u6570</li> </ul>"},{"location":"incourse/db/ch5/#procedural-constructs","title":"Procedural Constructs","text":"<ul> <li> <p>SQL\u4e2d\u6709\u652f\u6301\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u7684\u63a7\u5236\u7ed3\u6784,\u4f8b\u5982<code>if-then</code>, <code>while</code>, <code>repeat</code>\u7b49</p> </li> <li> <p>\u8fd9\u4e9b\u7ed3\u6784\u88ab\u79f0\u4e3a<code>control structures</code>,\u5b83\u4eec\u5141\u8bb8\u6211\u4eec\u5728SQL\u4e2d\u7f16\u5199\u66f4\u590d\u6742\u7684\u903b\u8f91</p> </li> <li> <p><code>Compound statement</code>\u662f\u4e00\u4e2a\u5305\u542b\u591a\u4e2aSQL\u8bed\u53e5\u7684\u5757,\u53ef\u4ee5\u5728\u63a7\u5236\u7ed3\u6784\u4e2d\u4f7f\u7528</p> <ul> <li> <p><code>BEGIN</code>\u548c<code>END</code>\u7528\u4e8e\u5305\u88f9\u4e00\u4e2a\u590d\u5408\u8bed\u53e5\u5757,\u5728\u8fd9\u4e2a\u5757\u4e2d\u53ef\u4ee5\u5305\u542b\u591a\u4e2aSQL\u8bed\u53e5</p> </li> <li> <p>\u5728\u590d\u5408\u8bed\u53e5\u4e2d\u53ef\u4ee5\u5b9a\u4e49\u5c40\u90e8\u53d8\u91cf,\u4f7f\u7528<code>DECLARE</code>\u8bed\u53e5</p> </li> </ul> </li> </ul> <p>\u590d\u5408\u8bed\u53e5\u6709\u5982\u4e0b\u5e38\u89c1\u7684\u4f8b\u5b50</p> <ul> <li> <p>\u5faa\u73af</p> <pre><code>declare n integer default 0;\nwhile n &lt; 10 do\n    set n = n + 1\nend while                           \n\nrepeat\n    set n = n  \u2013 1\n    until n = 0\nend repeat\n</code></pre> <p>\u5728SQL\u4e2d,\u4e5f\u6709for\u5faa\u73af,\u5176\u4f5c\u7528\u662f\u8fed\u4ee3\u7ed3\u679c\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7ec4</p> <pre><code>declare n  integer default 0;\nfor r as\n    select budget from department\n    where dept_name = \u2018Music\u2019\ndo\n    set n = n + r.budget\nend for\n</code></pre> </li> <li> <p>\u9009\u62e9</p> <p>if-then\u8bed\u53e5\u540c\u6837\u4e5f\u5b58\u5728</p> <p>\u5176\u4e00\u822c\u683c\u5f0f\u4e3a:</p> <pre><code>if boolean  expression \nthen statement or compound statement \nelseif boolean  expression \nthen statement or compound statement \nelse statement or compound statement \nend if\n</code></pre> <p>case</p> <p>SQL\u4e2d\u4e5f\u6709<code>case</code>\u8bed\u53e5,\u5176\u793a\u4f8b\u5728\u7b2c\u4e09\u7ae0\u51fa\u73b0</p> </li> </ul>"},{"location":"incourse/db/ch5/#external-procedures","title":"External Procedures","text":"<p>\u5728SQL\u4e2d,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5916\u90e8\u8fc7\u7a0b,\u4e5f\u5c31\u662f\u5728SQL\u4e2d\u8c03\u7528\u5176\u4ed6\u8bed\u8a00\u7f16\u5199\u7684\u51fd\u6570,\u4f8b\u5982C,Java\u7b49</p> <ul> <li> <p>\u8fd9\u4e9b\u5916\u90e8\u8fc7\u7a0b\u53ef\u4ee5\u5728SQL\u4e2d\u88ab\u8c03\u7528,\u5e76\u4e14\u53ef\u4ee5\u8bbf\u95ee\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e</p> </li> <li> <p>\u4f8b\u5982,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528C\u8bed\u8a00\u7f16\u5199\u4e00\u4e2a\u51fd\u6570,\u7136\u540e\u5728SQL\u4e2d\u8c03\u7528\u5b83</p> </li> </ul> <pre><code>CREATE FUNCTION calculate_bonus (emp_id INT)\nRETURNS DECIMAL(10,2)\nLANGUAGE C\nEXTERNAL NAME 'com.example.CalculateBonus.calculateBonus'\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d,\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a<code>calculate_bonus</code>\u7684\u51fd\u6570,\u5b83\u8c03\u7528\u4e86C\u8bed\u8a00\u7f16\u5199\u7684<code>calculateBonus</code>\u51fd\u6570</p> <p>\u503c\u5f97\u5173\u6ce8\u7684\u662f\uff0c\u5728\u4f7f\u7528\u5916\u90e8\u8fc7\u7a0b\u65f6\uff0c\u6709\u53ef\u80fd\u4f1a\u5f15\u53d1\u5b89\u5168\u95ee\u9898\uff0c\u4f8b\u5982\u7528\u6237\u901a\u8fc7\u5916\u90e8\u51fd\u6570\u8bbf\u95ee\u5230\u4e86\u672c\u6765\u65e0\u6743\u8bbf\u95ee\u7684\u6570\u636e\u3002</p> <p>\u4e3a\u4fdd\u8bc1\u5b89\u5168\uff0c\u4e00\u822c\u6709\u4e24\u79cd\u505a\u6cd5\uff1a</p> <ol> <li> <p>\u4f7f\u7528\u6c99\u7bb1\u73af\u5883(SandBox)\uff1a\u5c06\u5916\u90e8\u8fc7\u7a0b\u9650\u5236\u5728\u4e00\u4e2a\u53d7\u63a7\u7684\u73af\u5883\u4e2d\uff0c\u9632\u6b62\u5176\u8bbf\u95ee\u654f\u611f\u6570\u636e\u3002\u8fd9\u4e00\u822c\u7528\u4e8ejava\u7b49\u5b89\u5168\u7684\u8bed\u8a00</p> </li> <li> <p>\u9694\u79bb\u8fdb\u7a0b\uff1a\u5c06\u5916\u90e8\u8fc7\u7a0b\u8fd0\u884c\u5728\u4e00\u4e2a\u72ec\u7acb\u7684\u8fdb\u7a0b\u4e2d\uff0c\u9650\u5236\u5176\u5bf9\u6570\u636e\u5e93\u7684\u8bbf\u95ee\u6743\u9650\u3002\u8fd9\u4e00\u822c\u7528\u4e8eC\u7b49\u4e0d\u5b89\u5168\u7684\u8bed\u8a00</p> </li> </ol>"},{"location":"incourse/db/ch5/#triggers","title":"Triggers","text":"<p>\u987e\u540d\u601d\u4e49\uff0c\u89e6\u53d1\u5668\u662f\u5728\u53d1\u751f\u7279\u5b9a\u65f6\u95f4\u65f6\u81ea\u52a8\u6267\u884c\u7684\u7684 SQL \u8bed\u53e5\u3002\u89e6\u53d1\u5668\u901a\u5e38\u7528\u4e8e\u5b9e\u73b0\u6570\u636e\u5b8c\u6574\u6027\u3001\u5ba1\u8ba1\u3001\u81ea\u52a8\u5316\u7b49\u529f\u80fd\u3002</p> <p>Trigger\u7684ECA\u6a21\u578b:</p> <ul> <li> <p>Event\uff1a\u89e6\u53d1\u5668\u7684\u89e6\u53d1\u4e8b\u4ef6\uff0c\u4f8b\u5982\u63d2\u5165\u3001\u66f4\u65b0\u6216\u5220\u9664\u64cd\u4f5c</p> </li> <li> <p>Condition\uff1a\u89e6\u53d1\u5668\u7684\u6761\u4ef6\uff0c\u53ea\u6709\u5728\u6ee1\u8db3\u7279\u5b9a\u6761\u4ef6\u65f6\u624d\u4f1a\u6267\u884c\u89e6\u53d1\u5668\u7684\u64cd\u4f5c </p> </li> <li> <p>Action\uff1a\u89e6\u53d1\u5668\u5728\u6ee1\u8db3\u6761\u4ef6\u65f6\u6267\u884c\u7684\u64cd\u4f5c\uff0c\u4f8b\u5982\u63d2\u5165\u3001\u66f4\u65b0\u6216\u5220\u9664\u6570\u636e</p> </li> </ul> <p>\u89e6\u53d1\u5668\u6309\u6267\u884c\u65f6\u95f4\u5206\u4e3a\uff1a</p> <ol> <li> <p>BEFORE \u89e6\u53d1\u5668\uff1a\u5728\u6570\u636e\u5e93\u64cd\u4f5c\u4e4b\u524d\u89e6\u53d1</p> </li> <li> <p>AFTER \u89e6\u53d1\u5668\uff1a\u5728\u6570\u636e\u5e93\u64cd\u4f5c\u4e4b\u540e\u89e6\u53d1</p> </li> <li> <p>INSTEAD OF \u89e6\u53d1\u5668\uff1a\u66ff\u4ee3\u539f\u59cb\u64cd\u4f5c\u7684\u89e6\u53d1\u5668(\u4e3b\u8981\u7528\u4e8e\u89c6\u56fe)</p> </li> </ol> <p>\u6309\u89e6\u53d1\u4e8b\u4ef6\u5206\u4e3a\uff1a</p> <ol> <li> <p>INSERT \u89e6\u53d1\u5668\uff1a\u5728\u63d2\u5165\u6570\u636e\u65f6\u89e6\u53d1</p> </li> <li> <p>UPDATE \u89e6\u53d1\u5668\uff1a\u5728\u66f4\u65b0\u6570\u636e\u65f6\u89e6\u53d1</p> </li> <li> <p>DELETE \u89e6\u53d1\u5668\uff1a\u5728\u5220\u9664\u6570\u636e\u65f6\u89e6\u53d1</p> </li> </ol> <p>\u4f8b\u5b50</p> Insert TriggerUpdate TriggerDelete Trigger <pre><code>CREATE TRIGGER before_insert_instructor\nBEFORE INSERT ON instructor\nFOR EACH ROW\nBEGIN\n    -- \u68c0\u67e5\u65b0\u63d2\u5165\u7684\u5de5\u8d44\u662f\u5426\u5927\u4e8e 100000\n    IF NEW.salary &gt; 100000 THEN\n        SIGNAL SQLSTATE '45000'\n        SET MESSAGE_TEXT = 'Salary cannot exceed 100000';\n    END IF;\nEND;\n</code></pre> <ul> <li> <p><code>NEW</code> \u5173\u952e\u5b57\u8868\u793a\u65b0\u63d2\u5165\u7684\u884c</p> </li> <li> <p><code>OLD</code> \u5173\u952e\u5b57\u8868\u793a\u88ab\u5220\u9664\u6216\u66f4\u65b0\u7684\u884c</p> </li> <li> <p><code>SIGNAL</code> \u8bed\u53e5\u7528\u4e8e\u629b\u51fa\u81ea\u5b9a\u4e49\u5f02\u5e38</p> </li> <li> <p><code>FOR EACH ROW</code> \u8868\u793a\u89e6\u53d1\u5668\u5728\u6bcf\u4e00\u884c\u64cd\u4f5c\u65f6\u90fd\u6267\u884c</p> </li> </ul> <pre><code>CREATE TRIGGER account_trigger \nAFTER UPDATE OF balance ON account\nREFERENCING NEW ROW AS nrow\n            OLD ROW AS orow \nFOR EACH ROW \nWHEN (nrow.balance - orow.balance &gt;= 200000 OR \n  orow.balance - nrow.balance &gt;= 50000)\nBEGIN \n    INSERT INTO account_log \n        VALUES (nrow.account_number, \n            nrow.balance - orow.balance, \n        CURRENT_TIMESTAMP);\nEND;\n</code></pre> <ul> <li> <p><code>AFTER UPDATE OF balance</code> \u8868\u793a\u5728 <code>balance</code> \u5217\u66f4\u65b0\u540e\u89e6\u53d1</p> </li> <li> <p><code>On account</code> \u8868\u793a\u89e6\u53d1\u5668\u4f5c\u7528\u4e8e <code>account</code> \u8868</p> </li> <li> <p><code>REFERENCING NEW ROW AS nrow OLD ROW AS orow</code> \u7528\u4e8e\u5f15\u7528\u65b0\u65e7\u884c\u7684\u503c</p> </li> <li> <p><code>WHEN</code> \u5b50\u53e5\u7528\u4e8e\u6307\u5b9a\u89e6\u53d1\u5668\u7684\u6761\u4ef6</p> </li> </ul> <pre><code>CREATE TRIGGER before_delete_instructor\nBEFORE DELETE ON instructor\nFOR EACH ROW\nBEGIN\n    -- \u68c0\u67e5\u662f\u5426\u6709\u5b66\u751f\u5728\u8be5\u5bfc\u5e08\u7684\u8bfe\u7a0b\u4e2d\n    IF EXISTS (SELECT * FROM course WHERE instructor_id = OLD.ID) THEN\n        SIGNAL SQLSTATE '45000'\n        SET MESSAGE_TEXT = 'Cannot delete instructor with active courses';\n    END IF;\nEND;\n</code></pre>"},{"location":"incourse/db/ch5/#statement-level-triggers","title":"Statement Level Triggers","text":"<p>\u5728\u4f7f\u7528<code>for each row</code>\u65f6,\u89e6\u53d1\u5668\u4f1a\u4e00\u884c\u4e00\u884c\u5730\u5c06action\u5e94\u7528,\u5982\u679c\u6211\u4eec\u60f3\u76f4\u63a5\u5bf9\u8868\u8fdb\u884c\u64cd\u4f5c,\u53ef\u4ee5\u4f7f\u7528<code>for each statement</code></p> <pre><code>CREATE TRIGGER order_update_trigger\nAFTER UPDATE ON orders\nFOR EACH STATEMENT\nBEGIN\n    INSERT INTO system_logs (log_message)\n    VALUES ('Orders table updated');\nEND;\n</code></pre> <ul> <li> <p>\u5728\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b,\u89e6\u53d1\u5668\u5728\u4e00\u4e2a\u8bed\u53e5\u6267\u884c\u540e\u89e6\u53d1,\u800c\u4e0d\u5173\u5fc3\u8fd9\u4e2a\u8bed\u53e5\u5f71\u54cd\u4e86\u591a\u5c11\u884c.</p> </li> <li> <p>\u4e0d\u7136,\u5982\u679c\u4e00\u4e2a\u8bed\u53e5\u5f71\u54cd\u4e86100\u884c,\u90a3\u4e48\u4f7f\u7528<code>for each row</code>\u7684\u89e6\u53d1\u5668\u5c31\u4f1a\u6267\u884c100\u6b21</p> </li> <li> <p>\u5728\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b,<code>OLD</code>\u548c<code>NEW</code>\u5173\u952e\u5b57\u5c31\u4e0d\u518d\u9002\u7528,\u8f6c\u800c\u4ee3\u4e4b\u7684\u662f<code>new table</code>\u548c<code>old table</code>,\u5b83\u4eec\u5206\u522b\u8868\u793a\u65b0\u7684\u8868\u548c\u65e7\u7684\u8868</p> </li> </ul>"},{"location":"incourse/db/ch5/#when-not-to-use-triggers","title":"When Not To Use Triggers","text":"<p>\u5728\u65e9\u671f\uff0c\u89e6\u53d1\u5668\u66fe\u88ab\u5e7f\u6cdb\u4f7f\u7528\u4e8e\u591a\u79cd\u573a\u666f\uff0c\u4f46\u968f\u7740\u6570\u636e\u5e93\u6280\u672f\u7684\u53d1\u5c55\uff0c\u5f88\u591a\u573a\u666f\u6709\u4e86\u66f4\u597d\u7684\u66ff\u4ee3\u65b9\u6848\uff1a</p> <ol> <li> <p>\u7ef4\u62a4\u6c47\u603b\u6570\u636e</p> <ul> <li> <p>\u65e9\u671f\u505a\u6cd5\uff1a\u4f7f\u7528\u89e6\u53d1\u5668\u5728\u539f\u59cb\u6570\u636e\u53d8\u5316\u65f6\u81ea\u52a8\u66f4\u65b0\u6c47\u603b\u8868\uff08\u5982\u5404\u9662\u7cfb\u603b\u5de5\u8d44\uff09</p> </li> <li> <p>\u73b0\u4ee3\u66ff\u4ee3\uff1a\u73b0\u4ee3\u6570\u636e\u5e93\u63d0\u4f9b\u5185\u7f6e\u7684\u7269\u5316\u89c6\u56fe\uff08Materialized Views\uff09\u529f\u80fd\uff0c\u80fd\u81ea\u52a8\u7ef4\u62a4\u6c47\u603b\u6570\u636e\uff0c\u6027\u80fd\u66f4\u597d\u4e14\u7ef4\u62a4\u6210\u672c\u66f4\u4f4e</p> </li> </ul> </li> <li> <p>\u6570\u636e\u5e93\u590d\u5236</p> <ul> <li> <p>\u65e9\u671f\u505a\u6cd5\uff1a\u89e6\u53d1\u5668\u8bb0\u5f55\u53d8\u66f4\u5230\u7279\u6b8a\u7684\u53d8\u66f4\u8868\uff08delta relations\uff09\uff0c\u7136\u540e\u7531\u5355\u72ec\u8fdb\u7a0b\u5c06\u8fd9\u4e9b\u53d8\u66f4\u5e94\u7528\u5230\u526f\u672c</p> </li> <li> <p>\u73b0\u4ee3\u66ff\u4ee3\uff1a\u6570\u636e\u5e93\u7cfb\u7edf\u63d0\u4f9b\u5185\u7f6e\u7684\u590d\u5236\u652f\u6301\uff0c\u5982\u4e3b\u4ece\u590d\u5236\u3001\u65e5\u5fd7\u4f20\u8f93\u7b49\uff0c\u66f4\u53ef\u9760\u4e14\u6027\u80fd\u66f4\u597d</p> </li> </ul> </li> <li> <p>\u4e1a\u52a1\u903b\u8f91\u5c01\u88c5</p> <ul> <li> <p>\u65e9\u671f\u505a\u6cd5\uff1a\u5728\u89e6\u53d1\u5668\u4e2d\u5b9e\u73b0\u590d\u6742\u7684\u4e1a\u52a1\u89c4\u5219</p> </li> <li> <p>\u73b0\u4ee3\u66ff\u4ee3\uff1a\u4f7f\u7528\u5c01\u88c5\u8bbe\u65bd\uff08\u5b58\u50a8\u8fc7\u7a0b\u3001ORM\u5c42\u7684\u4e1a\u52a1\u903b\u8f91\uff09\u6765\u5b9e\u73b0\u4e1a\u52a1\u89c4\u5219</p> <ul> <li> <p>\u5b9a\u4e49\u4e13\u95e8\u7684\u66f4\u65b0\u65b9\u6cd5\u800c\u4e0d\u662f\u4f9d\u8d56\u89e6\u53d1\u5668</p> </li> <li> <p>\u5c06\u64cd\u4f5c\u4f5c\u4e3a\u66f4\u65b0\u65b9\u6cd5\u7684\u4e00\u90e8\u5206\u6267\u884c\uff0c\u800c\u975e\u901a\u8fc7\u89e6\u53d1\u5668</p> </li> <li>\u6570\u636e\u9a8c\u8bc1</li> </ul> </li> <li> <p>\u65e9\u671f\u505a\u6cd5\uff1a\u4f7f\u7528\u89e6\u53d1\u5668\u9a8c\u8bc1\u6570\u636e\u5b8c\u6574\u6027</p> </li> <li> <p>\u73b0\u4ee3\u66ff\u4ee3\uff1a\u4f7f\u7528\u7ea6\u675f\uff08CHECK\u3001FOREIGN KEY\u7b49\uff09\u6216\u5e94\u7528\u5c42\u9a8c\u8bc1</p> </li> </ul> </li> <li> <p>\u8de8\u6570\u636e\u5e93\u64cd\u4f5c</p> <ul> <li> <p>\u65e9\u671f\u505a\u6cd5\uff1a\u89e6\u53d1\u5668\u6267\u884c\u8de8\u6570\u636e\u5e93\u66f4\u65b0</p> </li> <li> <p>\u73b0\u4ee3\u66ff\u4ee3\uff1a\u4f7f\u7528\u4e8b\u52a1\u7ba1\u7406\u5668\u3001\u6d88\u606f\u961f\u5217\u6216\u5fae\u670d\u52a1\u67b6\u6784</p> </li> </ul> </li> </ol> <p>Cascade Trigger</p> <p>\u8bbe\u7f6e\u4e0d\u5f53\u7684\u89e6\u53d1\u5668\u5f88\u53ef\u80fd\u5bfc\u81f4\u7ea7\u8054\u89e6\u53d1\u5668\uff08Cascade Trigger\uff09\u7684\u95ee\u9898\uff0c\u5373\u4e00\u4e2a\u89e6\u53d1\u5668\u7684\u6267\u884c\u4f1a\u5bfc\u81f4\u53e6\u4e00\u4e2a\u89e6\u53d1\u5668\u88ab\u89e6\u53d1\uff0c\u4ece\u800c\u5f62\u6210\u5faa\u73af\u8c03\u7528\uff0c\u6700\u7ec8\u53ef\u80fd\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u6216\u6b7b\u9501\u7b49\u95ee\u9898\u3002</p>"},{"location":"incourse/db/ch6/","title":"ER\u6a21\u578b","text":"<p> \u7ea6 1805 \u4e2a\u5b57  16 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p> <p>ER\u6a21\u578b\u662f\u5b9e\u4f53-\u8054\u7cfb\u6a21\u578b\uff08Entity-Relationship Model\uff09\u7684\u7b80\u79f0\uff0c\u662f\u4e00\u79cd\u7528\u4e8e\u6570\u636e\u5efa\u6a21\u7684\u56fe\u5f62\u5316\u5de5\u5177\u3002\u5b83\u901a\u8fc7\u56fe\u5f62\u5316\u7684\u65b9\u5f0f\u63cf\u8ff0\u6570\u636e\u7684\u7ed3\u6784\u548c\u5173\u7cfb\uff0c\u5e2e\u52a9\u8bbe\u8ba1\u6570\u636e\u5e93\u7684\u903b\u8f91\u7ed3\u6784\u3002</p> <p>\u4e0a\u56fe\u662f\u6570\u636e\u5e93\u8bbe\u8ba1\u7684\u4e00\u822c\u6d41\u7a0b\u3002</p>"},{"location":"incourse/db/ch6/#database-modeling","title":"Database Modeling","text":"<p>\u4f8b\u5b50</p> <p></p> <ul> <li> <p>\u4e00\u4e2a\u65b9\u5f62\u6846\u8868\u793a\u4e00\u4e2a\u5b9e\u4f53\u96c6\u5408\uff0c\u5305\u62ec\u4e86\u5176\u5c5e\u6027</p> </li> <li> <p>\u5b9e\u4f53\u4e0e\u5b9e\u4f53\u4e4b\u95f4\u5b58\u5728\u5173\u7cfb\uff0c\u7528\u83f1\u5f62\u6846\u8868\u793a</p> <ul> <li> <p>\u53cc\u6a2a\u7ebf\u8868\u793a\u6bcf\u4e2a\u5b9e\u4f53\u90fd\u5fc5\u987b\u53c2\u4e0e\u5173\u7cfb\u3002\u4f8b\u5982\uff0c\u56fe\u4e2d<code>course</code>\u4e0e<code>course_dept</code>\u4e4b\u95f4\u4f7f\u7528\u53cc\u6a2a\u7ebf\u8fde\u63a5\uff0c\u8868\u793a\u6bcf\u4e00\u95e8\u8bfe\u5fc5\u987b\u8981\u5f52\u5c5e\u4e8e\u4e00\u4e2a\u7cfb</p> </li> <li> <p>\u5355\u6a2a\u7ebf\u8868\u793a\u6bcf\u4e2a\u5b9e\u4f53\u4e0d\u4e00\u5b9a\u53c2\u4e0e\u5173\u7cfb\u3002\u4f8b\u5982\uff0c\u56fe\u4e2d<code>course</code>\u4e0e<code>course_prereq</code>\u4e4b\u95f4\u4f7f\u7528\u5355\u6a2a\u7ebf\u8fde\u63a5\uff0c\u8868\u793a\u4e00\u95e8\u8bfe\u4e0d\u4e00\u5b9a\u6709\u5148\u4fee\u8bfe</p> </li> <li> <p><code>sec_course</code>\u662f\u53cc\u6846\u83f1\u5f62\uff0c\u8868\u793a<code>section</code>\u662f\u4e00\u4e2a\u5f31\u5b9e\u4f53\uff0c\u5fc5\u987b\u4f9d\u8d56\u4e8e<code>course</code>\u6765\u552f\u4e00\u786e\u5b9a\u4e00\u4e2a\u5143\u7ec4\u3002</p> </li> <li> <p>\u7bad\u5934\u8868\u793a\u4e00\u5bf9\u4e00\uff0c\u4f8b\u5982<code>course_dept</code>\u548c<code>department</code>\u662f\u4e00\u4e2a\u5355\u5411\u7bad\u5934\uff0c\u8868\u793a\u4e00\u95e8\u8bfe\u53ea\u80fd\u5c5e\u4e8e\u4e00\u4e2a\u7cfb\u3002</p> </li> <li> <p>\u4e0d\u52a0\u7bad\u5934\u7684\u6a2a\u7ebf\u8868\u793a\u4e00\u5bf9\u591a\uff0c\u4f8b\u5982<code>course</code>\u4e0e<code>course_prereq</code>\u4e4b\u95f4\u6ca1\u6709\u7bad\u5934\uff0c\u8868\u793a\u4e00\u95e8\u8bfe\u53ef\u4ee5\u6709\u591a\u95e8\u5148\u4fee\u8bfe\u3002</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch6/#entities","title":"Entities","text":"<p>\u5b9e\u4f53</p> <ul> <li> <p>\u5b9e\u4f53\u662f\u4e00\u4e2a\u72ec\u7acb\u5b58\u5728\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4e0e\u5176\u4ed6\u5b9e\u4f53\u533a\u5206\u5f00\u6765\uff0c\u4f8b\u5982\uff0c\u5177\u4f53\u7684\u4eba</p> </li> <li> <p>\u5b9e\u4f53\u96c6\u5408\u662f\u5177\u6709\u76f8\u540c\u5c5e\u6027\u7684\u5b9e\u4f53\u7684\u96c6\u5408\uff0c\u4f8b\u5982\uff0c\u6240\u6709\u7684\u5b66\u751f\u3001\u6240\u6709\u7684\u8bfe\u7a0b\u7b49</p> </li> <li> <p>\u5b9e\u4f53\u7684\u5c5e\u6027\u662f\u5b9e\u4f53\u6240\u5177\u6709\u7684\u7279\u5f81\uff0c\u4f8b\u5982\uff0c\u5b66\u751f\u7684\u59d3\u540d\u3001\u5b66\u53f7\u3001\u6027\u522b\u7b49</p> </li> </ul> <p>\u4f8b\u5b50</p> <p></p>"},{"location":"incourse/db/ch6/#relationship-sets","title":"Relationship Sets","text":"<p>\u5173\u7cfb</p> <p>\u5173\u7cfb\u662f\u591a\u4e2a\u96c6\u5408\u4e4b\u95f4\u7684\u8054\u7cfb\u3002</p> <p>\u4f8b\u5b50</p> <p></p>"},{"location":"incourse/db/ch6/#relationship-sets-with-attributes","title":"Relationship Sets with Attributes","text":"<p>\u5173\u7cfb\u96c6\u5408\u4e5f\u53ef\u4ee5\u5e26\u6709\u81ea\u5df1\u7684\u5c5e\u6027\uff0c\u4f8b\u5982\uff0c<code>enrollment</code>\u5173\u7cfb\u96c6\u5408\u53ef\u4ee5\u6709\u5c5e\u6027<code>grade</code>\uff0c\u8868\u793a\u5b66\u751f\u5728\u67d0\u95e8\u8bfe\u7a0b\u4e2d\u7684\u6210\u7ee9\u3002</p>"},{"location":"incourse/db/ch6/#roles","title":"Roles","text":"<ul> <li> <p>\u5173\u7cfb\u4e2d\u7684\u5b9e\u4f53\u4e0d\u4e00\u5b9a\u8981\u4e0d\u540c</p> </li> <li> <p>\u6bcf\u4e2a\u5b9e\u4f53\u5728\u5173\u7cfb\u4e2d\u90fd\u6709\u4e00\u4e2a\u89d2\u8272\uff0c\u4e0b\u56fe\u4e2d\u7684<code>prereq_id</code>\u548c<code>course_id</code>\u5c31\u662f\u89d2\u8272</p> </li> </ul> <p>\u4f8b\u5b50</p> <p></p>"},{"location":"incourse/db/ch6/#degree\u5ea6-of-a-relationship-set","title":"Degree(\u5ea6) of a Relationship Set","text":"<ul> <li> <p>\u5173\u7cfb\u96c6\u5408\u7684\u5ea6\u662f\u53c2\u4e0e\u5173\u7cfb\u7684\u5b9e\u4f53\u96c6\u5408\u7684\u4e2a\u6570</p> </li> <li> <p>binary relationship\uff08\u4e8c\u5143\u8054\u7cfb\uff09</p> <ul> <li> <p>involve two entity sets (or degree two). </p> </li> <li> <p>most relationship sets in a database system are binary.</p> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch6/#mapping-cardinality-constraints\u6620\u5c04\u57fa\u6570\u7ea6\u675f","title":"Mapping Cardinality Constraints\uff08\u6620\u5c04\u57fa\u6570\u7ea6\u675f\uff09","text":"<ul> <li> <p>\u5bf9\u4e8e\u5177\u4f53\u7684\u67d0\u4e2a\u5b9e\u4f53\uff0c\u63cf\u8ff0\u5176\u4ed6\u5b9e\u4f53\u901a\u8fc7\u67d0\u4e2a\u5173\u7cfb\u53ef\u4ee5\u5173\u8054\u7684\u8be5\u5b9e\u4f53\u7684\u4e2a\u6570</p> </li> <li> <p>\u5728\u4e8c\u5143\u8054\u7cfb\u4e2d\uff0c\u6709\u5982\u4e0b\u51e0\u79cd</p> <ul> <li> <p>1:1\uff08one-to-one\uff09</p> <ul> <li> <p>\u6bcf\u4e2a\u5b9e\u4f53\u96c6\u5408\u4e2d\u7684\u6bcf\u4e2a\u5b9e\u4f53\u90fd\u4e0e\u53e6\u4e00\u4e2a\u5b9e\u4f53\u96c6\u5408\u4e2d\u7684\u4e00\u4e2a\u5b9e\u4f53\u76f8\u5173\u8054</p> </li> <li> <p>\u4f8b\u5982\uff0c<code>course</code>\u548c<code>course_dept</code>\u4e4b\u95f4\u7684\u5173\u7cfb</p> </li> </ul> </li> <li> <p>1:N\uff08one-to-many\uff09</p> <ul> <li> <p>\u6bcf\u4e2a\u5b9e\u4f53\u96c6\u5408\u4e2d\u7684\u6bcf\u4e2a\u5b9e\u4f53\u90fd\u4e0e\u53e6\u4e00\u4e2a\u5b9e\u4f53\u96c6\u5408\u4e2d\u7684\u591a\u4e2a\u5b9e\u4f53\u76f8\u5173\u8054</p> </li> <li> <p>\u4f8b\u5982\uff0c<code>course</code>\u548c<code>section</code>\u4e4b\u95f4\u7684\u5173\u7cfb</p> </li> </ul> </li> <li> <p>N:M\uff08many-to-many\uff09</p> <ul> <li> <p>\u6bcf\u4e2a\u5b9e\u4f53\u96c6\u5408\u4e2d\u7684\u6bcf\u4e2a\u5b9e\u4f53\u90fd\u4e0e\u53e6\u4e00\u4e2a\u5b9e\u4f53\u96c6\u5408\u4e2d\u7684\u591a\u4e2a\u5b9e\u4f53\u76f8\u5173\u8054</p> </li> <li> <p>\u4f8b\u5982\uff0c<code>student</code>\u548c<code>course</code>\u4e4b\u95f4\u7684\u5173\u7cfb</p> </li> </ul> </li> <li> <p>N:1\uff08many-to-one\uff09</p> <ul> <li> <p>\u6bcf\u4e2a\u5b9e\u4f53\u96c6\u5408\u4e2d\u7684\u591a\u4e2a\u5b9e\u4f53\u90fd\u4e0e\u53e6\u4e00\u4e2a\u5b9e\u4f53\u96c6\u5408\u4e2d\u7684\u4e00\u4e2a\u5b9e\u4f53\u76f8\u5173\u8054</p> </li> <li> <p>\u4f8b\u5982\uff0c<code>section</code>\u548c<code>course</code>\u4e4b\u95f4\u7684\u5173\u7cfb</p> </li> </ul> </li> </ul> </li> </ul> <p>\u4f8b\u5b50</p> one-to-manyone-to-onemany-to-onemany-to-many <p></p> <p></p> <p></p> <p></p>"},{"location":"incourse/db/ch6/#participation-constraints\u53c2\u4e0e\u7ea6\u675f","title":"Participation Constraints\uff08\u53c2\u4e0e\u7ea6\u675f\uff09","text":"<ul> <li> <p>\u5b8c\u5168\u53c2\u4e0e\uff08\u7528\u53cc\u7ebf\u8868\u793a\uff09\uff1a\u5b9e\u4f53\u96c6\u4e2d\u7684\u6bcf\u4e2a\u5b9e\u4f53\u90fd\u81f3\u5c11\u53c2\u4e0e\u5173\u7cfb\u96c6\u4e2d\u7684\u4e00\u4e2a\u5173\u7cfb\u3002</p> <ul> <li>\u4f8b\u5982\uff1a\u5b66\u751f\u5728 advisor \u5173\u7cfb\u4e2d\u662f\u5b8c\u5168\u53c2\u4e0e\uff0c\u6bcf\u4e2a\u5b66\u751f\u90fd\u5fc5\u987b\u6709\u4e00\u4e2a\u76f8\u5173\u7684\u6307\u5bfc\u8001\u5e08\u3002</li> </ul> </li> <li> <p>\u90e8\u5206\u53c2\u4e0e\uff1a\u6709\u4e9b\u5b9e\u4f53\u53ef\u80fd\u4e0d\u53c2\u4e0e\u5173\u7cfb\u96c6\u4e2d\u7684\u4efb\u4f55\u5173\u7cfb\u3002</p> <ul> <li>\u4f8b\u5982\uff1a\u6307\u5bfc\u8001\u5e08\u5728 advisor \u5173\u7cfb\u4e2d\u662f\u90e8\u5206\u53c2\u4e0e\u3002</li> </ul> </li> </ul>"},{"location":"incourse/db/ch6/#notation-for-expressing-more-complex-constraints","title":"Notation for Expressing More Complex Constraints","text":"<p>A line may have an associated minimum and maximum cardinality, shown in the form l..h, where l is the minimum and h the maximum cardinality</p> <ul> <li> <p>A minimum value of 1 indicates total participation.</p> </li> <li> <p>A maximum value of 1 indicates that the entity participates  in at most one relationship</p> </li> <li> <p>A maximum value of * indicates no limit.</p> </li> </ul> <p>\u4f8b\u5b50</p> <p></p> <p>\u591a\u5143\u5173\u7cfb\u4e2d\uff0c\u4e3a\u907f\u514d\u6df7\u6dc6\uff0c\u6211\u4eec\u5141\u8bb8\u6700\u591a\u4e00\u4e2a\u7bad\u5934\u5b58\u5728\u3001</p>"},{"location":"incourse/db/ch6/#primary-key","title":"Primary Key","text":""},{"location":"incourse/db/ch6/#primary-key-for-entity-sets","title":"Primary Key For Entity Sets","text":"<p>\u5b9e\u4f53\u96c6\u5408\u7684\u4e3b\u952e\u662f\u552f\u4e00\u6807\u8bc6\u5b9e\u4f53\u96c6\u5408\u4e2d\u6bcf\u4e2a\u5b9e\u4f53\u7684\u5c5e\u6027\u6216\u5c5e\u6027\u7ec4\u5408\u3002\u4e3b\u952e\u53ef\u4ee5\u662f\u5355\u4e2a\u5c5e\u6027\uff0c\u4e5f\u53ef\u4ee5\u662f\u591a\u4e2a\u5c5e\u6027\u7684\u7ec4\u5408\u3002</p>"},{"location":"incourse/db/ch6/#primary-key-for-relationship-sets","title":"Primary Key For Relationship Sets","text":"<p>\u4e3a\u4e86\u533a\u5206\u5173\u7cfb\u96c6\u5408\u4e2d\u7684\u5404\u79cd\u5173\u7cfb\uff0c\u6211\u4eec\u4f7f\u7528\u5173\u7cfb\u96c6\u5408\u4e2d\u5b9e\u4f53\u7684\u5404\u4e2a\u4e3b\u952e\u3002</p> <p>\u8bbe R \u662f\u4e00\u4e2a\u5173\u7cfb\u96c6\u5408\uff0c\u6d89\u53ca\u5b9e\u4f53\u96c6\u5408 E1, E2, .. En\u3002</p> <p>R \u7684\u4e3b\u952e\u7531\u5b9e\u4f53\u96c6\u5408 E1, E2, ..En \u7684\u4e3b\u952e\u7684\u5e76\u96c6\u7ec4\u6210\u3002</p> <p>\u5982\u679c\u5173\u7cfb\u96c6\u5408 R \u5177\u6709\u4e0e\u4e4b\u76f8\u5173\u7684\u5c5e\u6027 a1, a2, .., am\uff0c\u5219 R \u7684\u4e3b\u952e\u8fd8\u5305\u62ec\u5c5e\u6027 a1, a2, .., am\u3002</p>"},{"location":"incourse/db/ch6/#weak-entity-sets\u5f31\u5b9e\u4f53\u96c6","title":"Weak Entity Sets\uff08\u5f31\u5b9e\u4f53\u96c6\uff09","text":"<ul> <li> <p>\u5f31\u5b9e\u4f53\u96c6\u662f\u6307\u4e0d\u5177\u6709\u4e3b\u952e\u7684\u5b9e\u4f53\u96c6\u3002</p> </li> <li> <p>\u5f31\u5b9e\u4f53\u96c6\u7684\u5b58\u5728\u4f9d\u8d56\u4e8e\u6807\u8bc6\u6027\u5b9e\u4f53\u96c6\uff08identifying entity set\uff09\u3002</p> <ul> <li> <p>\u5f31\u5b9e\u4f53\u96c6\u5fc5\u987b\u901a\u8fc7\u4e00\u4e2a\u5b8c\u5168\u53c2\u4e0e\u7684\u3001\u4ece\u6807\u8bc6\u6027\u5b9e\u4f53\u96c6\u5230\u5f31\u5b9e\u4f53\u96c6\u7684\u4e00\u5bf9\u591a\u5173\u7cfb\u4e0e\u6807\u8bc6\u6027\u5b9e\u4f53\u96c6\u76f8\u5173\u8054\u3002</p> </li> <li> <p>\u6807\u8bc6\u6027\u8054\u7cfb\uff08Identifying relationship\uff09\u4f7f\u7528\u53cc\u83f1\u5f62\u8868\u793a\u3002</p> </li> </ul> </li> <li> <p>\u5f31\u5b9e\u4f53\u96c6\u7684\u5206\u8fa8\u7b26\uff08discriminator\uff0c\u6216 partial key\uff09\u662f\u5728\u5df2\u77e5\u4f9d\u8d56\u7684\u6807\u8bc6\u6027\u5b9e\u4f53\u7684\u60c5\u51b5\u4e0b\uff0c\u7528\u4e8e\u533a\u5206\u5f31\u5b9e\u4f53\u96c6\u4e2d\u6240\u6709\u5b9e\u4f53\u7684\u5c5e\u6027\u96c6\u5408\u3002</p> </li> <li> <p>\u5f31\u5b9e\u4f53\u96c6\u7684\u4e3b\u952e\u7531\u5176\u6240\u4f9d\u8d56\u7684\u5f3a\u5b9e\u4f53\u96c6\u7684\u4e3b\u952e\u52a0\u4e0a\u8be5\u5f31\u5b9e\u4f53\u96c6\u7684\u5206\u8fa8\u7b26\u7ec4\u6210\u3002</p> </li> </ul> <p>\u5728ER\u6a21\u578b\u4e2d,<code>partial key</code>\u4f7f\u7528\u865a\u7ebf\u8868\u793a</p> <p>Redundant Attributes</p> <p>\u5047\u8bbe\u6211\u4eec\u6709\u4e24\u4e2a\u5b9e\u4f53\u96c6</p> <ul> <li> <p><code>student</code>\uff0c\u5177\u6709\u5c5e\u6027<code>ID</code>, <code>name</code>, <code>tot_cred</code>, <code>dept_name</code></p> </li> <li> <p><code>department</code>\uff0c\u5177\u6709\u5c5e\u6027<code>dept_name</code>, <code>building</code>, <code>budget</code></p> </li> <li> <p><code>student</code>\u548c<code>department</code>\u4e4b\u95f4\u6709\u4e00\u4e2a\u5173\u7cfb\u96c6<code>stu_dept</code></p> </li> <li> <p>\u5728ER\u56fe\u4e2d\uff0c<code>student</code>\u9700\u8981\u5220\u53bb<code>dept_name</code>\u5c5e\u6027\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u901a\u8fc7<code>department</code>\u5173\u7cfb\u96c6\u4e2d\u7684<code>dept_name</code>\u5c5e\u6027\u6765\u83b7\u5f97</p> </li> <li> <p>\u4f46\u662f\u5f53\u6211\u4eec\u5728\u5173\u7cfb\u6570\u636e\u5e93\u4e2d\u5b9e\u73b0\u65f6\uff0c<code>student</code>\u8868\u4e2d\u4ecd\u7136\u9700\u8981\u5305\u542b<code>dept_name</code>\u5c5e\u6027\uff0c\u56e0\u4e3a\u5b83\u662f\u4e00\u4e2a\u5916\u952e\uff0c\u6307\u5411<code>department</code>\u8868\u4e2d\u7684<code>dept_name</code>\u5c5e\u6027</p> </li> </ul>"},{"location":"incourse/db/ch6/#reduction-to-relational-schemas","title":"Reduction to Relational Schemas","text":"<p>\u5c06ER\u56fe\u8f6c\u6362\u4e3a\u5173\u7cfb\u6a21\u5f0f\u7684\u8fc7\u7a0b\u79f0\u4e3a<code>reduction to relational schemas</code></p> <ul> <li> <p>A strong entity set reduces to a schema with the same attributes.</p> <ul> <li>\u4f8b:course(course_id, title, credits)</li> </ul> </li> <li> <p>A weak entity set becomes a table that includes a column for the primary key of the identifying strong entity set .\u4e5f\u5c31\u662f\u5916\u952e\u7684\u4f7f\u7528</p> <ul> <li> <p>Primary key of the table is the union of the discriminator of the\u00a0weak entity set and\u00a0 the\u00a0primary key of the identifying strong entity set\u00a0</p> </li> <li> <p>\u4f8b:section(sec_id, course_id, semester, year)</p> </li> </ul> </li> <li> <p>A many-to-many relationship set is represented as a schema with attributes for the primary keys of the two participating entity sets, and any descriptive attributes of the relationship set.</p> <p>\u4f8b\u5b50</p> <p> \u6211\u4eec\u628a\u4e24\u4e2a\u8868\u7684\u4e3b\u952e\u8fde\u63a5\u8d77\u6765\uff0c\u5f62\u6210\u4e00\u4e2a\u65b0\u7684\u8868</p> </li> <li> <p>Many-to-one and one-to-many relationship sets that are total on the many-side can be represented by adding an extra attribute to the \u201cmany\u201d side, containing the primary key of the \u201cone\u201d side</p> </li> <li> <p>For one-to-one relationship sets, either side can be chosen to act as the \u201cmany\u201d side.That is, extra attribute can be added to either of the tables corresponding to the two entity sets </p> </li> </ul>"},{"location":"incourse/db/ch6/#composite-and-multivalued-attributes","title":"Composite and Multivalued Attributes","text":"<p>\u611f\u89c9\u6bd4\u8f83\u5e73\u51e1\uff0c\u770b\u8fd9\u91cc\u5427</p>"},{"location":"incourse/db/ch6/#design-issues","title":"Design Issues","text":""},{"location":"incourse/db/ch6/#common-mistakes-in-e-r-diagrams","title":"Common Mistakes in E-R Diagrams","text":"<ol> <li> <p>\u4fe1\u606f\u5197\u4f59</p> <p><code>dept_name</code>\u5197\u4f59</p> <p> <code>student</code>\u8868\u4e2d\u6709<code>dept_name</code>\u5c5e\u6027\uff0c<code>department</code>\u8868\u4e2d\u4e5f\u6709<code>dept_name</code>\u5c5e\u6027\uff0c\u8fd9\u6837\u4f1a\u5bfc\u81f4\u6570\u636e\u5197\u4f59</p> </li> <li> <p>\u5c5e\u6027\u8bbe\u7f6e\u4e0d\u5f53</p> <p>Example</p> <p></p> <p>\u4e00\u6b21\u8bfe\u53ef\u80fd\u6709\u591a\u6b21\u4f5c\u4e1a\uff0c\u56e0\u6b64\u8fd9\u6837\u50a8\u5b58\u4f5c\u4e1a\u4e0d\u5408\u9002</p> \u89e3\u51b3\u65b9\u6cd5 12 <p></p> <p></p> </li> </ol>"},{"location":"incourse/db/ch6/#use-of-entity-sets-vs-attributes","title":"Use of entity sets vs. attributes","text":"<p>\u4e24\u79cd\u5b58\u653e\u7535\u8bdd\u53f7\u7801\u7684\u65b9\u6cd5\u3002\u540e\u4e00\u79cd\u65b9\u6cd5\u5141\u8bb8\u5b58\u653e\u66f4\u591a\u4fe1\u606f\u3002</p> <p>\u540e\u9762\u7684\u5185\u5bb9\u61d2\u5f97\u5199\u4e86\uff0c\u770b\u8fd9\u91cc\u5427</p>"},{"location":"incourse/db/ch7/","title":"\u5173\u7cfb\u6570\u636e\u5e93\u8bbe\u8ba1","text":"<p> \u7ea6 3403 \u4e2a\u5b57  25 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 17 \u5206\u949f</p>"},{"location":"incourse/db/ch7/#\u4ecb\u7ecd","title":"\u4ecb\u7ecd","text":"<p>\u5f15\u5165</p> <p>\u5047\u8bbe\u6211\u4eec\u73b0\u5728\u6709\u5982\u4e0b\u5173\u7cfb\u6a21\u578b\uff1a</p> <p> </p> <p>\u5982\u679c\u6211\u4eec\u628ainstructor\u548cdepartment\u4e24\u4e2a\u8868\u5408\u5e76\uff0c\u4f1a\u600e\u4e48\u6837?</p> <p> </p> <p>\u8fd9\u6837\u7684\u4e00\u4e2a\u8868\u4f1a\u6709\u4ec0\u4e48\u95ee\u9898\uff0c\u8ba9\u6211\u4eec\u628a\u5b83\u79f0\u4e3a\u4e00\u4e2a\"bad\" relation?</p> <ol> <li> <p>Information repetition (\u4fe1\u606f\u91cd\u590d):</p> <ul> <li><code>instructor</code>\u8868\u4e2d\u6709\u5f88\u591a<code>dept_name</code>\u5c5e\u6027\u7684\u503c\u662f\u76f8\u540c\u7684\uff0c\u5bfc\u81f4\u4fe1\u606f\u91cd\u590d\u5b58\u50a8\u3002</li> </ul> </li> <li> <p>Insertion anomalies (\u63d2\u5165\u5f02\u5e38):</p> <ul> <li>\u5982\u679c\u6211\u4eec\u60f3\u8981\u63d2\u5165\u4e00\u4e2a\u65b0\u7684\u7cfb<code>dept_name</code>\uff0c\u4f46\u662f\u6ca1\u6709\u4efb\u4f55\u6559\u6388\u5c5e\u4e8e\u8fd9\u4e2a\u7cfb\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u65e0\u6cd5\u63d2\u5165\u8fd9\u4e2a\u7cfb\u7684\u4fe1\u606f\u3002</li> </ul> </li> <li> <p>Update difficulty (\u66f4\u65b0\u56f0\u96be)</p> <ul> <li>\u5982\u679c\u6211\u4eec\u60f3\u8981\u66f4\u65b0\u4e00\u4e2a\u6559\u6388\u7684\u7cfb<code>dept_name</code>\uff0c\u6211\u4eec\u9700\u8981\u5728\u591a\u4e2a\u5730\u65b9\u8fdb\u884c\u66f4\u65b0,\u5305\u62ec<code>budget</code>\u548c<code>building</code>\u5c5e\u6027\u3002</li> </ul> </li> </ol> <p>\u90a3\u4e48,\u662f\u4ec0\u4e48\u539f\u56e0\u5bfc\u81f4\u8fd9\u4e2a\u8868\u53d8\u6210\u4e86\u4e00\u4e2a\"bad\" relation\u5462?</p> <p>\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0,\u5728\u5173\u7cfb\u6a21\u578b\u4e2d,\u5c5e\u6027\u4e4b\u95f4\u5b58\u5728\u4f9d\u8d56\u5173\u7cfb,\u6b63\u5982\u6211\u4eec\u4e4b\u524d\u6240\u8bf4\u7684\u4e3b\u952e.\u53ea\u8981\u77e5\u9053\u4e86\u4e3b\u952e,\u5c31\u53ef\u4ee5\u552f\u4e00\u786e\u5b9a\u4e00\u4e2a\u5143\u7ec4.</p> <p>\u5728\u65b0\u7684\u5408\u6210\u7684\u8868\u4e2d,\u4e3b\u952e\u662f<code>ID</code>.\u7136\u800c,<code>department</code>\u4e5f\u80fd\u51b3\u5b9a\u5176\u4ed6\u4e00\u4e9b\u5c5e\u6027:<code>budget</code>\u548c<code>building</code>.\u4f46\u5728\u8fd9\u91cc,<code>department</code>\u5e76\u4e0d\u662f\u4e00\u4e2acandidate key,\u56e0\u4e3a\u5b83\u65e0\u6cd5\u552f\u4e00\u786e\u5b9a\u4e00\u4e2a\u5143\u7ec4,\u56e0\u6b64\u6211\u4eec\u5e94\u8be5\u628a\u8fd9\u4e2a\u8868\u5206\u89e3\u6210\u4e24\u4e2a\u8868.</p> <p>\u6240\u4ee5,\u6211\u4eec\u4e5f\u53ef\u4ee5\u5b9a\u4e49\u4ec0\u4e48\u662f\u597d\u7684\u5173\u7cfb\u6a21\u578b:</p> <p>\u597d\u7684\u5173\u7cfb\u6a21\u578b:</p> <ul> <li> <p>\u53ea\u6709candidate key\u624d\u80fd\u51b3\u5b9a\u5176\u4ed6\u5c5e\u6027</p> </li> <li> <p>\u4e5f\u5c31\u662f\u8bf4,\u5982\u679c\u4e00\u4e2a\u5c5e\u6027\u51b3\u5b9a\u4e86\u5176\u4ed6\u5c5e\u6027,\u90a3\u4e48\u5b83\u5fc5\u987b\u662f\u4e00\u4e2acandidate key.</p> </li> </ul> <p>\u770b\u5b8c\u4e86\u5408\u6210,\u6211\u4eec\u6765\u770b\u770b\u8868\u7684\u5206\u89e3.</p> <p>\u6211\u4eec\u628a\u5206\u89e3\u5206\u6210\u4e24\u79cd:</p> <ol> <li> <p>Lossy decomposition: \u6709\u635f\u5206\u89e3.\u5206\u89e3\u540e,\u6211\u4eec\u65e0\u6cd5\u4ece\u5206\u89e3\u540e\u7684\u8868\u4e2d\u6062\u590d\u539f\u6765\u7684\u8868.</p> <ul> <li> <p>\u5b9a\u4e49\uff1a\u5206\u89e3\u540e\u65e0\u6cd5\u901a\u8fc7\u8fde\u63a5\u64cd\u4f5c\u5b8c\u5168\u6062\u590d\u539f\u59cb\u8868</p> </li> <li> <p>\u7279\u70b9\uff1a</p> <ul> <li> <p>\u4fe1\u606f\u4e22\u5931</p> </li> <li> <p>\u53ef\u80fd\u4ea7\u751f\u865a\u5047\u5143\u7ec4</p> </li> <li> <p>\u66f4\u591a\u7684\u5143\u7ec4\u610f\u5473\u7740\u66f4\u591a\u4e0d\u786e\u5b9a\u6027\uff0c\u5373\u4fe1\u606f\u4e22\u5931</p> </li> </ul> </li> <li> <p>\u793a\u4f8b\uff1a</p> <p> </p> <ul> <li>\u4e3b\u952e\u9009\u62e9\u4e0d\u5f53\uff08\u5982\u56fe\u4e2d\u9519\u8bef\u5730\u4f7f\u7528\"\u540d\u5b57\"\u4f5c\u4e3a\u4e3b\u952e\uff09</li> </ul> </li> </ul> </li> <li> <p>Lossless decomposition: \u65e0\u635f\u5206\u89e3.\u5206\u89e3\u540e,\u6211\u4eec\u53ef\u4ee5\u4ece\u5206\u89e3\u540e\u7684\u8868\u4e2d\u6062\u590d\u539f\u6765\u7684\u8868.</p> <p> </p> <ul> <li> <p>\u65e0\u635f\u6761\u4ef6\uff1a                 $$                 \\pi_{R_1}(r) \\bowtie \\pi_{R_2}(r) = r                 $$</p> </li> <li> <p>\u5224\u65ad\u6807\u51c6\uff08\u81f3\u5c11\u6ee1\u8db3\u5176\u4e00\uff09\uff1a</p> <ul> <li> <p>$ R_1 \\cap R_2 \\rightarrow R_1 $</p> </li> <li> <p>$ R_1 \\cap R_2 \\rightarrow R_2 $</p> </li> <li> <p>\u5373\u516c\u5171\u5c5e\u6027\u662f\u4e00\u4e2a\u8868\u7684\u8d85\u952e</p> </li> </ul> </li> </ul> </li> </ol>"},{"location":"incourse/db/ch7/#first-normal-form","title":"First Normal Form","text":"<ul> <li> <p>\u5b9a\u4e49\uff1a\u5173\u7cfb\u6a21\u5f0fR\u5904\u4e8e\u7b2c\u4e00\u8303\u5f0f\uff0c\u5f53\u4e14\u4ec5\u5f53R\u7684\u6240\u6709\u5c5e\u6027\u7684\u57df\u90fd\u662f\u539f\u5b50\u7684\u3002</p> </li> <li> <p>\u539f\u5b50\u57df\uff1a\u57df\u662f\u539f\u5b50\u7684\uff0c\u5982\u679c\u5176\u5143\u7d20\u88ab\u89c6\u4e3a\u4e0d\u53ef\u5206\u5272\u7684\u5355\u5143\u3002</p> </li> <li> <p>\u975e\u539f\u5b50\u57df\u7684\u4f8b\u5b50\uff1a</p> <ul> <li> <p>\u59d3\u540d\u96c6\u5408\u3001\u590d\u5408\u5c5e\u6027</p> </li> <li> <p>\u53ef\u4ee5\u88ab\u5206\u89e3\u6210\u591a\u4e2a\u90e8\u5206\u7684\u6807\u8bc6\u53f7\uff0c\u5982CS101-&gt;CS\u548c101</p> </li> </ul> </li> <li> <p>\u5173\u4e8e\u539f\u5b50\u6027\u7684\u8bf4\u660e\uff1a</p> <ul> <li> <p>\u539f\u5b50\u6027\u5b9e\u9645\u4e0a\u662f\u57df\u5143\u7d20\u4f7f\u7528\u65b9\u5f0f\u7684\u4e00\u79cd\u5c5e\u6027</p> </li> <li> <p>\u4f8b\u5982\uff1a\u5b57\u7b26\u4e32\u901a\u5e38\u88ab\u89c6\u4e3a\u4e0d\u53ef\u5206\u5272\u7684</p> </li> <li> <p>\u5047\u8bbe\u5b66\u751f\u88ab\u8d4b\u4e88\u5f62\u5982CS0012\u6216EE1127\u7684\u5b66\u53f7</p> <ul> <li> <p>\u5982\u679c\u63d0\u53d6\u524d\u4e24\u4e2a\u5b57\u7b26\u6765\u786e\u5b9a\u9662\u7cfb\uff0c\u5219\u5b66\u53f7\u7684\u57df\u5c31\u4e0d\u662f\u539f\u5b50\u7684</p> </li> <li> <p>\u8fd9\u6837\u505a\u662f\u4e00\u4e2a\u4e0d\u597d\u7684\u8bbe\u8ba1\uff1a\u5bfc\u81f4\u4fe1\u606f\u88ab\u7f16\u7801\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u800c\u4e0d\u662f\u5728\u6570\u636e\u5e93\u4e2d</p> </li> </ul> </li> </ul> </li> </ul>"},{"location":"incourse/db/ch7/#devise-a-theory-for-the-following","title":"Devise a Theory for the Following","text":"<p>\u5982\u679c\u4e00\u4e2a\u5173\u7cfbR\u4e0d\u662f\u4e00\u4e2a\u597d\u7684\u5173\u7cfb,\u90a3\u4e48\u6211\u4eec\u4f5c\u5982\u4e0b\u64cd\u4f5c</p> <ol> <li> <p>\u5c06R\u5206\u89e3\u4e3a\\({R_1, R_2, \\ldots, R_n}\\)</p> </li> <li> <p>\u4f7f\u5f97\u6bcf\u4e2a\\(R_i\\)\u90fd\u662f\u4e00\u4e2a\u597d\u7684\u5173\u7cfb</p> </li> </ol> <p>Normal Forms(NF):</p> <p>1NF -&gt; 2NF -&gt; 3NF -&gt; BCNF -&gt; 4NF </p>"},{"location":"incourse/db/ch7/#functional-dependencies","title":"Functional Dependencies","text":"<p>\u8ba9R\u662f\u4e00\u4e2a\u5173\u7cfb\u8303\u5f0f,\u5e76\u4e14\u5bf9\u4e8e\u5c5e\u6027\\(alpha\\)\u548c\\(beta\\):</p> \\[ \\alpha \\subseteq R \\] \\[ \\beta \\subseteq R \\] <p>\u90a3\u4e48\u6211\u4eec\u79f0\u51fd\u6570\u4f9d\u8d56 $$ \\alpha \\rightarrow \\beta $$</p> <p>\u4fdd\u6301\u5728R\u4e0a,\u5f53\u4e14\u4ec5\u5f53\u5bf9\u4e8e\u4efb\u4f55\u5408\u6cd5\u5173\u7cfbr(R),\u5176\u4efb\u610f\u5143\u7ec4\\(t_1\\),\\(t_2\\)\u6ee1\u8db3:</p> \\[ t_1[\\alpha] = t_2[\\alpha] \\implies t_1[\\beta] = t_2[\\beta] \\] <p>Example</p> <p></p> <ol> <li> <p>K\u662f\u5173\u7cfb\u8303\u5f0fR\u7684\u8d85\u952e\u5f53\u4e14\u4ec5\u5f53\\(K\\rightarrow R\\)</p> </li> <li> <p>K\u662f\u5173\u7cfb\u8303\u5f0fR\u7684\u4e3b\u952e\u5f53\u4e14\u4ec5\u5f53K\u662f\u8d85\u952e,\u5e76\u4e14\u6ca1\u6709\u4efb\u4f55\u771f\u5b50\u96c6K'\u662f\u8d85\u952e.\u7528\u6570\u5b66\u8bed\u8a00\u8868\u793a\u5c31\u662f:</p> \\[ K \\text{ is a superkey} \\iff K \\rightarrow R \\text{ and } K' \\nrightarrow R \\text{ for all } K' \\subset K \\] </li> </ol> <p>A functional dependency is trivial if it is satisfied by all relations</p> <p>\u6bd4\u5982:</p> <ol> <li> <p>name -&gt; name</p> </li> <li> <p>{ID,name}-&gt;ID</p> </li> </ol> <p>\u4e00\u822c\u7684\uff0c\u5982\u679c\\(\\beta \\subseteq \\alpha\\)\uff0c\u90a3\u4e48\\(\\alpha \\rightarrow \\beta\\)\u662f\u5e73\u51e1\u7684</p>"},{"location":"incourse/db/ch7/#closure\u95ed\u5305","title":"Closure(\u95ed\u5305)","text":""},{"location":"incourse/db/ch7/#closure-of-a-set-of-functional-dependencies","title":"Closure of a Set of Functional Dependencies","text":"<p>Given a set F of functional dependencies, there are certain other functional dependencies that are logically implied by F.</p> <p>For example:  If  A -&gt; B and  B -&gt; C,  then we can infer that A -&gt; C</p> <p>\u6211\u4eec\u5b9a\u4e49\uff1aThe set of all functional dependencies logically implied by F is the closure of F.</p> <p>\u4e5f\u5373\uff0c\u95ed\u5305\u662f\u4e00\u4e2a\u5305\u542b\u6240\u6709\u51fd\u6570\u4f9d\u8d56\u7684\u96c6\u5408,\u4e5f\u5c31\u662fF\u7684\u6240\u6709\u51fd\u6570\u4f9d\u8d56\u7684\u96c6\u5408.\u6211\u4eec\u7528\\(F^+\\)\u8868\u793a.</p> <p>Example</p> <p>F={A-&gt;B, B-&gt;C}</p> <p>\\(F^+ = {A-&gt;B, B-&gt;C, A-&gt;C,AB-&gt;B,AB-&gt;C,\\ldots}\\)</p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u963f\u59c6\u65af\u7279\u6717\u5b9a\u5f8b\u6765\u627e\u5230\u95ed\u5305</p> <p>Definition</p> <ul> <li> <p>\u5982\u679c \\(\\beta \\subseteq \\alpha\\)\uff0c\u90a3\u4e48 \\(\\alpha \\rightarrow \\beta\\) (\u81ea\u53cd\u5f8b reflexivity)</p> </li> <li> <p>\u5982\u679c \\(\\alpha \\rightarrow \\beta\\)\uff0c\u90a3\u4e48 \\(\\alpha\\gamma \\rightarrow \\beta\\gamma\\) (\u589e\u8865\u5f8b augmentation)</p> </li> <li> <p>\u5982\u679c \\(\\alpha \\rightarrow \\beta\\) \u4e14 \\(\\beta \\rightarrow \\gamma\\)\uff0c\u90a3\u4e48 \\(\\alpha \\rightarrow \\gamma\\) (\u4f20\u9012\u5f8b transitivity)</p> </li> </ul> <p>\u8fd9\u4e09\u6761\u5b9a\u5f8b\u662f:</p> <ul> <li> <p>Sound\uff08\u6b63\u786e\u6709\u6548\u7684\uff09 (generate only functional dependencies that actually hold)</p> </li> <li> <p>Complete\uff08\u5b8c\u5907\u7684\uff09 (generate all functional dependencies that hold).</p> </li> </ul> <p>\u6211\u4eec\u4ece\u8fd9\u4e09\u6761\u5b9a\u5f8b\u4e2d\u4e5f\u63a8\u51fa\u4e86\u53e6\u5916\u4e09\u6761additional rules:</p> <ul> <li> <p>\u5982\u679c \\(\\alpha \\rightarrow \\beta\\) \u4e14 \\(\\alpha \\rightarrow \\gamma\\)\uff0c\u90a3\u4e48 \\(\\alpha \\rightarrow \\beta\\gamma\\) (\u5408\u5e76 union)</p> </li> <li> <p>\u5982\u679c \\(\\alpha \\rightarrow \\beta\\gamma\\)\uff0c\u90a3\u4e48 \\(\\alpha \\rightarrow \\beta\\) \u4e14 \\(\\alpha \\rightarrow \\gamma\\) (\u5206\u89e3 decomposition)</p> </li> <li> <p>\u5982\u679c \\(\\alpha \\rightarrow \\beta\\) \u4e14 \\(\\beta\\gamma \\rightarrow \\delta\\)\uff0c\u90a3\u4e48 \\(\\alpha\\gamma \\rightarrow \\delta\\) (\u4f2a\u4f20\u9012 pseudotransitivity)</p> </li> </ul> <p>Example</p> Example 1Example 2 <p></p> <p></p> <p>\u8fd9\u610f\u5473\u7740\u51fd\u6570\u4f9d\u8d56\u4e2d\uff0c\u91cd\u590d\u7684\u5c5e\u6027\u5728\u53f3\u8fb9\u53ef\u4ee5\u53bb\u9664\u3002</p>"},{"location":"incourse/db/ch7/#closure-of-attribute-sets","title":"Closure of Attribute Sets","text":"<p>Given a set of attributes X, the closure of X with respect to a set of functional dependencies F is the set of attributes that are functionally determined by X under F.</p> <p>\u4e5f\u5c31\u662f\u770b\u770bX\u80fd\u51b3\u5b9a\u54ea\u4e9b\u5c5e\u6027.</p> <p>The closure of X is denoted by \\(X^+\\).</p> <p>Example</p> Example 1Example 2 <p></p> <p></p> <p>\u53ef\u89c1\uff0c\u5c5e\u6027\u96c6\u5408\u7684\u95ed\u5305\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5224\u65ad\u4e00\u4e2a\u5c5e\u6027\u96c6\u5408\u662f\u5426\u662f\u8d85\u952e\uff0c\u662f\u5426\u662f\u5019\u9009\u952e\u3002</p>"},{"location":"incourse/db/ch7/#uses-of-attribute-closure","title":"Uses of Attribute Closure","text":"<p>\u5c5e\u6027\u95ed\u5305\u7b97\u6cd5\u6709\u4ee5\u4e0b\u51e0\u4e2a\u7528\u9014\uff1a</p> <ol> <li> <p>\u6d4b\u8bd5\u8d85\u952e\uff1a</p> <ul> <li>\u8981\u6d4b\u8bd5 \\(\\alpha\\) \u662f\u5426\u662f\u8d85\u952e\uff0c\u6211\u4eec\u8ba1\u7b97 \\(\\alpha^+\\)\uff0c\u7136\u540e\u68c0\u67e5 \\(\\alpha^+\\) \u662f\u5426\u5305\u542b \\(R\\) \u7684\u6240\u6709\u5c5e\u6027\u3002</li> </ul> </li> <li> <p>\u6d4b\u8bd5\u51fd\u6570\u4f9d\u8d56\uff1a</p> <ul> <li> <p>\u8981\u68c0\u67e5\u51fd\u6570\u4f9d\u8d56 \\(\\alpha \\rightarrow \\beta\\) \u662f\u5426\u6210\u7acb\uff08\u6362\u53e5\u8bdd\u8bf4\uff0c\u662f\u5426\u5728 \\(F^+\\) \u4e2d\uff09\uff0c\u53ea\u9700\u68c0\u67e5 \\(\\beta\\) \u662f\u5426\u5305\u542b\u4e8e \\(\\alpha^+\\)\u3002</p> </li> <li> <p>\u5373\u6211\u4eec\u4f7f\u7528\u5c5e\u6027\u95ed\u5305\u8ba1\u7b97 \\(\\alpha^+\\)\uff0c\u7136\u540e\u68c0\u67e5\u5b83\u662f\u5426\u5305\u542b \\(\\beta\\)\u3002</p> </li> </ul> </li> <li> <p>\u8ba1\u7b97 \\(F\\) \u7684\u95ed\u5305\uff1a</p> <ul> <li>\u5bf9\u4e8e\u6bcf\u4e2a \\(\\alpha \\subseteq R\\)\uff0c\u6211\u4eec\u627e\u5230\u95ed\u5305 \\(\\alpha^+\\)\uff0c\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e2a \\(S \\subseteq \\alpha^+\\)\uff0c\u6211\u4eec\u8f93\u51fa\u4e00\u4e2a\u51fd\u6570\u4f9d\u8d56 \\(\\alpha \\rightarrow S\\)\u3002</li> </ul> <p> </p> </li> </ol>"},{"location":"incourse/db/ch7/#canonical-cover\u6b63\u5219\u8986\u76d6","title":"Canonical Cover\uff08\u6b63\u5219\u8986\u76d6\uff09","text":"<p>\u51fd\u6570\u4f9d\u8d56\u96c6\u53ef\u80fd\u4f1a\u6709\u5197\u4f59\uff0c\u5305\u62ec\uff1a</p> <ol> <li> <p>\u5197\u4f59\u7684\u51fd\u6570\u4f9d\u8d56\uff1a</p> <ul> <li>\u4f8b\u5982\uff1a\u5728 \\(A \\rightarrow B\\) ,\\(A \\rightarrow C\\)\u548c \\(B \\rightarrow C\\)\uff0c\u4e2d,\\(A \\rightarrow C\\)\u662f\u5197\u4f59\u7684\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u4ece \\(A \\rightarrow B\\)\u548c \\(B \\rightarrow C\\)\u4e2d\u63a8\u5bfc\u51fa\u6765\u3002</li> </ul> </li> <li> <p>\u5197\u4f59\u7684\u5c5e\u6027</p> <ul> <li> <p>LHS: </p> </li> <li> <p>RHS: </p> </li> </ul> </li> </ol> <p>\u56e0\u6b64,\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u4f9d\u8d56\u96c6\u7684\u6b63\u5219\u8986\u76d6\u662f\u4e00\u4e2a\u6700\u5c0f\u7684\u51fd\u6570\u4f9d\u8d56\u96c6,\u5b83\u4e0e\u539f\u6765\u7684\u51fd\u6570\u4f9d\u8d56\u96c6\u7b49\u4ef7.</p> <p>\u65e0\u5173\u5c5e\u6027 (Extraneous Attributes)</p> <p>\u8003\u8651\u51fd\u6570\u4f9d\u8d56\u96c6F\u548c\u5176\u4e2d\u7684\u67d0\u4e2a\u51fd\u6570\u4f9d\u8d56 \\(\\alpha \\rightarrow \\beta\\)\uff0c\u65e0\u5173\u5c5e\u6027\u6709\u4e24\u79cd\u7c7b\u578b\uff1a</p> <ol> <li> <p>\u5de6\u4fa7\u7684\u65e0\u5173\u5c5e\u6027</p> <p>\u5982\u679c\u5c5e\u6027A\u5728\\(\\alpha\\)\u4e2d\u662f\u65e0\u5173\u7684\uff0c\u610f\u5473\u7740\uff1a</p> <ul> <li> <p>\\(A \\in \\alpha\\)</p> </li> <li> <p>F\u903b\u8f91\u4e0a\u5305\u542b\\((\u03b1-A) \\rightarrow \\beta\\)</p> </li> </ul> <p>\u901a\u4fd7\u7406\u89e3\uff1a\u5373\u4f7f\u79fb\u9664A\uff0c\u5176\u4f59\u5c5e\u6027\u4ecd\u7136\u80fd\u51b3\u5b9a\\(\\beta\\)</p> <p>\u4f8b\u5b50\uff1a \u5728F = {\\(A \\rightarrow C\\), \\(AB \\rightarrow C\\)}\u4e2d\uff0cB\u5728\"\\(AB \\rightarrow C\\)\"\u7684\u5de6\u4fa7\u662f\u65e0\u5173\u7684\uff0c\u56e0\u4e3a\u5355\u9760A\u5c31\u80fd\u51b3\u5b9aC\u3002</p> </li> <li> <p>\u53f3\u4fa7\u7684\u65e0\u5173\u5c5e\u6027</p> <p>\u5982\u679c\u5c5e\u6027A\u5728\\(\\beta\\)\u4e2d\u662f\u65e0\u5173\u7684\uff0c\u610f\u5473\u7740\uff1a</p> <ul> <li> <p>\\(A \\in \\beta\\)</p> </li> <li> <p>F-{\\(\\alpha \\rightarrow \\beta\\)}\u222a{\\(\\alpha \\rightarrow (\\beta-A)\\)}\u903b\u8f91\u4e0a\u5305\u542b\\(\\alpha \\rightarrow A\\)</p> </li> </ul> <p>\u901a\u4fd7\u7406\u89e3\uff1a\u4ece\u5176\u4ed6\u4f9d\u8d56\u4e5f\u80fd\u63a8\u5bfc\u51fa\\(\\alpha \\rightarrow A\\)</p> <p>\u4f8b\u5b50\uff1a \u5728F = {\\(A \\rightarrow C\\), \\(AB \\rightarrow CD\\)}\u4e2d\uff0cC\u5728\"\\(AB \\rightarrow CD\\)\"\u7684\u53f3\u4fa7\u662f\u65e0\u5173\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\\(A \\rightarrow C\\)\uff0c\u6240\u4ee5\u5728\\(AB \\rightarrow CD\\)\u4e2d\u518d\u5305\u542bC\u662f\u591a\u4f59\u7684\u3002</p> </li> </ol> <p>\u4e0a\u8ff0\u60c5\u51b5\u7684\u53cd\u5411\u63a8\u5bfc\u662f\u663e\u7136\u6210\u7acb\u7684,\u56e0\u4e3a\u4e00\u4e2a\u66f4\u5f3a\u7684\u51fd\u6570\u4f9d\u8d56\u96c6\u53ef\u4ee5\u63a8\u5bfc\u51fa\u4e00\u4e2a\u66f4\u5f31\u7684\u51fd\u6570\u4f9d\u8d56\u96c6.</p> <p>OK,\u73b0\u5728\u6211\u4eec\u6765\u7ed9\u51fa\u6b63\u5219\u8986\u76d6\u5b8c\u6574\u7684\u5b9a\u4e49:</p> <p>\u6b63\u5219\u8986\u76d6 (Canonical Cover)</p> <p>\u51fd\u6570\u4f9d\u8d56\u96c6F\u7684\u6b63\u5219\u8986\u76d6\u662f\u4e00\u4e2a\u51fd\u6570\u4f9d\u8d56\u96c6\\(F_c\\)\uff0c\u6ee1\u8db3\uff1a</p> <ol> <li> <p>F\u903b\u8f91\u4e0a\u5305\u542b\\(F_c\\)\u4e2d\u7684\u6240\u6709\u4f9d\u8d56</p> </li> <li> <p>\\(F_c\\)\u903b\u8f91\u4e0a\u5305\u542bF\u4e2d\u7684\u6240\u6709\u4f9d\u8d56</p> </li> <li> <p>\\(F_c\\)\u4e2d\u6ca1\u6709\u4efb\u4f55\u51fd\u6570\u4f9d\u8d56\u5305\u542b\u65e0\u5173\u5c5e\u6027</p> </li> <li> <p>\\(F_c\\)\u4e2d\u6bcf\u4e2a\u51fd\u6570\u4f9d\u8d56\u7684\u5de6\u4fa7\u90fd\u662f\u552f\u4e00\u7684</p> </li> </ol>"},{"location":"incourse/db/ch7/#\u6b63\u5219\u8986\u76d6\u7684\u8ba1\u7b97","title":"\u6b63\u5219\u8986\u76d6\u7684\u8ba1\u7b97","text":"<p>\u6211\u4eec\u7528\u5982\u4e0b\u65b9\u6cd5\u8ba1\u7b97\u6b63\u5219\u8986\u76d6:</p> <p>Example</p> Example 1Example 2Example 3 <p></p> <p></p> <p></p>"},{"location":"incourse/db/ch7/#boyce-codd-normal-formbcnf","title":"Boyce-Codd Normal Form(BCNF)","text":"<p>\u4e00\u4e2a\u5173\u7cfb\u8303\u5f0fR\u5728\u4e00\u4e2a\u51fd\u6570\u96c6\u5408F\u4e0b\u5904\u4e8eBCNF,\u8981\u6c42\u5bf9\u4e8e\u6240\u6709\\(F^+\\)\u7684\u51fd\u6570\u4f9d\u8d56\\(\\alpha \\rightarrow \\beta\\),\u81f3\u5c11\u6ee1\u8db3\u5982\u4e0b\u7684\u4e00\u4e2a\u6761\u4ef6:</p> <ul> <li> <p>\\(\\alpha \\rightarrow \\beta\\) \u662f\u5e73\u51e1\u7684(\u5373\\(\\beta \\subseteq \\alpha\\))</p> </li> <li> <p>\\(\\alpha\\)\u662fR\u7684\u8d85\u952e</p> </li> </ul>"},{"location":"incourse/db/ch7/#decomposing-a-schema-into-bcnf","title":"Decomposing a Schema into BCNF","text":"<p>\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u5173\u7cfb\u6a21\u5f0f $ R $\uff0c\u5e76\u4e14\u5b58\u5728\u4e00\u4e2a\u975e\u5e73\u51e1\u4f9d\u8d56 $ \\alpha \\rightarrow \\beta $\uff0c\u5b83\u5bfc\u81f4\u8fdd\u53cd\u4e86 BCNF\uff08Boyce-Codd\u8303\u5f0f\uff09\u3002</p> <p>\u6211\u4eec\u5c06 $ R $ \u5206\u89e3\u4e3a\u4ee5\u4e0b\u4e24\u4e2a\u5b50\u5173\u7cfb\uff1a</p> <ul> <li>$ \\alpha \\cup \\beta $</li> <li>$ R - (\\beta - \\alpha) $</li> </ul> <p>\u5728\u6211\u4eec\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff1a</p> <ul> <li> <p>\\(\\alpha = \\text{dept_name}\\)</p> </li> <li> <p>$ \\beta = { \\text{building}, \\text{budget} } $</p> </li> </ul> <p>\u56e0\u6b64\uff0c\u5173\u7cfb <code>inst_dept</code> \u88ab\u66ff\u6362\u4e3a\uff1a</p> <ul> <li> <p>\\(\\alpha \\cup \\beta = \\{ \\text{dept_name}, \\text{building}, \\text{budget} \\}\\)</p> </li> <li> <p>\\(R - (\\beta - \\alpha) = \\{ \\text{ID}, \\text{name}, \\text{salary}, \\text{dept_name} \\}\\)</p> </li> </ul> <p>\u76f4\u767d\u5730\u8bb2\uff0c\u5c31\u662f\u628a\u4e0d\u6ee1\u8db3\u7684\u51fd\u6570\u4f9d\u8d56\u91cc\u7684\u5c5e\u6027\u5206\u89e3\u5230\u4e00\u4e2a\u65b0\u7684\u8868\u4e2d,\u5e76\u4e14\u628a\u539f\u6765\u7684\u8868\u4e2d\u53bb\u6389\u8fd9\u4e9b\u5c5e\u6027\u3002\u8fd8\u8981\u9009\u51fa\u4e00\u4e2a\u5c5e\u6027\u4f5c\u4e3a\u516c\u5171\u5c5e\u6027\u4e0e\u65b0\u7684\u8868\u7684\u4e3b\u952e\uff0c\u5728\u8fd9\u91cc\u5c31\u662f<code>dept_name</code>\u3002</p> <p>Example</p> <p></p>"},{"location":"incourse/db/ch7/#bcnf-and-dependency-preservation","title":"BCNF and Dependency Preservation","text":"<p>Dependency Preservation</p> <ul> <li> <p>\u5982\u679c\u901a\u8fc7\u68c0\u9a8c\u5355\u4e00\u5173\u7cfb\u4e0a\u7684\u51fd\u6570\u4f9d\u8d56\uff0c\u5c31\u80fd\u786e\u4fdd\u6240\u6709\u7684\u51fd\u6570\u4f9d\u8d56\u6210\u7acb\uff0c \u90a3\u4e48\u8fd9\u6837\u7684\u5206\u89e3\u662f\u4f9d\u8d56\u4fdd\u6301\u7684</p> </li> <li> <p>\u6216\u8005\uff0c\u539f\u6765\u5173\u7cfbR\u4e0a\u7684\u6bcf\u4e00\u4e2a\u51fd\u6570\u4f9d\u8d56\uff0c\u90fd\u53ef\u4ee5\u5728\u5206\u89e3\u540e\u7684\u5355\u4e00\u5173\u7cfb\u4e0a\u5f97\u5230\u68c0\u9a8c\u6216\u8005\u63a8\u5bfc\u5f97\u5230\u3002</p> </li> </ul> <p>\u8bbe $ F_i $ \u662f $ F^+ $ \u4e2d\u6240\u6709\u53ea\u5305\u542b $ R_i $ \u4e2d\u5c5e\u6027\u7684\u51fd\u6570\u4f9d\u8d56\u7684\u96c6\u5408\u3002 \u5373$ F_i $ \u662f\u5c06 $ F $ \u9650\u5236\u5728\u5b50\u5173\u7cfb $ R_i $ \u4e0a\u7684\u7ed3\u679c\uff08\u79f0\u4e3a\u5bf9 $ R_i $ \u7684\u9650\u5236 restriction\uff09\u3002</p> <p>\u4e00\u4e2a\u5206\u89e3\u662f\u4f9d\u8d56\u4fdd\u6301\u7684\uff08Dependency Preserving\uff09\uff0c\u5f53\u4e14\u4ec5\u5f53\uff1a</p> \\[ (F_1 \\cup F_2 \\cup \\dots \\cup F_n)^+ = F^+ \\] <p>Because it is not always possible to achieve both BCNF and dependency preservation, we consider a weaker normal form, known as third normal form.</p> <p>Example</p> Example 1Example 2Example 3 <p></p> <p></p> <p></p>"},{"location":"incourse/db/ch7/#third-normal-form","title":"Third Normal Form","text":"<p>\u6b63\u5982\u4e0a\u9762\u6240\u8bf4\uff0cBCNF\u662f\u4e00\u4e2a\u5f88\u5f3a\u7684\u8303\u5f0f,\u4f46\u662f\u5b83\u5e76\u4e0d\u603b\u662f\u80fd\u4fdd\u6301\u51fd\u6570\u4f9d\u8d56.</p> <p>\u56e0\u6b64,\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u66f4\u5f31\u7684\u8303\u5f0f,\u79f0\u4e3a\u7b2c\u4e09\u8303\u5f0f(3NF)\uff0c\u5b83\u7684\u7279\u70b9\u662f:</p> <ol> <li> <p>\u5141\u8bb8\u4e00\u4e9b\u5197\u4f59</p> </li> <li> <p>\u603b\u662f\u4f9d\u8d56\u4fdd\u6301\u7684</p> </li> <li> <p>\u603b\u53ef\u4ee5\u5c06\u4efb\u610f\u5173\u7cfb\u6a21\u5f0f\u5206\u89e3\u4e3a\u6ee1\u8db33NF\u7684\u5b50\u5173\u7cfb\uff0c\u4e14\u5206\u89e3\u662f\u65e0\u635f\u8fde\u63a5\u3001\u4f9d\u8d56\u4fdd\u6301\u7684</p> </li> </ol> <p>Third Normal Form (3NF)</p> <p>\u4e00\u4e2a\u5173\u7cfb\u6a21\u5f0f \\( R \\) \u5c5e\u4e8e\u7b2c\u4e09\u8303\u5f0f\uff083NF\uff09\uff0c\u5f53\u5bf9\u4e8e\u6240\u6709\u5728 \\( F^+ \\) \u4e2d\u7684\u51fd\u6570\u4f9d\u8d56 \\( \\alpha \\rightarrow \\beta \\)\uff0c\u6ee1\u8db3\u4ee5\u4e0b\u81f3\u5c11\u4e00\u4e2a\u6761\u4ef6\uff1a</p> <ol> <li> <p>\\( \\alpha \\rightarrow \\beta \\) \u662f\u5e73\u51e1\u4f9d\u8d56\uff08\u5373 \\( \\beta \\subseteq \\alpha \\)\uff09</p> </li> <li> <p>\\( \\alpha \\) \u662f \\( R \\) \u7684\u4e00\u4e2a\u8d85\u952e\uff08superkey\uff09</p> </li> <li> <p>\u5bf9\u4e8e \\( \\beta - \\alpha \\) \u4e2d\u7684\u6bcf\u4e00\u4e2a\u5c5e\u6027 \\( A \\)\uff0c\u90fd\u6709\uff1a</p> </li> </ol> \\[     A\u662f\u67d0\u4e2a\u5019\u9009\u952e\uff08\\text{candidate key}\uff09\u7684\u4e00\u90e8\u5206 \\] <ul> <li> <p>If a relation is in BCNF it is in 3NF (since in BCNF one of the first two conditions above must hold).</p> </li> <li> <p>Third condition is a minimal relaxation of BCNF to ensure dependency preservation.</p> </li> </ul> <p>Example</p> <p></p> <p>3NF\u5206\u89e3\u7b97\u6cd5\u5982\u4e0b\u56fe:</p> <ol> <li> <p>\u4ee4 \\( F_c \\) \u662f\u51fd\u6570\u4f9d\u8d56\u96c6 \\( F \\) \u7684\u6807\u51c6\u8986\u76d6\uff08Canonical Cover\uff09\u3002</p> </li> <li> <p>\u521d\u59cb\u5316\u8ba1\u6570\u5668\uff1a\\( i := 0 \\)</p> </li> <li> <p>\u5bf9\u4e8e \\( F_c \\) \u4e2d\u7684\u6bcf\u4e00\u4e2a\u51fd\u6570\u4f9d\u8d56 \\( \\alpha \\rightarrow \\beta \\)\uff0c\u6267\u884c\uff1a</p> <ul> <li>\\( i := i + 1 \\)</li> <li> <p>\u521b\u5efa\u5173\u7cfb\u6a21\u5f0f\uff1a\\( R_i := \\alpha \\cup \\beta \\)</p> </li> <li> <p>\u8fd9\u4e00\u6b65\u786e\u4fdd\u4e86\u4f9d\u8d56\u4fdd\u6301</p> </li> </ul> </li> <li> <p>\u5982\u679c\u5f53\u524d\u6784\u9020\u51fa\u7684\u6240\u6709\u5b50\u5173\u7cfb \\( R_j \\)\uff08\\( 1 \\leq j \\leq i \\)\uff09\u90fd\u4e0d\u5305\u542b \\( R \\) \u7684\u5019\u9009\u952e\uff0c\u5219\uff1a</p> <ul> <li>\\( i := i + 1 \\)</li> <li> <p>\u4efb\u9009\u4e00\u4e2a \\( R \\) \u7684\u5019\u9009\u952e \\( K \\)\uff0c\u4ee4 \\( R_i := K \\)</p> </li> <li> <p>\u8fd9\u4e00\u6b65\u786e\u4fdd\u4e86\u65e0\u635f\u8fde\u63a5</p> </li> </ul> </li> <li> <p>\u3010\u53ef\u9009\u6b65\u9aa4\uff1a\u5220\u9664\u5197\u4f59\u5173\u7cfb\u6a21\u5f0f\u3011</p> <ul> <li>\u91cd\u590d\u4ee5\u4e0b\u64cd\u4f5c\uff0c\u76f4\u5230\u6ca1\u6709\u53ef\u4ee5\u5220\u9664\u7684\u5173\u7cfb\u6a21\u5f0f\uff1a<ul> <li>\u5982\u679c\u67d0\u4e2a\u5173\u7cfb \\( R_j \\) \u5b8c\u5168\u5305\u542b\u5728\u53e6\u4e00\u4e2a\u5173\u7cfb \\( R_k \\) \u4e2d\uff0c\u5219\uff1a</li> <li>\u5220\u9664 \\( R_j \\)\uff0c\u5373\u8bbe \\( R_j := R_i \\)\uff0c\u5e76\u4ee4 \\( i := i - 1 \\)</li> </ul> </li> </ul> </li> <li> <p>\u6700\u7ec8\u8fd4\u56de\u5b50\u5173\u7cfb\u96c6\u5408\uff1a</p> <p>\\( (R_1, R_2, \\ldots, R_i) \\)</p> </li> </ol>"},{"location":"incourse/db/ch7/#\u89c4\u8303\u5316\u7684\u76ee\u6807","title":"\u89c4\u8303\u5316\u7684\u76ee\u6807","text":"<p>\u5047\u8bbeR\u662f\u4e00\u4e2a\u5173\u7cfb\u6a21\u5f0f\uff0cF\u662f\u5176\u4e0a\u7684\u51fd\u6570\u4f9d\u8d56\u96c6\u3002\u6211\u4eec\u9700\u8981\uff1a</p> <ol> <li> <p>\u5224\u65ad\u5173\u7cfb\u6a21\u5f0fR\u662f\u5426\u5904\u4e8e\u201c\u597d\u201d\u8303\u5f0f\u3002</p> </li> <li> <p>\u5982\u679c\u5173\u7cfb\u6a21\u5f0fR\u4e0d\u5904\u4e8e\u201c\u597d\u201d\u8303\u5f0f\uff0c\u5219\u5c06\u5176\u5206\u89e3\u4e3a\u4e00\u7ec4\u5173\u7cfb\u6a21\u5f0f \\(\\{R_1, R_2, ..., R_n\\}\\)\uff0c\u4f7f\u5f97\uff1a</p> <ul> <li> <p>\u6bcf\u4e2a\u5206\u89e3\u540e\u7684\u5173\u7cfb\u6a21\u5f0f \\(R_i\\) \u90fd\u5904\u4e8e\u597d\u8303\u5f0f\uff08\u4f8b\u5982\uff0cBCNF\u62163NF\uff09\u3002</p> </li> <li> <p>\u8be5\u5206\u89e3\u662f\u65e0\u635f\u8fde\u63a5\u7684\u3002</p> </li> <li> <p>\u6700\u597d\uff0c\u8be5\u5206\u89e3\u8fd8\u5e94\u4fdd\u6301\u51fd\u6570\u4f9d\u8d56\u3002</p> </li> </ul> </li> </ol>"},{"location":"incourse/db/ch7/#er\u6a21\u578b\u4e0enf\u6a21\u578b\u7684\u5173\u7cfb","title":"ER\u6a21\u578b\u4e0eNF\u6a21\u578b\u7684\u5173\u7cfb","text":""},{"location":"incourse/db/ch7/#multivalued-dependencies\u591a\u503c\u4f9d\u8d56","title":"Multivalued Dependencies(\u591a\u503c\u4f9d\u8d56)","text":"<p>\u8bbeR\u662f\u4e00\u4e2a\u5173\u7cfb\u6a21\u5f0f\uff0c\\(\\alpha \\subseteq R\\)\u4e14\\(\\beta \\subseteq R\\)\u3002\u591a\u503c\u4f9d\u8d56\\(\\alpha \\twoheadrightarrow \\beta\\)</p> <p>\u5728R\u4e0a\u6210\u7acb\u7684\u6761\u4ef6\u662f\uff1a\u5bf9\u4e8e\u4efb\u4f55\u5408\u6cd5\u5173\u7cfbr(R)\u4e2d\u7684\u4efb\u610f\u4e24\u4e2a\u5143\u7ec4t1\u548ct2\uff0c\u5982\u679ct1[\\(\\alpha\\)] = t2[\\(\\alpha\\)]\uff0c\u90a3\u4e48\u5728r\u4e2d\u5fc5\u7136\u5b58\u5728\u5143\u7ec4t3\u548ct4\uff0c\u4f7f\u5f97\uff1a</p> <ul> <li>t3[\\(\\alpha\\)] = t4[\\(\\alpha\\)] = t1[\\(\\alpha\\)] = t2[\\(\\alpha\\)]\uff08\u8fd9\u56db\u4e2a\u5143\u7ec4\u5728\\(\\alpha\\)\u4e0a\u7684\u503c\u76f8\u540c\uff09</li> <li>t3[\\(\\beta\\)] = t1[\\(\\beta\\)]\uff08t3\u5728\\(\\beta\\)\u4e0a\u7684\u503c\u4e0et1\u76f8\u540c\uff09</li> <li>t3[R - \\(\\alpha\\) - \\(\\beta\\)] = t2[R - \\(\\alpha\\) - \\(\\beta\\)]\uff08t3\u5728\u5269\u4f59\u5c5e\u6027\u4e0a\u7684\u503c\u4e0et2\u76f8\u540c\uff09</li> <li>t4[\\(\\beta\\)] = t2[\\(\\beta\\)]\uff08t4\u5728\\(\\beta\\)\u4e0a\u7684\u503c\u4e0et2\u76f8\u540c\uff09</li> <li>t4[R - \\(\\alpha\\) - \\(\\beta\\)] = t1[R - \\(\\alpha\\) - \\(\\beta\\)]\uff08t4\u5728\u5269\u4f59\u5c5e\u6027\u4e0a\u7684\u503c\u4e0et1\u76f8\u540c\uff09</li> </ul> <p>\u770b\u4e0a\u53bb\u5f88\u6666\u6da9,\u6211\u4eec\u6765\u770b\u770b\u4f8b\u5b50:</p> <p>\u901a\u4fd7\u6765\u8bb2,\u591a\u503c\u4f9d\u8d56\u5c31\u662f\u4e00\u4e2a\u5c5e\u6027\u51b3\u5b9a\u4e86\u53e6\u4e00\u4e2a\u5c5e\u6027\u7684\u96c6\u5408,\u800c\u4e14\u4e0e\u5269\u4e0b\u7684\u5c5e\u6027\u53ef\u4ee5\u968f\u610f\u7ec4\u5408.</p> <p>Theory of MVDs</p> <ol> <li>\u5982\u679c\\(\\alpha \\rightarrow \\beta\\)\uff0c\u90a3\u4e48\\(\\alpha \\twoheadrightarrow \\beta\\)</li> </ol> <p>\u540e\u9762\u4e0d\u60f3\u5199\u4e86,\u770b\u8fd9\u91cc</p>"},{"location":"incourse/old/","title":"\u5f00\u59cb","text":"<p> \u7ea6 18 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>          \u611f\u8c22\u524d\u8f88\u5f00\u6e90\uff0c\u9057\u4ea7\u662f\u597d\u6587\u660e\u3002 \u2014\u2014\u6c83\u5179\u57fa      </p>"},{"location":"incourse/old/digital/","title":"\u6570\u5b57\u903b\u8f91\u8bbe\u8ba1","text":""},{"location":"incourse/old/digital/#\u6570\u5b57\u903b\u8f91\u8bbe\u8ba1","title":"\u6570\u5b57\u903b\u8f91\u8bbe\u8ba1","text":"<p> \u7ea6 76 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>\u633a\u786c\u7684\u4e00\u95e8\u8bfe\uff0c\u7531\u4e8e\u9009\u5230\u4e86\u6768\u83b9\u6625\u8001\u5e08\uff0c\u6211\u57fa\u672c\u4e0a\u90fd\u662f\u770b\u8521\u94ed\u6216\u8005\u9a6c\u5fb7\u8001\u5e08\u7684\u667a\u4e91\u5b66\u4e60\u7684\u3002\u52a9\u6559\u54e5\u54e5\u6bd4\u8f83\u53cb\u5584\uff0c\u6700\u540e\u62ff\u5230\u4e8695/5.0\u7684\u6210\u7ee9\u3002\u6709\u5982\u4e0b\u8d44\u6599\uff1a</p> <ul> <li> <p>14\u6b21lab\u5b9e\u9a8c\u62a5\u544a</p> </li> <li> <p>\u5927\u7a0b\u9879\u76ee</p> </li> </ul>"},{"location":"incourse/old/fds/","title":"\u6570\u636e\u7ed3\u6784\u57fa\u7840","text":""},{"location":"incourse/old/fds/#\u6570\u636e\u7ed3\u6784\u57fa\u7840","title":"\u6570\u636e\u7ed3\u6784\u57fa\u7840","text":"<p> \u7ea6 221 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <p>FDS\u8fd9\u95e8\u8bfe\u603b\u4f53\u6765\u8bf4\u96be\u5ea6\u4e0d\u5927\uff0c\u662f\u4e00\u95e8\u4f60\u5e73\u65f6\u597d\u597d\u5b66\uff0cproject\u8ba4\u771f\u505a\uff0c\u671f\u672b\u524d\u597d\u597d\u80cc\u4e00\u80cc\u5c31\u80fd\u62ff\u9ad8\u5206\u7684\u8bfe\u3002\u6211\u7684\u6210\u7ee9\u662f93/4.8\u3002</p> <p>\u6709\u5982\u4e0b\u5b66\u4e60\u8d44\u6599\uff1a</p> <ul> <li> <p>\u56fe\u7075\u7f51\u00b7FDS</p> </li> <li> <p>\u6211\u7684\u4e09\u4e2aproject</p> </li> <li> <p>\u5386\u5e74\u5377\u8d44\u6599\uff1a</p> <ul> <li>\u4e0b\u8f7d FDS \u671f\u4e2d.zip </li> <li>\u4e0b\u8f7d FDS\u8001\u53e4\u8463.zip </li> <li>\u4e0b\u8f7d \u5386\u5e74\u5377.zip </li> <li>\u4e0b\u8f7d \u671f\u4e2d\u8bd5\u5377.zip</li> <li>\u4e0b\u8f7d \u5224\u65ad\u9898 - \u6d59\u6c5f\u5927\u5b662023-2024\u5b66\u5e74\u6625\u590f\u5b66\u671f \u300a\u6570\u636e\u7ed3\u6784\u57fa\u7840\u300b\u8bfe\u7a0b\u671f\u672b\u8003\u8bd5\u8bd5\u5377</li> <li>\u4e0b\u8f7d \u5355\u9009\u9898 - \u6d59\u6c5f\u5927\u5b662023-2024\u5b66\u5e74\u6625\u590f\u5b66\u671f \u300a\u6570\u636e\u7ed3\u6784\u57fa\u7840\u300b\u8bfe\u7a0b\u671f\u672b\u8003\u8bd5\u8bd5\u5377</li> <li>\u4e0b\u8f7d \u51fd\u6570\u9898 - \u6d59\u6c5f\u5927\u5b662023-2024\u5b66\u5e74\u6625\u590f\u5b66\u671f \u300a\u6570\u636e\u7ed3\u6784\u57fa\u7840\u300b\u8bfe\u7a0b\u671f\u672b\u8003\u8bd5\u8bd5\u5377</li> <li>\u4e0b\u8f7d \u7a0b\u5e8f\u586b\u7a7a\u9898 - \u6d59\u6c5f\u5927\u5b662023-2024\u5b66\u5e74\u6625\u590f\u5b66\u671f \u300a\u6570\u636e\u7ed3\u6784\u57fa\u7840\u300b\u8bfe\u7a0b\u671f\u672b\u8003\u8bd5\u8bd5\u5377</li> </ul> </li> </ul>"},{"location":"incourse/old/mathandphy/","title":"\u6570\u7406\u57fa\u7840\u8bfe","text":""},{"location":"incourse/old/mathandphy/#\u6570\u7406\u57fa\u7840\u8bfe","title":"\u6570\u7406\u57fa\u7840\u8bfe","text":"<p> \u7ea6 709 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p>"},{"location":"incourse/old/mathandphy/#\u6570\u5b66\u5206\u6790i","title":"\u6570\u5b66\u5206\u6790I","text":"<p>\u6570\u5b66\u5206\u6790I\u6211\u4e0a\u7684\u662f\u59dc\u6d77\u76ca\u8001\u5e08\u7684\u73ed\u7ea7\u3002\u59dc\u8001\u5e08\u5e73\u65f6\u4e0a\u8bfe\u6bd4\u8f83\u8fdb\u5ea6\u6bd4\u8f83\u6162\uff0c\u4e3b\u8981\u662f\u4e66\u4e0a\u7684\u5185\u5bb9\uff0c\u7eaf\u677f\u4e66\u3002\u6570\u5206\u4e00\u7684\u91cd\u70b9\u5728\u4e8e\u8bc1\u660e\uff0c\u5b9e\u6570\u5b8c\u5907\u6027\u548c\u51fd\u6570\u8fde\u7eed\u6027\u7b49\u7684\u8bc1\u660e\u3002\u6211\u7684\u4e24\u6b21\u5c0f\u6d4b\u5206\u522b\u662f90\u5206\u4e0e50\u5206\uff0c\u6700\u540e\u671f\u672b\u53d1\u6325\u4e00\u822c\u822c\uff0c\u603b\u8bc4\u662f87/4.2.\u5177\u4f53\u7684\u8d44\u6599\u53ef\u4ee5\u4ece\u4e0b\u9762\u4e24\u4e2a\u5730\u65b9\u770b\uff1a</p> <ul> <li> <p>\u56fe\u7075\u7f51\u00b7\u6570\u5206I</p> </li> <li> <p>\u7afa\u9662\u8f85\u5b66\u7f51\u00b7\u6570\u5206</p> </li> </ul>"},{"location":"incourse/old/mathandphy/#\u7ebf\u6027\u4ee3\u6570i","title":"\u7ebf\u6027\u4ee3\u6570I","text":"<p>\u7ebf\u6027\u4ee3\u6570I\u6211\u4e0a\u7684\u662f\u8c08\u4e4b\u5955\u8001\u5e08\u7684\u73ed\u3002\u8c08\u795e\u8bb2\u8bfe\u8fd8\u662f\u6bd4\u8f83\u6df1\u5165\u6d45\u51fa\u7684\uff0c\u4f1a\u6bd4\u8f83\u7ec6\u81f4\uff0c\u4e5f\u633a\u5bb9\u6613\u542c\u61c2\u3002\u4f46\u662f\u7531\u4e8e\u8c08\u795e\u4e0a\u8bfe\u6bd4\u8f83\u50ac\u7720\uff0c\u6240\u4ee5\u6709\u76f8\u5f53\u4e00\u90e8\u5206\u4eba\u4f1a\u5728\u8bfe\u4e0a\u7761\u89c9\u6216\u8005\u4e0d\u6765\u3002\u7ebf\u4ee3I\u9664\u671f\u672b\u8003\u5916\u4ec5\u5b89\u6392\u4e00\u6b21\u671f\u4e2d\u8003\u3002\u6211\u4eec\u8fd9\u5e74\u7684\u671f\u4e2d\u8003\u6bd4\u8f83\u7b80\u5355\uff0c\u6211\u62ff\u5230\u4e86100\u3002\u671f\u672b\u8003\u6211\u81ea\u8ba4\u4e3a\u53d1\u6325\u4e0d\u9519\uff0c\u4f46\u6700\u540e\u603b\u8bc4\u53ea\u670986/4.2\u3002What can I say! \u5b66\u4e60\u8d44\u6599\u5982\u4e0b\uff1a</p> <ul> <li> <p>B\u7ad9MIT\u7f51\u8bfe</p> </li> <li> <p>\u56fe\u7075\u7f51\u00b7\u7ebf\u4ee3I</p> </li> <li> <p>\u7afa\u9662\u8f85\u5b66\u7f51\u00b7\u7ebf\u4ee3</p> </li> </ul>"},{"location":"incourse/old/mathandphy/#\u6570\u5b66\u5206\u6790ii","title":"\u6570\u5b66\u5206\u6790II","text":"<p>\u6570\u5206II\u6211\u4e0a\u7684\u662f\u8d3e\u539a\u7389\u8001\u5e08\u7684\u73ed\u3002\u8d3e\u8001\u5e08\u4e0a\u8bfe\u4e00\u822c\u7528\u81ea\u5df1\u7684beamer\uff0c\u51c6\u5907\u4e00\u4e2a\u5e73\u677f\u7528\u6765\u770bbeamer\u4f1a\u5f88\u8212\u670d\u3002\u53e6\u5916\uff0c\u8d3e\u8001\u5e08\u7684\u8bfe\u4e0e\u4e66\u4e0a\u7684\u5185\u5bb9\u4f1a\u6709\u70b9\u4e0d\u4e00\u6837\uff0c\u4f46\u662f\u6574\u4f53\u5b66\u4e0b\u6765\u8fd8\u662f\u5f88\u6709\u6536\u83b7\u7684\u3002\u6570\u5206II\u4fa7\u91cd\u4e8e\u8ba1\u7b97\uff0c\u6240\u4ee5\u5e73\u65f6\u4e00\u5b9a\u8981\u597d\u597d\u542c\uff0c\u8fd9\u53ef\u4e0d\u662f\u8003\u524d\u7a81\u51fb\u53ef\u4ee5\u638c\u63e1\u7684\uff01\u6210\u7ee9\u65b9\u9762\uff0c\u6211\u4e24\u6b21\u5c0f\u6d4b\u7684\u5206\u6570\u5206\u522b\u662f90\u5206\uff0c80\u5206\uff0c\u671f\u672b\u8003\u8bd5\u611f\u89c9\u53d1\u6325\u4e0d\u597d\uff0c\u4f46\u6700\u540e\u6210\u7ee9\u51fa\u6765\u5f88\u60ca\u559c\uff0c\u670990/4.5\u3002 \u5b66\u4e60\u8d44\u6599\uff1a</p> <ul> <li> <p>\u56fe\u7075\u7f51\u00b7\u6570\u5206II</p> </li> <li> <p>\u7afa\u9662\u8f85\u5b66\u7f51\u00b7\u6570\u5206</p> </li> </ul>"},{"location":"incourse/old/mathandphy/#\u7ebf\u6027\u4ee3\u6570ii","title":"\u7ebf\u6027\u4ee3\u6570II","text":"<p>\u5218\u5eb7\u751f\u8001\u5e08\u7684\u8bfe...\u4e00\u8a00\u96be\u5c3d\u3002\u5efa\u8bae\u81ea\u5df1\u770b\u4e66\u6216\u8005\u5176\u4ed6\u81ea\u5b66\u65b9\u5f0f\u3002\u5b66\u671f\u4e00\u5171\u5b89\u6392\u4e24\u6b21\u5c0f\u6d4b\uff0c\u65e0\u671f\u4e2d\u8003\u300224\u5e74\u7684\u671f\u672b\u8003\u6bd4\u8f83\u7b80\u5355\uff0c\u6211\u6700\u540e\u7684\u6210\u7ee9\u662f95/5.0\u3002 \u5b66\u4e60\u8d44\u6599\uff1a</p> <ul> <li> <p>\u56fe\u7075\u7f51\u00b7\u7ebf\u4ee3II</p> </li> <li> <p>\u7afa\u9662\u8f85\u5b66\u7f51\u00b7\u7ebf\u4ee3</p> </li> <li> <p>LADR\u7b54\u6848</p> </li> </ul>"},{"location":"incourse/old/mathandphy/#\u666e\u7269i","title":"\u666e\u7269I","text":"<p>\u666e\u7269\u5c31\u4e00\u4e2a\u5b57\uff0c\u96be\u3002\u5bf9\u4e8e\u6211\u8fd9\u79cd\u6beb\u65e0\u7ade\u8d5b\u57fa\u7840\u7684\u4eba\u6765\u8bb2\uff0c\u7b80\u76f4\u662f\u4e0a\u5927\u5b66\u4ee5\u6765\u6700\u5927\u7684\u574e\u3002\u5927\u5bb6\u4e00\u5b9a\u8981\u8bb0\u5f97\u4ea4\u4f5c\u4e1a\u548c\u505a\u6bcf\u5468\u7684quiz\uff0c\u4e0d\u7136\u8001\u5e08\u60f3\u635e\u4f60\u90fd\u635e\u4e0d\u8d77\u6765\u3002\u8fd9\u95e8\u8bfe\u6211\u671f\u4e2d\u8003\u8003\u4e8681\uff08\u635e\u4e4b\u540e\u7684\uff09\uff0c\u671f\u672b\u8003\u524d\u4e00\u665a\u590d\u4e60\u5230\u51cc\u6668\u4e00\u70b9\uff0c\u6240\u5e78\u671f\u672b\u6ca1\u6709\u8003\u5f88\u96be\u7684\u76f8\u5bf9\u8bba\u7b49\uff0c\u6700\u540e\u7684\u6210\u7ee9\u662f91/4.5. \u5173\u4e8e\u8fd9\u95e8\u8bfe\uff0c\u6211\u505a\u4e86\u4e00\u4efd\u5f88\u7b80\u964b\u7684\u7b14\u8bb0\uff0c\u5176\u4e2d\u65e0\u76f8\u5bf9\u8bba\u90e8\u5206\uff1a</p> <p>\u4e0b\u8f7d \u666e\u7269\u7b14\u8bb0</p>"},{"location":"incourse/old/mathandphy/#\u6742\u9879","title":"\u6742\u9879","text":"<ul> <li> <p>\u90e8\u5206\u8bfe\u7535\u5b50\u4e66</p> </li> <li> <p>\u7a0b\u5e8f\u8bbe\u8ba1\u4e0e\u7b97\u6cd5\u57fa\u7840\u8d44\u6599\uff1a</p> <ul> <li> <p>\u8f85\u5b66\u7f51\u00b7\u7a0b\u7b97</p> </li> <li> <p>\u56fe\u7075\u7f51\u00b7\u7a0b\u7b97</p> </li> </ul> </li> <li> <p>LALU</p> </li> <li> <p>All-Sum-In-One</p> </li> </ul>"},{"location":"incourse/oop/","title":"\u5b8c\u8fa3","text":"<p> \u7ea6 8 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>          cx\u8001\u5e08\u4f1f\u5927\u3002      </p>"},{"location":"incourse/oop/STL/","title":"STL","text":"<p> \u7ea6 1567 \u4e2a\u5b57  110 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p> <p>STL (Standard Template Library) \u662fC++\u4e00\u4e2a\u5f3a\u5927\u7684\u5e93\uff0c\u63d0\u4f9b\u4e86\u8bb8\u591a\u5e38\u7528\u7684\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u3002STL\u7684\u8bbe\u8ba1\u7406\u5ff5\u662f\u5c06\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u5206\u79bb\uff0c\u4f7f\u5f97\u7b97\u6cd5\u53ef\u4ee5\u72ec\u7acb\u4e8e\u6570\u636e\u7ed3\u6784\u8fdb\u884c\u8bbe\u8ba1\u548c\u5b9e\u73b0\u3002</p>"},{"location":"incourse/oop/STL/#container","title":"Container","text":"<p>C++ STL\u63d0\u4f9b\u4e86\u591a\u79cd\u5bb9\u5668\u7c7b\u578b\uff0c\u5305\u62ec\uff1a</p> <ul> <li> <p>Sequence Containers\uff1a\u5982<code>vector</code>\u3001<code>deque</code>\u3001<code>list</code>\u7b49\uff0c\u4e3b\u8981\u7528\u4e8e\u5b58\u50a8\u7ebf\u6027\u6570\u636e\u3002</p> </li> <li> <p>Associative Containers\uff1a\u5982<code>set</code>\u3001<code>map</code>\u3001<code>unordered_set</code>\u3001<code>unordered_map</code>\u7b49\uff0c\u4e3b\u8981\u7528\u4e8e\u5b58\u50a8\u952e\u503c\u5bf9\u6570\u636e\u3002</p> </li> <li> <p>Container Adapters\uff1a\u5982<code>stack</code>\u3001<code>queue</code>\u3001<code>priority_queue</code>\u7b49\uff0c\u4e3b\u8981\u7528\u4e8e\u5bf9\u5176\u4ed6\u5bb9\u5668\u8fdb\u884c\u5c01\u88c5\u548c\u9002\u914d\u3002</p> </li> </ul>"},{"location":"incourse/oop/STL/#vector","title":"Vector","text":"<p>Info</p> <p>cppreference</p> <p><code>vector</code>\u662f\u4e00\u4e2a\u52a8\u6001\u6570\u7ec4\uff0c\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u81ea\u52a8\u8c03\u6574\u5927\u5c0f\u3002\u5b83\u652f\u6301\u968f\u673a\u8bbf\u95ee\uff0c\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\u3002</p>"},{"location":"incourse/oop/STL/#\u521d\u59cb\u5316","title":"\u521d\u59cb\u5316","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\nint main() {\n    vector&lt;int&gt; vec1; // \u9ed8\u8ba4\u521d\u59cb\u5316\n    vector&lt;int&gt; vec2(10); // \u521d\u59cb\u5316\u5927\u5c0f\u4e3a10\n    vector&lt;int&gt; vec3(10, 5); // \u521d\u59cb\u5316\u5927\u5c0f\u4e3a10\uff0c\u6240\u6709\u5143\u7d20\u4e3a5\n    vector&lt;int&gt; vec4{1, 2, 3, 4, 5}; // \u5217\u8868\u521d\u59cb\u5316\n    return 0;\n}\n</code></pre> <p>Vector\u7684\u4f7f\u7528\u9700\u8981\u5f15\u5165<code>&lt;vector&gt;</code>\u5934\u6587\u4ef6\u3002</p> <p><code>vector&lt;type&gt;name</code>\u8868\u793a\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u578b\u4e3a<code>type</code>\u7684vector\uff0c<code>name</code>\u4e3a\u53d8\u91cf\u540d\uff0c<code>type</code>\u53ef\u4ee5\u4e3a\uff1a</p> <ul> <li><code>int</code>\uff1a\u6574\u578b</li> <li><code>char</code>\uff1a\u5b57\u7b26\u578b</li> <li><code>float</code>\uff1a\u5355\u7cbe\u5ea6\u6d6e\u70b9\u578b</li> <li><code>double</code>\uff1a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u578b</li> <li><code>string</code>\uff1a\u5b57\u7b26\u4e32\u578b</li> <li><code>bool</code>\uff1a\u5e03\u5c14\u578b</li> <li><code>class</code>\uff1a\u7c7b\u7c7b\u578b</li> <li><code>struct</code>\uff1a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li><code>vector</code>\uff1avector\u7c7b\u578b,\u50cf\u591a\u7ef4\u6570\u7ec4</li> </ul>"},{"location":"incourse/oop/STL/#\u8bbf\u95ee\u5143\u7d20","title":"\u8bbf\u95ee\u5143\u7d20","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u591a\u79cd\u65b9\u5f0f\u8bbf\u95ee\u5143\u7d20:</p> <ul> <li>\u4f7f\u7528\u4e0b\u6807\u8fd0\u7b97\u7b26<code>[]</code>\uff1a<code>vec[i]</code></li> <li>\u4f7f\u7528<code>at()</code>\u65b9\u6cd5\uff1a<code>vec.at(i)</code></li> <li>\u4f7f\u7528<code>front()</code>\u65b9\u6cd5\uff1a<code>vec.front()</code>,\u8bbf\u95ee\u7b2c\u4e00\u4e2a\u5143\u7d20</li> <li>\u4f7f\u7528<code>back()</code>\u65b9\u6cd5\uff1a<code>vec.back()</code>,\u8bbf\u95ee\u6700\u540e\u4e00\u4e2a\u5143\u7d20</li> </ul>"},{"location":"incourse/oop/STL/#iterators","title":"Iterators","text":"<p>\u8fed\u4ee3\u5668\u662fSTL\u4e2d\u7528\u4e8e\u904d\u5386\u5bb9\u5668\u7684\u5bf9\u8c61\u3002<code>vector</code>\u63d0\u4f9b\u4e86\u591a\u79cd\u8fed\u4ee3\u5668\u7c7b\u578b\uff0c\u5305\u62ec\uff1a</p> <ul> <li> <p><code>begin()</code>\uff1a\u8fd4\u56de\u6307\u5411\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u8fed\u4ee3\u5668</p> </li> <li> <p><code>end()</code>\uff1a\u8fd4\u56de\u6307\u5411\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u540e\u4e00\u4e2a\u4f4d\u7f6e\u7684\u8fed\u4ee3\u5668</p> </li> <li> <p><code>rbegin()</code>\uff1a\u8fd4\u56de\u6307\u5411\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u53cd\u5411\u8fed\u4ee3\u5668</p> </li> <li> <p><code>rend()</code>\uff1a\u8fd4\u56de\u6307\u5411\u7b2c\u4e00\u4e2a\u5143\u7d20\u524d\u4e00\u4e2a\u4f4d\u7f6e\u7684\u53cd\u5411\u8fed\u4ee3\u5668</p> </li> <li> <p><code>cbegin()</code>\uff1a\u8fd4\u56de\u6307\u5411\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u5e38\u91cf\u8fed\u4ee3\u5668,\u5e38\u91cf\u8fed\u4ee3\u5668\u4e0d\u53ef\u4fee\u6539\u5143\u7d20</p> </li> <li> <p><code>cend()</code>\uff1a\u8fd4\u56de\u6307\u5411\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u540e\u4e00\u4e2a\u4f4d\u7f6e\u7684\u5e38\u91cf\u8fed\u4ee3\u5668</p> </li> </ul> <p>\u904d\u5386\u4e00\u4e2avector\u7684\u65b9\u6cd5</p> <p>\u4e0b\u9762\u7684\u65b9\u6cd5\u5bf9\u4e8e\u5927\u90e8\u5206\u5bb9\u5668\u90fd\u9002\u7528</p> \u4f20\u7edf\u6d3e\u8303\u56f4for\u5faa\u73af,C++11vector::iterator <pre><code>for (int i = 0; i &lt; vec.size(); i++) {\n    cout &lt;&lt; vec[i] &lt;&lt; \" \";\n}\n</code></pre> <pre><code>for (const auto&amp; elem : vec) {\n    cout &lt;&lt; elem &lt;&lt; \" \";\n}\n</code></pre> <pre><code>for (vector&lt;int&gt;::iterator it = vec.begin(); it != vec.end(); ++it) {\n    cout &lt;&lt; *it &lt;&lt; \" \";\n}\n</code></pre>"},{"location":"incourse/oop/STL/#capacity","title":"Capacity","text":"<p><code>vector</code>\u7684\u5bb9\u91cf\u662f\u6307\u5b83\u5728\u4e0d\u91cd\u65b0\u5206\u914d\u5185\u5b58\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u5bb9\u7eb3\u7684\u5143\u7d20\u6570\u91cf\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u83b7\u53d6\u548c\u4fee\u6539\u5bb9\u91cf\uff1a</p> <ul> <li> <p><code>size()</code>\uff1a\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u6570\u91cf</p> </li> <li> <p><code>capacity()</code>\uff1a\u8fd4\u56de\u5f53\u524d\u5bb9\u91cf</p> </li> <li> <p><code>resize(n)</code>\uff1a\u8c03\u6574\u5927\u5c0f\u4e3a<code>n</code></p> </li> <li> <p><code>reserve(n)</code>\uff1a\u9884\u7559\u5bb9\u91cf\u4e3a<code>n</code></p> </li> <li> <p><code>clear()</code>\uff1a\u6e05\u7a7a\u5bb9\u5668</p> </li> <li> <p><code>empty()</code>\uff1a\u68c0\u67e5\u5bb9\u5668\u662f\u5426\u4e3a\u7a7a,\u8fd4\u56de\u5e03\u5c14\u503c</p> </li> </ul>"},{"location":"incourse/oop/STL/#modifiers","title":"Modifiers","text":"<p>\u6700\u6700\u6700\u91cd\u8981\u7684\u90e8\u5206,\u5982\u4f55\u4fee\u6539\u4e00\u4e2avector\u91cc\u7684\u5143\u7d20</p> <ul> <li> <p><code>push_back(value)</code>\uff1a\u5728\u672b\u5c3e\u6dfb\u52a0\u5143\u7d20</p> </li> <li> <p><code>pop_back()</code>\uff1a\u5220\u9664\u672b\u5c3e\u5143\u7d20    </p> </li> <li> <p><code>insert(position, value)</code>\uff1a\u5728\u6307\u5b9a\u4f4d\u7f6e\u63d2\u5165\u5143\u7d20</p> </li> <li> <p><code>erase(position)</code>\uff1a\u5220\u9664\u6307\u5b9a\u4f4d\u7f6e\u7684\u5143\u7d20,\u8fd4\u56de\u6307\u5411\u4e0b\u4e00\u4e2a\u5143\u7d20\u7684\u8fed\u4ee3\u5668</p> </li> <li> <p><code>push_front(value)</code>\uff1a\u5728\u5f00\u5934\u6dfb\u52a0\u5143\u7d20</p> </li> <li> <p><code>pop_front()</code>\uff1a\u5220\u9664\u5f00\u5934\u5143\u7d20</p> </li> <li> <p><code>assign(n, value)</code>\uff1a\u5c06\u5bb9\u5668\u7684\u5927\u5c0f\u8c03\u6574\u4e3a<code>n</code>\uff0c\u5e76\u7528<code>value</code>\u586b\u5145</p> </li> <li> <p><code>swap(other)</code>\uff1a\u4ea4\u6362\u4e24\u4e2a\u5bb9\u5668\u7684\u5185\u5bb9,<code>other</code>\u4e3a\u53e6\u4e00\u4e2a\u5bb9\u5668</p> </li> <li> <p><code>emplace_back(value)</code>\uff1a\u5728\u672b\u5c3e\u6dfb\u52a0\u5143\u7d20,\u4e0e<code>push_back</code>\u7c7b\u4f3c,\u4f46\u66f4\u9ad8\u6548</p> </li> <li> <p><code>emplace(position, value)</code>\uff1a\u5728\u6307\u5b9a\u4f4d\u7f6e\u63d2\u5165\u5143\u7d20,\u4e0e<code>insert</code>\u7c7b\u4f3c,\u4f46\u66f4\u9ad8\u6548</p> </li> </ul>"},{"location":"incourse/oop/STL/#\u4e00\u4e9b\u601d\u8003","title":"\u4e00\u4e9b\u601d\u8003","text":"<p>vector\u7684\u5143\u7d20\u7c7b\u578b\u5b9e\u9645\u4e0a\u8fd8\u53ef\u4ee5\u662f\u5f15\u7528\u7c7b\u578b\u6216\u8005\u6307\u9488,\u4f46\u662f\u8fd9\u6837\u597d\u50cf\u6ca1\u600e\u4e48\u89c1\u8fc7,\u56e0\u4e3a\u5f15\u7528\u7c7b\u578b\u548c\u6307\u9488\u672c\u8eab\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4e86,\u800c\u4e14\u5f15\u7528\u7c7b\u578b\u548c\u6307\u9488\u7684\u5185\u5b58\u7ba1\u7406\u6bd4\u8f83\u9ebb\u70e6,\u5bb9\u6613\u51fa\u73b0\u5185\u5b58\u6cc4\u6f0f\u7684\u95ee\u9898.</p>"},{"location":"incourse/oop/STL/#list","title":"List","text":"<p>Info</p> <p>cppreference</p> <p><code>list</code>\u662f\u4e00\u4e2a\u53cc\u5411\u94fe\u8868\uff0c\u652f\u6301\u5728\u4efb\u610f\u4f4d\u7f6e\u63d2\u5165\u548c\u5220\u9664\u5143\u7d20\u3002\u5b83\u4e0d\u652f\u6301\u968f\u673a\u8bbf\u95ee\uff0c\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(1)\u3002</p>"},{"location":"incourse/oop/STL/#\u521d\u59cb\u5316_1","title":"\u521d\u59cb\u5316","text":"<p><pre><code>#include &lt;iostream&gt;\n#include &lt;list&gt;\nusing namespace std;\nint main() {\n    list&lt;int&gt; lst1; // \u9ed8\u8ba4\u521d\u59cb\u5316\n    list&lt;int&gt; lst2(10); // \u521d\u59cb\u5316\u5927\u5c0f\u4e3a10\n    list&lt;int&gt; lst3(10, 5); // \u521d\u59cb\u5316\u5927\u5c0f\u4e3a10\uff0c\u6240\u6709\u5143\u7d20\u4e3a5\n    list&lt;int&gt; lst4{1, 2, 3, 4, 5}; // \u5217\u8868\u521d\u59cb\u5316\n    return 0;\n}\n</code></pre> List\u7684\u4f7f\u7528\u9700\u8981\u5f15\u5165<code>&lt;list&gt;</code>\u5934\u6587\u4ef6\u3002 List\u7684\u521d\u59cb\u5316\u4e0evector\u7c7b\u4f3c,\u4f46\u4e0d\u652f\u6301<code>vector</code>\u7684<code>reserve</code>\u65b9\u6cd5</p>"},{"location":"incourse/oop/STL/#\u8bbf\u95ee\u5143\u7d20_1","title":"\u8bbf\u95ee\u5143\u7d20","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u591a\u79cd\u65b9\u5f0f\u8bbf\u95ee\u5143\u7d20:</p> <ul> <li>\u4f7f\u7528<code>front()</code>\u65b9\u6cd5\uff1a<code>lst.front()</code>,\u8bbf\u95ee\u7b2c\u4e00\u4e2a\u5143\u7d20</li> <li>\u4f7f\u7528<code>back()</code>\u65b9\u6cd5\uff1a<code>lst.back()</code>,\u8bbf\u95ee\u6700\u540e\u4e00\u4e2a\u5143\u7d20</li> <li>\u4f7f\u7528\u8fed\u4ee3\u5668\uff1a<code>auto it = lst.begin(); cout &lt;&lt; *it;</code></li> <li>\u4f7f\u7528\u8303\u56f4for\u5faa\u73af\uff1a<code>for (const auto&amp; elem : lst) { cout &lt;&lt; elem; }</code></li> </ul>"},{"location":"incourse/oop/STL/#iterators_1","title":"Iterators","text":"<p><code>list</code>\u63d0\u4f9b\u4e86\u591a\u79cd\u8fed\u4ee3\u5668\u7c7b\u578b\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a</p> <ul> <li> <p><code>begin()</code>\uff1a\u8fd4\u56de\u6307\u5411\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u8fed\u4ee3\u5668</p> </li> <li> <p><code>end()</code>\uff1a\u8fd4\u56de\u6307\u5411\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u540e\u4e00\u4e2a\u4f4d\u7f6e\u7684\u8fed\u4ee3\u5668</p> </li> <li> <p><code>rbegin()</code>\uff1a\u8fd4\u56de\u6307\u5411\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u53cd\u5411\u8fed\u4ee3\u5668</p> </li> <li> <p><code>rend()</code>\uff1a\u8fd4\u56de\u6307\u5411\u7b2c\u4e00\u4e2a\u5143\u7d20\u524d\u4e00\u4e2a\u4f4d\u7f6e\u7684\u53cd\u5411\u8fed\u4ee3\u5668</p> </li> </ul>"},{"location":"incourse/oop/STL/#capacity_1","title":"Capacity","text":"<ul> <li> <p><code>size()</code>\uff1a\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u6570\u91cf</p> </li> <li> <p><code>empty()</code>\uff1a\u68c0\u67e5\u5bb9\u5668\u662f\u5426\u4e3a\u7a7a,\u8fd4\u56de\u5e03\u5c14\u503c</p> </li> </ul>"},{"location":"incourse/oop/STL/#modifiers_1","title":"Modifiers","text":"<ul> <li> <p><code>push_back(value)</code>\uff1a\u5728\u672b\u5c3e\u6dfb\u52a0\u5143\u7d20</p> </li> <li> <p><code>push_front(value)</code>\uff1a\u5728\u5f00\u5934\u6dfb\u52a0\u5143\u7d20</p> </li> <li> <p><code>pop_back()</code>\uff1a\u5220\u9664\u672b\u5c3e\u5143\u7d20</p> </li> <li> <p><code>pop_front()</code>\uff1a\u5220\u9664\u5f00\u5934\u5143\u7d20</p> </li> <li> <p><code>insert(position, value)</code>\uff1a\u5728\u6307\u5b9a\u4f4d\u7f6e\u63d2\u5165\u5143\u7d20</p> </li> <li> <p><code>erase(position)</code>\uff1a\u5220\u9664\u6307\u5b9a\u4f4d\u7f6e\u7684\u5143\u7d20</p> </li> </ul>"},{"location":"incourse/oop/STL/#map","title":"Map","text":"<p>Info</p> <p>cppreference</p> <p>\u5b66\u8fc7\u9ad8\u4e2d\u6280\u672f\u7684\u611f\u89c9\u548cPython\u7684\u5b57\u5178\u5f88\u50cf.</p> <p><code>map</code>\u662f\u4e00\u4e2a\u5173\u8054\u5bb9\u5668\uff0c\u7528\u4e8e\u5b58\u50a8\u952e\u503c\u5bf9\u6570\u636e\u3002\u5b83\u652f\u6301\u6839\u636e\u952e\u5feb\u901f\u67e5\u627e\u503c\u3002<code>map</code>\u7684\u5e95\u5c42\u5b9e\u73b0\u901a\u5e38\u662f\u7ea2\u9ed1\u6811\uff0c\u56e0\u6b64\u63d2\u5165\u3001\u5220\u9664\u548c\u67e5\u627e\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(log n)\u3002</p>"},{"location":"incourse/oop/STL/#\u521d\u59cb\u5316_2","title":"\u521d\u59cb\u5316","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\nusing namespace std;\nint main() {\n    map&lt;int, string&gt; m1; // \u9ed8\u8ba4\u521d\u59cb\u5316\n    map&lt;int, string&gt; m2{{1, \"one\"}, {2, \"two\"}, {3, \"three\"}}; // \u5217\u8868\u521d\u59cb\u5316\n    return 0;\n}\n</code></pre> <p>Map\u7684\u4f7f\u7528\u9700\u8981\u5f15\u5165<code>&lt;map&gt;</code>\u5934\u6587\u4ef6\u3002</p> <p>Map\u7684\u5b9a\u4e49\u4e3a<code>map&lt;key_type, value_type&gt; name</code>\uff0c\u8868\u793a\u5b9a\u4e49\u4e00\u4e2a\u952e\u7c7b\u578b\u4e3a<code>key_type</code>\uff0c\u503c\u7c7b\u578b\u4e3a<code>value_type</code>\u7684map\uff0c<code>name</code>\u4e3a\u53d8\u91cf\u540d.</p>"},{"location":"incourse/oop/STL/#\u8bbf\u95ee\u5143\u7d20_2","title":"\u8bbf\u95ee\u5143\u7d20","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u591a\u79cd\u65b9\u5f0f\u8bbf\u95ee\u5143\u7d20:</p> <ul> <li> <p>\u4f7f\u7528\u4e0b\u6807\u8fd0\u7b97\u7b26<code>[]</code>\uff1a<code>m[key]</code></p> </li> <li> <p>\u4f7f\u7528<code>at()</code>\u65b9\u6cd5\uff1a<code>m.at(key)</code></p> </li> <li> <p>\u4f7f\u7528<code>find()</code>\u65b9\u6cd5\uff1a<code>m.find(key)</code>\uff0c\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u952e\u4e3a<code>key</code>\u7684\u5143\u7d20</p> </li> <li> <p>\u4f7f\u7528<code>count()</code>\u65b9\u6cd5\uff1a<code>m.count(key)</code>\uff0c\u8fd4\u56de\u952e\u4e3a<code>key</code>\u7684\u5143\u7d20\u6570\u91cf</p> </li> <li> <p><code>contains(key)</code>\uff1a\u68c0\u67e5\u5bb9\u5668\u662f\u5426\u5305\u542b\u952e\u4e3a<code>key</code>\u7684\u5143\u7d20,\u8fd4\u56de\u5e03\u5c14\u503c</p> </li> </ul>"},{"location":"incourse/oop/STL/#iterators_2","title":"Iterators","text":"<p><code>map</code>\u63d0\u4f9b\u4e86\u591a\u79cd\u8fed\u4ee3\u5668\u7c7b\u578b\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a</p> <ul> <li> <p><code>begin()</code>\uff1a\u8fd4\u56de\u6307\u5411\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u8fed\u4ee3\u5668</p> </li> <li> <p><code>end()</code>\uff1a\u8fd4\u56de\u6307\u5411\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u540e\u4e00\u4e2a\u4f4d\u7f6e\u7684\u8fed\u4ee3\u5668</p> </li> <li> <p><code>rbegin()</code>\uff1a\u8fd4\u56de\u6307\u5411\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u53cd\u5411\u8fed\u4ee3\u5668</p> </li> <li> <p><code>rend()</code>\uff1a\u8fd4\u56de\u6307\u5411\u7b2c\u4e00\u4e2a\u5143\u7d20\u524d\u4e00\u4e2a\u4f4d\u7f6e\u7684\u53cd\u5411\u8fed\u4ee3\u5668</p> </li> </ul>"},{"location":"incourse/oop/STL/#capacity_2","title":"Capacity","text":"<ul> <li> <p><code>size()</code>\uff1a\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u6570\u91cf</p> </li> <li> <p><code>empty()</code>\uff1a\u68c0\u67e5\u5bb9\u5668\u662f\u5426\u4e3a\u7a7a,\u8fd4\u56de\u5e03\u5c14\u503c</p> </li> </ul>"},{"location":"incourse/oop/STL/#modifiers_2","title":"Modifiers","text":"<ul> <li> <p><code>insert(pair)</code>\uff1a\u63d2\u5165\u4e00\u4e2a\u952e\u503c\u5bf9</p> </li> <li> <p><code>erase(key)</code>\uff1a\u5220\u9664\u952e\u4e3a<code>key</code>\u7684\u5143\u7d20</p> </li> <li> <p><code>clear()</code>\uff1a\u6e05\u7a7a\u5bb9\u5668</p> </li> <li> <p><code>swap(other)</code>\uff1a\u4ea4\u6362\u4e24\u4e2a\u5bb9\u5668\u7684\u5185\u5bb9,<code>other</code>\u4e3a\u53e6\u4e00\u4e2a\u5bb9\u5668</p> </li> <li> <p><code>emplace(key, value)</code>\uff1a\u63d2\u5165\u4e00\u4e2a\u952e\u503c\u5bf9,\u4e0e<code>insert</code>\u7c7b\u4f3c,\u4f46\u66f4\u9ad8\u6548</p> </li> </ul>"},{"location":"incourse/oop/STL/#algorithm","title":"Algorithm","text":"<p>C++ STL\u6709\u8bb8\u591a\u6709\u7528\u7684\u7b97\u6cd5,\u5728\u4f7f\u7528\u65f6\u9700\u8981\u5f15\u5165<code>&lt;algorithm&gt;</code>\u5934\u6587\u4ef6.</p> <p>\u4e0b\u9762\u770b\u4e00\u4e9b\u975e\u5e38\u5e38\u7528\u7684.</p>"},{"location":"incourse/oop/STL/#sort","title":"Sort","text":"<p>Info</p> <p>cppreference</p> <p><code>sort</code>\u662f\u4e00\u4e2a\u7528\u4e8e\u6392\u5e8f\u7684\u7b97\u6cd5\u3002\u5b83\u53ef\u4ee5\u5bf9\u5bb9\u5668\u4e2d\u7684\u5143\u7d20\u8fdb\u884c\u5347\u5e8f\u6216\u964d\u5e8f\u6392\u5e8f\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>sort</code>\u4f7f\u7528<code>&lt;</code>\u8fd0\u7b97\u7b26\u8fdb\u884c\u5347\u5e8f\u6392\u5e8f\u3002</p>"},{"location":"incourse/oop/STL/#\u4f7f\u7528\u65b9\u6cd5","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\nint main() {\n    vector&lt;int&gt; vec = {5, 2, 9, 1, 5, 6};\n    sort(vec.begin(), vec.end()); // \u5347\u5e8f\u6392\u5e8f\n    for (const auto&amp; elem : vec) {\n        cout &lt;&lt; elem &lt;&lt; \" \";\n    }\n    return 0;\n}\n</code></pre>"},{"location":"incourse/oop/STL/#\u81ea\u5b9a\u4e49\u6392\u5e8f","title":"\u81ea\u5b9a\u4e49\u6392\u5e8f","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u4f20\u9012\u4e00\u4e2a\u6bd4\u8f83\u51fd\u6570\u6216\u51fd\u6570\u5bf9\u8c61\u6765\u81ea\u5b9a\u4e49\u6392\u5e8f\u987a\u5e8f\u3002</p> <p>\u5f53\u6392\u5e8f\u51fd\u6570\u8fd4\u56de<code>true</code>\u65f6\uff0c\u8868\u793a\u7b2c\u4e00\u4e2a\u53c2\u6570\u5e94\u8be5\u6392\u5728\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e4b\u524d\u3002</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\nbool customCompare(int a, int b) {\n    return a &gt; b; // \u964d\u5e8f\u6392\u5e8f\n}\nint main() {\n    vector&lt;int&gt; vec = {5, 2, 9, 1, 5, 6};\n    sort(vec.begin(), vec.end(), customCompare);\n    for (const auto&amp; elem : vec) {\n        cout &lt;&lt; elem &lt;&lt; \" \";\n    }\n    return 0;\n}\n</code></pre>"},{"location":"incourse/oop/STL/#find","title":"Find","text":"<p>Info</p> <p>cppreference</p> <p><code>find</code>\u662f\u4e00\u4e2a\u7528\u4e8e\u67e5\u627e\u5143\u7d20\u7684\u7b97\u6cd5\u3002\u5b83\u53ef\u4ee5\u5728\u5bb9\u5668\u4e2d\u67e5\u627e\u7b2c\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7d20\u3002</p>"},{"location":"incourse/oop/STL/#\u4f7f\u7528\u65b9\u6cd5_1","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<pre><code>#include &lt;iostream&gt;\n\n#include &lt;vector&gt;\n\n#include &lt;algorithm&gt;\n\nusing namespace std;\nint main() {\n    vector&lt;int&gt; vec = {5, 2, 9, 1, 5, 6};\n    auto it = find(vec.begin(), vec.end(), 5); // \u67e5\u627e\u503c\u4e3a5\u7684\u5143\u7d20\n    if (it != vec.end()) {\n        cout &lt;&lt; \"Found: \" &lt;&lt; *it &lt;&lt; endl;\n    } else {\n        cout &lt;&lt; \"Not found\" &lt;&lt; endl;\n    }\n    return 0;\n}\n</code></pre>"},{"location":"incourse/oop/STL/#count","title":"Count","text":"<p>Info</p> <p>cppreference</p> <p><code>count</code>\u662f\u4e00\u4e2a\u7528\u4e8e\u8ba1\u6570\u5143\u7d20\u7684\u7b97\u6cd5\u3002\u5b83\u53ef\u4ee5\u5728\u5bb9\u5668\u4e2d\u8ba1\u6570\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7d20\u6570\u91cf\u3002</p>"},{"location":"incourse/oop/STL/#\u4f7f\u7528\u65b9\u6cd5_2","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<pre><code>#include &lt;iostream&gt;\n\n#include &lt;vector&gt;\n\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nint main() {\n    vector&lt;int&gt; vec = {5, 2, 9, 1, 5, 6};\n    int count = std::count(vec.begin(), vec.end(), 5); // \u8ba1\u6570\u503c\u4e3a5\u7684\u5143\u7d20\u6570\u91cf\n    cout &lt;&lt; \"Count: \" &lt;&lt; count &lt;&lt; endl;\n    return 0;\n}\n</code></pre>"},{"location":"incourse/oop/STL/#fill","title":"fill","text":"<p>Info</p> <p>cppreference</p> <p><code>fill</code>\u662f\u4e00\u4e2a\u7528\u4e8e\u586b\u5145\u5bb9\u5668\u7684\u7b97\u6cd5\u3002\u5b83\u53ef\u4ee5\u5c06\u5bb9\u5668\u4e2d\u7684\u6240\u6709\u5143\u7d20\u8bbe\u7f6e\u4e3a\u6307\u5b9a\u7684\u503c\u3002</p> <p>\u5b83\u7684\u57fa\u672c\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\nint main() {\n    vector&lt;int&gt; vec(5); // \u521d\u59cb\u5316\u5927\u5c0f\u4e3a5\u7684vector\n    fill(vec.begin(), vec.end(), 10); // \u5c06\u6240\u6709\u5143\u7d20\u8bbe\u7f6e\u4e3a10\n    for (const auto&amp; elem : vec) {\n        cout &lt;&lt; elem &lt;&lt; \" \";\n    }\n    return 0;\n}\n</code></pre>"},{"location":"incourse/oop/class/","title":"\u7c7b\u4e0e\u5bf9\u8c61","text":"<p> \u7ea6 4125 \u4e2a\u5b57  456 \u884c\u4ee3\u7801  6 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 26 \u5206\u949f</p> <p>\u6211\u4eec\u5148\u6765\u770b\u4e0b\u9762\u8fd9\u4e2a\u7528C++\u7f16\u5199\u7684\u9009\u62e9\u6392\u5e8f\u7a0b\u5e8f:</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nvoid selection_sort(int arr[], int n) {\n    for (int i = 0; i &lt; n - 1; i++) {\n        int minIndex = i;\n        for (int j = i + 1; j &lt; n; j++) {\n            if (arr[j] &lt; arr[minIndex]) {\n                minIndex = j;\n            }\n        }\n        swap(arr[i], arr[minIndex]);\n    }\n}\n</code></pre> <p>\u6211\u4eec\u4f7f\u7528\u8fd9\u4e2a\u7a0b\u5e8f,\u4f5c\u4e3a\u672c\u8282\u5185\u5bb9\u7684\u4f8b\u5b50.</p>"},{"location":"incourse/oop/class/#\u5f15\u7528\u7c7b\u578b","title":"\u5f15\u7528\u7c7b\u578b","text":"<p>\u5728\u4e0a\u9762\u7684\u7a0b\u5e8f\u4e2d,\u6211\u4eec\u4f7f\u7528\u4e86\u4e00\u4e2a<code>swap</code>\u51fd\u6570\u6765\u4ea4\u6362\u4e24\u4e2a\u6570\u7684\u503c\u3002\u5982\u679c\u6211\u4eec\u628a<code>swap</code>\u51fd\u6570\u8fd9\u6837\u5199\uff1a</p> <p><pre><code>void swap(int a, int b) {\n    int temp = a;\n    a = b;\n    b = temp;\n}\n</code></pre> \u5b66\u8fc7C\u8bed\u8a00\u7684\u90fd\u77e5\u9053\uff0c\u8fd9\u4e2a\u51fd\u6570\u4e0d\u80fd\u4ea4\u6362\u4e24\u4e2a\u6570\u7684\u503c\u3002\u56e0\u4e3a\u51fd\u6570\u53c2\u6570\u662f\u503c\u4f20\u9012\uff0c\u51fd\u6570\u5185\u5bf9\u53c2\u6570\u7684\u4fee\u6539\u4e0d\u4f1a\u5f71\u54cd\u5230\u5b9e\u53c2\u3002 \u5982\u679c\u6211\u4eec\u60f3\u8981\u4ea4\u6362\u4e24\u4e2a\u6570\u7684\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528\u6307\u9488\u4f5c\u4e3a\u53c2\u6570\uff1a</p> <pre><code>void swap(int* a, int* b) {\n    int temp = *a;\n    *a = *b;\n    *b = temp;\n}\n</code></pre> <p>\u4f46\u662f\u4f7f\u7528\u6307\u9488\u4f5c\u4e3a\u53c2\u6570\u4f1a\u4f7f\u5f97\u51fd\u6570\u7684\u8c03\u7528\u53d8\u5f97\u590d\u6742\uff0c\u8c03\u7528\u65f6\u9700\u8981\u4f20\u5165\u53d8\u91cf\u7684\u5730\u5740\uff0c\u5e76\u4e14\u5728\u51fd\u6570\u5185\u9700\u8981\u4f7f\u7528<code>*</code>\u6765\u89e3\u5f15\u7528\u3002 \u5bf9\u6b64\uff0cC++\u63d0\u4f9b\u4e86\u4e00\u4e2a\u65b0\u7684\u7c7b\u578b\uff1a\u5f15\u7528\u7c7b\u578b\u6765\u7b80\u5316\u51fd\u6570\u7684\u8c03\u7528\u3002</p> <pre><code>void swap(int&amp; a, int&amp; b) {\n    int temp = a;\n    a = b;\n    b = temp;\n}\n</code></pre> <p>\u5728\u51fd\u6570\u53c2\u6570\u4e2d\u4f7f\u7528<code>&amp;</code>\u8868\u793a\u5f15\u7528\u7c7b\u578b\uff0c\u5f15\u7528\u7c7b\u578b\u7684\u53c2\u6570\u5728\u51fd\u6570\u5185\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u800c\u4e0d\u9700\u8981\u4f7f\u7528<code>*</code>\u6765\u89e3\u5f15\u7528\u3002</p> <p>\u5f15\u7528\u7c7b\u578b\u5b9e\u9645\u4e0a\u5c31\u662f\u5bf9\u539f\u6765\u53d8\u91cf\u7684\u4e00\u4e2a\u522b\u540d\uff0c\u5f15\u7528\u7c7b\u578b\u7684\u53c2\u6570\u5728\u51fd\u6570\u5185\u5bf9\u53c2\u6570\u7684\u4fee\u6539\u4f1a\u5f71\u54cd\u5230\u5b9e\u53c2\u3002</p> <p>\u4efb\u4f55\u5bf9\u522b\u540d\u7684\u4fee\u6539\u90fd\u4f1a\u5f71\u54cd\u5230\u539f\u53d8\u91cf\u3002</p>"},{"location":"incourse/oop/class/#\u51fd\u6570\u6a21\u677f","title":"\u51fd\u6570\u6a21\u677f","text":"<p>\u5728\u7f16\u5199\u6392\u5e8f\u7b97\u6cd5\u65f6,\u6211\u4eec\u9700\u8981\u8003\u8651\u5230\u6392\u5e8f\u7684\u5bf9\u8c61\u53ef\u80fd\u662fint, float, double, string\u7b49\u591a\u79cd\u7c7b\u578b\u3002 \u5982\u679c\u6211\u4eec\u4e3a\u6bcf\u79cd\u7c7b\u578b\u90fd\u7f16\u5199\u4e00\u4e2a\u6392\u5e8f\u51fd\u6570,\u90a3\u5c31\u592a\u9ebb\u70e6\u4e86\u3002 C++\u63d0\u4f9b\u4e86\u4e00\u4e2a\u65b0\u7684\u7279\u6027\uff1a\u6a21\u677f\uff08template\uff09\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p> <pre><code>template &lt;typename T&gt;\n\nselection_sort(T arr[], int n) {\n    for (int i = 0; i &lt; n - 1; i++) {\n        int minIndex = i;\n        for (int j = i + 1; j &lt; n; j++) {\n            if (arr[j] &lt; arr[minIndex]) {\n                minIndex = j;\n            }\n        }\n        swap(arr[i], arr[minIndex]);\n    }\n}\n</code></pre> <p>\u8fd9\u6837,\u7f16\u8bd1\u5668\u4f1a\u5e2e\u6211\u4eec\u6839\u636e\u4f20\u5165\u7684\u53c2\u6570\u7c7b\u578b\u6765\u751f\u6210\u76f8\u5e94\u7684\u51fd\u6570\u3002 \u5728\u51fd\u6570\u5b9a\u4e49\u65f6,\u6211\u4eec\u4f7f\u7528<code>template &lt;typename T&gt;</code>\u6765\u58f0\u660e\u4e00\u4e2a\u6a21\u677f\u51fd\u6570\u3002 \u9700\u8981\u6ce8\u610f\u7684\u65f6,\u4e00\u4e2a<code>template&lt;typename T&gt;</code>\u53ea\u5bf9\u7d27\u8ddf\u7740\u7684\u51fd\u6570\u6709\u6548,\u5982\u679c\u6211\u4eec\u8981\u5b9a\u4e49\u591a\u4e2a\u6a21\u677f\u51fd\u6570,\u9700\u8981\u4e3a\u6bcf\u4e2a\u51fd\u6570\u90fd\u6dfb\u52a0<code>template&lt;typename T&gt;</code>\u3002</p>"},{"location":"incourse/oop/class/#\u91cd\u8f7d\u8fd0\u7b97\u7b26","title":"\u91cd\u8f7d\u8fd0\u7b97\u7b26","text":"<p>\u4e0a\u9762\u6392\u5e8f\u6570\u636e\u7c7b\u578b,\u6bd4\u5982int, float, double, string\u7b49\u90fd\u53ef\u4ee5\u4f7f\u7528<code>&lt;</code>\u6765\u6bd4\u8f83\u5927\u5c0f\u3002</p> <p>\u90a3\u5982\u679c\u6211\u4eec\u81ea\u5df1\u5199\u4e00\u4e2a\u7c7b,\u6bd4\u5982<code>Point</code>\u7c7b: <pre><code>class Point {\npublic:\n    int x, y;\n    Point(int x, int y) : x(x), y(y) {}\n};\n</code></pre></p> <p>\u6211\u4eec\u60f3\u8981\u6bd4\u8f83\u4e24\u4e2a<code>Point</code>\u5bf9\u8c61\u7684\u5927\u5c0f,\u6bd4\u5982<code>p1 &lt; p2</code>\u8868\u793a<code>p1</code>\u79bb\u539f\u70b9\u66f4\u8fd1,\u6211\u4eec\u8be5\u600e\u4e48\u505a\u5462? \u6211\u4eec\u53ef\u4ee5\u91cd\u8f7d<code>&lt;</code>\u8fd0\u7b97\u7b26\u6765\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u3002</p> <pre><code>class Point {\npublic:\n    int x, y;\n    Point(int x, int y) : x(x), y(y) {}\n    bool operator&lt;(const Point&amp; other) const {\n        return x * x + y * y &lt; other.x * other.x + other.y * other.y;\n    }\n};\n</code></pre> <ul> <li> <p>\u5f62\u5982<code>bool operator&lt; (const Point&amp; other) const</code>\u7684\u51fd\u6570\u79f0\u4e3a\u8fd0\u7b97\u7b26\u91cd\u8f7d\u51fd\u6570\u3002</p> </li> <li> <p>\u91cd\u8f7d\u8fd0\u7b97\u7b26\u4e0d\u80fd\u6539\u53d8\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u548c\u7ed3\u5408\u6027\uff0c\u4e5f\u4e0d\u80fd\u6539\u53d8\u8fd0\u7b97\u7b26\u7684\u53c2\u6570\u4e2a\u6570\u3002</p> </li> <li> <p>\u91cd\u8f7d\u51fd\u6570\u4e5f\u53ef\u4ee5\u4e0d\u5199\u5728\u7c7b\u5185,\u800c\u662f\u5199\u5728\u7c7b\u5916,\u4f46\u662f\u9700\u8981\u5728\u51fd\u6570\u524d\u9762\u52a0\u4e0a<code>\u7c7b\u540d::</code>\u6765\u8868\u793a\u8fd9\u4e2a\u51fd\u6570\u662f\u5c5e\u4e8e\u54ea\u4e2a\u7c7b\u7684\uff1a<code>String String::operator+(const String&amp; that);</code>\u3002</p> </li> <li> <p>\u6216\u8005\u5728\u5168\u5c40\u5199<code>String operator+(const String&amp; l, const String&amp; r);</code>,\u4f20\u5165\u4e24\u4e2a\u53c2\u6570,\u5206\u522b\u8868\u793a\u5de6\u64cd\u4f5c\u6570\u548c\u53f3\u64cd\u4f5c\u6570\u3002</p> </li> <li> <p>\u5f62\u5982<code>&lt;class name&gt; :: &lt;function name&gt;</code>\u7684\u4e1c\u897f\u53eb\u505aresolver,\u8868\u793a\u8fd9\u4e2a\u51fd\u6570\u662f\u5c5e\u4e8e\u54ea\u4e2a\u7c7b\u7684\u3002</p> <ul> <li>\u5982\u679c\u662f\u76f4\u63a5<code>::</code>\u7684\u5f62\u5f0f,\u8868\u793a\u8fd9\u4e2a\u51fd\u6570\u662f\u5c5e\u4e8e\u5168\u5c40\u7684\u3002</li> </ul> </li> </ul> <pre><code>bool Pointer::operator&lt;(const Point&amp; other) const {\n    return x * x + y * y &lt; other.x * other.x + other.y * other.y;\n}\n</code></pre> <p>\u53ef\u4ee5\u91cd\u8f7d\u7684\u8fd0\u7b97\u7b26\u6709\u5f88\u591a:</p> <ul> <li> <p>\u7b97\u672f\u8fd0\u7b97\u7b26\uff1a<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code></p> </li> <li> <p>\u5173\u7cfb\u8fd0\u7b97\u7b26\uff1a<code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, <code>==</code>, <code>!=</code></p> </li> <li> <p>\u903b\u8f91\u8fd0\u7b97\u7b26\uff1a<code>&amp;&amp;</code>, <code>||</code>, <code>!</code></p> </li> <li> <p>\u4f4d\u8fd0\u7b97\u7b26\uff1a<code>&amp;</code>, <code>|</code>, <code>^</code>, <code>~</code>, <code>&lt;&lt;</code>, <code>&gt;&gt;</code></p> </li> <li> <p>\u8d4b\u503c\u8fd0\u7b97\u7b26\uff1a<code>=</code>, <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>%=</code>\u7b49</p> </li> <li> <p>\u5176\u4ed6\u8fd0\u7b97\u7b26\uff1a<code>[]</code>, <code>()</code>, <code>-&gt;</code>, <code>++</code>, <code>--</code></p> </li> </ul> <p>\u751a\u81f3,\u4f60\u53ef\u4ee5\u91cd\u8f7d\u8f93\u51fa\u6d41\u8fd0\u7b97\u7b26<code>&lt;&lt;</code>\u6765\u5b9e\u73b0\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u8f93\u51fa\u3002</p> <p>\u6ce8\u610f,<code>x+y</code>\u5176\u5b9e\u662f<code>x.operator+(y)</code>\u7684\u7b80\u5199,\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u91cd\u8f7d<code>+</code>\u8fd0\u7b97\u7b26\u6765\u5b9e\u73b0\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u52a0\u6cd5\u8fd0\u7b97\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Point {\npublic:\n    int x, y;\n    Point(int x, int y) : x(x), y(y) {}\n    friend ostream&amp; operator&lt;&lt;(ostream&amp; os, const Point&amp; p) {\n        os &lt;&lt; \"(\" &lt;&lt; p.x &lt;&lt; \", \" &lt;&lt; p.y &lt;&lt; \")\";\n        return os;\n    }\n};\n</code></pre>"},{"location":"incourse/oop/class/#i\u4e0ei\u7684\u91cd\u8f7d","title":"i++\u4e0e++i\u7684\u91cd\u8f7d","text":"<p>\u6211\u4eec\u9700\u8981\u601d\u8003,\u7f16\u8bd1\u5668\u5982\u4f55\u533a\u5206<code>i++</code>\u4e0e<code>++i</code>\u7684\u533a\u522b\u5462?</p> <p>\u53ef\u4ee5\u53d1\u73b0,<code>i++</code>\u662f\u540e\u7f6e\u8fd0\u7b97\u7b26,\u800c<code>++i</code>\u662f\u524d\u7f6e\u8fd0\u7b97\u7b26,\u5b83\u4eec\u7684\u533a\u522b\u5728\u4e8e\u4f20\u5165\u7684\u53c2\u6570\u4e0d\u540c</p> <p>\u5982\u4e0b:</p> <pre><code>Interger operator++(int) { //i++\u7684\u91cd\u8f7d\n    Interger temp = *this; \n    ++value; \n    return temp; //i++\u7684\u8fd4\u56de\u503c\u8fd8\u662f\u81ea\u589e\u4e4b\u524d\u7684\n}\n\nInterger operator++() { //++i\u7684\u91cd\u8f7d\n    ++value; \n    return *this; \n}\n</code></pre>"},{"location":"incourse/oop/class/#\u91cd\u8f7d\u8fd0\u7b97\u7b26_1","title":"\u91cd\u8f7d<code>[]</code>\u8fd0\u7b97\u7b26","text":"<p>\u5fc5\u987b\u662f\u6210\u5458\u51fd\u6570</p> <pre><code>int&amp; operator[](int index) {\n    return arr[index];\n}\n</code></pre>"},{"location":"incourse/oop/class/#\u91cd\u8f7d\u8fd0\u7b97\u7b26_2","title":"\u91cd\u8f7d<code>()</code>\u8fd0\u7b97\u7b26","text":"<p><code>()</code>\u8fd0\u7b97\u7b26\u91cd\u8f7d\u5141\u8bb8\u5bf9\u8c61\u50cf\u51fd\u6570\u4e00\u6837\u88ab\u8c03\u7528\uff0c\u8fd9\u79cd\u5bf9\u8c61\u88ab\u79f0\u4e3a\u51fd\u6570\u5bf9\u8c61\uff08Functor\uff09\u3002\u901a\u8fc7\u91cd\u8f7d<code>()</code>\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba9\u7c7b\u7684\u5b9e\u4f8b\u5177\u6709\u51fd\u6570\u7684\u884c\u4e3a\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Adder {\n    int sum = 0;\npublic:\n    // \u91cd\u8f7d()\u8fd0\u7b97\u7b26\n    int operator()(int x) {\n        sum += x;\n        return sum;\n    }\n};\n\nint main() {\n    Adder add;\n    cout &lt;&lt; add(5) &lt;&lt; endl;  // \u8f93\u51fa5\n    cout &lt;&lt; add(10) &lt;&lt; endl; // \u8f93\u51fa15\n    return 0;\n}\n</code></pre> <p>\u91cd\u8f7d\u8fd8\u53ef\u4ee5\u7528\u5728STL\u4e2d,\u6bd4\u5982<code>std::sort</code>\u51fd\u6570,\u6211\u4eec\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u51fd\u6570\u6765\u5b9e\u73b0\u81ea\u5b9a\u4e49\u6392\u5e8f.</p> <pre><code>class Compare {\npublic:\n    bool operator()(int a, int b) {\n        return a &gt; b;  // \u964d\u5e8f\u6392\u5e8f\n    }\n};\nsort(v.begin(), v.end(), Compare());\n</code></pre>"},{"location":"incourse/oop/class/#\u7c7b\u578b\u8f6c\u6362\u7684\u91cd\u8f7d","title":"\u7c7b\u578b\u8f6c\u6362\u7684\u91cd\u8f7d","text":"<pre><code>operator double() const {\n    return static_cast&lt;double&gt;(fenzi) / fenmu;\n}\n</code></pre> <p>\u6b63\u5982\u4e0a\u9762\u7684\u4ee3\u7801\u6240\u5199\u7684\u90a3\u6837,\u6211\u4eec\u53ef\u4ee5\u91cd\u8f7d\u7c7b\u578b\u8f6c\u6362\u7684\u8fd0\u7b97\u7b26,\u8fd9\u6837\u7684\u4e00\u822c\u5199\u6cd5\u662f<code>`operator &lt;type&gt;()</code>\u3002</p>"},{"location":"incourse/oop/class/#\u9690\u5f0f\u8f6c\u6362","title":"\u9690\u5f0f\u8f6c\u6362","text":"<p>\u5bf9\u4e8e\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801:</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include&lt;string&gt;\nusing namespace std;\n\nclass PathName {   string name; \npublic: \n    PathName(const string&amp; s) :name(s) {};    \n    ~PathName(){}; \n}; \n\nint main(){\n    string abc(\"abc\"); \n    PathName xyz(abc); /\n    xyz = abc;        \n}\n</code></pre> <p>\u5b83\u662f\u53ef\u4ee5\u6b63\u5e38\u7f16\u8bd1\u8fd0\u884c\u7684,\u56e0\u4e3a\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u8c03\u7528<code>PathName</code>\u7c7b\u7684\u6784\u9020\u51fd\u6570\u6765\u5c06<code>string</code>\u7c7b\u578b\u8f6c\u6362\u4e3a<code>PathName</code>\u7c7b\u578b\u3002</p> <p>\u4f46\u662f,\u5982\u679c\u52a0\u4e0a<code>explicit</code>\u5173\u952e\u5b57:</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include&lt;string&gt;\nusing namespace std;\n\nclass PathName {   string name;\npublic: \n    explicit PathName(const string&amp; s) :name(s) {};    \n    ~PathName(){}; \n};\n</code></pre> <p>\u8fd9\u6837\u5c31\u4f1a\u62a5\u9519\u4e86,\u56e0\u4e3a<code>explicit</code>\u5173\u952e\u5b57\u8868\u793a\u8fd9\u4e2a\u6784\u9020\u51fd\u6570\u662f\u663e\u5f0f\u7684,\u4e0d\u80fd\u9690\u5f0f\u8f6c\u6362\u3002</p> <p>\u5f53\u7136,\u9690\u5f0f\u8f6c\u6362\u8981\u6c42\u6784\u9020\u51fd\u6570\u53ea\u6709\u4e00\u4e2a\u53c2\u6570,\u6216\u8005\u591a\u53c2\u6570,\u4f46\u662f\u540e\u9762\u90fd\u6709\u9ed8\u8ba4\u503c\u3002</p>"},{"location":"incourse/oop/class/#\u7c7b\u4e0e\u7ee7\u627f","title":"\u7c7b\u4e0e\u7ee7\u627f","text":"<p>\u6765\u4e2a\u751f\u786c\u7684\u8f6c\u573a...\u6211\u4eec\u4eec\u6765\u770b\u770b\u7c7b\u4e0e\u7ee7\u627f\u3002</p>"},{"location":"incourse/oop/class/#\u7c7b","title":"\u7c7b","text":"<p>\u5047\u8bbe\u73b0\u5728\u6709\u4e09\u4e2a\u7c7b:circle, rectangle, triangle,\u5b83\u4eec\u90fd\u6709\u4e00\u4e2a<code>area</code>\u65b9\u6cd5\u6765\u8ba1\u7b97\u9762\u79ef,\u4e00\u4e2a<code>perimeter</code>\u65b9\u6cd5\u6765\u8ba1\u7b97\u5468\u957f\u3002</p> <pre><code>const double PI = 3.14;\nclass Circle {\n    private:\n    double radius;\npublic:\n    Circle(double r) : radius(r) {}\n    double area() {\n        return PI * radius * radius;\n    }\n    double perimeter() {\n        return 2 * PI * radius;\n    }\n};\n\nclass Rectangle {\n    private:\n    double width, height;\npublic:\n    Rectangle(double w, double h) : width(w), height(h) {}\n    double area() {\n        return width * height;\n    }\n    double perimeter() {\n        return 2 * (width + height);\n    }\n};\n\nclass Triangle {\n    private:\n    double a, b, c;\npublic:\n    Triangle(double a, double b, double c) : a(a), b(b), c(c) {}\n    double area() {\n        double s = (a + b + c) / 2;\n        return sqrt(s * (s - a) * (s - b) * (s - c));\n    }\n    double perimeter() {\n        return a + b + c;\n    }\n};\n</code></pre> <p>\u7c7b\u7684\u5c0f\u77e5\u8bc6</p> public, private, protected\u6784\u9020\u51fd\u6570\u6790\u6784\u51fd\u6570 <p>\u5728\u7c7b\u4e2d,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>public</code>, <code>private</code>, <code>protected</code>\u6765\u63a7\u5236\u6210\u5458\u7684\u8bbf\u95ee\u6743\u9650\u3002</p> <ul> <li> <p><code>public</code>\u8868\u793a\u516c\u6709\u6210\u5458,\u53ef\u4ee5\u5728\u7c7b\u5916\u8bbf\u95ee\u3002</p> </li> <li> <p><code>private</code>\u8868\u793a\u79c1\u6709\u6210\u5458,\u53ea\u80fd\u5728\u7c7b\u5185\u8bbf\u95ee\u3002</p> </li> <li> <p><code>protected</code>\u8868\u793a\u4fdd\u62a4\u6210\u5458,\u53ea\u80fd\u5728\u7c7b\u5185\u548c\u5b50\u7c7b\u4e2d\u8bbf\u95ee\u3002</p> </li> </ul> \u8bbf\u95ee\u6743\u9650 public private protected \u7c7b\u5185 \u221a \u221a \u221a \u5b50\u7c7b \u221a \u00d7 \u221a \u7c7b\u5916 \u221a \u00d7 \u00d7 <p>\u4f8b\u5982\u4e0a\u9762\u7684\u4e09\u4e2a\u7c7b\u4e2d,<code>radius</code>, <code>width</code>, <code>height</code>, <code>a</code>, <code>b</code>, <code>c</code>\u90fd\u662f\u79c1\u6709\u6210\u5458,\u53ea\u80fd\u5728\u7c7b\u5185\u8bbf\u95ee\u3002</p> <p>\u6ce8\u610f,<code>private</code>\u7b49\u5173\u952e\u5b57\u7684\u4f5c\u7528\u8303\u56f4\u662f\u4ece\u58f0\u660e\u5230\u53e6\u4e00\u4e2a<code>private</code>\u7b49\u5173\u952e\u5b57\u7684\u58f0\u660e\u4e3a\u6b62\u3002</p> <p>\u4e0a\u9762\u7684\u4e09\u4e2a\u7c7b\u4e2d,\u6211\u4eec\u4f7f\u7528\u4e86\u6784\u9020\u51fd\u6570\u6765\u521d\u59cb\u5316\u6210\u5458\u53d8\u91cf\u3002</p> <p>\u6784\u9020\u51fd\u6570\u4e0e\u7c7b\u540d\u540c\u540d,\u6ca1\u6709\u8fd4\u56de\u503c.</p> <p>\u4e0a\u9762\u4f7f\u7528<code>:</code>\u7684\u65b9\u6cd5\u6765\u521d\u59cb\u5316\u6210\u5458\u53d8\u91cf,\u5b83\u7684\u57fa\u672c\u89c4\u5219\u662f</p> <pre><code>ClassName(Type1 arg1, Type2 arg2, ...) : member1(arg1), member2(arg2), ... {\n    // constructor body\n}\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528<code>=</code>\u7684\u65b9\u6cd5\u6765\u521d\u59cb\u5316\u6210\u5458\u53d8\u91cf,\u4f46\u662f\u8fd9\u79cd\u65b9\u6cd5\u53ea\u80fd\u5728\u6784\u9020\u51fd\u6570\u4f53\u5185\u4f7f\u7528\u3002</p> <pre><code>ClassName(Type1 arg1, Type2 arg2, ...) {\n    member1 = arg1;\n    member2 = arg2;\n    ...\n}\n</code></pre> <p>\u7136\u800c\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u540e\u8005\u7684\u521d\u59cb\u5316\u65b9\u6cd5\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u9ed8\u8ba4\u521d\u59cb\u5316\u51fd\u6570\u52a0\u4e0a\u8d4b\u503c\u64cd\u4f5c\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002</p> <p>\u60f3\u77e5\u9053\u533a\u522b\u7684\u8bdd\uff0c\u7c7b\u5185\u5b9a\u4e49\u4e00\u4e2a<code>const</code>\u7684\u6210\u5458\u53d8\u91cf\uff0c\u7136\u540e\u5728\u6784\u9020\u51fd\u6570\u4e2d\u4f7f\u7528<code>=</code>\u7684\u65b9\u5f0f\u6765\u521d\u59cb\u5316\u8fd9\u4e2a\u6210\u5458\u53d8\u91cf\uff0c\u7f16\u8bd1\u5668\u4f1a\u62a5\u9519\u3002\u6b64\u65f6\u53ea\u80fd\u4f7f\u7528\u5217\u8868\u7684\u65b9\u5f0f\u6765\u521d\u59cb\u5316\u3002</p> <p>\u6790\u6784\u51fd\u6570\u4e0e\u7c7b\u540d\u540c\u540d,\u524d\u9762\u52a0\u4e0a<code>~</code>,\u6ca1\u6709\u8fd4\u56de\u503c,\u4e5f\u6ca1\u6709\u53c2\u6570\u3002</p> <p>\u6790\u6784\u51fd\u6570\u5728\u5bf9\u8c61\u88ab\u9500\u6bc1\u65f6\u81ea\u52a8\u8c03\u7528,\u7528\u4e8e\u91ca\u653e\u8d44\u6e90\u3002</p> <pre><code>~ClassName() {\n    // destructor body\n}\n</code></pre> <ul> <li> <p>\u5982\u679c\u4ec0\u4e48\u90fd\u4e0d\u5199\uff0c\u9ed8\u8ba4\u53d8\u91cf\u548c\u51fd\u6570\u662f<code>public</code>\u7684\u3002</p> </li> <li> <p>\u5982\u679c\u4e0d\u5199\u6784\u9020\u51fd\u6570\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u3002</p> </li> <li> <p>\u6839\u636e\u4f20\u8fdb\u6784\u9020\u51fd\u6570\u5185\u7684\u53c2\u6570\u7684\u4e0d\u540c\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u8c03\u7528\u5bf9\u5e94\u7684\u6784\u9020\u51fd\u6570\u3002</p> </li> </ul> private\u5bf9\u8c61\u771f\u7684\u4e0d\u80fd\u5728\u7c7b\u5916\u8bbf\u95ee\u5417? <p>\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6307\u9488\u7684\u65b9\u5f0f\u6765\u8bbf\u95ee\u79c1\u6709\u6210\u5458\u53d8\u91cf\u3002</p> <pre><code>Circle c(1);\nCircle* p = &amp;c;\ncout &lt;&lt; p-&gt;area() &lt;&lt; endl; // 3.14\n</code></pre> <p>\u8fd9\u662f\u4e00\u4e2aC++\u7684\u6f0f\u6d1e\u7279\u6027\u3002</p>"},{"location":"incourse/oop/class/#\u7ee7\u627f","title":"\u7ee7\u627f","text":"<p>\u4e0a\u9762\u7684\u4e09\u4e2a\u7c7b\u4e2d,<code>area</code>\u548c<code>perimeter</code>\u65b9\u6cd5\u7684\u5b9e\u73b0\u662f\u91cd\u590d\u7684\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7ee7\u627f\u6765\u7b80\u5316\u8bbe\u8ba1</p> <pre><code>class Shape {\npublic:\n   protected:\n    const double PI = 3.14;\n    double area = 0;\n    double perimeter = 0;\n};\nclass Circle : public Shape {\nprivate:\n    double radius;\npublic:\n    Circle(double r) : radius(r) {}\n    void area() {\n        area = PI * radius * radius;\n    }\n    void perimeter() {\n        perimeter = 2 * PI * radius;\n    }\n};\nclass Rectangle : public Shape {\nprivate:\n    double width, height;\npublic:\n    Rectangle(double w, double h) : width(w), height(h) {}\n    void area() {\n        area = width * height;\n    }\n    void perimeter() {\n        perimeter = 2 * (width + height);\n    }\n};\nclass Triangle : public Shape {\nprivate:\n    double a, b, c;\npublic:\n    Triangle(double a, double b, double c) : a(a), b(b), c(c) {}\n    void area() {\n        double s = (a + b + c) / 2;\n        area = sqrt(s * (s - a) * (s - b) * (s - c));\n    }\n    void perimeter() {\n        perimeter = a + b + c;\n    }\n};\n</code></pre> <p>\u7ee7\u627f\u7684\u4e00\u822c\u5199\u6cd5</p> <p><pre><code>class Base {\npublic:\n    // base class members\n};\n\nclass Derived : public Base {\npublic:\n    // derived class members\n};\n</code></pre> \u8fd9\u91cc\u7684<code>public</code>\u8868\u793a<code>Derived</code>\u7c7b\u662f<code>Base</code>\u7c7b\u7684\u516c\u6709\u6d3e\u751f\u7c7b\u3002 \u8fd8\u6709<code>protected</code>\u548c<code>private</code>\u4e24\u79cd\u65b9\u5f0f,\u5206\u522b\u8868\u793a<code>Derived</code>\u7c7b\u662f<code>Base</code>\u7c7b\u7684\u4fdd\u62a4\u6d3e\u751f\u7c7b\u548c\u79c1\u6709\u6d3e\u751f\u7c7b\u3002</p> <p>\u8fd9\u4e09\u79cd\u65b9\u5f0f\u7684\u533a\u522b\u5728\u4e8e,\u6d3e\u751f\u7c7b\u5bf9\u57fa\u7c7b\u6210\u5458\u7684\u8bbf\u95ee\u6743\u9650\u3002</p> \u8bbf\u95ee\u6743\u9650 public protected private \u57fa\u7c7b \u221a \u221a \u221a \u6d3e\u751f\u7c7b \u221a \u221a \u00d7 \u7c7b\u5916 \u221a \u00d7 \u00d7 <p>\u4e00\u822c\u6765\u8bf4,\u6211\u4eec\u4f7f\u7528<code>public</code>\u6765\u7ee7\u627f\u57fa\u7c7b\u3002 \u5982\u679c\u4e0d\u5199\u8bbf\u95ee\u6743\u9650,\u9ed8\u8ba4\u662f<code>private</code>\u7ee7\u627f\u3002 \u4f46\u5982\u679c\u662f<code>struct</code>,\u9ed8\u8ba4\u662f<code>public</code>\u7ee7\u627f\u3002</p> <p>\u5b50\u7c7b\u5728\u521d\u59cb\u5316\u65f6\uff0c\u4e5f\u4f1a\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\u3002\u5982\u679c\u7236\u7c7b\u6784\u9020\u51fd\u6570\u4e0d\u662f\u9ed8\u8ba4\u6784\u9020\u51fd\u6570(\u4e0d\u5199\u6216\u8005\u6ca1\u6709\u53c2\u6570\u4e0e\u884c\u4e3a\u7684\u6784\u9020\u51fd\u6570)\uff0c\u90a3\u4e48\u5b50\u7c7b\u5fc5\u987b\u5728\u521d\u59cb\u5316\u5217\u8868\u4e2d\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\u3002</p> <pre><code>class Shape {\npublic:\n    Shape() {\n        cout &lt;&lt; \"Shape constructor\" &lt;&lt; endl;\n    }\n    Shape(int x) {\n        cout &lt;&lt; \"Shape constructor with x = \" &lt;&lt; x &lt;&lt; endl;\n    }\n};\nclass Circle : public Shape {\npublic:\n    Circle() : Shape() {\n        cout &lt;&lt; \"Circle constructor\" &lt;&lt; endl;\n    }\n    Circle(int x) : Shape(x) {\n        cout &lt;&lt; \"Circle constructor with x = \" &lt;&lt; x &lt;&lt; endl;\n    }\n};\n</code></pre> <p>\u56e0\u6b64\uff0c\u5728\u521d\u59cb\u5316\u65f6\uff0c\u57fa\u7c7b\u7684\u6784\u9020\u51fd\u6570\u4f1a\u5148\u88ab\u8c03\u7528\uff0c\u7136\u540e\u624d\u662f\u6d3e\u751f\u7c7b\u7684\u6784\u9020\u51fd\u6570\u3002</p> <p>\u5bf9\u4e8e\u6790\u6784\u51fd\u6570\uff0c\u5219\u987a\u5e8f\u6b63\u597d\u76f8\u53cd\uff0c\u5148\u8c03\u7528\u6d3e\u751f\u7c7b\u7684\u6790\u6784\u51fd\u6570\uff0c\u7136\u540e\u624d\u662f\u57fa\u7c7b\u7684\u6790\u6784\u51fd\u6570\u3002</p>"},{"location":"incourse/oop/class/#\u62bd\u8c61\u7c7b\u4e0e\u865a\u51fd\u6570","title":"\u62bd\u8c61\u7c7b\u4e0e\u865a\u51fd\u6570","text":"<p>\u53ef\u4ee5\u770b\u5230,\u5bf9\u4e8e\u4e0a\u9762\u4e09\u4e2a\u7c7b,\u6211\u4eec\u90fd\u9700\u8981\u8ba1\u7b97\u5468\u957f\u4e0e\u9762\u79ef,\u5b9e\u9645\u4e0a,\u8ba1\u7b97\u5468\u957f\u4e0e\u9762\u79ef\u7684\u51fd\u6570\u53ef\u4ee5\u5728\u57fa\u7c7b\u4e2d\u5b9e\u73b0,\u800c\u5728\u6d3e\u751f\u7c7b\u4e2d\u53ea\u9700\u8981\u5b9e\u73b0\u6784\u9020\u51fd\u6570\u5373\u53ef\u3002</p> <p>\u7136\u800c,\u8fd9\u4e09\u4e2a\u51e0\u4f55\u56fe\u5f62\u7684\u5468\u957f\u4e0e\u9762\u79ef\u7684\u8ba1\u7b97\u65b9\u6cd5\u662f\u4e0d\u540c\u7684,\u6240\u4ee5\u6211\u4eec\u4e0d\u80fd\u5728\u57fa\u7c7b\u4e2d\u5b9e\u73b0\u8fd9\u4e24\u4e2a\u51fd\u6570,\u53ea\u80fd\u591f\u7ed9\u51fa\u4e00\u4e2a\u63a5\u53e3,\u8ba9\u6d3e\u751f\u7c7b\u6765\u5b9e\u73b0\u3002\u8fd9\u5c31\u9700\u8981\u7528\u5230\u5173\u952e\u5b57<code>virtual</code>\u4e0e<code>override</code>\u3002</p> <pre><code>class Shape {\nprotected:\n    const double PI = 3.14;\n    double area = 0;\n    double perimeter = 0;\npublic:\n    virtual void area() = 0;\n    virtual void perimeter() = 0;\n};\nclass Circle : public Shape {\nprivate:\n    double radius;\npublic:\n    Circle(double r) : radius(r) {}\n    void area() override {\n        area = PI * radius * radius;\n    }\n    void perimeter() override {\n        perimeter = 2 * PI * radius;\n    }\n};\nclass Rectangle : public Shape {\nprivate:\n    double width, height;\npublic:\n\n    Rectangle(double w, double h) : width(w), height(h) {}\n    void area() override {\n        area = width * height;\n    }\n    void perimeter() override {\n        perimeter = 2 * (width + height);\n    }\n};\nclass Triangle : public Shape {\nprivate:\n    double a, b, c;\npublic:\n    Triangle(double a, double b, double c) : a(a), b(b), c(c) {}\n    void area() override {\n        double s = (a + b + c) / 2;\n        area = sqrt(s * (s - a) * (s - b) * (s - c));\n    }\n    void perimeter() override {\n        perimeter = a + b + c;\n    }\n};\n</code></pre> <p>\u865a\u51fd\u6570\u4e0e\u590d\u5199</p> <p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d,\u6211\u4eec\u4f7f\u7528\u4e86<code>virtual</code>\u4e0e<code>override</code>\u5173\u952e\u5b57\u3002</p> <ul> <li> <p><code>virtual</code>\u8868\u793a\u8fd9\u4e2a\u51fd\u6570\u662f\u4e00\u4e2a\u865a\u51fd\u6570,\u53ef\u4ee5\u5728\u6d3e\u751f\u7c7b\u4e2d\u590d\u5199\u3002</p> </li> <li> <p><code>override</code>\u8868\u793a\u8fd9\u4e2a\u51fd\u6570\u662f\u5bf9\u57fa\u7c7b\u4e2d\u7684\u865a\u51fd\u6570\u7684\u590d\u5199,\u5e76\u4e0d\u662f\u5fc5\u9700\u7684,\u4f46\u662f\u52a0\u4e86\u8fd9\u4e2a\u5173\u952e\u5b57,\u7f16\u8bd1\u5668\u4f1a\u68c0\u67e5\u8fd9\u4e2a\u51fd\u6570\u662f\u5426\u771f\u7684\u590d\u5199\u4e86\u57fa\u7c7b\u4e2d\u7684\u865a\u51fd\u6570\u3002\u5982\u679c\u6ca1\u6709\u590d\u5199,\u7f16\u8bd1\u5668\u4f1a\u62a5\u9519\u3002</p> </li> <li> <p><code>= 0</code>\u8868\u793a\u8fd9\u4e2a\u51fd\u6570\u662f\u4e00\u4e2a\u7eaf\u865a\u51fd\u6570,\u6ca1\u6709\u5b9e\u73b0,\u5fc5\u987b\u5728\u6d3e\u751f\u7c7b\u4e2d\u5b9e\u73b0\u3002</p> </li> <li> <p>\u5982\u679c\u4e00\u4e2a\u7c7b\u4e2d\u6709\u7eaf\u865a\u51fd\u6570,\u90a3\u4e48\u8fd9\u4e2a\u7c7b\u5c31\u662f\u4e00\u4e2a\u62bd\u8c61\u7c7b,\u4e0d\u80fd\u5b9e\u4f8b\u5316\u3002</p> </li> </ul> <ul> <li> <p>\u975e\u865a\u51fd\u6570:\u7f16\u8bd1\u5668\u5728\u7f16\u8bd1\u65f6\u5c31\u751f\u6210\u4e86\u9759\u6001\u7684\u51fd\u6570\u8c03\u7528\u8868,\u5728\u8fd0\u884c\u65f6\u76f4\u63a5\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u3002</p> </li> <li> <p>\u865a\u51fd\u6570:\u7f16\u8bd1\u5668\u5728\u7f16\u8bd1\u65f6\u751f\u6210\u4e86\u52a8\u6001\u7684\u51fd\u6570\u8c03\u7528\u8868,\u5728\u8fd0\u884c\u65f6\u6839\u636e\u5bf9\u8c61\u7684\u7c7b\u578b\u6765\u51b3\u5b9a\u8c03\u7528\u54ea\u4e2a\u51fd\u6570\u3002</p> <ul> <li> <p>\u7531\u6b64\u53ef\u4ee5\u5f15\u51fa\u9759\u6001\u7ed1\u5b9a\u4e0e\u52a8\u6001\u7ed1\u5b9a\u7684\u6982\u5ff5</p> </li> <li> <p>\u9759\u6001\u7ed1\u5b9a:\u6839\u636e\u58f0\u660e\u7684\u7c7b\u578b\u6765\u51b3\u5b9a\u8c03\u7528\u54ea\u4e2a\u51fd\u6570,\u5728\u7f16\u8bd1\u65f6\u5c31\u786e\u5b9a\u4e86\u51fd\u6570\u7684\u5730\u5740\u3002</p> </li> <li> <p>\u52a8\u6001\u7ed1\u5b9a:\u6839\u636e\u5b9e\u9645\u7684\u7c7b\u578b\u6765\u51b3\u5b9a\u8c03\u7528\u54ea\u4e2a\u51fd\u6570,\u5728\u8fd0\u884c\u65f6\u624d\u786e\u5b9a\u51fd\u6570\u7684\u5730\u5740\u3002</p> </li> </ul> </li> </ul> How virtual really works <p>\u6211\u4eec\u5148\u5199\u5982\u4e0b\u4ee3\u7801: <pre><code>#include&lt;iostream&gt;\n\nusing namespace std;\n\nclass Base{\npublic:\n    Base() : data(10) {}\n    void foo() {\n        cout &lt;&lt; \"Base::foo(): data = \" &lt;&lt; data &lt;&lt; endl;\n    }\nprivate:\n    int data;\n};\n\nint main(){\n    Base b;\n    b.foo();\n\n    cout &lt;&lt; \"Size of b is: \" &lt;&lt; sizeof(b) &lt;&lt; endl;\n    return 0;\n}\n</code></pre></p> <p>\u8fd0\u884c\u7ed3\u679c\u4e3a:  </p> <p>\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u770b\u5230,<code>sizeof(b)</code>\u7684\u503c\u662f<code>4</code>,\u4e5f\u5c31\u662f<code>int</code>\u7c7b\u578b\u7684\u5927\u5c0f,\u8fd9\u662f\u56e0\u4e3a<code>data</code>\u662f\u4e00\u4e2a<code>int</code>\u7c7b\u578b\u7684\u6210\u5458\u53d8\u91cf.</p> <p>\u73b0\u5728,\u6211\u4eec\u52a0\u4e00\u4e2a\u865a\u51fd\u6570<code>bar()</code>: <pre><code>virtual void bar() {\n    cout &lt;&lt; \"Base::bar()\" &lt;&lt; endl;\n}\n</code></pre></p> <p>\u73b0\u5728b\u7684\u5927\u5c0f\u662f\u591a\u5c11\u5462?</p> <p> </p> <p>\u53ef\u4ee5\u770b\u5230,<code>sizeof(b)</code>\u53d8\u6210\u4e8616,\u5c45\u7136\u591a\u4e8612\u4e2a\u5b57\u8282,\u8fd912\u4e2a\u5b57\u8282\u662f\u4ec0\u4e48\u5462?</p> <p>\u6211\u4eec\u5199\u4e00\u4e2a\u6307\u9488,\u6765\u8bbf\u95ee\u4e00\u4e0b\u8fd9\u5757\u5730\u65b9: <pre><code>int *p = (int*)&amp;b;\ncout &lt;&lt; *p &lt;&lt; endl;\np++;\ncout &lt;&lt; *p &lt;&lt; endl;\np++;\ncout &lt;&lt; *p &lt;&lt; endl;\n</code></pre></p> <p>\u8fd9\u91cc\u7528\u4e00\u4e2a<code>int*</code>\u6307\u9488\u662f\u56e0\u4e3a,\u6211\u4eec\u77e5\u9053<code>int</code>\u7c7b\u578b\u7684\u5927\u5c0f\u662f4,\u800c<code>void*</code>\u6307\u9488\u7684\u5927\u5c0f\u662f8,\u8fd9\u6837<code>p</code>\u6bcf\u52a01,\u5176\u8bbf\u95ee\u7684\u5730\u5740\u5c31\u4f1a\u52a0\u56db\u4e2a\u5b57\u8282</p> <p>\u7ed3\u679c\u662f:  </p> <p>\u53ef\u4ee5\u770b\u5230,\u5728<code>b</code>\u7684\u5185\u5b58\u4e2d,\u524d8\u4e2a\u5b57\u8282\u90fd\u662f\u795e\u5947\u7684\u6570\u5b57:1274168736\u4e0e32758,\u8fd9\u6570\u5b57\u53ef\u80fd\u56e0\u7535\u8111\u4e0d\u540c\u800c\u4e0d\u540c,\u4f46\u518d\u4e4b\u540e\u6211\u4eec\u53ef\u4ee5\u770b\u5230,\u51fa\u73b0\u4e86\u6211\u4eec\u7684<code>data</code>\u53d8\u91cf,\u4e5f\u5c31\u662f<code>10</code>.\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u540e\u9762\u8fd8\u6709\u56db\u4e2a\u5b57\u8282,\u5b66\u8fc7\u8ba1\u7ec4\u7684\u6216\u8bb8\u80fd\u60f3\u5230,\u5185\u5b58\u7a7a\u95f4\u662f\u6709\u5bf9\u9f50\u8981\u6c42\u7684,\u8fd9\u91cc\u53ef\u80fd\u662f\u7528\u4e86double words\u6765\u5bf9\u9f50.</p> <p>\u5b9e\u9645\u4e0a,\u524d8\u4e2a\u5b57\u8282\u5b58\u653e\u7684\u662f\u4e00\u4e2a\u51fd\u6570\u6307\u9488,\u6307\u5411<code>bar()</code>\u51fd\u6570\u7684\u5730\u5740.\u8fd9\u662f\u56e0\u4e3a<code>bar</code>\u51fd\u6570\u52a0\u4e86<code>virtual</code>\u5173\u952e\u5b57,\u7f16\u8bd1\u5668\u4f1a\u5728\u8fd9\u4e2a\u7c7b\u7684\u5bf9\u8c61\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u6307\u5411\u865a\u51fd\u6570\u8868\u7684\u6307\u9488,\u8fd9\u4e2a\u6307\u9488\u6307\u5411\u4e86<code>bar()</code>\u51fd\u6570\u7684\u5730\u5740.</p> <p>\u5b9e\u9645\u4e0a,\u4f7f\u7528<code>base</code>\u5b9e\u4f8b\u5316\u7684\u591a\u4e2a\u5bf9\u8c61,\u5b83\u4eec\u7684<code>bar()</code>\u51fd\u6570\u6307\u9488\u662f\u4e00\u6837\u7684,\u4e5f\u5c31\u662f\u5b83\u4eec\u6307\u5411\u540c\u4e00\u4e2a\u51fd\u6570. <pre><code>int main(){\n    Base b;\n    b.foo();\n\n    cout &lt;&lt; \"Size of b is: \" &lt;&lt; sizeof(b) &lt;&lt; endl;\n    int *p = (int*)&amp;b;\n    void* vptr = *(void* *)p;\n    cout &lt;&lt; \"b\u7684\u51fd\u6570\u6307\u9488\u5730\u5740: \" &lt;&lt; vptr &lt;&lt; endl; \n\n    Base b2;\n    void *vptr2 = *((void**)&amp;b2);\n    cout &lt;&lt; \"b2\u7684\u51fd\u6570\u6307\u9488\u5730\u5740: \" &lt;&lt; vptr2 &lt;&lt; endl;\n    return 0;\n}\n</code></pre></p> <p>\u8fd0\u884c\u7ed3\u679c:  </p> <p>\u6211\u4eec\u518d\u6765\u770b\u770b,\u5728\u5b50\u7c7b\u4e2d,\u865a\u51fd\u6570\u662f\u4ec0\u4e48\u6837\u7684</p> <pre><code>#include&lt;iostream&gt;\n\nusing namespace std;\n\nclass Base{\npublic:\n    Base() : data(10) {}\n    void foo() {\n        cout &lt;&lt; \"Base::foo(): data = \" &lt;&lt; data &lt;&lt; endl;\n    }\n\n    virtual void bar() {\n        cout &lt;&lt; \"Base::bar()\" &lt;&lt; endl;\n    }\nprivate:\n    int data;\n};\n\nclass Derived : public Base{\n    public:\n        void bar(){\n            cout &lt;&lt; \"Derived::bar()\" &lt;&lt; endl;\n        }\n    };\nint main(){\n    Base b;\n    b.foo();\n\n    cout &lt;&lt; \"Size of b is: \" &lt;&lt; sizeof(b) &lt;&lt; endl;\n    int *p = (int*)&amp;b;\n    void* vptr = *(void* *)p;\n    cout &lt;&lt; \"b\u7684\u51fd\u6570\u6307\u9488\u5730\u5740: \" &lt;&lt; vptr &lt;&lt; endl; \n\n    Base b2;\n    void *vptr2 = *((void**)&amp;b2);\n    cout &lt;&lt; \"b2\u7684\u51fd\u6570\u6307\u9488\u5730\u5740: \" &lt;&lt; vptr2 &lt;&lt; endl;\n\n    Derived d;\n\n    void* vptr3 = *((void**)&amp;d);\n    cout &lt;&lt; \"d\u7684\u51fd\u6570\u6307\u9488\u5730\u5740: \" &lt;&lt; vptr3 &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c:  </p> <p>\u53ef\u4ee5\u770b\u5230,\u5b83\u4eec\u4e4b\u95f4\u5dee\u4e8632\u4e2a\u5b57\u8282,32\u4e2a\u5b57\u8282\u662f\u4ec0\u4e48\u5462?\u6211\u731c\u6d4b\u662f\u4e24\u4e2a\u57fa\u7c7b\u7684\u5927\u5c0f,\u56e0\u4e3a\u4e0a\u9762\u5b9a\u4e49\u4e86\u4e24\u4e2a\u57fa\u7c7b\u5bf9\u8c61<code>b</code>\u548c<code>b2</code>,\u5b83\u4eec\u7684\u5927\u5c0f\u662f16.</p> <p>\u4f46\u5982\u679c\u6211\u628a\u7ee7\u627f\u7c7b\u4e2d\u7684<code>bar()</code>\u51fd\u6570\u53bb\u6389\u5462?</p> <p>\u7ed3\u679c\u5982\u56fe:  </p> <p>\u53ef\u4ee5\u770b\u5230,\u5730\u5740\u8fd8\u662f\u6ca1\u53d8,\u8fd9\u662f\u56e0\u4e3a\u8fd9\u4e2a\u51fd\u6570\u6307\u9488\u5b9e\u9645\u4e0a\u6307\u5411\u6bcf\u4e2a\u7c7b\u7684\u865a\u51fd\u6570\u8868,\u6240\u4ee5\u5373\u4f7f<code>Derived</code>\u7c7b\u4e2d\u6ca1\u6709<code>bar()</code>\u51fd\u6570,\u5b83\u4e5f\u4f1a\u6307\u5411<code>Derived</code>\u7c7b\u7684\u865a\u51fd\u6570\u8868\u4e2d\u7684<code>bar()</code>\u51fd\u6570.</p> <p>\u73b0\u5728,\u6211\u4eec\u53ef\u4ee5\u8bf4\u8bf4\u865a\u51fd\u6570\u5230\u5e95\u662f\u600e\u4e48\u5de5\u4f5c\u7684\u4e86:</p> <ol> <li> <p>\u5f53\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u65f6,\u7f16\u8bd1\u5668\u4f1a\u4e3a\u8fd9\u4e2a\u7c7b\u751f\u6210\u4e00\u4e2a\u865a\u51fd\u6570\u8868,\u8fd9\u4e2a\u8868\u4e2d\u5b58\u653e\u4e86\u8fd9\u4e2a\u7c7b\u7684\u6240\u6709\u865a\u51fd\u6570\u7684\u5730\u5740.</p> </li> <li> <p>\u5f53\u6211\u4eec\u7528\u8fd9\u4e2a\u7c7b\u5b9e\u4f8b\u5316\u4e00\u4e2a\u5bf9\u8c61\u65f6,\u7f16\u8bd1\u5668\u4f1a\u4e3a\u8fd9\u4e2a\u5bf9\u8c61\u6dfb\u52a0\u4e00\u4e2a\u6307\u5411\u865a\u51fd\u6570\u8868\u7684\u6307\u9488.</p> </li> <li> <p>\u5f53\u6211\u4eec\u8c03\u7528\u4e00\u4e2a\u865a\u51fd\u6570\u65f6,\u7f16\u8bd1\u5668\u4f1a\u6839\u636e\u8fd9\u4e2a\u5bf9\u8c61\u7684\u865a\u51fd\u6570\u8868\u4e2d\u7684\u6307\u9488\u6765\u627e\u5230\u8fd9\u4e2a\u865a\u51fd\u6570\u7684\u5730\u5740,\u7136\u540e\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570.</p> </li> </ol> <p>\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u6709\u591a\u79cd\u7c7b\u578b,\u5b83\u4eec\u53c8\u5168\u90e8\u88ab\u5b9a\u4e49\u4e3a\u865a\u51fd\u6570,\u90a3\u4e48\u6211\u4eec\u5728\u5b50\u51fd\u6570\u91cd\u5199\u65f6,\u5fc5\u987b\u8981\u91cd\u5199\u8fd9\u4e2a\u51fd\u6570\u6240\u6709\u7684\u7c7b\u578b,\u4e0d\u7136\u5176\u4ed6\u7c7b\u578b\u7684\u51fd\u6570\u4f1a\u88ab\u5ffd\u7565.</p> <pre><code>classBase {\n    public:\n    virtual voidfunc();\n    virtual voidfunc(int);\n};\n</code></pre> <p>Info</p> <p>\u5982\u4e0b\u64cd\u4f5c\u4e2d: <pre><code>Ellipse elly(20F, 40F);\nCircle circ(60F);\nelly = circ;\n</code></pre> \u7531\u4e8e<code>Circle</code>\u662f<code>Ellipse</code>\u7684\u5b50\u7c7b,\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u8d4b\u503c\u7ed9<code>elly</code>,\u4f46\u662f\u8fd9\u6837\u7684\u8d4b\u503c\u4f1a\u622a\u65ad<code>Circle</code>\u4e2d<code>Ellipse</code>\u4e2d\u6ca1\u6709\u7684\u6210\u5458\u53d8\u91cf,\u6240\u4ee5\u4f1a\u5bfc\u81f4\u6570\u636e\u4e22\u5931.\u9700\u8981\u6ce8\u610f\u7684\u65f6,\u8fd9\u91cc\u51fd\u6570\u6307\u9488\u6ca1\u6709\u88ab\u8d4b\u503c,<code>elly</code> \u4ecd\u7136\u4fdd\u7559 <code>Ellipse</code> \u7c7b\u7684\u865a\u51fd\u6570\u8868,\u8fd9\u6837\u662f\u5b89\u5168\u7684.</p> <p>\u4f46\u662f,\u6211\u4eec\u5982\u679c\u7528\u6307\u9488\u8d4b\u503c: <pre><code>Ellipse *elly = newEllipse(20f, 40f);\nCircle *circ = newCircle(60f);\nelly = circ;\n</code></pre></p> <p>\u8fd9\u662f,<code>elly</code>\u5c31\u53d8\u6210\u4e86\u4e00\u4e2a\u6307\u5411<code>Circle</code>\u5bf9\u8c61\u7684\u6307\u9488,\u800c\u4e0d\u662f\u4e00\u4e2a<code>Ellipse</code>\u5bf9\u8c61,\u6240\u4ee5\u4e0d\u4f1a\u4e22\u5931\u6570\u636e.</p>"},{"location":"incourse/oop/class/#\u53cb\u5143\u51fd\u6570","title":"\u53cb\u5143\u51fd\u6570","text":"<p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d,\u6211\u4eec\u4f7f\u7528\u4e86<code>protected</code>\u6765\u4fdd\u62a4\u6210\u5458\u53d8\u91cf,\u8fd9\u610f\u5473\u7740\u6d3e\u751f\u7c7b\u53ef\u4ee5\u8bbf\u95ee\u57fa\u7c7b\u7684\u6210\u5458\u53d8\u91cf,\u4f46\u662f\u7c7b\u5916\u4e0d\u80fd\u8bbf\u95ee\u3002 \u5982\u679c\u6211\u4eec\u60f3\u8981\u5728\u7c7b\u5916\u8bbf\u95ee\u57fa\u7c7b\u7684\u6210\u5458\u53d8\u91cf,\u53ef\u4ee5\u4f7f\u7528\u53cb\u5143\u51fd\u6570\u3002</p> <p><pre><code>class Shape {\nprotected:\n    const double PI = 3.14;\n    double area = 0;\n    double perimeter = 0;\npublic:\n    virtual void area() = 0;\n    virtual void perimeter() = 0;\n    friend ostream&amp; operator&lt;&lt;(ostream&amp; os, const Shape&amp; s) {\n        os &lt;&lt; \"area: \" &lt;&lt; s.area &lt;&lt; \", perimeter: \" &lt;&lt; s.perimeter;\n        return os;\n    }\n};\n</code></pre> \u5728\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b,\u6211\u4eec\u53ef\u4ee5\u5728\u7c7b\u5916\u8bbf\u95ee\u57fa\u7c7b\u7684\u6210\u5458\u53d8\u91cf\u3002</p>"},{"location":"incourse/oop/class/#upcasting\u4e0a\u8f6c\u578b","title":"Upcasting:\u4e0a\u8f6c\u578b","text":"<p>\u4e0a\u8f6c\u578b</p> <p>\u4e0a\u8f6c\u578b\u662f\u6307\u5c06\u6d3e\u751f\u7c7b\u5bf9\u8c61\u8f6c\u6362\u4e3a\u57fa\u7c7b\u5bf9\u8c61\u7684\u8fc7\u7a0b\u3002</p> <p>\u4f8b\u5982\uff1a <pre><code>Circle c(1);\nShape* s = &amp;c; // \u4e0a\u8f6c\u578b\n</code></pre></p> <p>\u8fd9\u91cc\u7684<code>Shape* s = &amp;c;</code>\u8868\u793a\u5c06<code>Circle</code>\u7c7b\u7684\u5bf9\u8c61<code>c</code>\u8f6c\u6362\u4e3a<code>Shape</code>\u7c7b\u7684\u6307\u9488<code>s</code>\u3002</p> <p>\u4e0a\u8f6c\u578b\u662f\u5b89\u5168\u7684\uff0c\u56e0\u4e3a\u6d3e\u751f\u7c7b\u5bf9\u8c61\u5305\u542b\u4e86\u57fa\u7c7b\u5bf9\u8c61\u7684\u6240\u6709\u6210\u5458\u53d8\u91cf\u548c\u6210\u5458\u51fd\u6570\u3002 \u4e0a\u8f6c\u578b\u540e,\u6211\u4eec\u53ea\u80fd\u8bbf\u95ee\u57fa\u7c7b\u7684\u6210\u5458\u53d8\u91cf\u548c\u6210\u5458\u51fd\u6570,\u4e0d\u80fd\u8bbf\u95ee\u6d3e\u751f\u7c7b\u7684\u6210\u5458\u53d8\u91cf\u548c\u6210\u5458\u51fd\u6570\u3002</p> <p>\u53e6\u5916\uff0c\u4e0a\u8f6c\u578b\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5f15\u7528\u6765\u5b9e\u73b0\u3002</p> <p><code>Shape&amp; s = c;</code>\u8868\u793a\u5c06<code>Circle</code>\u7c7b\u7684\u5bf9\u8c61<code>c</code>\u8f6c\u6362\u4e3a<code>Shape</code>\u7c7b\u7684\u5f15\u7528<code>s</code>\u3002</p>"},{"location":"incourse/oop/class/#comopile-unit","title":"Comopile Unit","text":"<p>\u5728C++\u4e2d,\u6bcf\u4e2a\u6e90\u6587\u4ef6\u90fd\u662f\u4e00\u4e2a\u7f16\u8bd1\u5355\u5143,\u7f16\u8bd1\u5668\u4f1a\u5c06\u6bcf\u4e2a\u7f16\u8bd1\u5355\u5143\u7f16\u8bd1\u6210\u4e00\u4e2a\u76ee\u6807\u6587\u4ef6,\u7136\u540e\u94fe\u63a5\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u3002</p> <p>\u7f16\u8bd1\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5:</p> <ul> <li> <p>\u9884\u5904\u7406\u9636\u6bb5:\u5c06\u6e90\u6587\u4ef6\u4e2d\u7684\u5b8f\u5b9a\u4e49,\u5934\u6587\u4ef6\u7b49\u8fdb\u884c\u5904\u7406,\u751f\u6210\u4e00\u4e2a<code>.i</code>\u6587\u4ef6\u3002</p> </li> <li> <p>\u7f16\u8bd1\u5668\u5355\u72ec\u5904\u7406\u6bcf\u4e2a <code>.cpp</code> \u6587\u4ef6\uff0c\u751f\u6210\u5bf9\u5e94\u7684\u76ee\u6807\u6587\u4ef6\uff08<code>.obj</code> \u6216 <code>.o</code>\uff09</p> </li> <li> <p>\u94fe\u63a5\u9636\u6bb5:\u5c06\u6240\u6709\u7684\u76ee\u6807\u6587\u4ef6\u94fe\u63a5\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u3002</p> </li> </ul> <p>\u5934\u6587\u4ef6(.h)</p> <p>\u6b63\u5982\u6211\u4eec\u5728C\u8bed\u8a00\u4e2d\u5b66\u8fc7\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u4e00\u4e2a\u6587\u4ef6\u4e2d\u58f0\u660e\u6240\u6709\u7684\u51fd\u6570\u548c\u7c7b\uff0c\u7136\u540e\u4f7f\u7528<code>#include</code>\u6765\u5305\u542b\u8fd9\u4e2a\u6587\u4ef6\u3002</p> <p><code>#include</code>\u7684\u5199\u6cd5\u6709\u4e24\u79cd:</p> <ol> <li> <p><code>#include &lt;filename&gt;</code>:\u8868\u793a\u5305\u542b\u7cfb\u7edf\u5934\u6587\u4ef6,\u7f16\u8bd1\u5668\u4f1a\u5728\u7cfb\u7edf\u76ee\u5f55\u4e2d\u67e5\u627e\u8fd9\u4e2a\u6587\u4ef6\u3002</p> </li> <li> <p><code>#include \"filename\"</code>:\u8868\u793a\u5305\u542b\u7528\u6237\u81ea\u5b9a\u4e49\u5934\u6587\u4ef6,\u7f16\u8bd1\u5668\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u67e5\u627e\u8fd9\u4e2a\u6587\u4ef6\u3002</p> </li> </ol> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u5934\u6587\u4ef6\u5728\u5199\u7684\u65f6\u5019\u6700\u597d\u52a0\u4e0a\u8fd9\u6837\u51e0\u53e5\u8bdd\uff1a</p> <pre><code>#ifndef FILENAME_H\n#define FILENAME_H\n// header file content\n#endif\n</code></pre> <p>\u8fd9\u51e0\u53e5\u8bdd\u7684\u610f\u601d\u662f\uff0c\u5982\u679c<code>FILENAME_H</code>\u6ca1\u6709\u5b9a\u4e49\uff0c\u5c31\u5b9a\u4e49\u5b83\uff0c\u7136\u540e\u5305\u542b\u5934\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u6700\u540e\u7ed3\u675f\u8fd9\u4e2a\u6761\u4ef6\u7f16\u8bd1\u3002</p> <p>\u5982\u679c<code>FILENAME_H</code>\u5df2\u7ecf\u5b9a\u4e49\uff0c\u5c31\u4e0d\u518d\u5305\u542b\u5934\u6587\u4ef6\u7684\u5185\u5bb9\u3002</p> <p>\u8fd9\u6837\u53ef\u4ee5\u9632\u6b62\u5934\u6587\u4ef6\u88ab\u591a\u6b21\u5305\u542b\uff0c\u9020\u6210\u91cd\u590d\u5b9a\u4e49\u7684\u9519\u8bef\u3002</p> <p>\u7ed9\u4e00\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a<code>Point</code>\u7c7b\u7684\u5934\u6587\u4ef6<code>Point.h</code>\uff1a</p> <pre><code>#ifndef POINT_H\n#define POINT_H\nclass Point {\npublic:\n    int x, y;\n    Point(int x, int y) : x(x), y(y) {}\n    void move(int x,int y);\n    void print();\n};\n#endif\n</code></pre> <p>\u7136\u540e\u5728<code>Point.cpp</code>\u4e2d\u5b9e\u73b0\u8fd9\u4e2a\u7c7b\uff1a</p> <p><pre><code>#include \"Point.h\"\n#include &lt;iostream&gt;\nusing namespace std;\nvoid Point::move(int x, int y) {\n    this-&gt;x += x;\n    this-&gt;y += y;\n}\nvoid Point::print() {\n    cout &lt;&lt; \"(\" &lt;&lt; x &lt;&lt; \", \" &lt;&lt; y &lt;&lt; \")\" &lt;&lt; endl;\n}\n</code></pre> \u5728<code>main.cpp</code>\u4e2d\u4f7f\u7528\u8fd9\u4e2a\u7c7b\uff1a</p> <pre><code>#include \"Point.h\"\nint main() {\n    Point p(1, 2);\n    p.move(3, 4);\n    p.print();\n    return 0;\n}\n</code></pre>"},{"location":"incourse/oop/class/#build-tools","title":"Build Tools","text":"<p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u7528\u4e86\u597d\u51e0\u4e2a\u7a0b\u5e8f\u6765\u5b9e\u73b0<code>Point</code>\u7c7b\u3002</p> <p>\u719f\u6089\u547d\u4ee4\u884c\u64cd\u4f5c\u7684\u90fd\u77e5\u9053\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>g++</code>\u547d\u4ee4\u6765\u7f16\u8bd1\u8fd9\u4e2a\u7a0b\u5e8f\uff1a</p> <pre><code>g++ -o main.exe Point.cpp main.cpp\n</code></pre> <p>\u8fd9\u6761\u547d\u4ee4\u4f1a\u5c06<code>Point.cpp</code>\u548c<code>main.cpp</code>\u7f16\u8bd1\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6<code>main.exe</code>\u3002</p> <p>\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u6709\u591a\u4e2a\u5934\u6587\u4ef6\uff0c\u6216\u8005\u60f3\u8981\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e0b\u7f16\u8bd1\u8fd9\u4e2a\u7a0b\u5e8f\uff0c\u5c31\u9700\u8981\u4f7f\u7528\u4e00\u4e9b\u5de5\u5177\u6765\u5e2e\u52a9\u6211\u4eec\u3002</p> <p>\u6211\u4eec\u5728\u8fd9\u91cc\u4ecb\u7ecd<code>CMake</code>.</p> <p>Tip</p> <p>\u6211\u662f\u5728WSL\u4e2d\u4f7f\u7528CMake\uff0c\u56e0\u4e3a\u5728linux\u4e2d\u4f7f\u7528CMake\u6bd4\u8f83\u65b9\u4fbf\u3002</p> <ol> <li> <p>\u9996\u5148\uff0c\u4f7f\u7528<code>sudo apt install cmake</code>\u5b89\u88c5CMake\u3002</p> </li> <li> <p>\u7136\u540e\uff0c\u5728\u9879\u76ee\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a<code>CMakeLists.txt</code>\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>cmake_minimum_required(VERSION 3.10)\n\nproject(Point)\n\nset(CMAKE_CXX_STANDARD 11)\n\ninclude_directories(include)\n\nadd_executable(main src/main.cpp src/Point.cpp)\n</code></pre> <ul> <li> <p><code>cmake_minimum_required(VERSION 3.10)</code>\u8868\u793aCMake\u7684\u6700\u4f4e\u7248\u672c\u8981\u6c42\u3002</p> </li> <li> <p><code>project(Point)</code>\u8868\u793a\u9879\u76ee\u540d\u79f0\u4e3a<code>Point</code>(\u4e0d\u9700\u8981\u548c\u6587\u4ef6\u540d\u4e00\u81f4)\u3002</p> </li> <li> <p><code>set(CMAKE_CXX_STANDARD 11)</code>\u8868\u793a\u4f7f\u7528C++11\u6807\u51c6(\u53ef\u4e0d\u5199)\u3002</p> </li> <li> <p><code>include_directories(include)</code>\u8868\u793a\u5305\u542b\u5934\u6587\u4ef6\u7684\u76ee\u5f55\u4e3a<code>include</code>\u3002</p> </li> <li> <p><code>add_executable(main src/main.cpp src/Point.cpp)</code>\u8868\u793a\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u540d\u4e3a<code>main</code>\uff0c\u6e90\u6587\u4ef6\u4e3a<code>src/main.cpp</code>\u548c<code>src/Point.cpp</code>.\u6ce8\u610f\u8fd9\u91cc\u7684\u8def\u5f84\u662f\u76f8\u5bf9\u4e8e<code>CMakeLists.txt</code>\u6587\u4ef6\u7684\u8def\u5f84\u3002</p> </li> </ul> </li> <li> <p>\u7136\u540e\uff0c\u5728\u9879\u76ee\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a<code>build</code>\u76ee\u5f55\uff0c\u8fdb\u5165\u8fd9\u4e2a\u76ee\u5f55\uff1a</p> <pre><code>mkdir build\ncd build\n</code></pre> </li> <li> <p>\u7136\u540e\uff0c\u4f7f\u7528<code>cmake ..</code>\u547d\u4ee4\u751f\u6210Makefile\u6587\u4ef6\uff1a</p> <p><pre><code>cmake ..\n</code></pre> \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5728<code>build</code>\u76ee\u5f55\u4e0b\u751f\u6210\u4e00\u4e2a<code>Makefile</code>\u6587\u4ef6\u3002</p> </li> <li> <p>\u7136\u540e\uff0c\u4f7f\u7528<code>make</code>\u547d\u4ee4\u7f16\u8bd1\u8fd9\u4e2a\u7a0b\u5e8f\uff1a</p> <pre><code>make\n</code></pre> </li> <li> <p>\u6700\u540e\uff0c\u4f7f\u7528<code>./main</code>\u547d\u4ee4\u8fd0\u884c\u8fd9\u4e2a\u7a0b\u5e8f\uff1a</p> </li> </ol>"},{"location":"incourse/oop/copy/","title":"Copy Constructor","text":"<p> \u7ea6 1026 \u4e2a\u5b57  122 \u884c\u4ee3\u7801  3 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p> <p>Copy</p> <p>Copy\u5c31\u662f\u5728\u521b\u5efa\u4e00\u4e2a\u65b0\u5bf9\u8c61\u65f6\uff0c\u5c06\u4e00\u4e2a\u5df2\u5b58\u5728\u5bf9\u8c61\u7684\u503c\u590d\u5236\u5230\u65b0\u5bf9\u8c61\u4e2d\u3002</p> <pre><code>//Currency as pass-by-value argument \nvoidfunc(Currency p){    \n    cout &lt;&lt; \"X = \" &lt;&lt; p.dollars(); \n    } ... \nCurrency bucks(100, 0); \nfunc(bucks); // bucks is copied into p\n</code></pre> <p>\u5728\u8fd9\u91cc,<code>func</code>\u51fd\u6570\u7684\u53c2\u6570<code>p</code>\u662f\u4e00\u4e2a<code>Currency</code>\u5bf9\u8c61\u7684\u526f\u672c\u3002</p> <p>\u8fd9\u610f\u5473\u7740\u5728\u51fd\u6570\u8c03\u7528\u65f6\uff0c<code>bucks</code>\u5bf9\u8c61\u7684\u503c\u88ab\u590d\u5236\u5230<code>p</code>\u4e2d\u3002</p> <p>\u4e0d\u8fc7\u5728\u5e73\u65f6\u5199\u7684\u65f6\u5019,\u66f4\u5e38\u89c1\u7684\u60c5\u51b5\u662f\u4f7f\u7528\u5f15\u7528\u4f20\u9012,\u5373<code>func(Currency &amp;p)</code>\u3002</p> <p>\u8fd8\u662f\u4ee5\u4e00\u6bb5\u7a0b\u5e8f\u5f00\u59cb:</p> <pre><code>#include&lt;iostream&gt;\n\nusing namespace std;\n\nstatic int howmany=0;\n\nvoid print(const string&amp; message){\n    cout &lt;&lt; message &lt;&lt;\",\";\n    cout &lt;&lt; \"howmany=\" &lt;&lt; howmany &lt;&lt; endl;\n}\n\nclass Howmany{\npublic:\n    Howmany(){\n        howmany++;\n        print (\"Howmany::Howmany()\");\n    }\n    ~Howmany(){\n        howmany--;\n        print(\"Howmany::~Howmany()\");\n    }\n};\n\nHowmany f(Howmany x){\n    print(\"f(Howmany x)\");\n    return x;\n}\n\nint main(){\n    Howmany h;\n    print(\"After Howmany h;\");\n    Howmany h2 = f(h); // copy constructor\n    print(\"After Howmany h2 = f(h);\");\n    return 0;\n}\n</code></pre> <p>\u8fd9\u6bb5\u7a0b\u5e8f\u7684\u8fd0\u884c\u7ed3\u679c\u662f:</p> <p>\u8fd9\u91cc\u8c03\u7528\u4e86\u4e09\u6b21\u6790\u6784\u51fd\u6570,\u4f46\u4e3a\u4ec0\u4e48\u597d\u50cf\u53ea\u8c03\u7528\u4e86\u4e00\u6b21\u6784\u9020\u51fd\u6570\u5462?</p> \u5206\u6790 <p>\u8fd9\u662f\u56e0\u4e3a\u5728\u540e\u9762\u4e24\u6b21\u6784\u9020,\u4e5f\u5c31\u662f\u5bf9<code>x</code>\u7684\u6784\u9020\u548c\u5bf9<code>h2</code>\u7684\u6784\u9020,\u90fd\u662f\u8c03\u7528\u4e86\u62f7\u8d1d\u6784\u9020\u51fd\u6570,\u800c\u4e0d\u662f\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u3002</p> <p>\u800c\u6211\u4eec\u7684\u7c7b\u91cc\u9762,\u6ca1\u6709\u62f7\u8d1d\u6784\u9020\u51fd\u6570,\u6240\u4ee5\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u62f7\u8d1d\u6784\u9020\u51fd\u6570,\u8fd9\u4e2a\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u7684\u5b9e\u73b0\u662f\u76f4\u63a5\u628a\u5bf9\u8c61\u7684\u6240\u6709\u6210\u5458\u53d8\u91cf\u9010\u4e2a\u590d\u5236\u5230\u65b0\u5bf9\u8c61\u4e2d\u3002</p> <p>\u4f46\u662f\u6ca1\u6709\u5e26\u4e0a<code>howmany++</code>\u7684\u8bed\u53e5,\u770b\u8d77\u6765\u597d\u50cf\u53ea\u8c03\u7528\u4e86\u4e00\u6b21\u6784\u9020\u51fd\u6570.</p> <p>\u5982\u679c\u6211\u4eec\u81ea\u5df1\u5199\u4e00\u4e2a\u62f7\u8d1d\u6784\u9020\u51fd\u6570:</p> <pre><code>Howmany(const Howmany&amp; x){\n    howmany++;\n    print(\"Howmany::Howmany(const Howmany&amp;)\");\n}\n</code></pre> <p> </p> <p>\u8fd9\u6837\u5c31\u6b63\u5e38\u4e86\uff0c\u4e09\u6b21\u6784\u9020\uff0c\u4e09\u6b21\u6790\u6784\u3002</p> <p>btw,\u5728\u521d\u59cb\u5316\u65f6,<code>=</code>\u548c<code>()</code>\u90fd\u4f1a\u8c03\u7528\u62f7\u8d1d\u6784\u9020\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c<code>MyClass b = a;</code>\u548c<code>MyClass b(a);</code>\u662f\u7b49\u4ef7\u7684\u3002</p>"},{"location":"incourse/oop/copy/#\u7ec6\u770b\u62f7\u8d1d\u6784\u9020\u51fd\u6570","title":"\u7ec6\u770b\u62f7\u8d1d\u6784\u9020\u51fd\u6570","text":"<p>\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u7684\u5b9a\u4e49\u662f\u8fd9\u6837\u7684:</p> <pre><code>T(const T&amp; x);\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u4e0d\u5199\u62f7\u8d1d\u6784\u9020\u51fd\u6570\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u3002</p> <p>\u8fd9\u4e2a\u81ea\u52a8\u751f\u6210\u7684\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u662f<code>Member-wise copy</code>,\u4e5f\u5c31\u662f\u8bf4\uff0c\u7f16\u8bd1\u5668\u4f1a\u628a\u5bf9\u8c61\u7684\u6bcf\u4e2a\u6210\u5458\u53d8\u91cf\u90fd\u590d\u5236\u5230\u65b0\u5bf9\u8c61\u4e2d\u3002</p> <p>\u5bf9\u4e8e\u4e00\u822c\u7684\u53d8\u91cf,\u8fd9\u5f53\u7136\u662f\u597d\u7684,\u4f46\u662f\u5bf9\u4e8e\u6307\u9488\u6765\u8bf4,\u5c31\u610f\u5473\u7740\u4f1a\u628a\u5730\u5740\u4e5f\u590d\u5236\u8fc7\u53bb.</p> <p>\u6765\u641e\u70b9\u5c0f\u82b1\u62db:</p> <pre><code>#include&lt;iostream&gt;\n#include&lt;cstring&gt;\nusing namespace std;\n\nclass Person{\npublic:\n    char* name;\n    Person(const char* n){\n        name = new char[strlen(n)+1];\n        strcpy(name,n);\n    }\n    ~Person(){\n        delete[] name;\n    }\n};\n\nint main(){\n    Person p1(\"Trump\");\n\n    Person p2 = p1;\n\n    cout&lt;&lt;(void*)p1.name&lt;&lt;endl;\n    cout&lt;&lt;(void*)p2.name&lt;&lt;endl;\n}\n</code></pre> <p>\u8fd9\u4e2a\u7a0b\u5e8f\u8dd1\u51fa\u6765,\u4e24\u4e2a\u6307\u9488\u7684\u5730\u5740\u662f\u4e00\u6837\u7684,\u8fd9\u662f\u56e0\u4e3a<code>name</code>\u662f\u4e00\u4e2a\u6307\u9488\u53d8\u91cf,\u6240\u4ee5\u7f16\u8bd1\u5668\u4f1a\u628a\u6307\u9488\u7684\u503c\u590d\u5236\u5230\u65b0\u5bf9\u8c61\u4e2d,\u800c\u4e0d\u662f\u590d\u5236\u6307\u9488\u6307\u5411\u7684\u5185\u5bb9.</p> <p>\u5f53\u7136,\u5982\u679c\u4f60\u771f\u7684\u53bb\u8dd1\u7684\u8bdd,\u8fd9\u4e2a\u7a0b\u5e8f\u5728\u6700\u540e\u80af\u5b9a\u4f1a\u51fa\u9519\u6216\u8005\u5d29\u6e83.\u539f\u56e0\u5728\u4e8e,\u5220\u9664<code>p1</code>\u7684\u65f6\u5019,<code>p2</code>\u7684\u6307\u9488\u4e5f\u88ab\u5220\u9664\u4e86,\u6240\u4ee5<code>p2</code>\u7684\u6307\u9488\u5c31\u53d8\u6210\u4e86\u60ac\u7a7a\u6307\u9488,\u5728\u8c03\u7528<code>p2</code>\u7684\u6790\u6784\u51fd\u6570\u7684\u65f6\u5019,\u6211\u4eec\u5728\u5bf9\u4e00\u5757\u5730\u5740<code>delete</code>\u4e86\u4e24\u6b21,\u6240\u4ee5\u4f1a\u51fa\u9519.</p> <p>\u6211\u4eec\u53ea\u8981\u52a0\u4e0a\u4e00\u4e2a\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u5c31\u53ef\u4ee5\u4e86:</p> <pre><code>Person(const Person&amp; other){\n        name = new char[strlen(other.name)+1];\n        strcpy(name,other.name);\n}\n</code></pre> <p>\u8fd9\u6837,\u4e24\u4e2a\u6307\u9488\u6307\u5411\u7684\u5730\u5740\u5c31\u4e0d\u4e00\u6837\u4e86,\u6240\u4ee5\u4e0d\u4f1a\u51fa\u9519.</p> <p>\u5b9e\u9645\u4e0a,\u5728C++\u4e2d,\u66f4\u63a8\u8350\u7684\u505a\u6cd5\u662f\u4f7f\u7528<code>std::string</code>\u7c7b,\u800c\u4e0d\u662f\u4f7f\u7528<code>char*</code>\u6307\u9488.\u56e0\u4e3a<code>std::string</code>\u7c7b\u672c\u8eab\u662f\u4e00\u4e2a\u7c7b,\u56e0\u6b64\u5728\u62f7\u8d1d\u6784\u9020\u65f6\u4f1a\u81ea\u52a8\u8c03\u7528<code>`std::string</code>\u7c7b\u7684\u62f7\u8d1d\u6784\u9020\u51fd\u6570,\u800c\u4e0d\u662f\u76f4\u63a5\u590d\u5236\u6307\u9488. <pre><code>#include&lt;iostream&gt;\n#include&lt;string&gt;\nusing namespace std;\n\nclass Person{\npublic:\n    string name;\n    Person(const string n):name(n){}\n};\n\nint main(){\n    Person p1(\"Trump\");\n\n    Person p2 = p1;\n\n    cout&lt;&lt;(void*)p1.name.data()&lt;&lt;endl;\n    cout&lt;&lt;(void*)p2.name.data()&lt;&lt;endl;\n}\n</code></pre></p> <p>\u8fd9\u6837,\u4e24\u4e2a\u5bf9\u8c61\u7684\u6307\u9488\u5730\u5740\u5c31\u4e0d\u4e00\u6837\u4e86,\u6240\u4ee5\u4e0d\u4f1a\u51fa\u9519.</p> <p>\u73b0\u5728,\u6211\u4eec\u53ef\u4ee5\u628a\u9ed8\u8ba4\u62f7\u8d1d\u6784\u9020\u7684<code>Member-wise copy</code>\u603b\u7ed3\u5982\u4e0b:</p> <ol> <li> <p>Calling the copy ctors for each class-typemember (and the base part), recursively</p> </li> <li> <p>Doing a plain assignment for each non-classtype member (e.g., int or pointer).</p> </li> </ol>"},{"location":"incourse/oop/copy/#copy-ctor-guidelines","title":"Copy ctor guidelines","text":"<p>Rule</p> Rule of ZeroRule of Three <p>\u5982\u679c\u6ca1\u6709\u5fc5\u8981,\u5c31\u4e0d\u8981\u5b9a\u4e49\u4e0b\u9762\u4e09\u8005:</p> <ol> <li> <p>\u62f7\u8d1d\u6784\u9020\u51fd\u6570</p> </li> <li> <p>\u6790\u6784\u51fd\u6570</p> </li> <li> <p><code>=</code>\u8fd0\u7b97\u7b26\u91cd\u8f7d</p> </li> </ol> <p>\u5982\u679c\u4f60\u5b9a\u4e49\u4e86\u4e0a\u9762\u4e09\u8005\u4e2d\u7684\u4e00\u4e2a,\u90a3\u4e48\u5c31\u5fc5\u987b\u5b9a\u4e49\u53e6\u5916\u4e24\u4e2a.</p> <p>\u4f8b\u5982</p> <pre><code>class MyClass{\npublic:\n    MyClass(const MyClass&amp; x); // copy ctor\n    MyClass&amp; operator=(const MyClass&amp; x); // assignment operator\n    ~MyClass(); // destructor\n};\n</code></pre> <p>\u4e00\u822c\u6765\u8bf4,\u91cd\u8f7d<code>=</code>\u8fd0\u7b97\u7b26\u6709\u4e00\u4e2a\u7ea6\u5b9a\u4fd7\u6210\u7684\u89c4\u5219:</p> <pre><code>MyClass&amp; MyClass::operator=(const MyClass&amp; x){\n    if(this != &amp;x){ // check for self-assignment\n        // do the assignment\n    }\n    return *this; // return the current object\n}\n</code></pre> <p>\u5148\u68c0\u67e5\u662f\u5426\u4e3a\u81ea\u8d4b\u503c\u53ef\u4ee5\u907f\u514d\u5f88\u591a\u9ebb\u70e6.</p>"},{"location":"incourse/oop/copy/#\u6742\u9879","title":"\u6742\u9879","text":""},{"location":"incourse/oop/copy/#\u7981\u7528\u62f7\u8d1d\u6784\u9020","title":"\u7981\u7528\u62f7\u8d1d\u6784\u9020","text":"<p>\u6709\u65f6\u5019,\u7531\u4e8e\u62f7\u8d1d\u6784\u9020\u7684\u4ee3\u4ef7\u592a\u5927,\u6216\u662f\u5176\u4ed6\u539f\u56e0,\u6211\u4eec\u9700\u8981\u7981\u7528\u62f7\u8d1d\u6784\u9020\u51fd\u6570.</p> <p>\u5728C++11\u4e4b\u524d,\u4e00\u822c\u662f\u628a\u62f7\u8d1d\u6784\u9020\u8bbe\u4e3aprivate,\u7136\u540e\u4e0d\u5b9e\u73b0:</p> <p>\u5728C++11\u4e4b\u540e,\u53ef\u4ee5\u4f7f\u7528<code>delete</code>\u5173\u952e\u5b57:</p> <p><pre><code>class MyClass{\npublic:\n    MyClass(const MyClass&amp;) = delete; // disable copy ctor\n    MyClass&amp; operator=(const MyClass&amp;) = delete; // disable assignment operator\n};\n</code></pre> \u8fd9\u6837,\u5982\u679c\u4f60\u5c1d\u8bd5\u4f7f\u7528\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u6216\u8d4b\u503c\u8fd0\u7b97\u7b26,\u7f16\u8bd1\u5668\u4f1a\u62a5\u9519.</p>"},{"location":"incourse/oop/copy/#emplace_back","title":"Emplace_back","text":"<p>\u5728C++11\u4e2d,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>emplace_back</code>\u6765\u907f\u514d\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u7684\u8c03\u7528.</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nint main() {\n    vector&lt;string&gt; v;\n    string s = \"Hello\";\n    v.push_back(s); // copy constructor is called\n    v.emplace_back(\"World\"); // no copy constructor is called\n    cout &lt;&lt; v[0] &lt;&lt; \" \" &lt;&lt; v[1] &lt;&lt; endl;\n    return 0;\n}\n</code></pre>"},{"location":"incourse/oop/design/","title":"C++\u8bbe\u8ba1","text":"<p> \u7ea6 1257 \u4e2a\u5b57  216 \u884c\u4ee3\u7801  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p> <p>\u6211\u4eec\u4ee5\u4e00\u4e2a\u5b9e\u9645\u95ee\u9898\u6765\u4ecb\u7ecd\u8fd9\u4e00\u7ae0\u3002</p> <p>\u5982\u4f55\u8ba1\u7b97\u4e00\u4e2a\u51fd\u6570\u7684\u96f6\u70b9?</p> <p>\u5bf9\u4e8e\u8fd9\u4e2a\u95ee\u9898\uff0c\u5982\u679c\u662fPython\u7684\u8bdd\uff0c\u6709\u5f88\u591a\u597d\u7528\u7684\u51fd\u6570\u5e93\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u6bd4\u5982<code>scipy.optimize</code>\u3002\u4f46\u662f\u5728C++\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u81ea\u5df1\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570\u6765\u8ba1\u7b97\u4e00\u4e2a\u51fd\u6570\u7684\u96f6\u70b9\u3002</p> <p>\u5728\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u725b\u987f\u8fed\u4ee3\u6cd5\u6765\u8ba1\u7b97\u4e00\u4e2a\u51fd\u6570\u7684\u96f6\u70b9\u3002</p> <p>\u725b\u987f\u8fed\u4ee3\u6cd5(Newton-Raphson Method)</p> <p>\u725b\u987f\u8fed\u4ee3\u6cd5\u662f\u6c42\u51fd\u6570\u96f6\u70b9\u7684\u4e00\u79cd\u9ad8\u6548\u6570\u503c\u65b9\u6cd5\u3002\u5b83\u7684\u57fa\u672c\u601d\u60f3\u662f\uff1a\u901a\u8fc7\u51fd\u6570\u5728\u5f53\u524d\u70b9\u7684\u5207\u7ebf\u6765\u7ebf\u6027\u8fd1\u4f3c\u51fd\u6570\uff0c\u7136\u540e\u5c06\u5207\u7ebf\u4e0ex\u8f74\u7684\u4ea4\u70b9\u4f5c\u4e3a\u4e0b\u4e00\u6b21\u8fed\u4ee3\u7684\u4f30\u8ba1\u503c\u3002</p> <ul> <li> <p>\u539f\u7406\u63a8\u5bfc     \u5047\u8bbe\u51fd\u6570\\(f(x)\\)\u5728\u70b9\\(x_n\\)\u9644\u8fd1\u53ef\u5bfc\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u6cf0\u52d2\u4e00\u9636\u5c55\u5f00\u5f0f\u8fd1\u4f3c\u8868\u793a\uff1a     $$     f(x) \\approx f(x_n) + f'(x_n)(x - x_n)     $$</p> <p>\u4e3a\u627e\u5230\\(f(x) = 0\\)\u7684\u89e3\uff0c\u6211\u4eec\u4ee4\u4e0a\u5f0f\u7b49\u4e8e0\uff1a $$ f(x_n) + f'(x_n)(x - x_n) = 0 $$</p> <p>\u89e3\u51fa\\(x\\)\u5f97\u5230\uff1a $$ x = x_n - \\frac{f(x_n)}{f'(x_n)} $$</p> <p>\u8fd9\u4e2a\\(x\\)\u503c\u5c31\u662f\u51fd\u6570\u5207\u7ebf\u4e0ex\u8f74\u7684\u4ea4\u70b9\uff0c\u6211\u4eec\u5c06\u5176\u4f5c\u4e3a\u4e0b\u4e00\u6b21\u8fed\u4ee3\u7684\u503c\\(x_{n+1}\\)\uff1a $$ x_{n+1} = x_n - \\frac{f(x_n)}{f'(x_n)} $$</p> </li> <li> <p>\u51e0\u4f55\u610f\u4e49</p> <ul> <li>\u5728\u70b9\\((x_n, f(x_n))\\)\u5904\u4f5c\u5207\u7ebf\uff0c\u5207\u7ebf\u65b9\u7a0b\u4e3a\\(y = f(x_n) + f'(x_n)(x - x_n)\\)</li> <li>\u5207\u7ebf\u4e0ex\u8f74\u4ea4\u70b9\u7684\u6a2a\u5750\u6807\u4e3a\\(x_{n+1}\\)</li> <li>\u8be5\u70b9\u901a\u5e38\u6bd4\\(x_n\\)\u66f4\u63a5\u8fd1\u5b9e\u9645\u96f6\u70b9</li> </ul> </li> <li> <p>\u8fed\u4ee3\u7ec8\u6b62\u6761\u4ef6     \u8fed\u4ee3\u53ef\u4ee5\u57fa\u4e8e\u4ee5\u4e0b\u6761\u4ef6\u4e4b\u4e00\u7ec8\u6b62\uff1a</p> <ul> <li>\u8fde\u7eed\u4e24\u6b21\u8fed\u4ee3\u7ed3\u679c\u53d8\u5316\u5f88\u5c0f\uff1a\\(|x_{n+1} - x_n| &lt; \\epsilon_1\\)</li> <li>\u51fd\u6570\u503c\u5df2\u7ecf\u8db3\u591f\u63a5\u8fd10\uff1a\\(|f(x_{n+1})| &lt; \\epsilon_2\\)</li> <li>\u8fbe\u5230\u6700\u5927\u8fed\u4ee3\u6b21\u6570\uff1a\\(n &gt; N_{max}\\)</li> </ul> </li> </ul> <p>\u5f53\u7136\uff0c\u6211\u4eec\u7684\u91cd\u70b9\u4e0d\u662f\u725b\u987f\u8fed\u4ee3\u6cd5\u7684\u539f\u7406\uff0c\u800c\u662f\u5982\u4f55\u7528C++\u5b9e\u73b0\u5b83\u3002</p>"},{"location":"incourse/oop/design/#\u5f00\u59cb","title":"\u5f00\u59cb","text":"<p>\u6211\u4eec\u5148\u5047\u8bbe\u6211\u4eec\u7684\u51fd\u6570\u662f\\(f(x) = x^2 - 2\\)\uff0c\u6211\u4eec\u8981\u8ba1\u7b97\u5b83\u7684\u96f6\u70b9\u3002 \u6211\u4eec\u53ef\u4ee5\u7528\u725b\u987f\u8fed\u4ee3\u6cd5\u6765\u8ba1\u7b97\u5b83\u7684\u96f6\u70b9\u3002</p> <pre><code>#include&lt;cmath&gt;\n\n#include&lt;iostream&gt;\n\nusing namespace std;\n\nint main(){\n    int k=0;\n    double x =3.0;\n\n    while(fabs(x*x-2)&gt;1e-12&amp;&amp;k&lt;32){\n        x = x-(x*x-2)/(2*x);\n        k++;\n        cout&lt;&lt;\"\u7b2c\"&lt;&lt;k&lt;&lt;\"\u6b21\u8fed\u4ee3\uff1ax=\"&lt;&lt;x&lt;&lt;endl;\n    }\n    return 0;\n}\n</code></pre> <p>\u7ed3\u679c\u5982\u4e0b:</p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u6536\u655b\u5f97\u975e\u5e38\u5feb(\u524d\u63d0\u662f\u521d\u59cb\u503c\u9009\u5f97\u597d)\uff0c\u903c\u8fd1\u4e86\\(\\sqrt{2}\\)\u3002</p>"},{"location":"incourse/oop/design/#\u8fdb\u4e00\u6b65","title":"\u8fdb\u4e00\u6b65","text":"<p>\u5728\u8fd9\u4e2a\u7a0b\u5e8f\u4e2d\uff0c\u6709\u4e00\u4e9b\u8d85\u53c2\u6570\u5b58\u5728\u3002\u8d85\u53c2\u6570\u6307\u7684\u662f\u90a3\u4e9b\u5728\u7a0b\u5e8f\u8fd0\u884c\u524d\u9700\u8981\u8bbe\u5b9a\u7684\u53c2\u6570\u3002\u6bd4\u5982\uff1a</p> <ul> <li> <p>\u521d\u59cb\u503c<code>x</code></p> </li> <li> <p>\u6700\u5927\u8fed\u4ee3\u6b21\u6570</p> </li> <li> <p>\u7cbe\u5ea6<code>1e-12</code></p> </li> </ul> <p>\u6211\u4eec\u628a\u4e0a\u9762\u7684\u7a0b\u5e8f\u5206\u88c5\u5230\u4e00\u4e2a\u7c7b<code>NewtonSolver</code>\u4e2d\u3002</p> <pre><code>#include&lt;cmath&gt;\n\n#include&lt;iostream&gt;\n\nusing namespace std;\n\n\nclass NewtonSolver{\n\nprivate:\n    int max_iter;\n    double tolerance;\n    double a;\n    double x;\n    int k;\n\npublic:\n    NewtonSolver(int max_iter, double tolerance, double a) : max_iter(max_iter), tolerance(tolerance), a(a),k(0) {}\n\n    void print() {\n        cout&lt;&lt;\"\u7b2c\"&lt;&lt;k&lt;&lt;\"\u6b21\u8fed\u4ee3\uff1ax=\"&lt;&lt;x&lt;&lt;endl;\n    }\n    double f(double x) {\n        return x * x - a;\n    }\n    double f_prime(double x) {\n        return 2 * x;\n    }\n    void solve(double x0) {\n        x = x0;\n        while (fabs(f(x)) &gt; tolerance &amp;&amp; k &lt; max_iter) {\n            x = x - f(x) /f_prime(x);\n            k++;\n            print();\n        }\n    }\n\n};\nint main(){\n    int max_iter = 32;\n    double tolerance = 1e-12;\n    double a = 10.0;\n    double x = 1.0;\n\n    NewtonSolver solver(max_iter, tolerance, a);\n    solver.solve(x);\n    return 0;\n}\n</code></pre> <p>\u8fd9\u6837\u5c31\u6e05\u723d\u591a\u4e86\u3002</p>"},{"location":"incourse/oop/design/#\u7136\u540e","title":"\u7136\u540e","text":"<p>\u73b0\u5728\u6211\u4eec\u601d\u8003\u4e00\u4e2a\u95ee\u9898\u3002\u5728\u8fd9\u4e2a\u7c7b\u4e2d\uff0c<code>solve</code>\u51fd\u6570\u5b9e\u9645\u4e0a\u548c\u5177\u4f53\u60c5\u51b5\u65e0\u5173,\u4e5f\u5c31\u662f\u8bf4,\u4e0d\u7ba1\u8ba1\u7b97\u4ec0\u4e48\u51fd\u6570\u7684\u96f6\u70b9.<code>solve</code>\u51fd\u6570\u90fd\u4e0d\u7528\u6539.</p> <p>\u90a3\u771f\u6b63\u9700\u8981\u7528\u6237\u8f93\u5165\u7684\u662f\u4ec0\u4e48\u5462?</p> <p>\u5176\u5b9e\u5c31\u662f\u6211\u4eec\u7684\u51fd\u6570<code>f</code>\u548c\u5b83\u7684\u5bfc\u6570<code>f_prime</code>\u3002</p> <p>\u603b\u7684\u6765\u8bf4,\u8fd9\u4e2a\u7c7b\u6709\u62bd\u8c61\u90e8\u5206\u4e0e\u5177\u4f53\u90e8\u5206\u4e24\u79cd,\u90a3\u4e48\u5728\u8bbe\u8ba1\u4e2d,\u6211\u4eec\u5e94\u8be5\u628a\u62bd\u8c61\u90e8\u5206\u548c\u5177\u4f53\u90e8\u5206\u5206\u5f00,\u8fd9\u6837\u5c31\u53ef\u4ee5\u5b9e\u73b0\u4ee3\u7801\u7684\u590d\u7528\u3002</p> <p>\u6211\u4eec\u628a<code>f</code>\u548c<code>f_prime</code>\u51fd\u6570\u505a\u6210\u7eaf\u865a\u51fd\u6570,\u7136\u540e\u8ba9\u7528\u6237\u7ee7\u627f\u8fd9\u4e2a\u7c7b,\u5b9e\u73b0\u81ea\u5df1\u7684<code>f</code>\u548c<code>f_prime</code>\u51fd\u6570\u3002 <pre><code>virtual double f(double x) =0;\nvirtual double f_prime(double x) =0;\n</code></pre> \u7136\u540e\u6211\u4eec\u5c31\u9700\u8981\u5b9e\u73b0\u8fd9\u4e24\u4e2a\u865a\u51fd\u6570,\u624d\u80fd\u6c42\u89e3.</p> <p>\u6211\u4eec\u641e\u4e00\u4e2a\u7ee7\u627f\u7c7b<code>SqrtSolver</code>,\u6765\u6c42\u89e3<code>f(x) = x^2 - a</code>\u7684\u96f6\u70b9.</p> <pre><code>#include&lt;cmath&gt;\n\n#include&lt;iostream&gt;\n\nusing namespace std;\n\n\nclass NewtonSolver{\n\nprivate:\n    int max_iter;\n    double tolerance;\n    double x;\n    int k;\n\n    virtual double f(double x) =0;\n    virtual double f_prime(double x) =0;\n\npublic:\n    NewtonSolver(int max_iter, double tolerance) : max_iter(max_iter), tolerance(tolerance),k(0) {}\n\n    void print() {\n        cout&lt;&lt;\"\u7b2c\"&lt;&lt;k&lt;&lt;\"\u6b21\u8fed\u4ee3\uff1ax=\"&lt;&lt;x&lt;&lt;\" f(x)=\"&lt;&lt;f(x)&lt;&lt;endl;\n    }\n\n    void solve(double x0) {\n        x = x0;\n        while (fabs(f(x)) &gt; tolerance &amp;&amp; k &lt; max_iter) {\n            x = x - f(x) /f_prime(x);\n            k++;\n            print();\n        }\n    }\n\n};\n\nclass SqrtSolver : public NewtonSolver {\nprivate:\n    double a;\n    double f(double x) override {\n        return x * x - a;\n    }\n\n    double f_prime(double x) override {\n        return 2 * x;\n    }\npublic:\n    SqrtSolver(int max_iter, double tolerance, double a) : NewtonSolver(max_iter, tolerance), a(a) {}\n};\nint main(){\n    int max_iter = 32;\n    double tolerance = 1e-12;\n    double a = 10.0;\n    double x = 1.0;\n\n    SqrtSolver solver(max_iter, tolerance,a);\n    solver.solve(x);\n    return 0;\n}\n</code></pre> <p>\u8fd9\u6837\u8bbe\u8ba1\u6709\u4ec0\u4e48\u610f\u4e49\u5462?</p> <ul> <li> <p>\u6240\u6709\u6c42\u89e3\u96f6\u70b9\u7684\u51fd\u6570\u90fd\u9700\u8981\u4f7f\u7528\u725b\u987f\u8fed\u4ee3\u6cd5,\u6240\u4ee5\u6211\u4eec\u628a\u8fd9\u4e2a\u51fd\u6570\u5728\u57fa\u7c7b\u91cc\u5b9e\u73b0</p> </li> <li> <p>\u4e0d\u540c\u51fd\u6570\u4e4b\u95f4\u7684\u5dee\u522b\u53ea\u6709<code>f</code>\u548c<code>f_prime</code>\u51fd\u6570,\u6240\u4ee5\u6211\u4eec\u628a\u8fd9\u4e24\u4e2a\u51fd\u6570\u505a\u6210\u865a\u51fd\u6570,\u8ba9\u7528\u6237\u5b9e\u73b0</p> </li> <li> <p>\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u5b9e\u73b0\u4ee3\u7801\u7684\u590d\u7528,\u800c\u4e0d\u9700\u8981\u91cd\u590d\u5b9e\u73b0<code>solve</code>\u51fd\u6570</p> </li> <li> <p>\u56e0\u6b64,\u5728\u8bbe\u8ba1\u8fc7\u7a0b\u4e2d,\u6211\u4eec\u9700\u8981\u601d\u8003,\u9700\u6c42\u4f1a\u53d8\u5728\u4ec0\u4e48\u5730\u65b9,\u90a3\u4e48\u6211\u4eec\u5c31\u628a\u8fd9\u90e8\u5206\u62bd\u8c61\u51fa\u6765,\u505a\u6210\u865a\u51fd\u6570,\u8ba9\u7528\u6237\u5b9e\u73b0</p> </li> </ul>"},{"location":"incourse/oop/design/#\u7ee7\u7eed","title":"\u7ee7\u7eed","text":"<p>\u6211\u4eec\u5199\u4e00\u4e2a\u7c7b,\u6765\u8ba1\u7b97\u5f62\u5982<code>f(x) = x^n - a</code>\u7684\u96f6\u70b9,\u4e5f\u5c31\u662f<code>n</code>\u6b21\u65b9\u6839.</p> <pre><code>#include&lt;cmath&gt;\n\n#include&lt;iostream&gt;\n\nusing namespace std;\n\n\nclass NewtonSolver{\n\nprivate:\n    int max_iter;\n    double tolerance;\n    double x;\n    int k;\n\n    virtual double f(double x) =0;\n    virtual double f_prime(double x) =0;\n\npublic:\n    NewtonSolver(int max_iter, double tolerance) : max_iter(max_iter), tolerance(tolerance),k(0) {}\n\n    void print() {\n        cout&lt;&lt;\"\u7b2c\"&lt;&lt;k&lt;&lt;\"\u6b21\u8fed\u4ee3\uff1ax=\"&lt;&lt;x&lt;&lt;\" f(x)=\"&lt;&lt;f(x)&lt;&lt;endl;\n    }\n\n    void solve(double x0) {\n        x = x0;\n        while (fabs(f(x)) &gt; tolerance &amp;&amp; k &lt; max_iter) {\n            x = x - f(x) /f_prime(x);\n            k++;\n            print();\n        }\n    }\n\n};\n\nclass SqrtSolver : public NewtonSolver {\nprivate:\n    double a;\n    double f(double x) override {\n        return x * x - a;\n    }\n\n    double f_prime(double x) override {\n        return 2 * x;\n    }\npublic:\n    SqrtSolver(int max_iter, double tolerance, double a) : NewtonSolver(max_iter, tolerance), a(a) {}\n};\nclass Nthsolver: public NewtonSolver{\nprivate:\n    int n;\n    double a;\n    double f(double x) override{\n        return pow(x,n)-a;\n    }\n    double f_prime(double x) override{\n        return n*pow(x,n-1);\n    }\npublic:\nNthsolver(int max_iter,double tolerance, int n,double a):n(n),a(a),NewtonSolver(max_iter,tolerance) {}\n};\nint main(){\n    int max_iter = 32;\n    double tolerance = 1e-12;\n    double a = 10.0;\n    int n=4;\n    double x = 1.0;\n\n    Nthsolver solver(max_iter, tolerance,n,a);\n    solver.solve(x);\n    return 0;\n}\n</code></pre> <p>\u7ed3\u679c\u5982\u4e0b:</p>"},{"location":"incourse/oop/design/#\u6700\u540e","title":"\u6700\u540e","text":"<p>\u5728\u8bfe\u4e0a\uff0c\u8001\u5e08\u8fd8\u8bb2\u4e86\u4e00\u79cd\u975e\u5e38\u6709\u8da3\u7684\u505a\u6cd5\uff0c\u4e0d\u9700\u8981\u7c7b\u6765\u5b9e\u73b0\uff0c\u800c\u662f\u4f7f\u7528<code>function</code>\u8fd9\u4e2a\u5e93\u6765\u5b9e\u73b0\u3002</p> <p>\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u8f93\u5165\u662fdouble\uff0c\u8f93\u51fa\u4e5f\u662fdouble\u7684\u51fd\u6570\u7c7b\u578b<code>function&lt;double(double)&gt;</code></p> <pre><code>#include&lt;function&gt;\nusing fn = function&lt;double(double)&gt;;\n</code></pre> <p>\u7136\u540e\uff0c\u6211\u4eec\u628a\u725b\u987f\u8fed\u4ee3\u6cd5\u7684\u5b9e\u73b0\u653e\u5728\u4e00\u4e2a\u51fd\u6570\u4e2d\uff0c\u4f20\u5165<code>f</code>\u548c<code>f_prime</code>\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u3002</p> <pre><code>double newton_solver(fn f, fn f_prime, double x0, int max_iter, double tolerance) {\n    int k = 0;\n    double x = x0;\n    while (fabs(f(x)) &gt; tolerance &amp;&amp; k &lt; max_iter) {\n        x = x - f(x) / f_prime(x);\n        k++;\n        cout &lt;&lt; \"\u7b2c\" &lt;&lt; k &lt;&lt; \"\u6b21\u8fed\u4ee3\uff1ax=\" &lt;&lt; x &lt;&lt; \" f(x)=\" &lt;&lt; f(x) &lt;&lt; endl;\n    }\n    return x;\n}\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u81ea\u5b9a\u4e49\u51fd\u6570\u5e76\u4f20\u7ed9<code>newton_solver</code>\u51fd\u6570\u4e86\u3002</p> <pre><code>double sqrt_solver(double x=1.0,double a) {\n    auto f = [a](double x) { return x * x - a; };\n    auto f_prime = [](double x) { return 2 * x; };\n    return newton_solver(f, f_prime, x, 32, 1e-12);\n}\n</code></pre> <p>\u8fd9\u91cc\u8981\u89e3\u91ca\u4e00\u4e0b\u5199\u6cd5</p> <p>Lambda in C++</p> <p>Python\u4e2d\u7684Lambda\u51fd\u6570\u5f88\u7b80\u5355\uff0c\u5199\u6cd5\u662f<code>lambda arguments: expression</code>\uff0c\u8868\u793a\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff0c\u5bf9\u53c2\u6570\u4f5c<code>expression</code>\u64cd\u4f5c\u3002</p> <p>C++\u4e2d\u7684Lambda\u51fd\u6570\u5199\u6cd5\u662f<code>[capture](parameters) -&gt; return_type { body }</code>\uff0c\u8868\u793a\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff0c\u5bf9\u53c2\u6570\u4f5c<code>body</code>\u64cd\u4f5c\u3002</p> <ul> <li> <p><code>capture</code>\u8868\u793a\u6355\u83b7\u5916\u90e8\u53d8\u91cf\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u662f\u503c\u6355\u83b7\u6216\u5f15\u7528\u6355\u83b7</p> </li> <li> <p><code>parameters</code>\u8868\u793a\u51fd\u6570\u53c2\u6570</p> </li> <li> <p><code>-&gt; return_type</code>\u8868\u793a\u8fd4\u56de\u503c\u7c7b\u578b\uff0c\u53ef\u4ee5\u7701\u7565\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u63a8\u5bfc    </p> </li> </ul> <p>\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u5c31\u5b9a\u4e49\u4e86\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff0c\u5b83\u7684\u53c2\u6570\u662f<code>x</code>\uff0c\u8fd4\u56de\u503c\u662f<code>x*x-a</code>\uff0c\u5e76\u628a\u5b83\u8d4b\u503c\u7ed9<code>f</code>\u3002</p> <p>\u5982\u6b64\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6c42\u89e3\u4efb\u610f\u51fd\u6570\u7684\u96f6\u70b9\u4e86\u3002</p>"},{"location":"incourse/oop/exception/","title":"\u5f02\u5e38","text":"<p> \u7ea6 944 \u4e2a\u5b57  128 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p> <p>\u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6,\u603b\u4f1a\u4ea7\u751f\u5404\u79cd\u5404\u6837\u7684\u95ee\u9898.\u8fd9\u4e9b\u95ee\u9898\u5728\u9759\u6001,\u4e5f\u5373\u7f16\u8bd1\u65f6,\u662f\u65e0\u6cd5\u53d1\u73b0\u7684.</p> <p>\u6bd4\u5982,\u9664\u6570\u4e3a0,\u6570\u7ec4\u8d8a\u754c,\u7a7a\u6307\u9488\u5f15\u7528\u7b49\u7b49.\u8fd9\u4e9b\u95ee\u9898\u5728\u8fd0\u884c\u65f6\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u5d29\u6e83,\u6216\u8005\u4ea7\u751f\u9519\u8bef\u7684\u7ed3\u679c.</p> <p>\u4e3a\u4e86\u907f\u514d\u8fd9\u4e9b\u95ee\u9898,\u6211\u4eec\u9700\u8981\u4f7f\u7528\u5f02\u5e38\u5904\u7406\u673a\u5236.</p> <p>To Read a File</p> <p>\u6b65\u9aa4\u5982\u4e0b:</p> <ol> <li> <p>open the file;  </p> </li> <li> <p>determine its size;  </p> </li> <li> <p>allocate that much memory;  </p> </li> <li> <p>read the file into memory;  </p> </li> <li> <p>close the file;</p> </li> </ol> <p>\u8fd9\u5176\u4e2d\u53ef\u80fd\u4f1a\u6709\u5404\u79cd\u5404\u6837\u7684\u95ee\u9898.\u53e4\u4eba\u4f7f\u7528<code>errorcode</code>\u6765\u5904\u7406\u8fd9\u4e9b\u95ee\u9898:</p> <pre><code>errorCodeType readFile { initialize errorCode = 0;\nopen the file;\nif ( theFilesOpen ) { determine its size;\nif ( gotTheFileLength ) { allocate that much memory;\nif ( gotEnoughMemory ) { read the file into memory;\nif ( readFailed ) { errorCode = -1;\n} } else {\nerrorCode = -2;\n} } else {\nerrorCode = -3;\n}\nclose the file;\nif ( theFILEDidntClose &amp;&amp; errorCode == 0 ) { errorCode = -4;\n} else {\nerrorCode = errorCode and -4;\n} } else {\nerrorCode = -5;\n}\nreturn errorCode;\n}\n</code></pre> <p>\u4f46\u662f\u8fd9\u79cd\u65b9\u6cd5\u6709\u51e0\u4e2a\u95ee\u9898:</p> <ol> <li> <p>\u4ee3\u7801\u53ef\u8bfb\u6027\u5dee,\u9519\u8bef\u7801\u7684\u610f\u4e49\u4e0d\u660e\u786e,\u9700\u8981\u67e5\u9605\u6587\u6863\u624d\u80fd\u7406\u89e3.</p> </li> <li> <p>\u9519\u8bef\u7801\u7684\u5904\u7406\u903b\u8f91\u590d\u6742,\u9700\u8981\u5728\u6bcf\u4e2a\u51fd\u6570\u4e2d\u90fd\u8fdb\u884c\u9519\u8bef\u7801\u7684\u5224\u65ad\u548c\u5904\u7406,\u5bfc\u81f4\u4ee3\u7801\u5197\u957f.</p> </li> <li> <p>\u9519\u8bef\u7801\u7684\u4f20\u9012\u548c\u5904\u7406\u4e0d\u591f\u7075\u6d3b,\u9700\u8981\u5728\u6bcf\u4e2a\u51fd\u6570\u4e2d\u90fd\u8fdb\u884c\u9519\u8bef\u7801\u7684\u4f20\u9012\u548c\u5904\u7406,\u5bfc\u81f4\u4ee3\u7801\u5197\u957f.</p> </li> </ol> <p>\u4e3a\u6b64,\u6211\u4eec\u4f7f\u7528<code>try-catch</code>\u8bed\u53e5\u6765\u5904\u7406\u5f02\u5e38:</p> <pre><code>try {\n    open the file;\n    determine its size;\n    allocate that much memory;\n    read the file into memory;\n    close the file; \n} \ncatch ( fileOpenFailed ) { \n    doSomething; } \ncatch ( sizeDeterminationFailed ) { \n    doSomething; } \ncatch ( memoryAllocationFailed ) { \n    doSomething; } \ncatch ( readFailed ) { \n    doSomething; } \ncatch ( fileCloseFailed ) { \n    doSomething; }\n</code></pre> <p>\u8fd9\u6837,\u6211\u4eec\u80fd\u4fdd\u6301\u4ee3\u7801\u7684\u53ef\u8bfb\u6027,\u5e76\u4e14\u80fd\u7075\u6d3b\u5730\u5904\u7406\u5f02\u5e38.</p> <ul> <li> <p>At the point where the problem occurs  </p> <ul> <li> <p>you may not know what to do, </p> </li> <li> <p>but you know  that you can\u2019t just continue on merrily  </p> </li> <li> <p>you must stop, and somebody, somewhere must figure out what to do next</p> </li> </ul> </li> </ul> <p>\u6bd4\u5982,\u6211\u4eec\u770b\u4e0b\u9762\u8fd9\u4e2a<code>Vector</code>\u7c7b\u7684\u5b9e\u73b0:</p> <pre><code>template &lt;class T&gt; class Vector { \nprivate: \n    T* m_elements; \n    int m_size; \npublic: \n    Vector (int size = 0) : \n    m_size(size) ... \n    ~Vector () { delete [] m_elements; } \n    void length(int); \n    int length() { return m_size; } \n    T&amp; operator[](int); \n};\n</code></pre> <p>\u8fd9\u91cc<code>[]</code>\u53ef\u80fd\u4f1a\u6709\u8d8a\u754c\u7684\u98ce\u9669,\u4e3a\u4e86\u5904\u7406\u8fd9\u4e2a\u95ee\u9898,\u6211\u4eec\u6709\u5982\u4e0b\u51e0\u79cd\u65b9\u5f0f:</p> <ol> <li> <p>\u4e0d\u7ba1\u4e09\u4e03\u4e8c\u5341\u4e00,\u76f4\u63a5<code>return</code></p> <pre><code>return m_elements[idx];\n</code></pre> <p>\u8fd9\u6837\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u5d29\u6e83,\u6216\u8005\u4ea7\u751f\u9519\u8bef\u7684\u7ed3\u679c.</p> </li> <li> <p>\u4f20\u4e00\u4e2a\u7279\u6b8a\u7684\u503c\u6765\u8868\u793a\u9519\u8bef</p> <pre><code>if (idx &lt; 0 || idx &gt;= m_size) {  \n    T error_marker(\"some magic value\");  r\n    return error_marker;\n}  \n\nreturn m_elements[idx];\n</code></pre> </li> <li> <p>Just die     <pre><code>if (idx &lt; 0 || idx &gt;= m_size) {  \n    cerr &lt;&lt; \"Index out of bounds\" &lt;&lt; endl;  \n    exit(1);  \n}  \n\nreturn m_elements[idx];\n</code></pre></p> <pre><code>assert(idx &gt;= 0 &amp;&amp; idx &lt; m_size);\nreturn m_elements[idx];\n</code></pre> </li> <li> <p>\u5f53\u7136,\u6700\u597d\u7684\u505a\u6cd5\u5c31\u662f     <pre><code>if (idx &lt; 0 || idx &gt;= m_size) {  \n    throw &lt;something&gt;;\n}  \n\nreturn m_elements[idx];\n</code></pre></p> <p>\u8fd9\u6837,\u6211\u4eec\u5c31\u80fd\u5728<code>catch</code>\u4e2d\u5904\u7406\u5f02\u5e38\u4e86.</p> </li> </ol> <p>\u90a3\u4e48,\u8fd9\u91cc\u7684<code>something</code>\u662f\u4ec0\u4e48\u5462?</p> <p>\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u7c7b</p> <pre><code>// What do you have? Data!  \n// Define a class to represent the error  \nclass VectorIndexError {  \n\npublic:  \n\n    VectorIndexError(int v) : m_badValue(v) { }  \n\n    ~VectorIndexError() { }  \n\n    void diagnostic() {  \n        cerr &lt;&lt; \"index \" &lt;&lt; m_badValue  &lt;&lt; \"out of range!\";  \n    }  \n\nprivate:  \n    int m_badValue;  \n};\n</code></pre> <p>\u8fd9\u6837,\u6211\u4eec\u76f4\u63a5 <pre><code>throw VectorIndexError(idx);\n</code></pre></p> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728\u9047\u5230\u8d8a\u754c\u7684\u60c5\u51b5\u4e0b\u629b\u51fa\u5f02\u5e38\u4e86.</p>"},{"location":"incourse/oop/exception/#try-catch-block","title":"try-catch Block","text":"<ul> <li> <p><code>try</code>\u540e\u9762\u63a5\u6b63\u5e38\u7684\u4ee3\u7801,\u5982\u679c\u6ca1\u6709\u5f02\u5e38,\u5c31\u6b63\u5e38\u6267\u884c,\u5982\u679c\u6709\u5f02\u5e38,\u5c31\u8df3\u5230<code>catch</code>\u4e2d\u6267\u884c.</p> </li> <li> <p>\u4e00\u4e2a<code>try</code>\u53ef\u4ee5\u6709\u591a\u4e2a<code>catch</code>,\u6bcf\u4e2a<code>catch</code>\u53ef\u4ee5\u5904\u7406\u4e0d\u540c\u7c7b\u578b\u7684\u5f02\u5e38.</p> </li> <li> <p>\u4e0d\u540c\u7684<code>catch</code>\u662f\u6309\u7167\u4ece\u4e0a\u5230\u4e0b\u7684\u987a\u5e8f\u6267\u884c\u7684,\u7b2c\u4e00\u4e2a\u5339\u914d\u7684<code>catch</code>\u4f1a\u88ab\u6267\u884c.</p> </li> <li> <p>\u56e0\u6b64,\u6211\u4eec\u5e94\u8be5\u628a\u6700\u5177\u4f53\u7684\u5f02\u5e38\u653e\u5728\u524d\u9762,\u628a\u6700\u4e00\u822c\u7684\u5f02\u5e38\u653e\u5728\u540e\u9762.</p> </li> <li> <p><code>catch(...)</code>\u53ef\u4ee5\u6355\u83b7\u6240\u6709\u7c7b\u578b\u7684\u5f02\u5e38,\u4f46\u662f\u4e0d\u63a8\u8350\u4f7f\u7528,\u56e0\u4e3a\u8fd9\u6837\u4f1a\u5bfc\u81f4\u6211\u4eec\u65e0\u6cd5\u77e5\u9053\u5f02\u5e38\u7684\u7c7b\u578b,\u4e5f\u5c31\u65e0\u6cd5\u5904\u7406\u5f02\u5e38\u4e86.</p> </li> </ul> <p>\u6807\u51c6\u5e93\u91cc\u6709\u5982\u4e0b\u51e0\u79cd\u5f02\u5e38:</p> <p>\u6211\u4eec\u6bd4\u8f83\u5e38\u7528\u7684\u6709:</p> <ul> <li> <p><code>std::out_of_range</code>: \u8d8a\u754c\u5f02\u5e38</p> </li> <li> <p><code>std::invalid_argument</code>: \u65e0\u6548\u53c2\u6570\u5f02\u5e38</p> </li> <li> <p><code>std::bad_alloc</code>: \u5185\u5b58\u5206\u914d\u5f02\u5e38</p> </li> <li> <p><code>std::bad_cast</code>: \u7c7b\u578b\u8f6c\u6362\u5f02\u5e38</p> </li> <li> <p><code>std::bad_typeid</code>: \u7c7b\u578b\u5f02\u5e38</p> </li> </ul>"},{"location":"incourse/oop/exception/#\u5f02\u5e38\u7ee7\u627f","title":"\u5f02\u5e38\u7ee7\u627f","text":"<p>\u5f02\u5e38\u662f\u4e00\u4e2a\u7c7b,\u6240\u4ee5\u5b83\u4e5f\u53ef\u4ee5\u7ee7\u627f,\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u57fa\u7c7b,\u7136\u540e\u5b9a\u4e49\u591a\u4e2a\u5b50\u7c7b\u6765\u8868\u793a\u4e0d\u540c\u7c7b\u578b\u7684\u5f02\u5e38.</p> <pre><code>class Matherr{\npublic:\n    Matherr(int v) : m_badValue(v) { }\n    ~Matherr() { }\n    void diagnostic() {\n        cerr &lt;&lt; \"Math error: \" &lt;&lt; m_badValue &lt;&lt; endl;\n    }\n\nprivate:\n    int m_badValue;\n}\n\nclass DivideByZero : public Matherr {\npublic:\n    DivideByZero(int v) : Matherr(v) { }\n    ~DivideByZero() { }\n    void diagnostic() {\n        cerr &lt;&lt; \"Divide by zero: \" &lt;&lt; m_badValue &lt;&lt; endl;\n    }\n};\n\n\nclass Overflow : public Matherr {\n\npublic:\n    Overflow(int v) : Matherr(v) { }\n    ~Overflow() { }\n    void diagnostic() {\n        cerr &lt;&lt; \"Overflow: \" &lt;&lt; m_badValue &lt;&lt; endl;\n    }\n};\n</code></pre> <p>\u5728<code>std</code>\u4e2d,\u5f02\u5e38\u7684\u57fa\u7c7b\u662f<code>std::exception</code>,\u6211\u4eec\u53ef\u4ee5\u7ee7\u627f\u8fd9\u4e2a\u7c7b\u6765\u5b9a\u4e49\u81ea\u5df1\u7684\u5f02\u5e38\u7c7b.</p> <pre><code>class MyException : public std::exception\n{\npublic:\n    MyException(const char* msg) : m_msg(msg) { }\n    ~MyException() { }\n    const char* what() const noexcept { return m_msg; }\nprivate:\n    const char* m_msg;\n};\n</code></pre> <ul> <li> <p><code>noexcept</code>\u8868\u793a\u8fd9\u4e2a\u51fd\u6570\u4e0d\u4f1a\u629b\u51fa\u5f02\u5e38,\u5982\u679c\u629b\u51fa\u5f02\u5e38,\u5c31\u4f1a\u8c03\u7528<code>std::terminate()</code>\u51fd\u6570,\u7ec8\u6b62\u7a0b\u5e8f.</p> </li> <li> <p>\u5f02\u5e38\u4f1a\u5e26\u6765\u989d\u5916\u7684\u5f00\u9500,\u56e0\u6b64,\u5982\u679c\u6211\u4eec\u80fd\u7528\u6b63\u5e38\u7684\u4ee3\u7801\u6765\u5904\u7406\u95ee\u9898,\u5c31\u4e0d\u8981\u4f7f\u7528\u5f02\u5e38.</p> </li> <li> <p>\u5f02\u5e38\u5e94\u5f53\u7528\u6765\u8868\u660e\u9519\u8bef,\u5982\u679c\u662f\u7a0b\u5e8f\u7684\u9884\u671f\u884c\u4e3a,\u90a3\u4e48\u5b8c\u5168\u6ca1\u6709\u5fc5\u8981\u7528\u5f02\u5e38,\u4f8b\u5982\u904d\u5386\u94fe\u8868\u5230\u672b\u5c3e.</p> </li> </ul> <p>Summary</p> <ul> <li> <p>Error recovery is a hard design problem  </p> </li> <li> <p>All subsystems need help from their clients to handle exceptional cases  </p> </li> <li> <p>Exceptions provide the mechanism for  </p> <ul> <li> <p>Propagating dynamically  </p> </li> <li> <p>Destroying objects on stack properly</p> </li> </ul> </li> </ul>"},{"location":"incourse/oop/exception/#failure-in-constructors","title":"Failure in constructors","text":"<p>\u6784\u9020\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c,\u56e0\u6b64\u4e0d\u80fd\u7528\u9519\u8bef\u7801\u4e4b\u7c7b\u7684\u5904\u7406,\u9700\u8981\u7528\u5f02\u5e38.</p>"},{"location":"incourse/oop/intro/","title":"\u5bfc\u8bba","text":"<p> \u7ea6 454 \u4e2a\u5b57  30 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p> <p>C\u5c41\u5c41\u662f\u4e00\u79cd\u5f88\u5f3a\u5927\u7684\u8bed\u8a00\uff0c\u8ba9\u6211\u5e26\u7740\u521d\u5b66\u8005\u7684\u8eab\u4efd\u5f00\u59cb\u8bb0\u8fd9\u95e8\u8bfe\u7684\u7b14\u8bb0\u3002</p>"},{"location":"incourse/oop/intro/#hello-world","title":"Hello World!","text":"<p>\u770b\u4e0b\u9762\u8fd9\u6bb5\u7b80\u5355\u7684C++\u4ee3\u7801\uff1a</p> Hello World!<pre><code>#include&lt;iostream&gt;\nusingnamespace std;\nint main()\n{  \n    int age;\n    cin &gt;&gt; age;\n    cout &lt;&lt; \"Hello, World! I am \" &lt;&lt; age &lt;&lt; \"Today!\" &lt;&lt; endl;  \n    return 0;\n}\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u7a0b\u5e8f\u4e2d\uff1a</p> <ul> <li> <p><code>#include&lt;iostream&gt;</code>\uff1a\u5f15\u5165\u4e86\u4e00\u4e2a\u5934\u6587\u4ef6\uff0c\u91cc\u9762\u5305\u542b\u4e86\u8f93\u5165\u8f93\u51fa\u7684\u51fd\u6570\u3002</p> </li> <li> <p><code>using namespace std;</code>\uff1a\u4f7f\u7528\u4e86\u547d\u540d\u7a7a\u95f4\uff0c\u907f\u514d\u4e86\u5728\u4f7f\u7528\u6807\u51c6\u5e93\u51fd\u6570\u65f6\u9700\u8981\u52a0\u4e0a<code>std::</code>\u524d\u7f00\u3002\u5982\u679c\u6ca1\u6709\u8fd9\u884c\u4ee3\u7801\uff0c\u6211\u4eec\u5728\u4f7f\u7528<code>cout</code>\u548c<code>cin</code>\u65f6\u9700\u8981\u52a0\u4e0a<code>std::cout</code>\u548c<code>std::cin</code>\u3002</p> </li> <li> <p><code>int main()</code>\uff1a\u4e3b\u51fd\u6570\uff0c\u7a0b\u5e8f\u7684\u5165\u53e3\u3002\u548cC\u8bed\u8a00\u4e00\u6837</p> </li> <li> <p><code>cin &gt;&gt; age;</code>\uff1a\u4ece\u6807\u51c6\u8f93\u5165\u8bfb\u53d6\u4e00\u4e2a\u6574\u6570\uff0c\u5b58\u50a8\u5728\u53d8\u91cf<code>age</code>\u4e2d\u3002<code>&gt;&gt;</code>\u8868\u793a\u5411\u8f93\u5165\u6d41\u4e2d\u5199\u5165\u6570\u636e\u3002</p> </li> <li> <p><code>cout &lt;&lt; \"Hello, World! I am \" &lt;&lt; age &lt;&lt; \"Today!\" &lt;&lt; endl;</code>\uff1a\u5411\u6807\u51c6\u8f93\u51fa\u5199\u5165\u4e00\u884c\u5b57\u7b26\u4e32\uff0c<code>&lt;&lt;</code>\u8868\u793a\u5411\u8f93\u51fa\u6d41\u4e2d\u5199\u5165\u6570\u636e\u3002<code>endl</code>\u8868\u793a\u6362\u884c\u3002</p> </li> </ul> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528C\u8bed\u8a00\u4e2d\u7684printf\u4e0escanf\u51fd\u6570\u6765\u8f93\u5165\u8f93\u51fa\uff0c\u8bed\u6cd5\u4e00\u6837\uff0c\u4f46\u662f\u9700\u8981\u5f15\u5165<code>&lt;cstdio&gt;</code>\u5934\u6587\u4ef6\u3002</p>"},{"location":"incourse/oop/intro/#string\u5e93","title":"String\u5e93","text":"<p>\u76f8\u6bd4\u4e8eC\u8bed\u8a00\u4e2d\u4f7f\u7528\u5b57\u7b26\u6570\u7ec4\u6765\u8868\u793a\u5b57\u7b26\u4e32\uff0cC++\u4e2d\u4f7f\u7528<code>string</code>\u7c7b\u6765\u8868\u793a\u5b57\u7b26\u4e32\uff0c\u9700\u8981\u5f15\u5165<code>&lt;string&gt;</code>\u5e93\u3002\u6709\u5f88\u591a\u4f18\u70b9\uff0c\u6bd4\u5982\u53ef\u4ee5\u8fdb\u884c\u5f88\u591a\u672c\u6765\u5bf9\u5b57\u7b26\u6570\u7ec4\u4e0d\u652f\u6301\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u62fc\u63a5\u5b57\u7b26\u4e32\uff0c\u6bd4\u8f83\u5b57\u7b26\u4e32\u7b49\u3002</p>"},{"location":"incourse/oop/intro/#string\u7684\u521d\u59cb\u5316","title":"String\u7684\u521d\u59cb\u5316","text":"<p>String\u6709\u5f88\u591a\u521d\u59cb\u5316\u7684\u65b9\u6cd5</p> <p>String\u7684\u521d\u59cb\u5316</p> \u4f7f\u7528<code>=</code>\u8d4b\u503c\u4f7f\u7528<code>+</code>\u62fc\u63a5\u6784\u9020\u51fd\u6570\u4f7f\u7528\u90e8\u5206\u5b57\u7b26\u4e32\u521d\u59cb\u5316\u4f7f\u7528\u91cd\u590d\u5b57\u7b26\u521d\u59cb\u5316\u62f7\u8d1d\u6784\u9020\u51fd\u6570 \u4f7f\u7528`=`\u8d4b\u503c<pre><code>string str = \"Hello, World!\";//str\u662fHello, World!\n</code></pre> \u4f7f\u7528`+`\u62fc\u63a5<pre><code>string str = \"Hello, \" + \"World!\";//str\u662fHello, World!\n</code></pre> \u6784\u9020\u51fd\u6570<pre><code>string str(\"Hello, World!\");//str\u662fHello, World!\n</code></pre> \u4f7f\u7528\u90e8\u5206\u5b57\u7b26\u4e32\u521d\u59cb\u5316<pre><code>string str(\"Hello, World!\", 1,3);//str\u662fell,\u8868\u793a\u4ece\u4e0b\u68071\u5f00\u59cb\u76843\u4e2a\u5b57\u7b26\n</code></pre> \u4f7f\u7528\u91cd\u590d\u5b57\u7b26\u521d\u59cb\u5316\uff1a<pre><code>string str8(5, 'a');  // \u521b\u5efa\u75315\u4e2a'a'\u7ec4\u6210\u7684\u5b57\u7b26\u4e32\uff0c\u7ed3\u679c\u4e3a\"aaaaa\"`\n</code></pre> \u62f7\u8d1d\u6784\u9020\u51fd\u6570<pre><code>string str1 = \"Hello, World!\";\nstring str2(str1);//str2\u662fHello, World!,\u7b49\u540c\u4e8estr2 = str1;\n</code></pre>"},{"location":"incourse/oop/intro/#string\u7684\u8fde\u63a5","title":"String\u7684\u8fde\u63a5","text":"<p>\u6b63\u5982\u521d\u59cb\u5316\u4e2d\u5199\u8fc7\u7684,\u53ef\u4ee5\u4f7f\u7528<code>+</code>\u6765\u8fde\u63a5\u5b57\u7b26\u4e32\u3002\u6b64\u5916\uff0c<code>+=</code>\u4e5f\u53ef\u4ee5\u8fde\u63a5\u5b57\u7b26\u4e32\u3002</p> String\u7684\u8fde\u63a5<pre><code>string str1 = \"Hello, \";\nstring str2 = \"World!\";\nstring str3 = str1 + str2;//str3\u662fHello, World!\nstring str4 = str1 += str2;//str4\u662fHello, World!\uff0cstr1\u4e5f\u662fHello, World!\n</code></pre>"},{"location":"incourse/oop/intro/#substr","title":"substr","text":"<p><code>substr</code>\u51fd\u6570\u53ef\u4ee5\u622a\u53d6\u5b57\u7b26\u4e32\u7684\u4e00\u90e8\u5206\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5b57\u7b26\u4e32\u3002</p> substr<pre><code>string str = \"Hello, World!\";\nstring str1 = str.substr(0, 5);//str1\u662fHello,\u8868\u793a\u4ece\u4e0b\u68070\u5f00\u59cb\u76845\u4e2a\u5b57\u7b26\nstring str2 = str.substr(7);//str2\u662fWorld!\uff0c\u8868\u793a\u4ece\u4e0b\u68077\u5f00\u59cb\u5230\u7ed3\u5c3e\u7684\u5b57\u7b26\n</code></pre>"},{"location":"incourse/oop/intro/#\u5185\u5b58\u7533\u8bf7\u4e0e\u91ca\u653e","title":"\u5185\u5b58\u7533\u8bf7\u4e0e\u91ca\u653e","text":"<p>\u5728C++\u4e2d\uff0c\u5185\u5b58\u7684\u7533\u8bf7\u548c\u91ca\u653e\u53ef\u4ee5\u4f7f\u7528<code>new</code>\u548c<code>delete</code>\u6765\u5b9e\u73b0\u3002</p> \u5185\u5b58\u7533\u8bf7\u4e0e\u91ca\u653e<pre><code>int* p = new int;//\u7533\u8bf7\u4e00\u4e2aint\u7c7b\u578b\u7684\u5185\u5b58\ndelete p;//\u91ca\u653e\u5185\u5b58\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528<code>new[]</code>\u548c<code>delete[]</code>\u6765\u7533\u8bf7\u548c\u91ca\u653e\u6570\u7ec4\u7684\u5185\u5b58\u3002</p> \u5185\u5b58\u7533\u8bf7\u4e0e\u91ca\u653e<pre><code>int* p = new int[10];//\u7533\u8bf7\u4e00\u4e2aint\u7c7b\u578b\u7684\u6570\u7ec4\n\ndelete[] p;//\u91ca\u653e\u5185\u5b58\n</code></pre> <p>\u522b\u7684\u57fa\u7840\u64cd\u4f5c\u5927\u62b5\u548cC\u8bed\u8a00\u4e00\u6837\u4e86\uff0c\u4f46\u662fC++\u8fd8\u6709\u5f88\u591a\u4e0d\u57fa\u7840\u7684\u64cd\u4f5c\uff0c\u8fd9\u4e5f\u662f\u672c\u8bfe\u7a0b\u8981\u8bb2\u7684\u3002</p>"},{"location":"incourse/oop/iterator/","title":"Iterator","text":"<p> \u7ea6 882 \u4e2a\u5b57  167 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p> <p>Why we need iterator?</p> <ul> <li> <p>STL\u7684\u8bbe\u8ba1\u7406\u5ff5\u662f\u201c\u7b97\u6cd5\u548c\u6570\u636e\u7ed3\u6784\u5206\u79bb\u201d\uff0c\u5373\u7b97\u6cd5\u4e0d\u4f9d\u8d56\u4e8e\u6570\u636e\u7ed3\u6784\u3002</p> </li> <li> <p>\u4f46\u662f\uff0c\u7b97\u6cd5\u9700\u8981\u8bbf\u95ee\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u5143\u7d20\uff0c\u6240\u4ee5\u9700\u8981\u4e00\u4e2a\u7edf\u4e00\u7684\u63a5\u53e3\u6765\u8bbf\u95ee\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u5143\u7d20\uff0c\u8fd9\u5c31\u662f\u8fed\u4ee3\u5668\u7684\u4f5c\u7528\u3002</p> </li> <li> <p>\u8fed\u4ee3\u5668\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b83\u53ef\u4ee5\u6307\u5411\u5bb9\u5668\u4e2d\u7684\u5143\u7d20\uff0c\u5e76\u63d0\u4f9b\u8bbf\u95ee\u8fd9\u4e9b\u5143\u7d20\u7684\u65b9\u6cd5\u3002</p> </li> </ul> <p>Iterator provide a way to access the elements of anaggregate object sequentially withoutexposing its underlying representation.</p> <p>\u4e5f\u5373\uff0c\u8fed\u4ee3\u5668\u8ba9\u6211\u4eec\u80fd\u591f\u5728\u4e0d\u66b4\u9732\u5bb9\u5668\u5185\u90e8\u5b9e\u73b0\u7684\u60c5\u51b5\u4e0b\uff0c\u8bbf\u95ee\u5bb9\u5668\u4e2d\u7684\u5143\u7d20\u3002</p> <p>\u4e00\u4e2a\u5f88\u5178\u578b\u7684\u4f8b\u5b50\u5c31\u662f<code>find</code>\u51fd\u6570</p> <pre><code>template &lt;class InputIterator, class T&gt;\nInputIterator find(InputIterator first, InputIterator last, const T &amp;value)\n{\nwhile (first!=last &amp;&amp; *first!=value)\n++first;\nreturn first;\n}\n</code></pre> <p>\u6ca1\u6709\u627e\u5230\u7684\u8bdd\uff0c\u5c31\u8fd4\u56de\u4e86<code>last</code>\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u8fd4\u56de\u503c\u6765\u5224\u65ad\u662f\u5426\u627e\u5230\u4e86\u5143\u7d20\u3002</p> <p>\u4f8b\u5b50:</p> <pre><code>vector&lt;int&gt; vecTemp;list&lt;double&gt; listTemp;\n\nif (find(vecTemp.begin(),vecTemp.end(),3) == vecTemp.end())\n\ncout &lt;&lt; \"3 not found in vecTemp\" &lt;&lt; endl;\n\nif (find(listTemp.begin(),listTemp.end(),4) == listTemp.end())\n\ncout &lt;&lt; \"4 not found in listTemp\" &lt;&lt; endl;\n</code></pre> <p>\u56e0\u6b64\uff0c\u8fed\u4ee3\u5668\u5de5\u4f5c\u8d77\u6765\u5c31\u50cf\u6307\u9488\uff0c\u6709<code>++</code>\u548c<code>*</code>\u64cd\u4f5c\u7b26\u3002</p> <p>\u8fed\u4ee3\u5668\u7684\u5b9e\u73b0\uff0c\u5c31\u662f\u591a\u5199\u4e00\u4e2a\u7c7b\u3002</p> List<pre><code>template&lt;class T&gt;\nclass List {\npublic:\n    void insert_front(); \n    void insert_end();\n     /* ... */\nprivate:\n    ListItem&lt;T&gt; *front; \n    ListItem&lt;T&gt; *end; \n    long _size;\n};\n</code></pre> ListItem<pre><code>template&lt;class T&gt;\nclass ListItem {\npublic:\n    T&amp; val() {\n        return _value;\n    }\n    ListItem* next() {\n        return _next;\n    }\n /* ... */\nprivate:\n    T _value;\n    ListItem *_next;\n};\n</code></pre> ListIterator<pre><code>template&lt;class T&gt;\nclass ListIter {\n    ListItem&lt;T&gt; *ptr;\npublic:\n    ListIter(ListItem&lt;T&gt; *p=0) : ptr(p) {} \n    ListIter&lt;T&gt;&amp; operator++(){ \n        ptr = ptr-&gt;next(); \n        return *this; \n        } \n\n    bool operator==(const ListIter&amp; i) const { \n        return ptr == i.ptr; \n    }\n    /* ... */\n    T&amp; operator*() { \n        return ptr-&gt;val(); \n    } \n\n    T* operator-&gt;() { \n        return &amp;(**this);\n    } \n};\n</code></pre>"},{"location":"incourse/oop/iterator/#the-associated-type","title":"The associated type","text":"<p>\u56e0\u4e3a\u6211\u4eec\u5e76\u4e0d\u77e5\u9053\u8fed\u4ee3\u5668\u6307\u5411\u7684\u6570\u636e\u7684\u7c7b\u578b\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e00\u4e2a<code>associated type</code>\u6765\u8868\u793a\u8fed\u4ee3\u5668\u6307\u5411\u7684\u6570\u636e\u7684\u7c7b\u578b\u3002</p> <pre><code>// we do NOT know the data type of iter,// so we need another variable v to infer T\ntemplate &lt;class I, class T&gt;\nvoid func_impl(I iter, T&amp; v)\n{\n    T tmp;\n    tmp = *iter;\n // processing code here\n}\n\n\n// a wrapper to extract the associated\n// data type T\ntemplate &lt;class I&gt;\nvoid func(I iter)\n{\n    func_impl(iter, *iter); // processing code here\n}\n</code></pre> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u663e\u5f0f\u5730\u5b9a\u4e49\u8fed\u4ee3\u5668\u7c7b\u578b:</p> <pre><code>template &lt;class T&gt;\nstruct myIter {\n\n    using value_type = T; // associated type\n    using pointer = T*; // associated type\n    using reference = T&amp;; // associated type\n    using difference_type = std::ptrdiff_t; // associated type\n    using iterator_category = std::forward_iterator_tag; // associated type\n    /* ... */\n    T* ptr;\n\n    myIter(T *p = 0) : ptr(p) {} \n\n    T&amp; operator*() {\n        return *ptr;\n    }\n};\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u7528<code>using</code>\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7c7b\u578b\u522b\u540d<code>value_type</code>\uff0c\u8868\u793a\u8fed\u4ee3\u5668\u6307\u5411\u7684\u6570\u636e\u7684\u7c7b\u578b,\u7136\u540e,\u76f4\u63a5\u8bbf\u95ee<code>value_type</code>\u5c31\u53ef\u4ee5\u4e86\u3002</p> <pre><code>template &lt;class T&gt;\ntypename T::value_type func(T iter)\n{\n    return *iter;\n}\n</code></pre> <p>\u73b0\u5728\u6709\u4e00\u4e2a\u65b0\u7684\u95ee\u9898,\u5982\u679c\u4f20\u8fdb\u6765\u7684\u662f\u4e00\u4e2a\u6307\u9488,\u6211\u4eec\u5982\u4f55\u627e\u5230\u5176\u5bf9\u5e94\u7684\u8fed\u4ee3\u5668\u7c7b\u578b\u5462?</p>"},{"location":"incourse/oop/iterator/#iterator-traits--template-specialization","title":"Iterator traits &amp; Template specialization","text":"<p>\u8fed\u4ee3\u5668\u7279\u6027(traits)\u662f\u4e00\u79cd\u7528\u4e8e\u83b7\u53d6\u8fed\u4ee3\u5668\u76f8\u5173\u7c7b\u578b\u4fe1\u606f\u7684\u6280\u672f\uff0c\u800c\u6a21\u677f\u7279\u5316(specialization)\u5219\u662f\u5b9e\u73b0\u8fd9\u4e00\u6280\u672f\u7684\u5173\u952e\u673a\u5236\u3002</p>"},{"location":"incourse/oop/iterator/#\u95ee\u9898\u80cc\u666f","title":"\u95ee\u9898\u80cc\u666f","text":"<p>\u5f53\u6211\u4eec\u5904\u7406\u8fed\u4ee3\u5668\u65f6\uff0c\u9762\u4e34\u4e00\u4e2a\u6838\u5fc3\u95ee\u9898\uff1a\u5982\u4f55\u7edf\u4e00\u5904\u7406\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668\u7c7b\u548c\u539f\u751f\u6307\u9488\uff1f</p> <ul> <li> <p>\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668\u7c7b\u53ef\u4ee5\u901a\u8fc7\u5185\u5d4c\u7c7b\u578b\u5b9a\u4e49\uff08\u5982<code>value_type</code>\uff09\u63d0\u4f9b\u7c7b\u578b\u4fe1\u606f</p> </li> <li> <p>\u4f46\u539f\u751f\u6307\u9488\uff08\u5982<code>int*</code>\uff09\u6ca1\u6709\u8fd9\u6837\u7684\u5185\u5d4c\u7c7b\u578b\u5b9a\u4e49</p> </li> </ul>"},{"location":"incourse/oop/iterator/#\u8fed\u4ee3\u5668\u7279\u6027iterator-traits","title":"\u8fed\u4ee3\u5668\u7279\u6027(Iterator traits)","text":"<p>Iterator traits \u662f\u4e00\u4e2a\u4e2d\u95f4\u5c42\uff0c\u7528\u4e8e\u63d0\u53d6\u8fed\u4ee3\u5668\u7684\u76f8\u5173\u7c7b\u578b\u4fe1\u606f\uff1a</p> <p><pre><code>template &lt;class Iterator&gt;\nstruct iterator_traits {\n    using value_type = typename Iterator::value_type;\n    using difference_type = typename Iterator::difference_type;\n    using pointer = typename Iterator::pointer;\n    using reference = typename Iterator::reference;\n    using iterator_category = typename Iterator::iterator_category;\n};\n</code></pre> \u8fd9\u4e2a\u4e3b\u6a21\u677f\u9002\u7528\u4e8e\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668\u7c7b\uff0c\u76f4\u63a5\u4ece\u8fed\u4ee3\u5668\u7c7b\u4e2d\u83b7\u53d6\u7c7b\u578b\u4fe1\u606f\u3002</p> <p>\u4e3a\u4e86\u5904\u7406\u539f\u751f\u6307\u9488\uff0c\u9700\u8981\u5bf9<code>iterator_traits</code>\u8fdb\u884c\u7279\u5316\uff1a</p> <pre><code>// \u9488\u5bf9T*\u7684\u7279\u5316\ntemplate &lt;class T&gt;\nstruct iterator_traits&lt;T*&gt; {\n    using value_type = T;\n    using difference_type = ptrdiff_t;\n    using pointer = T*;\n    using reference = T&amp;;\n    using iterator_category = random_access_iterator_tag;\n};\n\n// \u9488\u5bf9const T*\u7684\u7279\u5316\ntemplate &lt;class T&gt;\nstruct iterator_traits&lt;const T*&gt; {\n    using value_type = T;  // \u6ce8\u610f\uff1a\u5373\u4f7f\u662fconst\u6307\u9488\uff0cvalue_type\u4e5f\u662f\u975econst\u7684\n    using difference_type = ptrdiff_t;\n    using pointer = const T*;\n    using reference = const T&amp;;\n    using iterator_category = random_access_iterator_tag;\n};\n</code></pre> <p>\u8fd9\u6837,\u6839\u636e\u4f20\u5165\u7684\u8fed\u4ee3\u5668\u7c7b\u578b\uff0c<code>iterator_traits</code>\u4f1a\u81ea\u52a8\u9009\u62e9\u5408\u9002\u7684\u7279\u5316\u7248\u672c\uff0c\u4ece\u800c\u63d0\u53d6\u51fa\u6b63\u786e\u7684\u7c7b\u578b\u4fe1\u606f\u3002</p> iterator_traits\u628a\u4e0d\u540c\u7684\u8fed\u4ee3\u5668\u63d0\u53d6\u51fa\u5982\u4e0b\u4fe1\u606f <p>\u8fed\u4ee3\u5668\u6709\u4e94\u79cd\u7c7b\u578b:</p> <ul> <li> <p><code>input_iterator_tag</code>\uff1a\u8f93\u5165\u8fed\u4ee3\u5668\uff0c\u652f\u6301\u5355\u5411\u904d\u5386\uff0c\u53ea\u80fd\u8bfb\u53d6\u5143\u7d20\u3002</p> </li> <li> <p><code>output_iterator_tag</code>\uff1a\u8f93\u51fa\u8fed\u4ee3\u5668\uff0c\u652f\u6301\u5355\u5411\u904d\u5386\uff0c\u53ea\u80fd\u5199\u5165\u5143\u7d20\u3002</p> </li> <li> <p><code>forward_iterator_tag</code>\uff1a\u524d\u5411\u8fed\u4ee3\u5668\uff0c\u652f\u6301\u5355\u5411\u904d\u5386\uff0c\u53ef\u4ee5\u8bfb\u53d6\u548c\u5199\u5165\u5143\u7d20\u3002</p> </li> <li> <p><code>bidirectional_iterator_tag</code>\uff1a\u53cc\u5411\u8fed\u4ee3\u5668\uff0c\u652f\u6301\u53cc\u5411\u904d\u5386\uff0c\u53ef\u4ee5\u8bfb\u53d6\u548c\u5199\u5165\u5143\u7d20\u3002</p> </li> <li> <p><code>random_access_iterator_tag</code>\uff1a\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\uff0c\u652f\u6301\u968f\u673a\u8bbf\u95ee\uff0c\u53ef\u4ee5\u8bfb\u53d6\u548c\u5199\u5165\u5143\u7d20\u3002</p> </li> </ul> <p>\u6839\u636e\u8fed\u4ee3\u5668\u7c7b\u578b\u4e0d\u540c,\u4e00\u79cd\u51fd\u6570\u53ef\u4ee5\u6709\u591a\u79cd\u5199\u6cd5,\u6bd4\u5982<code>advance</code>\u51fd\u6570,\u5176\u4f5c\u7528\u662f\u8ba9\u8fed\u4ee3\u5668\u524d\u8fdbn\u6b65,\u53ef\u4ee5\u6709\u5982\u4e0b\u51e0\u79cd\u5199\u6cd5:</p> <pre><code>template&lt;class InputIterator, class Distance&gt;void advance_II(InputIterator &amp;i, Distance n)\n{\n while (n--) ++i;\n}\n\ntemplate&lt;class BidirectionalIterator, class Distance&gt;void advance_BI(BidirectionalIterator &amp;i, Distance n)\n{\n if (n &gt; 0) while (n--) ++i;\n else while (n++) --i;\n}\n\ntemplate&lt;class RandomAccessIterator, class Distance&gt;void advance_RAI(RandomAccessIterator &amp;i, Distance n)\n{\n i += n;\n}\n</code></pre> <p>\u4f46\u662f,\u6211\u4eec\u5982\u4f55\u6839\u636e\u8fed\u4ee3\u5668\u7c7b\u578b\u6765\u9009\u62e9\u5408\u9002\u7684\u51fd\u6570\u5462? \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4f7f\u7528\u51fd\u6570\u7684\u591a\u6001\u6027\u6765\u5b9e\u73b0:</p> <pre><code>template&lt;class InputIterator, class Distance&gt;void advance(InputIterator &amp;i, Distance n, input_iterator_tag)\n{\n while (n--) ++i;\n}\n\ntemplate&lt;class BidirectionalIterator, class Distance&gt;void advance(BidirectionalIterator &amp;i, Distance n, bidirectional_iterator_tag)\n{\n if (n &gt; 0) while (n--) ++i;\n else while (n++) --i;\n}\n\ntemplate&lt;class RandomAccessIterator, class Distance&gt;void advance(RandomAccessIterator &amp;i, Distance n, random_access_iterator_tag)\n{\n i += n;\n}\n</code></pre> <p>\u7136\u540e,\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>iterator_traits</code>\u6765\u9009\u62e9\u5408\u9002\u7684\u51fd\u6570:</p> <pre><code>template&lt;class Iterator, class Distance&gt;void advance(Iterator &amp;i, Distance n)\n{\n    using category = typename iterator_traits&lt;Iterator&gt;::iterator_category;\n    advance(i, n, category());\n}\n</code></pre> <p>\u5982\u679c\u8fed\u4ee3\u5668\u662f\u539f\u751f\u6307\u9488,\u76f4\u63a5\u5f53\u4f5c<code>random_access_iterator_tag</code>\u6765\u5904\u7406\u5c31\u53ef\u4ee5\u4e86</p>"},{"location":"incourse/oop/memory/","title":"C++\u4e2d\u7684\u5185\u5b58","text":"<p> \u7ea6 1987 \u4e2a\u5b57  77 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p> <p>\u5f15\u5165 from PPT</p> <pre><code>int i; // global vars.\nstatic int j; // static global vars.\nvoid f()\n{\nint k; // local vars. \nstatic int l; // static local vars.\nint *p = malloc(sizeof(int)); // allocated vars.\n}\n</code></pre> <p>\u4e0a\u9762\u5c55\u793a\u4e86C++\u4e2d\u7684\u4e0d\u540c\u53d8\u91cf\u7c7b\u578b\u3002\u5b83\u4eec\u7684\u5185\u5b58\u5206\u914d\u548c\u751f\u547d\u5468\u671f\u5404\u4e0d\u76f8\u540c\u3002</p>"},{"location":"incourse/oop/memory/#memory-overview","title":"Memory Overview","text":"<p>\u6211\u4eec\u91cd\u70b9\u5173\u6ce8\u4e0b\u9762\u8fd9\u4e09\u4e2a\u90e8\u5206:</p> <ul> <li> <p>Stack:\u5b58\u653e\u5c40\u90e8\u53d8\u91cf(Local Variables)\u548c\u51fd\u6570\u8c03\u7528\u4fe1\u606f(Function Call Information)\u3002</p> </li> <li> <p>Heap:\u5b58\u653e\u52a8\u6001\u5206\u914d\u7684\u5185\u5b58(Dynamically Allocated Memory)\u3002</p> </li> <li> <p>Code/Data:\u5b58\u653e\u5168\u5c40\u53d8\u91cf(Global Variables)\u548c\u9759\u6001\u53d8\u91cf(Static Variables)\u3002</p> </li> </ul>"},{"location":"incourse/oop/memory/#global-variables","title":"Global Variables","text":"<p>\u5168\u5c40\u53d8\u91cf\u6307\u7684\u662f\u5728\u51fd\u6570\u5916\u90e8\u5b9a\u4e49\u7684\u53d8\u91cf\u3002\u5b83\u4eec\u5728\u6574\u4e2a\u7a0b\u5e8f\u4e2d\u90fd\u662f\u53ef\u89c1\u7684\uff0c\u5e76\u4e14\u5728\u7a0b\u5e8f\u8fd0\u884c\u671f\u95f4\u4e00\u76f4\u5b58\u5728\u3002\u5168\u5c40\u53d8\u91cf\u7684\u751f\u547d\u5468\u671f\u4ece\u7a0b\u5e8f\u5f00\u59cb\u5230\u7ed3\u675f\u3002</p>"},{"location":"incourse/oop/memory/#extern","title":"extern","text":"<p><code>extern</code>\u5173\u952e\u5b57\u7528\u4e8e\u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u6216\u51fd\u6570\u5728\u5176\u4ed6\u6587\u4ef6\u4e2d\u5b9a\u4e49\u3002\u5b83\u544a\u8bc9\u7f16\u8bd1\u5668\u8be5\u53d8\u91cf\u6216\u51fd\u6570\u5728\u5176\u4ed6\u5730\u65b9\u5b9a\u4e49\uff0c\u800c\u4e0d\u662f\u5728\u5f53\u524d\u6587\u4ef6\u4e2d\u3002</p> <p>\u5bf9\u4e8e\u4e0b\u9762\u7684\u4ee3\u7801:</p> File1.cpp<pre><code>#include&lt;cstdlib&gt;\n#include&lt;iostream&gt;\nusing namespace std;\n\nextern int globalx = 10;\ndouble pi();\n\nint main(){\n    cout &lt;&lt; \"globalx = \" &lt;&lt; globalx &lt;&lt; endl;\n    cout &lt;&lt; \"pi = \" &lt;&lt; pi() &lt;&lt; endl;\n    return 0;\n}\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u76f4\u63a5\u7f16\u8bd1\u4e0a\u8ff0\u6587\u4ef6,\u4f1a\u51fa\u73b0\u5982\u4e0b\u62a5\u9519:</p> <pre><code>File1.cpp:5:6: error: 'globalx' initialized and declared 'extern'\n    5 | extern int globalx = 10;\n      |            ^~~~~~~\n</code></pre> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u9519\u8bef,\u6211\u4eec\u9700\u8981\u518d\u7f16\u5199\u4e00\u4e2a\u6587\u4ef6,\u6bd4\u5982<code>File2.cpp</code>,\u5e76\u5728\u5176\u4e2d\u5b9a\u4e49<code>globalx</code>:</p> <p>File2.cpp<pre><code>int globalx = 10;\n\ndouble pi(){\n    return 3.14;\n}\n</code></pre> \u7136\u540e\u6211\u4eec\u53ef\u4ee5\u7f16\u8bd1\u8fd9\u4e24\u4e2a\u6587\u4ef6:</p> <pre><code>g++ File1.cpp File2.cpp -o main\n</code></pre> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5\u6210\u529f\u7f16\u8bd1\u5e76\u8fd0\u884c\u4e86.</p> <p>\u603b\u7ed3</p> <p>\u5728C++\u4e2d,\u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u5728\u4e00\u4e2a\u6587\u4ef6\u4e2d\u88ab\u58f0\u660e\u4e3a<code>extern</code>\uff0c\u90a3\u4e48\u5b83\u5fc5\u987b\u5728\u53e6\u4e00\u4e2a\u6587\u4ef6\u4e2d\u88ab\u5b9a\u4e49\u3002\u5426\u5219\u7f16\u8bd1\u5668\u4f1a\u62a5\u9519\u3002</p> <p>\u53e6\u5916,C++\u4e2d\u7684\u51fd\u6570\u662f\u9ed8\u8ba4<code>extern</code>\u7684,\u6240\u4ee5\u6211\u4eec\u4e0d\u9700\u8981\u5728\u51fd\u6570\u524d\u9762\u52a0\u4e0a<code>extern</code>\u5173\u952e\u5b57\u3002</p>"},{"location":"incourse/oop/memory/#static-variables","title":"Static Variables","text":"<p>\u9759\u6001\u53d8\u91cf\u4f7f\u7528<code>static</code>\u5173\u952e\u5b57\u58f0\u660e\u3002\u5b83\u4eec\u7684\u751f\u547d\u5468\u671f\u4ece\u7a0b\u5e8f\u5f00\u59cb\u5230\u7ed3\u675f\uff0c\u4f46\u5b83\u4eec\u7684\u4f5c\u7528\u57df\u4ec5\u9650\u4e8e\u58f0\u660e\u5b83\u4eec\u7684\u51fd\u6570\u6216\u6587\u4ef6\u3002\u9759\u6001\u53d8\u91cf\u5728\u5185\u5b58\u4e2d\u53ea\u5206\u914d\u4e00\u6b21\uff0c\u5e76\u4e14\u5728\u51fd\u6570\u8c03\u7528\u4e4b\u95f4\u4fdd\u6301\u5176\u503c\u3002</p> <p>\u9759\u6001\u53d8\u91cf\u53ef\u4ee5\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b:</p> <ul> <li> <p>Static Local Variables:\u5728\u51fd\u6570\u5185\u90e8\u58f0\u660e\u7684\u9759\u6001\u53d8\u91cf\u3002\u5b83\u4eec\u7684\u4f5c\u7528\u57df\u4ec5\u9650\u4e8e\u51fd\u6570\u5185\u90e8\uff0c\u4f46\u5b83\u4eec\u7684\u751f\u547d\u5468\u671f\u4ece\u7a0b\u5e8f\u5f00\u59cb\u5230\u7ed3\u675f\u3002</p> </li> <li> <p>Static Global Variables:\u5728\u6587\u4ef6\u5185\u90e8\u58f0\u660e\u7684\u9759\u6001\u53d8\u91cf\u3002\u5b83\u4eec\u7684\u4f5c\u7528\u57df\u4ec5\u9650\u4e8e\u6587\u4ef6\u5185\u90e8\uff0c\u4f46\u5b83\u4eec\u7684\u751f\u547d\u5468\u671f\u4ece\u7a0b\u5e8f\u5f00\u59cb\u5230\u7ed3\u675f\u3002</p> </li> </ul> <p>\u5176\u4ed6\u5927\u6982\u548c\u7a0b\u7b97\u4e2d\u5b66\u7684\u5dee\u4e0d\u591a,\u53ea\u4f1a\u521d\u59cb\u5316\u4e00\u6b21\u7684\u7279\u70b9\u4e5f\u5f88\u597d\u7528.</p>"},{"location":"incourse/oop/memory/#pointers-to-objects","title":"Pointers to objects","text":"<p>\u6307\u9488\u53c8\u6765\u4e86</p> <p>\u7a0b\u7b97\u4e2d\u5df2\u7ecf\u5b66\u8fc7\u4e86,\u57fa\u7840\u7684\u5c31\u4e0d\u8bb2\u4e86.</p>"},{"location":"incourse/oop/memory/#reference-and-pointer","title":"Reference and Pointer","text":"<p>\u5f15\u7528(Reference)\u662fC++\u4e2d\u7684\u65b0\u7279\u6027</p> <pre><code>char c; // a character\nchar* p = &amp;c; // a pointer to a character\nchar&amp; r = c; // a reference to a character\n</code></pre> <p>\u5bf9\u4e8e\u8bed\u53e5<code>type&amp; y=x;</code>,\u8fd9\u91cc\u7684y\u76f8\u5f53\u4e8e\u662fx\u7684\u4e00\u4e2a\u522b\u540d\u800c\u975e\u5b9e\u9645\u53d8\u91cf,\u4efb\u4f55\u5bf9\u4e8ey\u7684\u4fee\u6539\u90fd\u4f1a\u53cd\u6620\u5230x\u4e0a.</p> <p>\u540c\u65f6\u4e5f\u56e0\u4e3ay\u5e76\u975e\u4e00\u4e2a\u5b9e\u9645\u53d8\u91cf,\u4ee5\u4e0b\u884c\u4e3a\u90fd\u662f\u8fdd\u6cd5\u7684:</p> <ul> <li> <p>\u521b\u5efa\u4e00\u4e2a\u5f15\u7528\u7684\u5f15\u7528</p> </li> <li> <p>\u521b\u5efa\u4e00\u4e2a\u6307\u5411\u5f15\u7528\u7684\u6307\u9488</p> </li> <li> <p>\u521b\u5efa\u4e00\u4e2a\u6570\u7ec4\u7684\u5f15\u7528</p> </li> </ul> <p>\u4f46\u521b\u5efa\u4e00\u4e2a\u6307\u9488\u7684\u5f15\u7528\u662f\u5408\u6cd5\u7684.</p> <p>\u4e0b\u9762\u4e00\u5757\u4e0d\u60f3\u5199\u4e86,\u6284\u4e86bruce\u7684ww</p> <p>From Bruce</p> In DefinitionAs a Function Argument <pre><code>int x = 3;\nint&amp; y = x;\nconst int&amp; z = x;\n</code></pre> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b,\u5f15\u7528\u5fc5\u987b\u5728\u521b\u5efa\u65f6\u5c31\u521d\u59cb\u5316.</p> <pre><code>void f(int&amp; x)\nf(y) // Initialized when function is called\n</code></pre> <p>\u53ea\u6709\u5728\u51fd\u6570\u88ab\u8c03\u7528\u7684\u65f6\u5019 y \u624d\u4f1a\u88ab\u201c\u7ed1\u5b9a\u201d\u5230 x \u4e0a</p> <ul> <li> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u91cc\u7684\u51fd\u6570\u8c03\u7528\u662f\u4e0d\u80fd\u4f20\u9012\u8868\u8fbe\u5f0f\u7684\uff0c\u4f8b\u5982 <code>f(y * 3)</code> \u662f\u4e0d\u884c\u7684\uff0c\u56e0\u4e3a <code>y * 3</code> \u662f\u4e00\u4e2a\u4e34\u65f6\u53d8\u91cf\uff0c\u65e0\u6cd5\u88ab\u5f15\u7528</p> </li> <li> <p>\u4ece\u672f\u8bed\u4e0a\u6765\u8bf4\uff0c\u9700\u8981\u4f20\u9012\u7684\u662f\u4e00\u4e2a\u5de6\u503c\uff08L-value\uff0c\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a\u5728\u8d4b\u503c\u64cd\u4f5c\u4e2d\u53ef\u4ee5\u653e\u5728\u7b49\u53f7\u5de6\u8fb9\u7684\u503c\uff09\uff0c\u800c <code>y * 3</code> \u662f\u4e00\u4e2a\u53f3\u503c\uff08R-value\uff09</p> </li> </ul> <p>C++11\u5c0f\u8da3\u4e8b</p> <p>C++11 \u4e4b\u540e\uff0c\u5141\u8bb8\u4f20\u9012\u53f3\u503c\u5f15\u7528\uff08R-value Reference\uff09\uff0c\u53ef\u4ee5\u4f20\u9012\u4e34\u65f6\u53d8\u91cf\uff0c\u4f46\u9700\u8981\u4f7f\u7528 <code>&amp;&amp;</code> \u6765\u58f0\u660e\uff0c\u4f8b\u5982 <code>void f(int&amp;&amp; x)</code>\uff0c\u8fd9\u5728\u51fd\u6570\u91cd\u8f7d\u548c\u79fb\u52a8\u8bed\u4e49\u4e2d\u975e\u5e38\u6709\u7528.</p> <p>\u6307\u9488\u4e0e\u5f15\u7528\u7684\u5bf9\u6bd4</p> \u7279\u6027 \u6307\u9488 \u5f15\u7528 \u4e0e\u7ed1\u5b9a\u5bf9\u8c61\u7684\u5173\u7cfb \u72ec\u7acb\u4e8e\u7ed1\u5b9a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u6307\u5411\u4e0d\u540c\u5bf9\u8c61 \u4f9d\u8d56\u4e8e\u7ed1\u5b9a\u5bf9\u8c61\uff0c\u4ec5\u662f\u522b\u540d \u521d\u59cb\u5316\u8981\u6c42 \u53ef\u4ee5\u4e0d\u521d\u59cb\u5316 \u5fc5\u987b\u5728\u521b\u5efa\u65f6\u521d\u59cb\u5316 \u91cd\u65b0\u7ed1\u5b9a \u53ef\u4ee5\u7ed1\u5b9a\u5230\u4e0d\u540c\u5bf9\u8c61 \u4e0d\u80fd\u91cd\u65b0\u7ed1\u5b9a\u5230\u5176\u4ed6\u5bf9\u8c61 \u7a7a\u503c \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u7a7a\uff08null\uff09 \u4e0d\u80fd\u4e3a\u7a7a \u64cd\u4f5c\u65b9\u5f0f \u9700\u8981\u4f7f\u7528\u89e3\u5f15\u7528\u64cd\u4f5c\u7b26\uff08*\uff09 \u76f4\u63a5\u4f7f\u7528\uff0c\u65e0\u9700\u7279\u6b8a\u64cd\u4f5c\u7b26 \u591a\u7ea7\u95f4\u63a5\u5f15\u7528 \u53ef\u4ee5\u6709\u6307\u5411\u6307\u9488\u7684\u6307\u9488 \u4e0d\u80fd\u6709\u5f15\u7528\u7684\u5f15\u7528 \u4e0e\u6570\u7ec4\u7684\u5173\u7cfb \u53ef\u4ee5\u6307\u5411\u6570\u7ec4\u6216\u6570\u7ec4\u5143\u7d20 \u4e0d\u80fd\u521b\u5efa\u6570\u7ec4\u7684\u5f15\u7528"},{"location":"incourse/oop/memory/#dynamic-memory-allocation","title":"Dynamic Memory Allocation","text":"<p>\u4e0eC\u8bed\u8a00\u4e2d\u7684<code>malloc</code>\u4e0d\u4e00\u6837,<code>new</code>\u975e\u5e38\u7b80\u5355\u597d\u7528.</p> \u4f8b\u5b50<pre><code>int *p = new int;\nint *a = new int[10];\nStudent *q = new Student();Student *r = new Student[10];\ndelete p;\ndelete[] a;\ndelete q;\ndelete r;\ndelete[] r;\n</code></pre> <p>\u6ce8\u610f\u9879</p> <ol> <li> <p>\u6570\u7ec4\u4f7f\u7528<code>new type[n]</code>\u5206\u914d\u5185\u5b58,\u540c\u65f6\u5fc5\u987b\u4f7f\u7528<code>delete []</code>\u6765\u91ca\u653e\u5185\u5b58</p> </li> <li> <p><code>new</code>,<code>delete</code>\u76f8\u6bd4\u4e8e<code>malloc</code>,<code>free</code>\u7684\u4f18\u70b9\u5728\u4e8e,\u5b83\u4eec\u4e0d\u4ec5\u4ec5\u662f\u5355\u7eaf\u5730\u7533\u8bf7\u5185\u5b58\u548c\u91ca\u653e\u5185\u5b58,\u5b9e\u9645\u4e0a,\u5b83\u4eec\u8c03\u7528\u4e86\u5bf9\u5e94\u53d8\u91cf\u7c7b\u578b\u7684\u6784\u9020\u4e0e\u6790\u6784\u51fd\u6570,\u4ece\u800c\u8868\u73b0\u51fa\u66f4\u591a\u7684\u7279\u6027</p> </li> <li> <p>\u4e0d\u8981\u6df7\u7528<code>new</code>,<code>malloc</code>,<code>free</code>,<code>delete</code>,\u5176\u5b9e\u6211\u89c9\u5f97\u4e5f\u53ef\u4ee5\u8bf4,\u5728C++\u4e2d\u4e0d\u8981\u7528<code>malloc</code>,<code>free</code></p> </li> <li> <p>\u4e0d\u8981\u5bf9\u4e00\u4e2a\u5730\u5740<code>delete</code>\u4e24\u6b21</p> </li> <li> <p><code>delete</code>\u4e00\u4e2a\u7a7a\u6307\u9488\u662f\u5408\u6cd5\u7684,\u4ec0\u4e48\u4e5f\u4e0d\u4f1a\u53d1\u751f</p> </li> </ol> \u5173\u4e8edelete[],\u7f16\u8bd1\u5668\u5982\u4f55\u5f97\u77e5\u6570\u7ec4\u7684\u957f\u5ea6\u5462 <ol> <li> <p>\u7f16\u8bd1\u5668\u5728\u5206\u914d\u5185\u5b58\u65f6\u4f1a\u5728\u6570\u7ec4\u524d\u9762(\u4e00\u822c\u662f4\u4e2a\u5b57\u8282)\u5b58\u50a8\u6570\u7ec4\u7684\u957f\u5ea6\u4fe1\u606f,\u6bd4\u5982<code>int *a = new int[10]</code>,\u7f16\u8bd1\u5668\u4f1a\u5728<code>a-4</code>\u7684\u4f4d\u7f6e\u5b58\u50a8<code>10</code>\u8fd9\u4e2a\u503c</p> </li> <li> <p><code>delete</code>\u65f6,\u7f16\u8bd1\u5668\u4f1a\u8bfb\u53d6\u8fd9\u4e2a\u4fe1\u606f,\u5e76\u8c03\u7528\u5bf9\u5e94\u7684\u6790\u6784\u51fd\u6570</p> </li> <li> <p>\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u5bf9\u4e00\u4e2a\u6307\u9488<code>delete</code>\u4e24\u6b21\u7684\u539f\u56e0,\u56e0\u4e3a\u7f16\u8bd1\u5668\u4f1a\u5c1d\u8bd5\u8bfb\u53d6\u8fd9\u4e2a\u4fe1\u606f,\u4f46\u5b9e\u9645\u4e0a\u5df2\u7ecf\u88ab\u91ca\u653e\u4e86</p> </li> </ol>"},{"location":"incourse/oop/memory/#const","title":"Const","text":"<p>\u6211\u4eec\u4f7f\u7528<code>const</code>\u5173\u952e\u5b57\u6765\u58f0\u660e\u4e00\u4e2a\u5e38\u91cf,\u5b83\u7684\u503c\u5728\u7a0b\u5e8f\u8fd0\u884c\u671f\u95f4\u4e0d\u80fd\u88ab\u4fee\u6539.</p> <pre><code>const int x = 10; // x is a constant\nx++; // error: x is a constant\n</code></pre> <p>\u5e38\u91cf\u6709\u5982\u4e0b\u7279\u70b9:</p> <ol> <li> <p>\u5e38\u91cf\u5fc5\u987b\u5728\u58f0\u660e\u65f6\u521d\u59cb\u5316,\u9664\u975e\u662f<code>extern</code>\u7533\u660e.</p> </li> <li> <p>\u5e38\u91cf\u7684\u503c\u4e0d\u80fd\u88ab\u4fee\u6539,\u5426\u5219\u7f16\u8bd1\u5668\u4f1a\u62a5\u9519</p> </li> <li> <p>\u5e38\u91cf\u9ed8\u8ba4\u4e3a<code>internal linkage</code>,\u4e5f\u5c31\u662f\u53ea\u80fd\u5728\u5f53\u524d\u6587\u4ef6\u4e2d\u4f7f\u7528,\u5982\u679c\u60f3\u8981\u5728\u5176\u4ed6\u6587\u4ef6\u4e2d\u4f7f\u7528,\u9700\u8981\u52a0\u4e0a<code>extern</code>\u5173\u952e\u5b57</p> </li> </ol>"},{"location":"incourse/oop/memory/#run-time-constant","title":"Run-time constant","text":"<pre><code>const int class_size = 12;int finalGrade[class_size]; // ok\nint x;\ncin &gt;&gt; x;\nconst int size = x;\ndouble classAverage[size]; // error\n</code></pre> <p>\u8fd9\u91cc\u6700\u540e\u4f1a\u51fa\u73b0error,\u56e0\u4e3asize\u867d\u7136\u662f<code>const</code>,\u4f46\u662f\u5b83\u7684\u503c\u5728\u7f16\u8bd1\u65f6\u5e76\u4e0d\u786e\u5b9a,\u800c\u7f16\u8bd1\u5668\u8981\u6c42\u6570\u7ec4\u5728\u7f16\u8bd1\u65f6\u5c31\u786e\u5b9a\u5927\u5c0f(\u548cC\u8bed\u8a00\u4e0d\u4e00\u6837).</p>"},{"location":"incourse/oop/memory/#pointers-with-const","title":"Pointers with Const","text":"What are these<pre><code>string s( \"Fred\" );\nconst string* p = &amp;s;\nstring const* p = &amp;s;\nstring *const p = &amp;s;\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u7a0b\u5e8f\u4e2d,\u51fa\u73b0\u4e86\u4e09\u79cdconst\u4e0e\u6307\u9488\u7684\u642d\u914d\u65b9\u5f0f,\u5b83\u4eec\u6709\u4ec0\u4e48\u533a\u522b\u5462?</p> <ol> <li> <p><code>const string* p = &amp;s;</code> \u548c <code>string const* p = &amp;s;</code> \u662f\u4e00\u6837\u7684,\u5b83\u4eec\u8868\u793a\u6307\u9488p\u6307\u5411\u4e00\u4e2a\u5e38\u91cf\u5b57\u7b26\u4e32,\u4e5f\u5c31\u662f\u4e0d\u80fd\u901a\u8fc7p\u6765\u4fee\u6539s\u7684\u503c.</p> </li> <li> <p><code>string *const p = &amp;s;</code> \u8868\u793a\u6307\u9488p\u662f\u4e00\u4e2a\u5e38\u91cf\u6307\u9488,\u4e5f\u5c31\u662f\u4e0d\u80fd\u4fee\u6539p\u6307\u5411\u7684\u5730\u5740,\u4f46\u662f\u53ef\u4ee5\u4fee\u6539*p\u6307\u5411\u7684\u503c.</p> </li> <li> <p>\u603b\u7ed3:<code>const</code>\u5728\u524d\u9762\u8868\u793a\u6307\u9488\u6307\u5411\u7684\u503c\u662f\u5e38\u91cf,\u800c\u5728\u540e\u9762\u8868\u793a\u6307\u9488\u672c\u8eab\u662f\u5e38\u91cf.</p> </li> </ol> <p>\u793a\u4f8b</p> <pre><code>int i;\nconst int ci = 3;\nint* ip;\nconst int* cip;\nip = &amp;i;\nip = &amp;ci; // Error\ncip = &amp;i;\ncip = &amp;ci;\n*ip = 54; // always legal\n*cip = 54; // never legal\n</code></pre> <p>\u8fd9\u610f\u5473\u7740const\u53d8\u91cf\u7684\u6307\u9488\u4e5f\u9700\u8981\u4f7f\u7528<code>const</code>\u5173\u952e\u5b57\u6765\u58f0\u660e,\u5426\u5219\u4f1a\u62a5\u9519.</p> <p>\u7f16\u8bd1\u5668\u5141\u8bb8\u628a\u975econst\u53d8\u91cf\u5f53\u4f5cconst\u53d8\u91cf\u6765\u4f7f\u7528,\u4f46\u662f\u4e0d\u5141\u8bb8\u628aconst\u53d8\u91cf\u5f53\u4f5c\u975econst\u53d8\u91cf\u6765\u4f7f\u7528. \u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48<code>const int* p = &amp;s;</code>\u662f\u5408\u6cd5\u7684,\u800c<code>int* p = &amp;ci;</code>\u662f\u975e\u6cd5\u7684\u539f\u56e0.</p> <p>char *a\u4e0echar a[]</p> <p>\u5728C\u8bed\u8a00\u4e2d,\u8fd9\u4e24\u4e2a\u7684\u533a\u522b\u90fd\u80fd\u51fa\u8003\u70b9\u7684\u4e86.</p> <p>\u5bf9\u4e8e\u4e0b\u9762\u8fd9\u6bb5\u7a0b\u5e8f:</p> <pre><code>char a[] = \"hello\";\nchar *p = \"hello\";\n</code></pre> <ol> <li> <p><code>char a[] = \"hello\";</code>\u8868\u793a\u521b\u5efa\u4e00\u4e2a\u5b57\u7b26\u6570\u7ec4a,\u5e76\u5c06\"hello\"\u8fd9\u4e2a\u5b57\u7b26\u4e32\u590d\u5236\u5230a\u4e2d,\u6240\u4ee5a\u662f\u4e00\u4e2a\u53ef\u4fee\u6539\u7684\u5b57\u7b26\u6570\u7ec4.</p> </li> <li> <p><code>char *p = \"hello\";</code>\u8868\u793a\u521b\u5efa\u4e00\u4e2a\u6307\u9488p,\u5e76\u5c06\"hello\"\u8fd9\u4e2a\u5b57\u7b26\u4e32\u7684\u5730\u5740\u8d4b\u503c\u7ed9p,\u5b9e\u9645\u4e0a,<code>char*p</code>\u76f8\u5f53\u4e8e<code>const char* p</code>,\u5176\u503c\u65e0\u6cd5\u4fee\u6539.</p> </li> <li> <p>\u5728C++\u4e2d,\u6211\u4eec\u53ef\u4ee5\u7edf\u7edf\u4e0d\u7ba1,\u4f7f\u7528<code>std::string</code>\u6765\u5904\u7406\u5b57\u7b26\u4e32,\u5b83\u4f1a\u81ea\u52a8\u5904\u7406\u5185\u5b58\u5206\u914d\u548c\u91ca\u653e,\u5e76\u4e14\u63d0\u4f9b\u4e86\u5f88\u591a\u65b9\u4fbf\u7684\u51fd\u6570\u6765\u64cd\u4f5c\u5b57\u7b26\u4e32.</p> </li> </ol> <p>\u6700\u540e\u662f\u4e00\u4e9b\u5c0f\u4f17\u7684\u4f8b\u5b50:</p> <pre><code>void f1 (const int i) {\n i++; // illegal: compile-time error\n}\n</code></pre> <pre><code>int f3() { return 1; }\nconst int f4() { return 1; }\nint main() {\n const int j = f3(); // works fine int k = f4(); // this works fine too\n}\n</code></pre>"},{"location":"incourse/oop/template/","title":"Template","text":"<p> \u7ea6 1306 \u4e2a\u5b57  190 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p>"},{"location":"incourse/oop/template/#overloading","title":"Overloading","text":"<p>\u5bf9\u4e8e\u4e00\u4e2a\u51fd\u6570\uff0c\u5982\u679c\u5b83\u53ef\u80fd\u8981\u63a5\u53d7\u591a\u79cd\u53c2\u6570\uff0c\u8fdb\u884c\u51fd\u6570\u91cd\u8f7d:</p> <pre><code>void print(int i) {\n    cout &lt;&lt; i &lt;&lt; endl;\n}\n\nvoid print(double d) {\n    cout &lt;&lt; d &lt;&lt; endl;\n}\n</code></pre> <p>\u8fd9\u6837\uff0c\u6839\u636e\u4f20\u5165\u7684\u53c2\u6570\u4e0d\u540c\uff0c\u7f16\u8bd1\u5668\u5c31\u4f1a\u53bb\u8c03\u7528\u4e0d\u540c\u7684\u51fd\u6570\u3002</p> <p>\u4f46\u662f\uff0c\u51fd\u6570\u91cd\u8f7d\u5b58\u5728\u7740\u9690\u5f0f\u8f6c\u6362\uff0c\u4f8b\u5982\uff0c\u5982\u679c\u6211\u4eec\u8c03\u7528<code>print('a')</code>,\u90a3\u4e48\u56e0\u4e3a<code>char</code>\u53ef\u4ee5\u9690\u5f0f\u8f6c\u6362\u4e3a<code>int</code>\uff0c\u6240\u4ee5\u7f16\u8bd1\u5668\u4f1a\u8c03\u7528<code>print(int)</code>\u3002</p>"},{"location":"incourse/oop/template/#\u9ed8\u8ba4\u53c2\u6570","title":"\u9ed8\u8ba4\u53c2\u6570","text":"<p>\u5728\u51fd\u6570\u7684\u53c2\u6570\u5217\u8868\u4e2d\uff0c\u53ef\u4ee5\u7ed9\u53c2\u6570\u8bbe\u7f6e\u9ed8\u8ba4\u503c\uff0c\u8fd9\u6837\u5982\u679c\u4e0d\u7ed9\u51fd\u6570\u4f20\u8fd9\u4e9b\u53c2\u6570\uff0c\u7f16\u8bd1\u5668\u4f1a\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002</p> <pre><code>int harpo(int n, int m = 4, int j = 5);\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u8c03\u7528<code>harpo(1)</code>\uff0c\u90a3\u4e48<code>m</code>\u548c<code>j</code>\u4f1a\u5206\u522b\u88ab\u8d4b\u503c\u4e3a4\u548c5\u3002</p> <p>\u8981\u6ce8\u610f\u7684\u70b9:</p> <ul> <li>\u9ed8\u8ba4\u503c\u5fc5\u987b\u4ece\u53f3\u5f80\u5de6\u8bbe\u7f6e:     <pre><code>int harpo(int n, int m = 4, int j); // \u9519\u8bef\n</code></pre></li> </ul>"},{"location":"incourse/oop/template/#function-template","title":"Function Template","text":"<p>\u4e3a\u4ec0\u4e48\u9700\u8981\u51fd\u6570\u91cd\u8f7d\uff1f</p> <p>\u5047\u8bbe\u4f60\u7684\u51fd\u6570\u53ef\u80fd\u63a5\u53d7\u591a\u79cd\u53c2\u6570\uff0c\u4f46\u5176\u5b9e\uff0c\u5bf9\u4e8e\u6bcf\u79cd\u53c2\u6570\u90fd\u8fdb\u884c\u540c\u6837\u7684\u884c\u4e3a\uff0c\u90a3\u4e48\u51fd\u6570\u91cd\u8f7d\u5c31\u53ef\u4ee5\u907f\u514d\u91cd\u590d\u7f16\u7a0b\u3002</p> <p>\u5178\u578b\u7684\u4f8b\u5b50:</p> <ul> <li> <p><code>vector</code>\u7684<code>push_back</code>\u51fd\u6570\uff0c\u63a5\u53d7\u4e0d\u540c\u7c7b\u578b\u7684\u53c2\u6570\u3002</p> </li> <li> <p><code>sort</code>\u51fd\u6570\uff0c\u63a5\u53d7\u4e0d\u540c\u7c7b\u578b\u7684\u53c2\u6570\u3002</p> </li> </ul> <pre><code>template &lt; class T &gt;\nvoid swap( T&amp; x, T&amp; y ) {\n    T temp = x;\n    x = y;\n    y = temp;\n}\n</code></pre> <p>\u8fd9\u662f\u51fd\u6570\u6a21\u677f\u7684\u4e00\u4e2a\u5178\u578b\u4f8b\u5b50</p> <ul> <li> <p><code>class</code>\u5173\u952e\u5b57\u58f0\u660e\u540e\u9762\u7684\u53d8\u91cf\u662f\u4e00\u4e2a\u7c7b\u578b\u540d\uff0c<code>T</code>\u662f\u4e00\u4e2a\u7c7b\u578b\u53c2\u6570\u3002</p> </li> <li> <p>\u4f46\u5b9e\u9645\u4e0a\uff0c<code>class</code>\u4e5f\u53ef\u4ee5\u7528<code>typename</code>\u6765\u4ee3\u66ff\uff0c\u8fd9\u4e24\u8005\u6ca1\u6709\u4efb\u4f55\u533a\u522b\u3002\u4e00\u5f00\u59cb\u4eba\u4eec\u7528\u7684\u662f<code>type</code>\uff0c\u4f46\u53d1\u73b0\u8fd9\u6837\u5bb9\u6613\u5f15\u8d77\u6df7\u6dc6\uff0c\u6240\u4ee5\u5f15\u5165\u4e86<code>typename</code>\u3002</p> </li> </ul> <p>\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5bf9\u4efb\u4f55\u9002\u5408\u7684\u53d8\u91cf\u4f5c\u4ea4\u6362\u4e86:</p> <pre><code>int i = 3; int j = 4;\nswap(i, j); // use explicit int swap\nfloat k = 4.5; float m = 3.7;\nswap(k, m); // instantiate float swap\nstd::string s(\"Hello\");std::string t(\"World\");\nswap(s, t); // instantiate std::string swap\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0c\u7f16\u8bd1\u5668\u5bf9\u4e8e\u51fd\u6570\u6a21\u677f\u7684\u884c\u4e3a\u662f</p> <ol> <li> <p>\u7f16\u8bd1\u9636\u6bb5</p> <ul> <li> <p>\u5f53\u7f16\u8bd1\u5668\u9047\u5230\u51fd\u6570\u6a21\u677f\u5b9a\u4e49\u65f6\uff0c\u5b83\u5e76\u4e0d\u4f1a\u7acb\u5373\u751f\u6210\u4ee3\u7801\uff0c\u800c\u662f\uff1a</p> </li> <li> <p>\u68c0\u67e5\u6a21\u677f\u8bed\u6cd5\u662f\u5426\u6b63\u786e</p> </li> <li> <p>\u9a8c\u8bc1\u6a21\u677f\u5185\u7684\u4ee3\u7801\u5728\u4e0d\u6307\u5b9a\u5177\u4f53\u7c7b\u578b\u65f6\u662f\u5426\u5408\u6cd5</p> </li> <li> <p>\u5c06\u6a21\u677f\u5b9a\u4e49\u5b58\u50a8\u8d77\u6765\uff0c\u7b49\u5f85\u540e\u7eed\u4f7f\u7528</p> </li> </ul> </li> <li> <p>\u6a21\u677f\u5b9e\u4f8b\u5316</p> <ul> <li> <p>\u5f53\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e86\u51fd\u6570\u6a21\u677f\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> </li> <li> <p>\u6a21\u677f\u53c2\u6570\u63a8\u5bfc\uff1a\u6839\u636e\u51fd\u6570\u8c03\u7528\u7684\u5b9e\u53c2\u7c7b\u578b\uff0c\u63a8\u5bfc\u51fa\u6a21\u677f\u53c2\u6570T\u7684\u5177\u4f53\u7c7b\u578b     <pre><code>swap(i, j); // \u4ecei\u548cj\u7684\u7c7b\u578bint\u63a8\u5bfc\u51faT\u4e3aint\n</code></pre></p> </li> <li> <p>\u6a21\u677f\u7279\u5316\u751f\u6210\uff1a\u4e3a\u6bcf\u4e2a\u4e0d\u540c\u7684\u7c7b\u578b\u53c2\u6570\u751f\u6210\u4e00\u4e2a\u5177\u4f53\u7684\u51fd\u6570\u5b9e\u4f8b     <pre><code>// \u7f16\u8bd1\u5668\u5b9e\u9645\u751f\u6210\u7c7b\u4f3c\u8fd9\u6837\u7684\u4ee3\u7801\nvoid swap&lt;int&gt;(int&amp; x, int&amp; y) { \n    int temp = x; \n    x = y; \n    y = temp; \n}\n\nvoid swap&lt;float&gt;(float&amp; x, float&amp; y) {\n    float temp = x;\n    x = y;\n    y = temp;\n}\n</code></pre></p> </li> </ul> </li> <li> <p>\u7f16\u8bd1\u65f6\u68c0\u67e5</p> <ul> <li> <p>\u7f16\u8bd1\u5668\u4f1a\u68c0\u67e5\u751f\u6210\u7684\u7279\u5316\u51fd\u6570\u662f\u5426\u80fd\u591f\u6b63\u786e\u7f16\u8bd1</p> </li> <li> <p>\u5982\u679c\u6a21\u677f\u4e2d\u4f7f\u7528\u4e86\u67d0\u4e9b\u5728\u7279\u5b9a\u7c7b\u578b\u4e0b\u4e0d\u652f\u6301\u7684\u64cd\u4f5c(\u5982\u5bf9\u6ca1\u6709\u5b9e\u73b0=\u8fd0\u7b97\u7b26\u7684\u7c7b\u578b\u8fdb\u884c\u8d4b\u503c)\uff0c\u4f1a\u5728\u8fd9\u4e00\u6b65\u62a5\u9519</p> </li> <li> <p>\u53ea\u6709\u88ab\u5b9e\u9645\u8c03\u7528\u7684\u7279\u5316\u7248\u672c\u624d\u4f1a\u88ab\u68c0\u67e5\u548c\u751f\u6210\u4ee3\u7801</p> </li> </ul> </li> </ol> <p>A template function is an instantiation of a function template</p>"},{"location":"incourse/oop/template/#template-arguments-deduction","title":"Template arguments deduction","text":"<p>\u5728\u4f7f\u7528\u51fd\u6570\u6a21\u677f\u65f6\uff0c\u7f16\u8bd1\u5668\u5fc5\u987b\u8981\u6e05\u695a<code>T</code>\u662f\u4ec0\u4e48\uff0c\u6bd4\u5982\uff0c\u4e0b\u9762\u7684\u51fd\u6570\u4f1a\u62a5\u9519:</p> <pre><code>swap(int, double)\n</code></pre> <p>\u8fd9\u662f\u56e0\u4e3a\u7f16\u8bd1\u5668\u4e0d\u77e5\u9053\u53c2\u6570\u7c7b\u578b\u662f\u54ea\u4e2a\u4e86\uff0c\u8fd9\u91cc\u7981\u6b62\u9690\u5f0f\u8f6c\u6362\u3002</p> <p>\u6a21\u677f\u51fd\u6570\u4e0e\u666e\u901a\u51fd\u6570\u662f\u53ef\u4ee5\u5e76\u5b58\u7684\u3002</p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e\u4e0a\u9762\u8fd9\u6837\u7684<code>swap</code>,\u6211\u4eec\u5199\u4e3a</p> <p><pre><code>swap&lt;int&gt;(int,double)\n</code></pre> \u8fd9\u6837,\u7f16\u8bd1\u5668\u5c31\u4f1a\u751f\u6210\u4e00\u4e2a<code>int</code>\u7248\u672c\u7684\u51fd\u6570,\u53ef\u4ee5\u4f5c\u9690\u5f0f\u8f6c\u6362\u4e86.</p>"},{"location":"incourse/oop/template/#overloading-rules","title":"Overloading rules","text":"<ul> <li> <p>First, check for exact regular-function match</p> </li> <li> <p>Then, check for exact function-template match</p> </li> <li> <p>Last, implicit conversions for regular functions</p> </li> </ul>"},{"location":"incourse/oop/template/#class-template","title":"Class Template","text":"<p>\u7c7b\u6a21\u677f\u5728\u5f00\u5934\u58f0\u660e\u4e00\u4e2a\u6216\u591a\u4e2a\u7c7b\u578b\u53c2\u6570\uff0c\u7136\u540e\u5728\u7c7b\u7684\u5b9a\u4e49\u4e2d\u4f7f\u7528\u8fd9\u4e9b\u7c7b\u578b\u53c2\u6570\uff0c\u4f7f\u5f97\u7c7b\u7684\u6210\u5458\u53d8\u91cf\u548c\u6210\u5458\u51fd\u6570\u53ef\u4ee5\u9002\u7528\u4e8e\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u53ea\u9700\u7f16\u5199\u4e00\u6b21\u7c7b\u7684\u4ee3\u7801\uff0c\u5c31\u80fd\u5904\u7406\u591a\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u3002</p> <p>\u4f7f\u7528\u7c7b\u6a21\u677f\u65f6\uff0c\u6211\u4eec\u5fc5\u987b\u663e\u5f0f\u6307\u5b9a\u6a21\u677f\u53c2\u6570\u7c7b\u578b\uff0c\u800c\u4e0d\u662f\u8ba9\u7f16\u8bd1\u5668\u63a8\u5bfc\u7c7b\u578b\u3002 \u6bd4\u5982\u5e38\u7528\u7684<code>vector&lt;int&gt; s</code></p> <pre><code>template &lt;class T&gt;\nclass Vector {\npublic:\n    Vector(int);\n    ~Vector();\n    Vector(const Vector&amp;);\n    Vector&amp; operator=(const Vector&amp;); T&amp; operator[](int);\nprivate:\n    T* m_elements;\n    int m_size;\n}\n</code></pre> <p>\u5728\u6210\u5458\u51fd\u6570\u5b9a\u4e49\u65f6,\u6211\u4eec\u9700\u8981\u5728\u51fd\u6570\u540d\u524d\u52a0\u4e0a<code>template &lt;class T&gt;</code>\uff0c\u4ee5\u544a\u8bc9\u7f16\u8bd1\u5668\u8fd9\u662f\u4e00\u4e2a\u6a21\u677f\u51fd\u6570\u3002</p> <pre><code>template &lt;class T&gt; \nVector&lt;T&gt;::Vector(int size) : m_size(size) { \nm_elements = new T[m_size]; \n} \ntemplate &lt;class T&gt; \nT&amp; Vector&lt;T&gt;::operator[](int indx) { \n if (indx &lt; m_size &amp;&amp; indx &gt; 0) { return m_elements[indx]; \n } else { \n ... \n } \n}\n</code></pre> <p>\u7c7b\u578b\u53c2\u6570\u4e5f\u53ef\u4ee5\u4e0d\u6b62\u4e00\u4e2a\uff0c\u6bd4\u5982</p> <pre><code>template &lt; class Key, class Value &gt;\nclass HashTable {\n    const Value&amp; lookup (const Key&amp;) const;\n\n    void insert (const Key&amp;, const Value&amp;);\n\n    /* ... */\n}\n</code></pre> <p>\u8fd9\u6837,\u6211\u4eec\u5c31\u53ef\u4ee5\u4e3a\u54c8\u5e0c\u8868\u7684\u952e\u548c\u503c\u6307\u5b9a\u4e0d\u540c\u7684\u7c7b\u578b\u4e86.</p> <p>\u7c7b\u578b\u53c2\u6570\u4e0e\u975e\u7c7b\u578b\u53c2\u6570\u4e5f\u53ef\u4ee5\u5171\u5b58</p> <pre><code>template &lt;class T, int bounds = 100&gt;\nclass FixedVector {\npublic:\n    FixedVector();\n    T&amp; operator[](int);\nprivate:\n    T elements[bounds]; // fixed-size array!\n}\n</code></pre> <p>\u8fd9\u6837,\u5728\u6211\u4eec\u521b\u5efa<code>FixedVector</code>\u5bf9\u8c61\u65f6,\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u5927\u5c0f,\u5982\u679c\u4e0d\u6307\u5b9a,\u9ed8\u8ba4\u662f100.</p> <pre><code>FixedVector&lt;int&gt; v1; // 100 elements\nFixedVector&lt;int, 50&gt; v2; // 50 elements\n</code></pre>"},{"location":"incourse/oop/template/#member-templates","title":"Member templates","text":"<p>\u7c7b\u6a21\u677f\u7684\u6210\u5458\u51fd\u6570\u4e5f\u53ef\u4ee5\u662f\u6a21\u677f\u7684,\u6bd4\u5982</p> <pre><code>template&lt;typename T&gt; \nclass complex\n{\npublic:\n    template&lt;class X&gt; complex(const complex&lt;X&gt;&amp;);\n/* ... */\n};\n</code></pre> <p>\u8fd9\u6837,\u53ef\u4ee5\u63a5\u53d7\u4e0d\u540c\u7c7b\u578b\u7684\u53c2\u6570.</p>"},{"location":"incourse/oop/template/#templates-and-inheritance","title":"Templates and inheritance","text":"<p>\u7c7b\u6a21\u677f\u53ef\u4ee5\u7ee7\u627f\u5176\u4ed6\u7c7b\u6a21\u677f,\u4e5f\u53ef\u4ee5\u7ee7\u627f\u666e\u901a\u7c7b.</p> <pre><code>template &lt;class A&gt;\nclass Derived : public Base { /* ... */ }\n\ntemplate &lt;class A&gt;\nclass Derived : public List&lt;A&gt; { /* ... */ }\n</code></pre> <p>\u666e\u901a\u7c7b\u4e5f\u53ef\u4ee5\u7ee7\u627f\u5b9e\u4f8b\u5316\u540e\u7684\u7c7b\u6a21\u677f:</p> <pre><code>class Derived : public List&lt;int&gt; { /* ... */ }\n</code></pre>"},{"location":"incourse/oop/template/#crtp-curiously-recurring-template-pattern","title":"CRTP (Curiously Recurring Template Pattern)","text":"<p>CRTP \u662f\u4e00\u79cd C++ \u6a21\u677f\u7f16\u7a0b\u6280\u5de7\uff0c\u5176\u4e2d\u4e00\u4e2a\u7c7b\u5c06\u81ea\u8eab\u4f5c\u4e3a\u6a21\u677f\u53c2\u6570\u4f20\u9012\u7ed9\u5176\u57fa\u7c7b\u3002\u8fd9\u79cd\u6a21\u5f0f\u5141\u8bb8\u5728\u7f16\u8bd1\u65f6\u5b9e\u73b0\u9759\u6001\u591a\u6001\u6027\uff0c\u5e76\u5141\u8bb8\u57fa\u7c7b\u8bbf\u95ee\u6d3e\u751f\u7c7b\u7684\u6210\u5458\u3002</p>"},{"location":"incourse/oop/template/#\u6a21\u5f0f\u7ed3\u6784","title":"\u6a21\u5f0f\u7ed3\u6784","text":"<pre><code>template &lt;typename Derived&gt;\nclass Base {\npublic:\n    void interface() {\n        // \u4f7f\u7528 static_cast \u5c06 Base* \u8f6c\u6362\u4e3a Derived*\n        static_cast&lt;Derived*&gt;(this)-&gt;implementation();\n    }\n};\n\nclass Derived : public Base&lt;Derived&gt; {\npublic:\n    void implementation() {\n        // \u6d3e\u751f\u7c7b\u7684\u5177\u4f53\u5b9e\u73b0\n    }\n};\n</code></pre>"},{"location":"incourse/oop/template/#morality","title":"Morality","text":"<p>Put the definition/declaration for templates in theheader file</p> <p>\u5e94\u5f53\u5c06\u6a21\u677f\u7684\u5b9a\u4e49\u548c\u58f0\u660e\u90fd\u653e\u5728\u5934\u6587\u4ef6\u4e2d</p> <ul> <li> <p>won't allocate storage for the function/class atthat point</p> </li> <li> <p>compiler/linker have mechanisms for removingmultiple definitions</p> </li> </ul> <p>Example</p> <p>\u4e0e\u666e\u901a\u51fd\u6570\u548c\u7c7b\u4e0d\u540c\uff0c\u6a21\u677f\u9700\u8981\u5728\u7f16\u8bd1\u65f6\u770b\u5230\u5b8c\u6574\u5b9a\u4e49\u624d\u80fd\u5b9e\u4f8b\u5316\u3002\u5982\u679c\u6a21\u677f\u5b9a\u4e49\u653e\u5728\u6e90\u6587\u4ef6\u4e2d\uff1a</p> <ul> <li> <p>\u7f16\u8bd1\u5668\u5728\u5305\u542b\u5934\u6587\u4ef6\u7684\u5176\u4ed6\u6e90\u6587\u4ef6\u4e2d\u770b\u4e0d\u5230\u5b8c\u6574\u5b9a\u4e49</p> </li> <li> <p>\u65e0\u6cd5\u6b63\u786e\u751f\u6210\u7279\u5b9a\u7c7b\u578b\u7684\u5b9e\u4f8b\u5316\u7248\u672c</p> </li> <li> <p>\u4f1a\u5bfc\u81f4\u94fe\u63a5\u9519\u8bef\uff08\u672a\u5b9a\u4e49\u7684\u5f15\u7528\uff09</p> </li> </ul> \u6b63\u786e\u505a\u6cd5\u9519\u8bef\u505a\u6cd5 mathutils.h<pre><code>// \u5934\u6587\u4ef6\u4e2d\u540c\u65f6\u5305\u542b\u58f0\u660e\u548c\u5b9a\u4e49\n#ifndef MATH_UTILS_H\n#define MATH_UTILS_H\n\ntemplate &lt;typename T&gt;\nclass Calculator {\npublic:\n    // \u51fd\u6570\u58f0\u660e\u548c\u5b9a\u4e49\u90fd\u5728\u5934\u6587\u4ef6\u4e2d\n    T add(T a, T b) {\n        return a + b;\n    }\n\n    T multiply(T a, T b) {\n        return a * b;\n    }\n};\n\n// \u51fd\u6570\u6a21\u677f\u4e5f\u4e00\u6837\ntemplate &lt;typename T&gt;\nT maximum(T a, T b) {\n    return (a &gt; b) ? a : b;\n}\n\n#endif\n</code></pre> main.cpp<pre><code>#include \"mathutils.h\"\n#include &lt;iostream&gt;\n\nint main() {\n    // \u4f7f\u7528int\u7c7b\u578b\u5b9e\u4f8b\u5316\u6a21\u677f\n    Calculator&lt;int&gt; intCalc;\n    std::cout &lt;&lt; \"2 + 3 = \" &lt;&lt; intCalc.add(2, 3) &lt;&lt; std::endl;\n\n    // \u4f7f\u7528double\u7c7b\u578b\u5b9e\u4f8b\u5316\u6a21\u677f\n    Calculator&lt;double&gt; doubleCalc;\n    std::cout &lt;&lt; \"2.5 * 3.0 = \" &lt;&lt; doubleCalc.multiply(2.5, 3.0) &lt;&lt; std::endl;\n\n    // \u4f7f\u7528\u51fd\u6570\u6a21\u677f\n    std::cout &lt;&lt; \"Max of 10 and 20: \" &lt;&lt; maximum(10, 20) &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Max of 3.14 and 2.72: \" &lt;&lt; maximum(3.14, 2.72) &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre> mathutils.h<pre><code>    #ifndef MATH_UTILS_H\n    #define MATH_UTILS_H\n\n    // \u53ea\u5728\u5934\u6587\u4ef6\u4e2d\u5305\u542b\u58f0\u660e\n    template &lt;typename T&gt;\n    class Calculator {\n    public:\n        T add(T a, T b);\n        T multiply(T a, T b);\n    };\n\n    template &lt;typename T&gt;\n    T maximum(T a, T b);\n\n    #endif\n</code></pre> mathutils.cpp<pre><code>    #include \"mathutils.h\"\n\n    // \u5728\u6e90\u6587\u4ef6\u4e2d\u5305\u542b\u5b9a\u4e49\n    template &lt;typename T&gt;\n    T Calculator&lt;T&gt;::add(T a, T b) {\n        return a + b;\n    }\n\n    template &lt;typename T&gt;\n    T Calculator&lt;T&gt;::multiply(T a, T b) {\n        return a * b;\n    }\n\n    template &lt;typename T&gt;\n    T maximum(T a, T b) {\n        return (a &gt; b) ? a : b;\n    }\n</code></pre> main.cpp<pre><code>    #include \"mathutils.h\"\n    #include &lt;iostream&gt;\n\n    int main() {\n        // \u8fd9\u6bb5\u4ee3\u7801\u7f16\u8bd1\u4f1a\u6210\u529f\uff0c\u4f46\u94fe\u63a5\u65f6\u4f1a\u5931\u8d25\n        // \u56e0\u4e3a\u7f16\u8bd1\u5668\u5728\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u770b\u4e0d\u5230\u6a21\u677f\u7684\u5177\u4f53\u5b9e\u73b0\n        Calculator&lt;int&gt; intCalc;\n        std::cout &lt;&lt; \"2 + 3 = \" &lt;&lt; intCalc.add(2, 3) &lt;&lt; std::endl;\n\n        return 0;\n    }\n</code></pre>"},{"location":"tools/","title":"\u5f00\u59cb","text":"<p> \u7ea6 18 \u4e2a\u5b57  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>          \u5403\u836f\uff0c\u5403\u836f\uff0c\u82e5\u8bba\u51fa\u8eab\uff0c\u66f4\u4e0d\u516c\u5e73\u3002\u2014\u2014 \u620c\u72d7\uff08gou3\uff09      </p>"},{"location":"tools/share/","title":"\u5206\u4eab","text":"<p> \u7ea6 266 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <p>\u968f\u4fbf\u5206\u4eab\u4e00\u4e9b\u4e1c\u897f\u3002</p>"},{"location":"tools/share/#\u666e\u7269\u5b9e\u9a8cii\u7535\u5b50\u5b9e\u9a8c\u62a5\u544a","title":"\u666e\u7269\u5b9e\u9a8cII\u7535\u5b50\u5b9e\u9a8c\u62a5\u544a","text":"<ul> <li> <p>\u53cc\u5149\u6805\u6d4b\u91cf\u5fae\u5f31\u632f\u52a8\u4f4d\u79fb\u91cf \u6700\u7ec8\u5f97\u5206:95</p> </li> <li> <p>RLC\u7535\u8def\u7814\u7a76 \u6700\u7ec8\u5f97\u5206:94</p> </li> <li> <p>\u8d85\u58f0\u5149\u6805\u5b9e\u9a8c \u6700\u7ec8\u5f97\u5206:95</p> </li> <li> <p>\u4ea4\u6d41\u7535\u6865 \u6700\u7ec8\u5f97\u5206:89</p> </li> <li> <p>\u5149\u901f\u6d4b\u91cf \u6700\u7ec8\u5f97\u5206:91</p> </li> <li> <p>\u4f20\u611f\u5668\u8bbe\u8ba1\u4e0e\u5e94\u7528\u5b9e\u9a8c \u6700\u7ec8\u5f97\u5206: 87,\u8bc4\u8bed\uff1a\u8ba1\u7b97\u7ed3\u679c\u6709\u6548\u6570\u5b57\u4f4d\u6570\u8fc7\u591a-3\uff0c\u601d\u8003\u98981\uff0c2\u56de\u7b54\u4e0d\u5bf9-5\uff0c\u5f88\u4e0d\u63a8\u8350</p> </li> <li> <p>\u5149\u523b\u5de5\u827a\u5b9e\u9a8c \u6700\u7ec8\u5f97\u5206:93</p> </li> <li> <p>\u793a\u6ce2\u5668\u7684\u4fe1\u53f7\u62cd\u9891\u7814\u7a76 \u6700\u7ec8\u5f97\u5206:95</p> </li> <li> <p>\u6258\u5361\u9a6c\u514b\u865a\u62df\u4eff\u771f\u5b9e\u9a8c \u6700\u7ec8\u5f97\u5206:97</p> </li> <li> <p>labview\u865a\u62df\u4eff\u771f\u5b9e\u9a8c \u6700\u7ec8\u5f97\u5206:92</p> </li> <li> <p>\u70ed\u654f\u7535\u963b\u4e0e\u70ed\u7535\u5076\u6e29\u5ea6\u7279\u6027\u7814\u7a76 \u6700\u7ec8\u5f97\u5206:96</p> </li> </ul>"},{"location":"tools/share/#\u666e\u901a\u7269\u7406\u5b66iih","title":"\u666e\u901a\u7269\u7406\u5b66II\uff08H\uff09","text":"<ul> <li>\u7535\u78c1\u90e8\u5206\u7b14\u8bb0</li> </ul>"},{"location":"tools/share/#\u751f\u547d\u6559\u80b2\u6982\u8bbamooc\u7b54\u6848","title":"\u751f\u547d\u6559\u80b2\u6982\u8bbaMOOC\u7b54\u6848","text":"<ul> <li>\u751f\u547d\u6559\u80b2\u6982\u8bba\u671f\u672b\u7b54\u6848 \u4ec5\u4f9b\u53c2\u8003</li> <li>\u751f\u547d\u6559\u80b2\u6982\u8bbaMOOC\u5e73\u65f6\u7b54\u6848 \u4ec5\u4f9b\u53c2\u8003</li> </ul>"},{"location":"tools/share/#\u9c7c\u4e66-for-\u6df1\u5ea6\u5b66\u4e60","title":"\u9c7c\u4e66 for \u6df1\u5ea6\u5b66\u4e60","text":"<ul> <li>\u6df1\u5ea6\u5b66\u4e60\u5165\u95e8\uff1a\u57fa\u4e8ePython\u7684\u7406\u8bba\u4e0e\u5b9e\u73b0</li> </ul>"},{"location":"tools/tools/","title":"\u5999\u5999\u5c0f\u5de5\u5177","text":""},{"location":"tools/tools/#\u5999\u5999\u5c0f\u5de5\u5177","title":"\u5999\u5999\u5c0f\u5de5\u5177","text":"<p> \u7ea6 359 \u4e2a\u5b57  29 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p>"},{"location":"tools/tools/#\u753b\u56fe\u753b\u6811\u5c0f\u5de5\u5177","title":"\u753b\u56fe\uff0c\u753b\u6811\u5c0f\u5de5\u5177","text":"<p>link</p>"},{"location":"tools/tools/#\u8bfe\u4ef6\u6587\u732e\u7ba1\u7406","title":"\u8bfe\u4ef6\u6587\u732e\u7ba1\u7406","text":"<p>zotero\uff0c\u52a0\u4e0a\u7ffb\u8bd1\u63d2\u4ef6yyds</p>"},{"location":"tools/tools/#mkdocs","title":"mkdocs","text":""},{"location":"tools/tools/#\u5757","title":"???\u5757","text":"\u8fd9\u662f\u4e00\u4e2a\u6ce8\u91ca\u5757 <p>\u8fd9\u91cc\u662f\u6ce8\u91ca\u5185\u5bb9\u3002note</p> \u8fd9\u662f\u4e00\u4e2a\u4fe1\u606f\u5757 <p>\u8fd9\u91cc\u662f\u4fe1\u606f\u5185\u5bb9\u3002info</p> \u8fd9\u662f\u4e00\u4e2a\u63d0\u793a\u5757 <p>\u8fd9\u91cc\u662f\u63d0\u793a\u5185\u5bb9\u3002tip</p> \u8fd9\u662f\u4e00\u4e2a\u8b66\u544a\u5757 <p>\u8fd9\u91cc\u662f\u8b66\u544a\u5185\u5bb9\u3002warning</p> \u8fd9\u662f\u4e00\u4e2a\u5371\u9669\u5757 <p>\u8fd9\u91cc\u662f\u5371\u9669\u5185\u5bb9\u3002danger</p> \u8fd9\u662f\u4e00\u4e2a\u793a\u4f8b\u5757 <p>\u8fd9\u91cc\u662f\u793a\u4f8b\u5185\u5bb9\u3002example</p> \u8fd9\u662f\u4e00\u4e2a\u5f15\u7528\u5757 <p>\u8fd9\u91cc\u662f\u5f15\u7528\u5185\u5bb9\u3002quote</p>"},{"location":"tools/tools/#todo","title":"todo","text":"<ul> <li> <p> \u5df2\u5b8c\u6210 : \"- [x] \u5df2\u5b8c\u6210\"</p> </li> <li> <p> \u672a\u5b8c\u6210 : \"- [ ] \u672a\u5b8c\u6210\"</p> </li> </ul>"},{"location":"tools/tools/#latex\u516c\u5f0f\u5de5\u5177","title":"latex\u516c\u5f0f\u5de5\u5177","text":"<p>https://www.latexlive.com/</p>"},{"location":"tools/tools/#\u7ea2\u9ed1\u6811\u53ef\u89c6\u5316","title":"\u7ea2\u9ed1\u6811\u53ef\u89c6\u5316","text":"<p>https://www.cs.usfca.edu/~galles/visualization/RedBlack.html</p>"},{"location":"tools/tools/#linux-\u547d\u4ee4\u884c\u4e0b\u4f7f\u7528clash","title":"Linux \u547d\u4ee4\u884c\u4e0b\u4f7f\u7528clash","text":"<p>\u5148\u628aclash\u7684\u6267\u884c\u6587\u4ef6\u653e\u8fdb\u53bb.</p> <p>\u4f7f\u7528\u547d\u4ee4(\u5177\u4f53\u89c1glados\u7684\u914d\u7f6e\u9875\u9762): <pre><code>curl https://update.glados-config.com/clash/114514/1919810/233/glados-terminal.yaml &gt; glados.yaml\n</code></pre></p> <p>\u8fd9\u6837\u5f97\u5230glados.yaml\u6587\u4ef6\uff0c\u8fd9\u5c31\u662fclash\u7684\u914d\u7f6e\u6587\u4ef6.</p> <p>\u7136\u540e\u4f7f\u7528\u547d\u4ee4: <pre><code>chmod +x ./clash-linux-amd64-v1.16.0\n ./clash-linux-amd64-v1.16.0 -f glados.yaml -d .\n</code></pre> \u5c31\u53ef\u4ee5\u4f7f\u7528clash\u4e86.</p> <p>\u4f46\u8fd9\u6837\u7684\u542f\u52a8\u547d\u4ee4\u592a\u70e6\u4e86\uff0c\u5728.bashrc\u4e2d\u52a0\u5165(\u5177\u4f53\u6839\u636e\u81ea\u5df1\u7684\u60c5\u51b5\u4fee\u6539): <pre><code>alias startclash='/home6/pxl/clash -f /home6/pxl/glados.yaml -d /home6/pxl'\nexport http_proxy=http://127.0.0.1:7892\nexport https_proxy=http://127.0.0.1:7892\nexport all_proxy=socks5://127.0.0.1:7891\n</code></pre></p> <p>\u7136\u540e\u4f7f\u7528\u547d\u4ee4\u91cd\u542f.bashrc: <pre><code>source ~/.bashrc\n</code></pre></p> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528startclash\u547d\u4ee4\u542f\u52a8clash\u4e86. \u4f7f\u7528\u547d\u4ee4\u6d4b\u8bd5: <pre><code>curl https://www.google.com\n</code></pre> \u5982\u679c\u8fd4\u56de\u4e86google\u7684html\u4ee3\u7801\uff0c\u90a3\u4e48\u5c31\u6210\u529f\u4e86. \u6216\u8005\u4f7f\u7528: <pre><code>curl -I https://www.google.com\n</code></pre> \u67e5\u770b\u8fd4\u56de\u7684\u72b6\u6001\u7801\u662f\u5426\u4e3a200.</p>"},{"location":"tools/tools/#\u670d\u52a1\u5668\u540e\u53f0\u8dd1\u811a\u672c","title":"\u670d\u52a1\u5668\u540e\u53f0\u8dd1\u811a\u672c","text":"<p>\u7528<code>screen</code>\u547d\u4ee4\u53ef\u4ee5\u5728\u540e\u53f0\u8fd0\u884c\u811a\u672c\uff0c\u5373\u4f7f\u672c\u5730\u7535\u8111\u5173\u673a\u4e5f\u6ca1\u4e8b\u3002\u5e38\u89c1\u547d\u4ee4:</p> <pre><code>screen -S name # \u521b\u5efa\u4e00\u4e2a\u65b0\u7684screen\u4f1a\u8bdd\u5e76\u547d\u540d\u4e3aname\n\nscreen -r name # \u91cd\u65b0\u8fde\u63a5\u5230\u540d\u4e3aname\u7684screen\u4f1a\u8bdd\n\nscreen -ls # \u5217\u51fa\u6240\u6709\u7684screen\u4f1a\u8bdd\n\nscreen -X -S name quit # \u5220\u9664\u540d\u4e3aname\u7684screen\u4f1a\u8bdd\n\nctrl + a + d # \u5206\u79bb\u5f53\u524dscreen\u4f1a\u8bdd\u5e76\u8fd4\u56de\u5230shell\n\nctrl a esc # \u8fdb\u5165\u590d\u5236\u6a21\u5f0f\n</code></pre> <p>\u4e00\u822c\u7684\u7528\u6cd5\u662f:</p> <pre><code>screen -S name # \u521b\u5efa\u4e00\u4e2a\u65b0\u7684screen\u4f1a\u8bdd\u5e76\u547d\u540d\u4e3aname\n\npython script.py #\u6216\u8005\n\nbash script.sh # \u8fd0\u884c\u811a\u672c\n\n# ctrl + a + d # \u5206\u79bb\u5f53\u524dscreen\u4f1a\u8bdd\u5e76\u8fd4\u56de\u5230shell\n</code></pre>"}]}